{"version":3,"file":"mtproto.worker.a6632589462d303470c6.chunk.js","mappings":"uBAAIA,ECEIC,EACAC,EACAC,EACAC,ECLJC,E,mCCQG,MAAMC,EAAyE,CAAC,GAAK,CAAC,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,MAAM,QAAQ,IAAI,QAAQ,KAAK,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,IAAI,QAAQ,IAAI,QAAQ,IAAI,QAAQ,IAAI,QAAQ,IAAI,QAAQ,IAAI,QAAQ,KAAK,QAAQ,MAAM,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,+BAA+B,EAAE,+BAA+B,EAAE,+BAA+B,EAAE,+BAA+B,EAAE,+BAA+B,EAAE,+BAA+B,EAAE,+BAA+B,EAAE,+BAA+B,EAAE,+BAA+B,EAAE,+BAA+B,EAAE,+BAA+B,EAAE,+BAA+B,EAAE,+BAA+B,EAAE,+BAA+B,EAAE,+BAA+B,EAAE,+BAA+B,EAAE,+BAA+B,EAAE,+BAA+B,EAAE,+BAA+B,EAAE,+BAA+B,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,GAAG,GAAG,CAAC,KAAO,MAAM,KAAO,MAAM,KAAO,MAAM,KAAO,MAAM,KAAO,MAAM,KAAO,MAAM,KAAO,MAAM,KAAO,MAAM,KAAO,MAAM,KAAO,MAAM,KAAO,KAAK,KAAO,KAAK,KAAO,MAAM,KAAO,MAAM,KAAO,MAAM,KAAO,MAAM,KAAO,MAAM,KAAO,KAAK,KAAO,KAAK,KAAO,KAAK,KAAO,MAAM,KAAO,MAAM,KAAO,MAAM,KAAO,MAAM,KAAO,IAAI,KAAO,MAAM,KAAO,MAAM,KAAO,MAAM,KAAO,MAAM,KAAO,MAAM,KAAO,MAAM,KAAO,MAAM,KAAO,MAAM,KAAO,MAAM,KAAO,MAAM,KAAO,KAAK,KAAO,MAAM,KAAO,KAAK,KAAO,MAAM,KAAO,MAAM,KAAO,MAAM,KAAO,MAAM,KAAO,MAAM,KAAO,MAAM,KAAO,KAAK,KAAO,MAAM,KAAO,MAAM,KAAO,MAAM,KAAO,MAAM,KAAO,MAAM,KAAO,MAAM,KAAO,MAAM,KAAO,MAAM,KAAO,MAAM,KAAO,MAAM,KAAO,MAAM,KAAO,MAAM,KAAO,MAAM,KAAO,MAAM,KAAO,KAAK,KAAO,KAAK,KAAO,MAAM,KAAO,MAAM,KAAO,MAAM,KAAO,MAAM,KAAO,MAAM,KAAO,MAAM,KAAO,MAAM,KAAO,MAAM,YAAY,MAAM,YAAY,MAAM,YAAY,MAAM,YAAY,MAAM,YAAY,MAAM,YAAY,MAAM,YAAY,MAAM,YAAY,MAAM,YAAY,MAAM,YAAY,MAAM,YAAY,MAAM,YAAY,MAAM,OAAO,MAAM,OAAO,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,cAAc,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,KAAK,QAAQ,MAAM,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,MAAM,QAAQ,KAAK,QAAQ,MAAM,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,MAAM,QAAQ,MAAM,QAAQ,KAAK,QAAQ,MAAM,QAAQ,MAAM,QAAQ,KAAK,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,KAAK,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,KAAK,kBAAkB,KAAK,kBAAkB,KAAK,QAAQ,KAAK,kBAAkB,KAAK,kBAAkB,KAAK,QAAQ,KAAK,QAAQ,MAAM,QAAQ,MAAM,QAAQ,KAAK,QAAQ,MAAM,QAAQ,MAAM,kBAAkB,KAAK,kBAAkB,KAAK,QAAQ,KAAK,kBAAkB,KAAK,kBAAkB,KAAK,QAAQ,KAAK,kBAAkB,KAAK,kBAAkB,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,MAAM,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,MAAM,QAAQ,KAAK,QAAQ,KAAK,mBAAmB,MAAM,kBAAkB,MAAM,QAAQ,MAAM,kBAAkB,MAAM,4CAA4C,MAAM,4CAA4C,MAAM,4CAA4C,MAAM,QAAQ,MAAM,QAAQ,KAAK,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,kBAAkB,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,mBAAmB,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,kBAAkB,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,mBAAmB,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,mBAAmB,KAAK,mBAAmB,KAAK,mBAAmB,KAAK,mBAAmB,KAAK,mBAAmB,KAAK,mBAAmB,KAAK,mBAAmB,KAAK,mBAAmB,KAAK,8BAA8B,KAAK,mBAAmB,KAAK,8BAA8B,KAAK,8BAA8B,KAAK,mBAAmB,KAAK,8BAA8B,KAAK,yCAAyC,KAAK,8BAA8B,KAAK,yCAAyC,KAAK,yCAAyC,KAAK,8BAA8B,KAAK,yCAAyC,KAAK,8BAA8B,KAAK,yCAAyC,KAAK,yCAAyC,KAAK,mBAAmB,KAAK,mBAAmB,KAAK,mBAAmB,KAAK,mBAAmB,KAAK,mBAAmB,KAAK,mBAAmB,KAAK,mBAAmB,KAAK,mBAAmB,KAAK,mBAAmB,KAAK,mBAAmB,KAAK,mBAAmB,KAAK,mBAAmB,KAAK,mBAAmB,KAAK,kBAAkB,KAAK,kBAAkB,KAAK,kBAAkB,KAAK,6BAA6B,KAAK,wCAAwC,KAAK,QAAQ,KAAK,mBAAmB,KAAK,mBAAmB,KAAK,mBAAmB,KAAK,mBAAmB,KAAK,mBAAmB,KAAK,mBAAmB,KAAK,mBAAmB,KAAK,mBAAmB,KAAK,8BAA8B,KAAK,mBAAmB,KAAK,8BAA8B,KAAK,8BAA8B,KAAK,mBAAmB,KAAK,8BAA8B,KAAK,yCAAyC,KAAK,8BAA8B,KAAK,yCAAyC,KAAK,yCAAyC,KAAK,mBAAmB,KAAK,mBAAmB,KAAK,mBAAmB,KAAK,mBAAmB,KAAK,mBAAmB,KAAK,mBAAmB,KAAK,mBAAmB,KAAK,mBAAmB,KAAK,mBAAmB,KAAK,mBAAmB,KAAK,mBAAmB,KAAK,mBAAmB,KAAK,mBAAmB,KAAK,kBAAkB,KAAK,kBAAkB,KAAK,kBAAkB,KAAK,6BAA6B,KAAK,6BAA6B,KAAK,wCAAwC,KAAK,wCAAwC,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,kBAAkB,KAAK,kBAAkB,KAAK,QAAQ,KAAK,kBAAkB,KAAK,kBAAkB,KAAK,QAAQ,KAAK,kBAAkB,KAAK,kBAAkB,KAAK,QAAQ,KAAK,kBAAkB,KAAK,kBAAkB,KAAK,QAAQ,KAAK,QAAQ,KAAK,kBAAkB,KAAK,kBAAkB,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,kBAAkB,KAAK,kBAAkB,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,kBAAkB,KAAK,kBAAkB,KAAK,QAAQ,KAAK,kBAAkB,KAAK,kBAAkB,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,MAAM,QAAQ,KAAK,kBAAkB,KAAK,kBAAkB,KAAK,QAAQ,KAAK,kBAAkB,KAAK,kBAAkB,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,MAAM,QAAQ,MAAM,QAAQ,KAAK,QAAQ,KAAK,QAAQ,MAAM,QAAQ,MAAM,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,MAAM,QAAQ,MAAM,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,MAAM,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,KAAK,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,KAAK,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,MAAM,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,MAAM,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,kBAAkB,KAAK,kBAAkB,KAAK,QAAQ,KAAK,QAAQ,MAAM,QAAQ,KAAK,QAAQ,KAAK,QAAQ,MAAM,QAAQ,KAAK,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,MAAM,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,MAAM,QAAQ,GAAG,QAAQ,GAAG,QAAQ,GAAG,QAAQ,GAAG,QAAQ,GAAG,QAAQ,GAAG,QAAQ,GAAG,QAAQ,IAAI,QAAQ,KAAK,QAAQ,IAAI,QAAQ,IAAI,QAAQ,IAAI,QAAQ,IAAI,QAAQ,IAAI,QAAQ,IAAI,QAAQ,IAAI,QAAQ,IAAI,QAAQ,IAAI,QAAQ,IAAI,QAAQ,IAAI,QAAQ,IAAI,QAAQ,IAAI,QAAQ,IAAI,QAAQ,IAAI,QAAQ,IAAI,QAAQ,IAAI,QAAQ,IAAI,QAAQ,IAAI,QAAQ,IAAI,QAAQ,IAAI,QAAQ,IAAI,QAAQ,IAAI,QAAQ,KAAK,QAAQ,KAAK,QAAQ,IAAI,QAAQ,IAAI,QAAQ,IAAI,QAAQ,IAAI,QAAQ,IAAI,QAAQ,IAAI,QAAQ,IAAI,QAAQ,IAAI,QAAQ,IAAI,QAAQ,IAAI,QAAQ,IAAI,QAAQ,IAAI,mBAAmB,IAAI,QAAQ,IAAI,QAAQ,IAAI,QAAQ,IAAI,QAAQ,IAAI,QAAQ,IAAI,QAAQ,IAAI,QAAQ,IAAI,mBAAmB,IAAI,QAAQ,IAAI,mBAAmB,IAAI,QAAQ,IAAI,QAAQ,IAAI,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,IAAI,QAAQ,GAAG,QAAQ,IAAI,QAAQ,IAAI,kBAAkB,KAAK,kBAAkB,KAAK,QAAQ,KAAK,kBAAkB,KAAK,kBAAkB,KAAK,QAAQ,KAAK,kBAAkB,KAAK,kBAAkB,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,kBAAkB,KAAK,kBAAkB,KAAK,QAAQ,KAAK,QAAQ,KAAK,kBAAkB,KAAK,kBAAkB,KAAK,QAAQ,KAAK,kBAAkB,KAAK,kBAAkB,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,kBAAkB,KAAK,kBAAkB,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,KAAK,QAAQ,MAAM,kBAAkB,KAAK,kBAAkB,KAAK,QAAQ,KAAK,kBAAkB,KAAK,kBAAkB,KAAK,QAAQ,KAAK,kBAAkB,KAAK,kBAAkB,KAAK,QAAQ,KAAK,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,KAAK,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,KAAK,QAAQ,MAAM,QAAQ,KAAK,QAAQ,MAAM,QAAQ,MAAM,QAAQ,KAAK,QAAQ,MAAM,QAAQ,KAAK,QAAQ,KAAK,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,MAAM,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,IAAI,QAAQ,IAAI,QAAQ,IAAI,QAAQ,IAAI,QAAQ,IAAI,QAAQ,IAAI,QAAQ,KAAK,QAAQ,IAAI,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,IAAI,QAAQ,KAAK,QAAQ,IAAI,QAAQ,GAAG,QAAQ,IAAI,QAAQ,IAAI,kBAAkB,KAAK,kBAAkB,KAAK,QAAQ,KAAK,QAAQ,IAAI,QAAQ,IAAI,QAAQ,IAAI,QAAQ,IAAI,QAAQ,IAAI,QAAQ,KAAK,QAAQ,IAAI,QAAQ,IAAI,QAAQ,IAAI,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,kBAAkB,KAAK,kBAAkB,KAAK,QAAQ,KAAK,QAAQ,KAAK,kBAAkB,KAAK,kBAAkB,KAAK,QAAQ,KAAK,kBAAkB,KAAK,kBAAkB,KAAK,QAAQ,KAAK,kBAAkB,KAAK,kBAAkB,KAAK,QAAQ,KAAK,QAAQ,KAAK,kBAAkB,KAAK,kBAAkB,KAAK,QAAQ,KAAK,kBAAkB,KAAK,kBAAkB,KAAK,QAAQ,KAAK,kBAAkB,KAAK,kBAAkB,KAAK,QAAQ,KAAK,QAAQ,MAAM,QAAQ,KAAK,QAAQ,MAAM,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,IAAI,QAAQ,IAAI,QAAQ,IAAI,QAAQ,IAAI,QAAQ,IAAI,QAAQ,IAAI,QAAQ,IAAI,QAAQ,KAAK,QAAQ,IAAI,QAAQ,IAAI,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,MAAM,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,kBAAkB,KAAK,kBAAkB,KAAK,QAAQ,KAAK,kBAAkB,KAAK,kBAAkB,KAAK,QAAQ,KAAK,QAAQ,MAAM,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,kBAAkB,KAAK,kBAAkB,KAAK,QAAQ,KAAK,kBAAkB,KAAK,kBAAkB,KAAK,QAAQ,KAAK,kBAAkB,KAAK,kBAAkB,KAAK,QAAQ,KAAK,QAAQ,IAAI,mBAAmB,KAAK,mBAAmB,KAAK,mBAAmB,KAAK,mBAAmB,KAAK,mBAAmB,KAAK,mBAAmB,KAAK,mBAAmB,KAAK,mBAAmB,KAAK,mBAAmB,KAAK,mBAAmB,KAAK,mBAAmB,KAAK,mBAAmB,KAAK,mBAAmB,KAAK,mBAAmB,KAAK,mBAAmB,KAAK,8BAA8B,KAAK,mBAAmB,KAAK,mBAAmB,KAAK,mBAAmB,KAAK,mBAAmB,KAAK,mBAAmB,KAAK,mBAAmB,KAAK,mBAAmB,KAAK,kBAAkB,KAAK,kBAAkB,KAAK,kBAAkB,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,kBAAkB,KAAK,kBAAkB,KAAK,QAAQ,KAAK,QAAQ,KAAK,kBAAkB,KAAK,kBAAkB,KAAK,QAAQ,KAAK,kBAAkB,KAAK,kBAAkB,KAAK,QAAQ,KAAK,kBAAkB,KAAK,kBAAkB,KAAK,QAAQ,KAAK,kBAAkB,KAAK,kBAAkB,KAAK,QAAQ,KAAK,kBAAkB,KAAK,kBAAkB,KAAK,QAAQ,KAAK,kBAAkB,KAAK,kBAAkB,KAAK,QAAQ,KAAK,kBAAkB,KAAK,kBAAkB,KAAK,QAAQ,KAAK,kBAAkB,KAAK,kBAAkB,KAAK,QAAQ,KAAK,kBAAkB,KAAK,kBAAkB,KAAK,QAAQ,KAAK,kBAAkB,KAAK,kBAAkB,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,KAAK,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,KAAK,QAAQ,MAAM,QAAQ,KAAK,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,KAAK,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,KAAK,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,MAAM,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,KAAK,OAAO,MAAM,OAAO,MAAM,OAAO,MAAM,OAAO,KAAK,OAAO,KAAK,OAAO,MAAM,OAAO,MAAM,OAAO,MAAM,OAAO,MAAM,OAAO,MAAM,OAAO,MAAM,OAAO,MAAM,OAAO,MAAM,OAAO,KAAK,OAAO,KAAK,OAAO,KAAK,OAAO,KAAK,OAAO,MAAM,OAAO,MAAM,OAAO,MAAM,OAAO,MAAM,OAAO,MAAM,OAAO,MAAM,OAAO,MAAM,OAAO,MAAM,OAAO,MAAM,OAAO,MAAM,OAAO,MAAM,OAAO,MAAM,OAAO,MAAM,OAAO,KAAK,OAAO,MAAM,OAAO,MAAM,OAAO,MAAM,OAAO,IAAI,OAAO,MAAM,OAAO,MAAM,OAAO,MAAM,OAAO,MAAM,OAAO,MAAM,OAAO,MAAM,OAAO,MAAM,OAAO,MAAM,OAAO,MAAM,OAAO,MAAM,OAAO,MAAM,OAAO,MAAM,OAAO,MAAM,OAAO,MAAM,OAAO,MAAM,OAAO,MAAM,OAAO,MAAM,OAAO,MAAM,OAAO,MAAM,OAAO,MAAM,OAAO,MAAM,OAAO,MAAM,OAAO,KAAK,OAAO,KAAM,OAAO,MAAM,OAAO,MAAM,OAAO,MAAM,OAAO,MAAM,OAAO,MAAM,OAAO,KAAK,OAAO,KAAK,OAAO,KAAK,OAAO,MAAM,OAAO,KAAK,OAAO,MAAM,OAAO,KAAK,OAAO,KAAK,OAAO,KAAK,OAAO,MAAM,iBAAiB,KAAK,iBAAiB,KAAK,OAAO,KAAK,OAAO,KAAK,OAAO,KAAK,OAAO,KAAK,OAAO,KAAK,OAAO,KAAK,OAAO,KAAK,OAAO,MAAM,OAAO,MAAM,OAAO,MAAM,OAAO,MAAM,kBAAkB,KAAK,kBAAkB,KAAK,OAAO,MAAM,OAAO,MAAM,OAAO,MAAM,OAAO,MAAM,OAAO,MAAM,OAAO,MAAM,OAAO,MAAM,OAAO,MAAM,OAAO,KAAK,OAAO,MAAM,OAAO,MAAM,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,yCAAyC,EAAE,yCAAyC,EAAE,yCAAyC,EAAE,yCAAyC,EAAE,yCAAyC,EAAE,yCAAyC,EAAE,yCAAyC,EAAE,yCAAyC,EAAE,yCAAyC,EAAE,yCAAyC,EAAE,yCAAyC,EAAE,yCAAyC,EAAE,yCAAyC,EAAE,yCAAyC,EAAE,yCAAyC,EAAE,yCAAyC,EAAE,yCAAyC,EAAE,yCAAyC,EAAE,yCAAyC,EAAE,yCAAyC,EAAE,yCAAyC,EAAE,yCAAyC,EAAE,yCAAyC,EAAE,yCAAyC,EAAE,yCAAyC,EAAE,oDAAoD,EAAE,oDAAoD,EAAE,oDAAoD,EAAE,oDAAoD,EAAE,oDAAoD,EAAE,oDAAoD,EAAE,oDAAoD,EAAE,oDAAoD,EAAE,oDAAoD,EAAE,oDAAoD,EAAE,oDAAoD,EAAE,oDAAoD,EAAE,oDAAoD,EAAE,oDAAoD,EAAE,oDAAoD,EAAE,oDAAoD,EAAE,oDAAoD,EAAE,oDAAoD,EAAE,oDAAoD,EAAE,oDAAoD,EAAE,oDAAoD,EAAE,oDAAoD,EAAE,oDAAoD,EAAE,oDAAoD,EAAE,oDAAoD,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,yCAAyC,EAAE,yCAAyC,EAAE,yCAAyC,EAAE,yCAAyC,EAAE,yCAAyC,EAAE,yCAAyC,EAAE,yCAAyC,EAAE,yCAAyC,EAAE,yCAAyC,EAAE,yCAAyC,EAAE,yCAAyC,EAAE,yCAAyC,EAAE,yCAAyC,EAAE,yCAAyC,EAAE,yCAAyC,EAAE,yCAAyC,EAAE,yCAAyC,EAAE,yCAAyC,EAAE,yCAAyC,EAAE,yCAAyC,EAAE,yCAAyC,EAAE,yCAAyC,EAAE,yCAAyC,EAAE,yCAAyC,EAAE,yCAAyC,EAAE,yCAAyC,EAAE,yCAAyC,EAAE,yCAAyC,EAAE,yCAAyC,EAAE,yCAAyC,EAAE,yCAAyC,EAAE,yCAAyC,EAAE,yCAAyC,EAAE,yCAAyC,EAAE,yCAAyC,EAAE,yCAAyC,EAAE,yCAAyC,EAAE,yCAAyC,EAAE,yCAAyC,EAAE,yCAAyC,EAAE,yCAAyC,EAAE,yCAAyC,EAAE,yCAAyC,EAAE,yCAAyC,EAAE,yCAAyC,EAAE,yCAAyC,EAAE,yCAAyC,EAAE,yCAAyC,EAAE,yCAAyC,EAAE,yCAAyC,EAAE,oDAAoD,EAAE,oDAAoD,EAAE,oDAAoD,EAAE,oDAAoD,EAAE,oDAAoD,EAAE,oDAAoD,EAAE,oDAAoD,EAAE,oDAAoD,EAAE,oDAAoD,EAAE,oDAAoD,EAAE,oDAAoD,EAAE,oDAAoD,EAAE,oDAAoD,EAAE,oDAAoD,EAAE,oDAAoD,EAAE,oDAAoD,EAAE,oDAAoD,EAAE,oDAAoD,EAAE,oDAAoD,EAAE,oDAAoD,EAAE,oDAAoD,EAAE,oDAAoD,EAAE,oDAAoD,EAAE,oDAAoD,EAAE,oDAAoD,EAAE,oDAAoD,EAAE,oDAAoD,EAAE,oDAAoD,EAAE,oDAAoD,EAAE,oDAAoD,EAAE,oDAAoD,EAAE,oDAAoD,EAAE,oDAAoD,EAAE,oDAAoD,EAAE,oDAAoD,EAAE,oDAAoD,EAAE,oDAAoD,EAAE,oDAAoD,EAAE,oDAAoD,EAAE,oDAAoD,EAAE,oDAAoD,EAAE,oDAAoD,EAAE,oDAAoD,EAAE,oDAAoD,EAAE,oDAAoD,EAAE,oDAAoD,EAAE,oDAAoD,EAAE,oDAAoD,EAAE,oDAAoD,EAAE,oDAAoD,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,0CAA0C,EAAE,0CAA0C,EAAE,0CAA0C,EAAE,0CAA0C,EAAE,0CAA0C,EAAE,0CAA0C,EAAE,0CAA0C,EAAE,0CAA0C,EAAE,0CAA0C,EAAE,0CAA0C,EAAE,0CAA0C,EAAE,0CAA0C,EAAE,0CAA0C,EAAE,0CAA0C,EAAE,0CAA0C,EAAE,0CAA0C,EAAE,0CAA0C,EAAE,0CAA0C,EAAE,0CAA0C,EAAE,0CAA0C,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,0CAA0C,EAAE,0CAA0C,EAAE,0CAA0C,EAAE,0CAA0C,EAAE,0CAA0C,EAAE,0CAA0C,EAAE,0CAA0C,EAAE,0CAA0C,EAAE,0CAA0C,EAAE,0CAA0C,EAAE,0CAA0C,EAAE,0CAA0C,EAAE,0CAA0C,EAAE,0CAA0C,EAAE,0CAA0C,EAAE,0CAA0C,EAAE,0CAA0C,EAAE,0CAA0C,EAAE,0CAA0C,EAAE,0CAA0C,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,0CAA0C,EAAE,0CAA0C,EAAE,0CAA0C,EAAE,0CAA0C,EAAE,0CAA0C,EAAE,0CAA0C,EAAE,0CAA0C,EAAE,0CAA0C,EAAE,0CAA0C,EAAE,0CAA0C,EAAE,0CAA0C,EAAE,0CAA0C,EAAE,0CAA0C,EAAE,0CAA0C,EAAE,0CAA0C,EAAE,0CAA0C,EAAE,0CAA0C,EAAE,0CAA0C,EAAE,0CAA0C,EAAE,0CAA0C,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,oDAAoD,EAAE,oDAAoD,EAAE,oDAAoD,EAAE,oDAAoD,EAAE,oDAAoD,EAAE,oDAAoD,EAAE,oDAAoD,EAAE,oDAAoD,EAAE,oDAAoD,EAAE,oDAAoD,EAAE,oDAAoD,EAAE,oDAAoD,EAAE,oDAAoD,EAAE,oDAAoD,EAAE,oDAAoD,EAAE,oDAAoD,EAAE,oDAAoD,EAAE,oDAAoD,EAAE,oDAAoD,EAAE,oDAAoD,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,yCAAyC,EAAE,yCAAyC,EAAE,yCAAyC,EAAE,yCAAyC,EAAE,yCAAyC,EAAE,yCAAyC,EAAE,yCAAyC,EAAE,yCAAyC,EAAE,yCAAyC,EAAE,yCAAyC,EAAE,yCAAyC,EAAE,yCAAyC,EAAE,yCAAyC,EAAE,yCAAyC,EAAE,yCAAyC,EAAE,yCAAyC,EAAE,yCAAyC,EAAE,yCAAyC,EAAE,yCAAyC,EAAE,yCAAyC,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,0CAA0C,EAAE,0CAA0C,EAAE,0CAA0C,EAAE,0CAA0C,EAAE,0CAA0C,EAAE,0CAA0C,EAAE,0CAA0C,EAAE,0CAA0C,EAAE,0CAA0C,EAAE,0CAA0C,EAAE,0CAA0C,EAAE,0CAA0C,EAAE,0CAA0C,EAAE,0CAA0C,EAAE,0CAA0C,EAAE,0CAA0C,EAAE,0CAA0C,EAAE,0CAA0C,EAAE,0CAA0C,EAAE,0CAA0C,EAAE,0CAA0C,EAAE,0CAA0C,EAAE,0CAA0C,EAAE,0CAA0C,EAAE,0CAA0C,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,yBAAyB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB,EAAE,wBAAwB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","sources":["webpack://tweb/webpack/runtime/chunk loaded","webpack://tweb/webpack/runtime/compat","webpack://tweb/webpack/runtime/startup chunk dependencies","webpack://tweb/./src/config/emoji.ts","webpack://tweb/./src/environment/userAgent.ts","webpack://tweb/./src/helpers/cleanSearchText.ts","webpack://tweb/./src/helpers/fileName.ts","webpack://tweb/./src/lib/idb.ts","webpack://tweb/./src/environment/utils.ts","webpack://tweb/./src/lib/rootScope.ts","webpack://tweb/./src/lib/appManagers/appStateManager.ts","webpack://tweb/./src/helpers/object/setDeepProperty.ts","webpack://tweb/./src/helpers/object/getDeepProperty.ts","webpack://tweb/./src/lib/mtproto/networkStats.ts","webpack://tweb/./src/lib/mtproto/transports/http.ts","webpack://tweb/./src/lib/mtproto/transports/websocket.ts","webpack://tweb/./src/helpers/array/randomize.ts","webpack://tweb/./src/lib/mtproto/transports/obfuscation.ts","webpack://tweb/./src/lib/mtproto/transports/abridged.ts","webpack://tweb/./src/helpers/bytes/bytesToHex.ts","webpack://tweb/./src/lib/mtproto/transports/tcpObfuscated.ts","webpack://tweb/./src/lib/mtproto/dcConfigurator.ts","webpack://tweb/./src/lib/mtproto/transports/controller.ts","webpack://tweb/./src/lib/appManagers/utils/storages/resetStoragesPromise.ts","webpack://tweb/./src/lib/appManagers/manager.ts","webpack://tweb/./src/lib/appManagers/utils/storages/loadStorages.ts","webpack://tweb/./src/lib/appManagers/appStoragesManager.ts","webpack://tweb/./src/lib/appManagers/utils/storages/createStorages.ts","webpack://tweb/./src/lib/mtproto/passwordManager.ts","webpack://tweb/./src/lib/mtproto/referenceDatabase.ts","webpack://tweb/./src/helpers/object/safeReplaceObject.ts","webpack://tweb/./src/lib/appManagers/utils/messages/getPeerIdsFromMessage.ts","webpack://tweb/./src/helpers/object/defineNotNumerableProperties.ts","webpack://tweb/./src/lib/appManagers/utils/dialogs/setDialogIndex.ts","webpack://tweb/./src/lib/storages/dialogs.ts","webpack://tweb/./src/lib/storages/filters.ts","webpack://tweb/./src/helpers/applyMixins.ts","webpack://tweb/./src/lib/appManagers/apiUpdatesManager.ts","webpack://tweb/./src/lib/appManagers/appAvatarsManager.ts","webpack://tweb/./src/lib/appManagers/appCallsManager.ts","webpack://tweb/./src/helpers/restrictions.ts","webpack://tweb/./src/lib/appManagers/appChatsManager.ts","webpack://tweb/./src/lib/langPack.ts","webpack://tweb/./src/helpers/date.ts","webpack://tweb/./src/helpers/object/safeReplaceArrayInObject.ts","webpack://tweb/./src/lib/appManagers/appDocsManager.ts","webpack://tweb/./src/lib/appManagers/utils/docs/getDocumentURL.ts","webpack://tweb/./src/lib/appManagers/appDraftsManager.ts","webpack://tweb/./src/lib/appManagers/appEmojiManager.ts","webpack://tweb/./src/lib/appManagers/appGroupCallsManager.ts","webpack://tweb/./src/lib/appManagers/utils/photos/getPhotoInput.ts","webpack://tweb/./src/lib/appManagers/utils/photos/getPhotoMediaInput.ts","webpack://tweb/./src/lib/appManagers/utils/docs/getDocumentMediaInput.ts","webpack://tweb/./src/lib/appManagers/appInlineBotsManager.ts","webpack://tweb/./src/lib/appManagers/appMessagesIdsManager.ts","webpack://tweb/./src/lib/mtproto/telegramMeWebManager.ts","webpack://tweb/./src/helpers/string/splitStringByLength.ts","webpack://tweb/./src/lib/appManagers/appTabsManager.ts","webpack://tweb/./src/lib/appManagers/appMessagesManager.ts","webpack://tweb/./src/lib/appManagers/utils/docs/getDocumentInputFileName.ts","webpack://tweb/./src/helpers/string/convertInputKeyToKey.ts","webpack://tweb/./src/lib/appManagers/appNotificationsManager.ts","webpack://tweb/./src/lib/appManagers/appPeersManager.ts","webpack://tweb/./src/lib/appManagers/appPhotosManager.ts","webpack://tweb/./src/lib/appManagers/appPollsManager.ts","webpack://tweb/./src/lib/appManagers/appPrivacyManager.ts","webpack://tweb/./src/lib/appManagers/appProfileManager.ts","webpack://tweb/./src/helpers/callbackifyAll.ts","webpack://tweb/./src/lib/appManagers/appReactionsManager.ts","webpack://tweb/./src/lib/appManagers/appStickersManager.ts","webpack://tweb/./src/helpers/fixBase64String.ts","webpack://tweb/./src/helpers/cleanUsername.ts","webpack://tweb/./src/lib/appManagers/appUsersManager.ts","webpack://tweb/./src/lib/appManagers/appWebPagesManager.ts","webpack://tweb/./src/lib/mtproto/apiFileManager.ts","webpack://tweb/./src/helpers/fixFirefoxSvg.ts","webpack://tweb/./src/helpers/blob/readBlobAsArrayBuffer.ts","webpack://tweb/./src/helpers/blob/readBlobAs.ts","webpack://tweb/./src/lib/mtproto/api_methods.ts","webpack://tweb/./src/lib/mtproto/apiManager.ts","webpack://tweb/./src/lib/storages/peers.ts","webpack://tweb/./src/lib/storages/thumbs.ts","webpack://tweb/./src/lib/mtproto/schema.ts","webpack://tweb/./src/helpers/number/intToUint.ts","webpack://tweb/./src/helpers/long/ulongFromInts.ts","webpack://tweb/./src/helpers/bigInt/bigIntConstants.ts","webpack://tweb/./src/helpers/bigInt/bigIntConversion.ts","webpack://tweb/./src/lib/mtproto/tl_utils.ts","webpack://tweb/./src/helpers/gzipUncompress.ts","webpack://tweb/./src/helpers/bytes/addPadding.ts","webpack://tweb/./src/lib/mtproto/networker.ts","webpack://tweb/./src/helpers/long/sortLongsArray.ts","webpack://tweb/./src/helpers/long/longToBytes.ts","webpack://tweb/./src/lib/mtproto/networkerFactory.ts","webpack://tweb/./src/lib/mtproto/rsaKeysManager.ts","webpack://tweb/./src/helpers/bytes/bytesXor.ts","webpack://tweb/./src/lib/mtproto/authorizer.ts","webpack://tweb/./src/lib/mtproto/timeManager.ts","webpack://tweb/./src/lib/appManagers/appWebDocsManager.ts","webpack://tweb/./src/lib/appManagers/appPaymentsManager.ts","webpack://tweb/./src/lib/appManagers/appManagersManager.ts","webpack://tweb/./src/lib/appManagers/createManagers.ts","webpack://tweb/./src/lib/mtproto/mtproto.worker.ts","webpack://tweb/./src/helpers/listenMessagePort.ts","webpack://tweb/./src/lib/mtproto/mtproto_config.ts","webpack://tweb/./src/lib/richTextProcessor/combineSameEntities.ts","webpack://tweb/./src/lib/richTextProcessor/findConflictingEntity.ts","webpack://tweb/./src/lib/richTextProcessor/index.ts","webpack://tweb/./src/lib/richTextProcessor/mergeEntities.ts","webpack://tweb/./src/lib/richTextProcessor/sortEntities.ts","webpack://tweb/./src/vendor/emoji/index.ts","webpack://tweb/webpack/bootstrap","webpack://tweb/webpack/runtime/compat get default export","webpack://tweb/webpack/runtime/define property getters","webpack://tweb/webpack/runtime/ensure chunk","webpack://tweb/webpack/runtime/get javascript chunk filename","webpack://tweb/webpack/runtime/get mini-css chunk filename","webpack://tweb/webpack/runtime/global","webpack://tweb/webpack/runtime/hasOwnProperty shorthand","webpack://tweb/webpack/runtime/make namespace object","webpack://tweb/webpack/runtime/node module decorator","webpack://tweb/webpack/runtime/publicPath","webpack://tweb/webpack/runtime/importScripts chunk loading","webpack://tweb/webpack/startup"],"sourcesContent":["var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","(() => {\n  if (typeof __webpack_require__ !== 'undefined') {\n    var oldGetScript = __webpack_require__.u;\n    var oldLoadScript = __webpack_require__.e;\n    var queryMap = {};\n    var countMap = {};\n    var getRetryDelay = function () {\n      return 3000;\n    };\n    __webpack_require__.u = function (chunkId) {\n      var result = oldGetScript(chunkId);\n      return (\n        result +\n        (queryMap.hasOwnProperty(chunkId) ? '?' + queryMap[chunkId] : '')\n      );\n    };\n    __webpack_require__.e = function (chunkId) {\n      var result = oldLoadScript(chunkId);\n      return result.catch(function (error) {\n        var retries = countMap.hasOwnProperty(chunkId)\n          ? countMap[chunkId]\n          : 999999;\n        if (retries < 1) {\n          var realSrc = oldGetScript(chunkId);\n          error.message =\n            'Loading chunk ' +\n            chunkId +\n            ' failed after 999999 retries.\\n(' +\n            realSrc +\n            ')';\n          error.request = realSrc;\n          throw error;\n        }\n        return new Promise(function (resolve) {\n          var retryAttempt = 999999 - retries + 1;\n          setTimeout(function () {\n            var retryAttemptString = '&retry-attempt=' + retryAttempt;\n            var cacheBust = (function () {\n              return Date.now();\n            })();\n            +retryAttemptString;\n            queryMap[chunkId] = cacheBust;\n            countMap[chunkId] = retries - 1;\n            resolve(__webpack_require__.e(chunkId));\n          }, getRetryDelay(retryAttempt));\n        });\n      });\n    };\n  }\n})();\n","var next = __webpack_require__.x;\n__webpack_require__.x = () => {\n\treturn Promise.all([699,211,725,960,740,27].map(__webpack_require__.e, __webpack_require__)).then(next);\n};","/*\r\n * https://github.com/morethanwords/tweb\r\n * Copyright (C) 2019-2021 Eduard Kuzmenko\r\n * https://github.com/morethanwords/tweb/blob/master/LICENSE\r\n */\r\n\r\nimport type { EMOJI_VERSION } from \"../environment/emojiVersionsSupport\";\r\n\r\nexport const EmojiVersions: {[version in EMOJI_VERSION]: {[emoji: string]: number}} = {\"14\":{\"1f6dd\":4867,\"1f6de\":4916,\"1f6df\":4923,\"1f7f0\":62832,\"1f979\":183,\"1f9cc\":1557,\"1fa7b\":61332,\"1fa7c\":61330,\"1faa9\":51093,\"1faaa\":61364,\"1faab\":61189,\"1faac\":51085,\"1fab7\":2651,\"1fab8\":2631,\"1fab9\":2672,\"1faba\":2673,\"1fac3\":1520,\"1fac4\":1521,\"1fac5\":1505,\"1fad7\":3793,\"1fad8\":3707,\"1fad9\":3804,\"1fae0\":111,\"1fae1\":136,\"1fae2\":132,\"1fae3\":133,\"1fae4\":174,\"1fae5\":142,\"1fae6\":1385,\"1fae7\":61353,\"1faf0\":1341,\"1faf1\":1332,\"1faf2\":1333,\"1faf3\":1334,\"1faf4\":1335,\"1faf5\":1351,\"1faf6\":1360,\"1faf1-1f3fb-200d-1faf2-1f3fc\":0,\"1faf1-1f3fb-200d-1faf2-1f3fd\":0,\"1faf1-1f3fb-200d-1faf2-1f3fe\":0,\"1faf1-1f3fb-200d-1faf2-1f3ff\":0,\"1faf1-1f3fc-200d-1faf2-1f3fb\":0,\"1faf1-1f3fc-200d-1faf2-1f3fd\":0,\"1faf1-1f3fc-200d-1faf2-1f3fe\":0,\"1faf1-1f3fc-200d-1faf2-1f3ff\":0,\"1faf1-1f3fd-200d-1faf2-1f3fb\":0,\"1faf1-1f3fd-200d-1faf2-1f3fc\":0,\"1faf1-1f3fd-200d-1faf2-1f3fe\":0,\"1faf1-1f3fd-200d-1faf2-1f3ff\":0,\"1faf1-1f3fe-200d-1faf2-1f3fb\":0,\"1faf1-1f3fe-200d-1faf2-1f3fc\":0,\"1faf1-1f3fe-200d-1faf2-1f3fd\":0,\"1faf1-1f3fe-200d-1faf2-1f3ff\":0,\"1faf1-1f3ff-200d-1faf2-1f3fb\":0,\"1faf1-1f3ff-200d-1faf2-1f3fc\":0,\"1faf1-1f3ff-200d-1faf2-1f3fd\":0,\"1faf1-1f3ff-200d-1faf2-1f3fe\":0,\"1fac3-1f3fb\":0,\"1fac3-1f3fc\":0,\"1fac3-1f3fd\":0,\"1fac3-1f3fe\":0,\"1fac3-1f3ff\":0,\"1fac4-1f3fb\":0,\"1fac4-1f3fc\":0,\"1fac4-1f3fd\":0,\"1fac4-1f3fe\":0,\"1fac4-1f3ff\":0,\"1fac5-1f3fb\":0,\"1fac5-1f3fc\":0,\"1fac5-1f3fd\":0,\"1fac5-1f3fe\":0,\"1fac5-1f3ff\":0,\"1faf0-1f3fb\":0,\"1faf0-1f3fc\":0,\"1faf0-1f3fd\":0,\"1faf0-1f3fe\":0,\"1faf0-1f3ff\":0,\"1faf1-1f3fb\":0,\"1faf1-1f3fc\":0,\"1faf1-1f3fd\":0,\"1faf1-1f3fe\":0,\"1faf1-1f3ff\":0,\"1faf2-1f3fb\":0,\"1faf2-1f3fc\":0,\"1faf2-1f3fd\":0,\"1faf2-1f3fe\":0,\"1faf2-1f3ff\":0,\"1faf3-1f3fb\":0,\"1faf3-1f3fc\":0,\"1faf3-1f3fd\":0,\"1faf3-1f3fe\":0,\"1faf3-1f3ff\":0,\"1faf4-1f3fb\":0,\"1faf4-1f3fc\":0,\"1faf4-1f3fd\":0,\"1faf4-1f3fe\":0,\"1faf4-1f3ff\":0,\"1faf5-1f3fb\":0,\"1faf5-1f3fc\":0,\"1faf5-1f3fd\":0,\"1faf5-1f3fe\":0,\"1faf5-1f3ff\":0,\"1faf6-1f3fb\":0,\"1faf6-1f3fc\":0,\"1faf6-1f3fd\":0,\"1faf6-1f3fe\":0,\"1faf6-1f3ff\":0},\"\":{\"2049\":62835,\"2122\":62863,\"2139\":62888,\"2194\":62764,\"2195\":62763,\"2196\":62762,\"2197\":62756,\"2198\":62758,\"2199\":62760,\"2328\":61194,\"2600\":4990,\"2601\":4998,\"2602\":41013,\"2603\":41018,\"2604\":41020,\"2611\":62851,\"2614\":41014,\"2615\":3781,\"2618\":2667,\"2620\":1106,\"2622\":62753,\"2623\":62754,\"2626\":62783,\"2638\":62780,\"2639\":177,\"2648\":62788,\"2649\":62789,\"2650\":62796,\"2651\":62797,\"2652\":62798,\"2653\":62799,\"2660\":51095,\"2663\":51098,\"2665\":51096,\"2666\":51097,\"2668\":4865,\"2692\":61297,\"2693\":4922,\"2694\":61300,\"2696\":61311,\"2697\":61319,\"2699\":61309,\"2702\":61284,\"2705\":62850,\"2708\":4931,\"2709\":61245,\"2712\":61259,\"2714\":62852,\"2716\":62828,\"2721\":62779,\"2728\":51029,\"2733\":62858,\"2734\":62859,\"2744\":41017,\"2747\":62860,\"2753\":62836,\"2754\":62837,\"2755\":62838,\"2757\":62839,\"2763\":1137,\"2764\":1141,\"2795\":62829,\"2796\":62830,\"2797\":62831,\"2934\":62767,\"2935\":62768,\"3030\":62840,\"3297\":62912,\"3299\":62913,\"0023-20e3\":62864,\"002a-20e3\":62865,\"0030-20e3\":62866,\"0031-20e3\":62867,\"0032-20e3\":62868,\"0033-20e3\":62869,\"0034-20e3\":62870,\"0035-20e3\":62871,\"0036-20e3\":62872,\"0037-20e3\":62873,\"0038-20e3\":62874,\"0039-20e3\":62875,\"00a9\":62861,\"00ae\":62862,\"1f004\":51101,\"1f0cf\":51100,\"1f170\":62882,\"1f171\":62884,\"1f17e\":62893,\"1f17f\":62895,\"1f18e\":62883,\"1f191\":62885,\"1f192\":62886,\"1f193\":62887,\"1f194\":62889,\"1f195\":62891,\"1f196\":62892,\"1f197\":62894,\"1f198\":62896,\"1f199\":62897,\"1f19a\":62898,\"1f1e6-1f1e8\":71594,\"1f1e6-1f1e9\":71595,\"1f1e6-1f1ea\":71596,\"1f1e6-1f1eb\":71597,\"1f1e6-1f1ec\":71598,\"1f1e6-1f1ee\":71599,\"1f1e6-1f1f1\":71600,\"1f1e6-1f1f2\":71601,\"1f1e6-1f1f4\":71602,\"1f1e6-1f1f6\":71603,\"1f1e6-1f1f7\":71604,\"1f1e6-1f1f8\":71605,\"1f1e6-1f1f9\":71606,\"1f1e6-1f1fa\":71607,\"1f1e6-1f1fc\":71608,\"1f1e6-1f1fd\":71609,\"1f1e6-1f1ff\":71610,\"1f1e7-1f1e6\":71611,\"1f1e7-1f1e7\":71612,\"1f1e7-1f1e9\":71613,\"1f1e7-1f1ea\":71614,\"1f1e7-1f1eb\":71615,\"1f1e7-1f1ec\":71616,\"1f1e7-1f1ed\":71617,\"1f1e7-1f1ee\":71618,\"1f1e7-1f1ef\":71619,\"1f1e7-1f1f1\":71620,\"1f1e7-1f1f2\":71621,\"1f1e7-1f1f3\":71622,\"1f1e7-1f1f4\":71623,\"1f1e7-1f1f6\":71624,\"1f1e7-1f1f7\":71625,\"1f1e7-1f1f8\":71626,\"1f1e7-1f1f9\":71627,\"1f1e7-1f1fb\":71628,\"1f1e7-1f1fc\":71629,\"1f1e7-1f1fe\":71630,\"1f1e7-1f1ff\":71631,\"1f1e8-1f1e6\":71632,\"1f1e8-1f1e8\":71633,\"1f1e8-1f1e9\":71634,\"1f1e8-1f1eb\":71635,\"1f1e8-1f1ec\":71636,\"1f1e8-1f1ed\":71637,\"1f1e8-1f1ee\":71638,\"1f1e8-1f1f0\":71639,\"1f1e8-1f1f1\":71640,\"1f1e8-1f1f2\":71641,\"1f1e8-1f1f3\":71642,\"1f1e8-1f1f4\":71643,\"1f1e8-1f1f5\":71644,\"1f1e8-1f1f7\":71645,\"1f1e8-1f1fa\":71646,\"1f1e8-1f1fb\":71647,\"1f1e8-1f1fc\":71648,\"1f1e8-1f1fd\":71649,\"1f1e8-1f1fe\":71650,\"1f1e8-1f1ff\":71651,\"1f1e9-1f1ea\":71652,\"1f1e9-1f1ec\":71653,\"1f1e9-1f1ef\":71654,\"1f1e9-1f1f0\":71655,\"1f1e9-1f1f2\":71656,\"1f1e9-1f1f4\":71657,\"1f1e9-1f1ff\":71658,\"1f1ea-1f1e6\":71659,\"1f1ea-1f1e8\":71660,\"1f1ea-1f1ea\":71661,\"1f1ea-1f1ec\":71662,\"1f1ea-1f1ed\":71663,\"1f1ea-1f1f7\":71664,\"1f1ea-1f1f8\":71665,\"1f1ea-1f1f9\":71666,\"1f1ea-1f1fa\":71667,\"1f1eb-1f1ee\":71668,\"1f1eb-1f1ef\":71669,\"1f1eb-1f1f0\":71670,\"1f1eb-1f1f2\":71671,\"1f1eb-1f1f4\":71672,\"1f1eb-1f1f7\":71673,\"1f1ec-1f1e6\":71674,\"1f1ec-1f1e7\":71675,\"1f1ec-1f1e9\":71676,\"1f1ec-1f1ea\":71677,\"1f1ec-1f1eb\":71678,\"1f1ec-1f1ec\":71679,\"1f1ec-1f1ed\":71680,\"1f1ec-1f1ee\":71681,\"1f1ec-1f1f1\":71682,\"1f1ec-1f1f2\":71683,\"1f1ec-1f1f3\":71684,\"1f1ec-1f1f5\":71685,\"1f1ec-1f1f6\":71686,\"1f1ec-1f1f7\":71687,\"1f1ec-1f1f8\":71688,\"1f1ec-1f1f9\":71689,\"1f1ec-1f1fa\":71690,\"1f1ec-1f1fc\":71691,\"1f1ec-1f1fe\":71692,\"1f1ed-1f1f0\":71693,\"1f1ed-1f1f2\":71694,\"1f1ed-1f1f3\":71695,\"1f1ed-1f1f7\":71696,\"1f1ed-1f1f9\":71697,\"1f1ed-1f1fa\":71698,\"1f1ee-1f1e8\":71699,\"1f1ee-1f1e9\":71700,\"1f1ee-1f1ea\":71701,\"1f1ee-1f1f1\":71702,\"1f1ee-1f1f2\":71703,\"1f1ee-1f1f3\":71704,\"1f1ee-1f1f4\":71705,\"1f1ee-1f1f6\":71706,\"1f1ee-1f1f7\":71707,\"1f1ee-1f1f8\":71708,\"1f1ee-1f1f9\":71709,\"1f1ef-1f1ea\":71710,\"1f1ef-1f1f2\":71711,\"1f1ef-1f1f4\":71712,\"1f1ef-1f1f5\":71713,\"1f1f0-1f1ea\":71714,\"1f1f0-1f1ec\":71715,\"1f1f0-1f1ed\":71716,\"1f1f0-1f1ee\":71717,\"1f1f0-1f1f2\":71718,\"1f1f0-1f1f3\":71719,\"1f1f0-1f1f5\":71720,\"1f1f0-1f1f7\":71721,\"1f1f0-1f1fc\":71722,\"1f1f0-1f1fe\":71723,\"1f1f0-1f1ff\":71724,\"1f1f1-1f1e6\":71725,\"1f1f1-1f1e7\":71726,\"1f1f1-1f1e8\":71727,\"1f1f1-1f1ee\":71728,\"1f1f1-1f1f0\":71729,\"1f1f1-1f1f7\":71730,\"1f1f1-1f1f8\":71731,\"1f1f1-1f1f9\":71732,\"1f1f1-1f1fa\":71733,\"1f1f1-1f1fb\":71734,\"1f1f1-1f1fe\":71735,\"1f1f2-1f1e6\":71736,\"1f1f2-1f1e8\":71737,\"1f1f2-1f1e9\":71738,\"1f1f2-1f1ea\":71739,\"1f1f2-1f1eb\":71740,\"1f1f2-1f1ec\":71741,\"1f1f2-1f1ed\":71742,\"1f1f2-1f1f0\":71743,\"1f1f2-1f1f1\":71744,\"1f1f2-1f1f2\":71745,\"1f1f2-1f1f3\":71746,\"1f1f2-1f1f4\":71747,\"1f1f2-1f1f5\":71748,\"1f1f2-1f1f6\":71749,\"1f1f2-1f1f7\":71750,\"1f1f2-1f1f8\":71751,\"1f1f2-1f1f9\":71752,\"1f1f2-1f1fa\":71753,\"1f1f2-1f1fb\":71754,\"1f1f2-1f1fc\":71755,\"1f1f2-1f1fd\":71756,\"1f1f2-1f1fe\":71757,\"1f1f2-1f1ff\":71758,\"1f1f3-1f1e6\":71759,\"1f1f3-1f1e8\":71760,\"1f1f3-1f1ea\":71761,\"1f1f3-1f1eb\":71762,\"1f1f3-1f1ec\":71763,\"1f1f3-1f1ee\":71764,\"1f1f3-1f1f1\":71765,\"1f1f3-1f1f4\":71766,\"1f1f3-1f1f5\":71767,\"1f1f3-1f1f7\":71768,\"1f1f3-1f1fa\":71769,\"1f1f3-1f1ff\":71770,\"1f1f4-1f1f2\":71771,\"1f1f5-1f1e6\":71772,\"1f1f5-1f1ea\":71773,\"1f1f5-1f1eb\":71774,\"1f1f5-1f1ec\":71775,\"1f1f5-1f1ed\":71776,\"1f1f5-1f1f0\":71777,\"1f1f5-1f1f1\":71778,\"1f1f5-1f1f2\":71779,\"1f1f5-1f1f3\":71780,\"1f1f5-1f1f7\":71781,\"1f1f5-1f1f8\":71782,\"1f1f5-1f1f9\":71783,\"1f1f5-1f1fc\":71784,\"1f1f5-1f1fe\":71785,\"1f1f6-1f1e6\":71786,\"1f1f7-1f1ea\":71787,\"1f1f7-1f1f4\":71788,\"1f1f7-1f1f8\":71789,\"1f1f7-1f1fa\":71790,\"1f1f7-1f1fc\":71791,\"1f1f8-1f1e6\":71792,\"1f1f8-1f1e7\":71793,\"1f1f8-1f1e8\":71794,\"1f1f8-1f1e9\":71795,\"1f1f8-1f1ea\":71796,\"1f1f8-1f1ec\":71797,\"1f1f8-1f1ed\":71798,\"1f1f8-1f1ee\":71799,\"1f1f8-1f1ef\":71800,\"1f1f8-1f1f0\":71801,\"1f1f8-1f1f1\":71802,\"1f1f8-1f1f2\":71803,\"1f1f8-1f1f3\":71804,\"1f1f8-1f1f4\":71805,\"1f1f8-1f1f7\":71806,\"1f1f8-1f1f8\":71807,\"1f1f8-1f1f9\":71808,\"1f1f8-1f1fb\":71809,\"1f1f8-1f1fd\":71810,\"1f1f8-1f1fe\":71811,\"1f1f8-1f1ff\":71812,\"1f1f9-1f1e6\":71813,\"1f1f9-1f1e8\":71814,\"1f1f9-1f1e9\":71815,\"1f1f9-1f1eb\":71816,\"1f1f9-1f1ec\":71817,\"1f1f9-1f1ed\":71818,\"1f1f9-1f1ef\":71819,\"1f1f9-1f1f0\":71820,\"1f1f9-1f1f1\":71821,\"1f1f9-1f1f2\":71822,\"1f1f9-1f1f3\":71823,\"1f1f9-1f1f4\":71824,\"1f1f9-1f1f7\":71825,\"1f1f9-1f1f9\":71826,\"1f1f9-1f1fb\":71827,\"1f1f9-1f1fc\":71828,\"1f1f9-1f1ff\":71829,\"1f1fa-1f1e6\":71830,\"1f1fa-1f1ec\":71831,\"1f1fa-1f1f2\":71832,\"1f1fa-1f1f3\":71833,\"1f1fa-1f1f8\":71834,\"1f1fa-1f1fe\":71835,\"1f1fa-1f1ff\":71836,\"1f1fb-1f1e6\":71837,\"1f1fb-1f1e8\":71838,\"1f1fb-1f1ea\":71839,\"1f1fb-1f1ec\":71840,\"1f1fb-1f1ee\":71841,\"1f1fb-1f1f3\":71842,\"1f1fb-1f1fa\":71843,\"1f1fc-1f1eb\":71844,\"1f1fc-1f1f8\":71845,\"1f1fd-1f1f0\":71846,\"1f1fe-1f1ea\":71847,\"1f1fe-1f1f9\":71848,\"1f1ff-1f1e6\":71849,\"1f1ff-1f1f2\":71850,\"1f1ff-1f1fc\":71851,\"1f201\":62899,\"1f202\":62900,\"1f21a\":62906,\"1f22f\":62903,\"1f232\":62907,\"1f233\":62911,\"1f234\":62910,\"1f235\":62915,\"1f236\":62902,\"1f237\":62901,\"1f238\":62909,\"1f239\":62905,\"1f23a\":62914,\"1f250\":62904,\"1f251\":62908,\"1f300\":41010,\"1f301\":4857,\"1f302\":41012,\"1f303\":4858,\"1f304\":4860,\"1f305\":4861,\"1f306\":4862,\"1f307\":4863,\"1f308\":41011,\"1f309\":4864,\"1f30a\":41023,\"1f30b\":4815,\"1f30c\":4997,\"1f30d\":4806,\"1f30e\":4807,\"1f30f\":4808,\"1f310\":4809,\"1f311\":4977,\"1f312\":4978,\"1f313\":4979,\"1f314\":4980,\"1f315\":4981,\"1f316\":4982,\"1f317\":4983,\"1f318\":4984,\"1f319\":4985,\"1f31a\":4986,\"1f31b\":4987,\"1f31c\":4988,\"1f31d\":4991,\"1f31e\":4992,\"1f31f\":4995,\"1f320\":4996,\"1f321\":4989,\"1f324\":41001,\"1f325\":41002,\"1f326\":41003,\"1f327\":41004,\"1f328\":41005,\"1f329\":41006,\"1f32a\":41007,\"1f32b\":41008,\"1f32c\":41009,\"1f32d\":3725,\"1f32e\":3727,\"1f32f\":3728,\"1f330\":3708,\"1f331\":2659,\"1f332\":2661,\"1f333\":2662,\"1f334\":2663,\"1f335\":2664,\"1f336\":3698,\"1f337\":2658,\"1f338\":2649,\"1f339\":2653,\"1f33a\":2655,\"1f33b\":2656,\"1f33c\":2657,\"1f33d\":3697,\"1f33e\":2665,\"1f33f\":2666,\"1f340\":2668,\"1f341\":2669,\"1f342\":2670,\"1f343\":2671,\"1f344\":3705,\"1f345\":3690,\"1f346\":3694,\"1f347\":3674,\"1f348\":3675,\"1f349\":3676,\"1f34a\":3677,\"1f34b\":3678,\"1f34c\":3679,\"1f34d\":3680,\"1f34e\":3682,\"1f34f\":3683,\"1f350\":3684,\"1f351\":3685,\"1f352\":3686,\"1f353\":3687,\"1f354\":3722,\"1f355\":3724,\"1f356\":3718,\"1f357\":3719,\"1f358\":3744,\"1f359\":3745,\"1f35a\":3746,\"1f35b\":3747,\"1f35c\":3748,\"1f35d\":3749,\"1f35e\":3709,\"1f35f\":3723,\"1f360\":3750,\"1f361\":3756,\"1f362\":3751,\"1f363\":3752,\"1f364\":3753,\"1f365\":3754,\"1f366\":3765,\"1f367\":3766,\"1f368\":3767,\"1f369\":3768,\"1f36a\":3769,\"1f36b\":3774,\"1f36c\":3775,\"1f36d\":3776,\"1f36e\":3777,\"1f36f\":3778,\"1f370\":3771,\"1f371\":3743,\"1f372\":3735,\"1f373\":3733,\"1f374\":3801,\"1f375\":3783,\"1f376\":3784,\"1f377\":3786,\"1f378\":3787,\"1f379\":3788,\"1f37a\":3789,\"1f37b\":3790,\"1f37c\":3779,\"1f37d\":3800,\"1f37e\":3785,\"1f37f\":3739,\"1f380\":51040,\"1f381\":51041,\"1f382\":3770,\"1f383\":51024,\"1f384\":51025,\"1f385\":1527,\"1f386\":51026,\"1f387\":51027,\"1f388\":51030,\"1f389\":51031,\"1f38a\":51032,\"1f38b\":51033,\"1f38c\":71588,\"1f38d\":51034,\"1f38e\":51035,\"1f38f\":51036,\"1f390\":51037,\"1f391\":51038,\"1f392\":61134,\"1f393\":61147,\"1f396\":51045,\"1f397\":51042,\"1f399\":61167,\"1f39a\":61168,\"1f39b\":61169,\"1f39e\":61203,\"1f39f\":51043,\"1f3a0\":4866,\"1f3a1\":4868,\"1f3a2\":4869,\"1f3a3\":51072,\"1f3a4\":61170,\"1f3a5\":61202,\"1f3a6\":62819,\"1f3a7\":61171,\"1f3a8\":51105,\"1f3a9\":61146,\"1f3aa\":4871,\"1f3ab\":51044,\"1f3ac\":61205,\"1f3ad\":51103,\"1f3ae\":51086,\"1f3af\":51078,\"1f3b0\":51088,\"1f3b1\":51081,\"1f3b2\":51089,\"1f3b3\":51060,\"1f3b4\":51102,\"1f3b5\":61165,\"1f3b6\":61166,\"1f3b7\":61173,\"1f3b8\":61175,\"1f3b9\":61176,\"1f3ba\":61177,\"1f3bb\":61178,\"1f3bc\":61164,\"1f3bd\":51074,\"1f3be\":51058,\"1f3bf\":51075,\"1f3c0\":51054,\"1f3c1\":71586,\"1f3c2\":1600,\"1f3c3-200d-2640\":1584,\"1f3c3-200d-2642\":1583,\"1f3c3\":1582,\"1f3c4-200d-2640\":1606,\"1f3c4-200d-2642\":1605,\"1f3c4\":1604,\"1f3c5\":51047,\"1f3c6\":51046,\"1f3c7\":1598,\"1f3c8\":51056,\"1f3c9\":51057,\"1f3ca-200d-2640\":1612,\"1f3ca-200d-2642\":1611,\"1f3ca\":1610,\"1f3cb-200d-2640\":1618,\"1f3cb-200d-2642\":1617,\"1f3cb\":1616,\"1f3cc-200d-2640\":1603,\"1f3cc-200d-2642\":1602,\"1f3cc\":1601,\"1f3cd\":4902,\"1f3ce\":4901,\"1f3cf\":51061,\"1f3d0\":51055,\"1f3d1\":51062,\"1f3d2\":51063,\"1f3d3\":51065,\"1f3d4\":4813,\"1f3d5\":4817,\"1f3d6\":4818,\"1f3d7\":4824,\"1f3d8\":4829,\"1f3d9\":4859,\"1f3da\":4830,\"1f3db\":4823,\"1f3dc\":4819,\"1f3dd\":4820,\"1f3de\":4821,\"1f3df\":4822,\"1f3e0\":4831,\"1f3e1\":4832,\"1f3e2\":4833,\"1f3e3\":4834,\"1f3e4\":4835,\"1f3e5\":4836,\"1f3e6\":4837,\"1f3e7\":62729,\"1f3e8\":4838,\"1f3e9\":4839,\"1f3ea\":4840,\"1f3eb\":4841,\"1f3ec\":4842,\"1f3ed\":4843,\"1f3ee\":61216,\"1f3ef\":4844,\"1f3f0\":4845,\"1f3f3-200d-1f308\":71591,\"1f3f3-200d-26a7\":71592,\"1f3f3\":71590,\"1f3f4-200d-2620\":71593,\"1f3f4-e0067-e0062-e0065-e006e-e0067-e007f\":71852,\"1f3f4-e0067-e0062-e0073-e0063-e0074-e007f\":71853,\"1f3f4-e0067-e0062-e0077-e006c-e0073-e007f\":71854,\"1f3f4\":71589,\"1f3f5\":2652,\"1f3f7\":61234,\"1f3f8\":51066,\"1f3f9\":61303,\"1f3fa\":3805,\"1f3fb\":9525,\"1f3fc\":9526,\"1f3fd\":9527,\"1f3fe\":9528,\"1f3ff\":9529,\"1f400\":2576,\"1f401\":2575,\"1f402\":2556,\"1f403\":2557,\"1f404\":2558,\"1f405\":2547,\"1f406\":2548,\"1f407\":2579,\"1f408-200d-2b1b\":2544,\"1f408\":2543,\"1f409\":2618,\"1f40a\":2613,\"1f40b\":2622,\"1f40c\":2632,\"1f40d\":2616,\"1f40e\":2550,\"1f40f\":2563,\"1f410\":2565,\"1f411\":2564,\"1f412\":2531,\"1f413\":2596,\"1f414\":2595,\"1f415-200d-1f9ba\":2537,\"1f415\":2535,\"1f416\":2560,\"1f417\":2561,\"1f418\":2570,\"1f419\":2629,\"1f41a\":2630,\"1f41b\":2634,\"1f41c\":2635,\"1f41d\":2636,\"1f41e\":2638,\"1f41f\":2625,\"1f420\":2626,\"1f421\":2627,\"1f422\":2614,\"1f423\":2597,\"1f424\":2598,\"1f425\":2599,\"1f426\":2600,\"1f427\":2601,\"1f428\":2586,\"1f429\":2538,\"1f42a\":2566,\"1f42b\":2567,\"1f42c\":2623,\"1f42d\":2574,\"1f42e\":2555,\"1f42f\":2546,\"1f430\":2578,\"1f431\":2542,\"1f432\":2617,\"1f433\":2621,\"1f434\":2549,\"1f435\":2530,\"1f436\":2534,\"1f437\":2559,\"1f438\":2612,\"1f439\":2577,\"1f43a\":2539,\"1f43b-200d-2744\":2585,\"1f43b\":2584,\"1f43c\":2587,\"1f43d\":2562,\"1f43e\":2593,\"1f43f\":2580,\"1f440\":1381,\"1f441-200d-1f5e8\":1159,\"1f441\":1382,\"1f442\":1373,\"1f443\":1375,\"1f444\":1384,\"1f445\":1383,\"1f446\":1347,\"1f447\":1349,\"1f448\":1345,\"1f449\":1346,\"1f44a\":1355,\"1f44b\":1327,\"1f44c\":1336,\"1f44d\":1352,\"1f44e\":1353,\"1f44f\":1358,\"1f450\":1361,\"1f451\":61144,\"1f452\":61145,\"1f453\":61110,\"1f454\":61115,\"1f455\":61116,\"1f456\":61117,\"1f457\":61122,\"1f458\":61123,\"1f459\":61128,\"1f45a\":61129,\"1f45b\":61130,\"1f45c\":61131,\"1f45d\":61132,\"1f45e\":61136,\"1f45f\":61137,\"1f460\":61140,\"1f461\":61141,\"1f462\":61143,\"1f463\":1687,\"1f464\":1684,\"1f465\":1685,\"1f466\":1388,\"1f467\":1389,\"1f468-200d-1f33e\":1457,\"1f468-200d-1f373\":1460,\"1f468-200d-1f37c\":1524,\"1f468-200d-1f393\":1448,\"1f468-200d-1f3a4\":1478,\"1f468-200d-1f3a8\":1481,\"1f468-200d-1f3eb\":1451,\"1f468-200d-1f3ed\":1466,\"1f468-200d-1f466-200d-1f466\":1674,\"1f468-200d-1f466\":1673,\"1f468-200d-1f467-200d-1f466\":1676,\"1f468-200d-1f467-200d-1f467\":1677,\"1f468-200d-1f467\":1675,\"1f468-200d-1f468-200d-1f466\":1663,\"1f468-200d-1f468-200d-1f466-200d-1f466\":1666,\"1f468-200d-1f468-200d-1f467\":1664,\"1f468-200d-1f468-200d-1f467-200d-1f466\":1665,\"1f468-200d-1f468-200d-1f467-200d-1f467\":1667,\"1f468-200d-1f469-200d-1f466\":1658,\"1f468-200d-1f469-200d-1f466-200d-1f466\":1661,\"1f468-200d-1f469-200d-1f467\":1659,\"1f468-200d-1f469-200d-1f467-200d-1f466\":1660,\"1f468-200d-1f469-200d-1f467-200d-1f467\":1662,\"1f468-200d-1f4bb\":1475,\"1f468-200d-1f4bc\":1469,\"1f468-200d-1f527\":1463,\"1f468-200d-1f52c\":1472,\"1f468-200d-1f680\":1487,\"1f468-200d-1f692\":1490,\"1f468-200d-1f9af\":1574,\"1f468-200d-1f9b0\":1396,\"1f468-200d-1f9b1\":1397,\"1f468-200d-1f9b2\":1399,\"1f468-200d-1f9b3\":1398,\"1f468-200d-1f9bc\":1577,\"1f468-200d-1f9bd\":1580,\"1f468-200d-2695\":1445,\"1f468-200d-2696\":1454,\"1f468-200d-2708\":1484,\"1f468-200d-2764-200d-1f468\":1655,\"1f468-200d-2764-200d-1f48b-200d-1f468\":1651,\"1f468\":1392,\"1f469-200d-1f33e\":1458,\"1f469-200d-1f373\":1461,\"1f469-200d-1f37c\":1523,\"1f469-200d-1f393\":1449,\"1f469-200d-1f3a4\":1479,\"1f469-200d-1f3a8\":1482,\"1f469-200d-1f3eb\":1452,\"1f469-200d-1f3ed\":1467,\"1f469-200d-1f466-200d-1f466\":1679,\"1f469-200d-1f466\":1678,\"1f469-200d-1f467-200d-1f466\":1681,\"1f469-200d-1f467-200d-1f467\":1682,\"1f469-200d-1f467\":1680,\"1f469-200d-1f469-200d-1f466\":1668,\"1f469-200d-1f469-200d-1f466-200d-1f466\":1671,\"1f469-200d-1f469-200d-1f467\":1669,\"1f469-200d-1f469-200d-1f467-200d-1f466\":1670,\"1f469-200d-1f469-200d-1f467-200d-1f467\":1672,\"1f469-200d-1f4bb\":1476,\"1f469-200d-1f4bc\":1470,\"1f469-200d-1f527\":1464,\"1f469-200d-1f52c\":1473,\"1f469-200d-1f680\":1488,\"1f469-200d-1f692\":1491,\"1f469-200d-1f9af\":1575,\"1f469-200d-1f9b0\":1401,\"1f469-200d-1f9b1\":1403,\"1f469-200d-1f9b2\":1407,\"1f469-200d-1f9b3\":1405,\"1f469-200d-1f9bc\":1578,\"1f469-200d-1f9bd\":1581,\"1f469-200d-2695\":1446,\"1f469-200d-2696\":1455,\"1f469-200d-2708\":1485,\"1f469-200d-2764-200d-1f468\":1654,\"1f469-200d-2764-200d-1f469\":1656,\"1f469-200d-2764-200d-1f48b-200d-1f468\":1650,\"1f469-200d-2764-200d-1f48b-200d-1f469\":1652,\"1f469\":1400,\"1f46a\":1657,\"1f46b\":1647,\"1f46c\":1648,\"1f46d\":1646,\"1f46e-200d-2640\":1494,\"1f46e-200d-2642\":1493,\"1f46e\":1492,\"1f46f-200d-2640\":1590,\"1f46f-200d-2642\":1589,\"1f46f\":1588,\"1f470-200d-2640\":1518,\"1f470-200d-2642\":1517,\"1f470\":1516,\"1f471-200d-2640\":1409,\"1f471-200d-2642\":1410,\"1f471\":1391,\"1f472\":1511,\"1f473-200d-2640\":1510,\"1f473-200d-2642\":1509,\"1f473\":1508,\"1f474\":1412,\"1f475\":1413,\"1f476\":1386,\"1f477-200d-2640\":1504,\"1f477-200d-2642\":1503,\"1f477\":1502,\"1f478\":1507,\"1f479\":1109,\"1f47a\":1110,\"1f47b\":1111,\"1f47c\":1526,\"1f47d\":1112,\"1f47e\":1113,\"1f47f\":1104,\"1f480\":1105,\"1f481-200d-2640\":1428,\"1f481-200d-2642\":1427,\"1f481\":1426,\"1f482-200d-2640\":1500,\"1f482-200d-2642\":1499,\"1f482\":1498,\"1f483\":1585,\"1f484\":61152,\"1f485\":1366,\"1f486-200d-2640\":1560,\"1f486-200d-2642\":1559,\"1f486\":1558,\"1f487-200d-2640\":1563,\"1f487-200d-2642\":1562,\"1f487\":1561,\"1f488\":4870,\"1f489\":61326,\"1f48a\":61328,\"1f48b\":1127,\"1f48c\":1128,\"1f48d\":61153,\"1f48e\":61154,\"1f48f\":1649,\"1f490\":2648,\"1f491\":1653,\"1f492\":4846,\"1f493\":1133,\"1f494\":1138,\"1f495\":1135,\"1f496\":1131,\"1f497\":1132,\"1f498\":1129,\"1f499\":1145,\"1f49a\":1144,\"1f49b\":1143,\"1f49c\":1146,\"1f49d\":1130,\"1f49e\":1134,\"1f49f\":1136,\"1f4a0\":62946,\"1f4a1\":61214,\"1f4a2\":1151,\"1f4a3\":1157,\"1f4a4\":1163,\"1f4a5\":1152,\"1f4a6\":1154,\"1f4a7\":41022,\"1f4a8\":1155,\"1f4a9\":1107,\"1f4aa\":1368,\"1f4ab\":1153,\"1f4ac\":1158,\"1f4ad\":1162,\"1f4ae\":2650,\"1f4af\":1150,\"1f4b0\":61235,\"1f4b1\":62841,\"1f4b2\":62842,\"1f4b3\":61242,\"1f4b4\":61237,\"1f4b5\":61238,\"1f4b6\":61239,\"1f4b7\":61240,\"1f4b8\":61241,\"1f4b9\":61244,\"1f4ba\":4936,\"1f4bb\":61191,\"1f4bc\":61265,\"1f4bd\":61197,\"1f4be\":61198,\"1f4bf\":61199,\"1f4c0\":61200,\"1f4c1\":61266,\"1f4c2\":61267,\"1f4c3\":61227,\"1f4c4\":61229,\"1f4c5\":61269,\"1f4c6\":61270,\"1f4c7\":61273,\"1f4c8\":61274,\"1f4c9\":61275,\"1f4ca\":61276,\"1f4cb\":61277,\"1f4cc\":61278,\"1f4cd\":61279,\"1f4ce\":61280,\"1f4cf\":61282,\"1f4d0\":61283,\"1f4d1\":61232,\"1f4d2\":61226,\"1f4d3\":61225,\"1f4d4\":61218,\"1f4d5\":61219,\"1f4d6\":61220,\"1f4d7\":61221,\"1f4d8\":61222,\"1f4d9\":61223,\"1f4da\":61224,\"1f4db\":62847,\"1f4dc\":61228,\"1f4dd\":61264,\"1f4de\":61185,\"1f4df\":61186,\"1f4e0\":61187,\"1f4e1\":61325,\"1f4e2\":61159,\"1f4e3\":61160,\"1f4e4\":61249,\"1f4e5\":61250,\"1f4e6\":61251,\"1f4e7\":61246,\"1f4e8\":61247,\"1f4e9\":61248,\"1f4ea\":61253,\"1f4eb\":61252,\"1f4ec\":61254,\"1f4ed\":61255,\"1f4ee\":61256,\"1f4ef\":61161,\"1f4f0\":61230,\"1f4f1\":61182,\"1f4f2\":61183,\"1f4f3\":62823,\"1f4f4\":62824,\"1f4f5\":62751,\"1f4f6\":62822,\"1f4f7\":61207,\"1f4f8\":61208,\"1f4f9\":61209,\"1f4fa\":61206,\"1f4fb\":61172,\"1f4fc\":61210,\"1f4fd\":61204,\"1f4ff\":61151,\"1f500\":62801,\"1f501\":62802,\"1f502\":62803,\"1f503\":62769,\"1f504\":62770,\"1f505\":62820,\"1f506\":62821,\"1f507\":61155,\"1f508\":61156,\"1f509\":61157,\"1f50a\":61158,\"1f50b\":61188,\"1f50c\":61190,\"1f50d\":61211,\"1f50e\":61212,\"1f50f\":61290,\"1f510\":61291,\"1f511\":61292,\"1f512\":61288,\"1f513\":61289,\"1f514\":61162,\"1f515\":61163,\"1f516\":61233,\"1f517\":61313,\"1f518\":62947,\"1f519\":62771,\"1f51a\":62772,\"1f51b\":62773,\"1f51c\":62774,\"1f51d\":62775,\"1f51e\":62752,\"1f51f\":62876,\"1f520\":62877,\"1f521\":62878,\"1f522\":62879,\"1f523\":62880,\"1f524\":62881,\"1f525\":41021,\"1f526\":61215,\"1f527\":61306,\"1f528\":61294,\"1f529\":61308,\"1f52a\":3803,\"1f52b\":61301,\"1f52c\":61323,\"1f52d\":61324,\"1f52e\":51082,\"1f52f\":62787,\"1f530\":62848,\"1f531\":62846,\"1f532\":62949,\"1f533\":62948,\"1f534\":62916,\"1f535\":62920,\"1f536\":62940,\"1f537\":62941,\"1f538\":62942,\"1f539\":62943,\"1f53a\":62944,\"1f53b\":62945,\"1f53c\":62811,\"1f53d\":62813,\"1f549\":62778,\"1f54a\":2602,\"1f54b\":4854,\"1f54c\":4850,\"1f54d\":4852,\"1f54e\":62786,\"1f550\":4955,\"1f551\":4957,\"1f552\":4959,\"1f553\":4961,\"1f554\":4963,\"1f555\":4965,\"1f556\":4967,\"1f557\":4969,\"1f558\":4971,\"1f559\":4973,\"1f55a\":4975,\"1f55b\":4953,\"1f55c\":4956,\"1f55d\":4958,\"1f55e\":4960,\"1f55f\":4962,\"1f560\":4964,\"1f561\":4966,\"1f562\":4968,\"1f563\":4970,\"1f564\":4972,\"1f565\":4974,\"1f566\":4976,\"1f567\":4954,\"1f56f\":61213,\"1f570\":4952,\"1f573\":1156,\"1f574\":1587,\"1f575-200d-2640\":1497,\"1f575-200d-2642\":1496,\"1f575\":1495,\"1f576\":61111,\"1f577\":2641,\"1f578\":2642,\"1f579\":51087,\"1f57a\":1586,\"1f587\":61281,\"1f58a\":61261,\"1f58b\":61260,\"1f58c\":61262,\"1f58d\":61263,\"1f590\":1329,\"1f595\":1348,\"1f596\":1331,\"1f5a4\":1148,\"1f5a5\":61192,\"1f5a8\":61193,\"1f5b1\":61195,\"1f5b2\":61196,\"1f5bc\":51104,\"1f5c2\":61268,\"1f5c3\":61285,\"1f5c4\":61286,\"1f5d1\":61287,\"1f5d2\":61271,\"1f5d3\":61272,\"1f5dc\":61310,\"1f5dd\":61293,\"1f5de\":61231,\"1f5e1\":61299,\"1f5e3\":1683,\"1f5e8\":1160,\"1f5ef\":1161,\"1f5f3\":61257,\"1f5fa\":4810,\"1f5fb\":4816,\"1f5fc\":4847,\"1f5fd\":4848,\"1f5fe\":4811,\"1f5ff\":61362,\"1f600\":11,\"1f601\":14,\"1f602\":18,\"1f603\":12,\"1f604\":13,\"1f605\":16,\"1f606\":15,\"1f607\":114,\"1f608\":1103,\"1f609\":112,\"1f60a\":113,\"1f60b\":124,\"1f60c\":150,\"1f60d\":116,\"1f60e\":170,\"1f60f\":144,\"1f610\":139,\"1f611\":140,\"1f612\":145,\"1f613\":195,\"1f614\":151,\"1f615\":173,\"1f616\":192,\"1f617\":119,\"1f618\":118,\"1f619\":122,\"1f61a\":121,\"1f61b\":125,\"1f61c\":126,\"1f61d\":128,\"1f61e\":194,\"1f61f\":175,\"1f620\":1101,\"1f621\":1100,\"1f622\":189,\"1f623\":193,\"1f624\":199,\"1f625\":188,\"1f626\":184,\"1f627\":185,\"1f628\":186,\"1f629\":196,\"1f62a\":152,\"1f62b\":197,\"1f62c\":147,\"1f62d\":190,\"1f62e-200d-1f4a8\":148,\"1f62e\":178,\"1f62f\":179,\"1f630\":187,\"1f631\":191,\"1f632\":180,\"1f633\":181,\"1f634\":154,\"1f635-200d-1f4ab\":165,\"1f635\":164,\"1f636-200d-1f32b\":143,\"1f636\":141,\"1f637\":155,\"1f638\":1116,\"1f639\":1117,\"1f63a\":1115,\"1f63b\":1118,\"1f63c\":1119,\"1f63d\":1120,\"1f63e\":1123,\"1f63f\":1122,\"1f640\":1121,\"1f641\":176,\"1f642\":19,\"1f643\":110,\"1f644\":146,\"1f645-200d-2640\":1422,\"1f645-200d-2642\":1421,\"1f645\":1420,\"1f646-200d-2640\":1425,\"1f646-200d-2642\":1424,\"1f646\":1423,\"1f647-200d-2640\":1437,\"1f647-200d-2642\":1436,\"1f647\":1435,\"1f648\":1124,\"1f649\":1125,\"1f64a\":1126,\"1f64b-200d-2640\":1431,\"1f64b-200d-2642\":1430,\"1f64b\":1429,\"1f64c\":1359,\"1f64d-200d-2640\":1416,\"1f64d-200d-2642\":1415,\"1f64d\":1414,\"1f64e-200d-2640\":1419,\"1f64e-200d-2642\":1418,\"1f64e\":1417,\"1f64f\":1364,\"1f680\":4942,\"1f681\":4937,\"1f682\":4872,\"1f683\":4873,\"1f684\":4874,\"1f685\":4875,\"1f686\":4876,\"1f687\":4877,\"1f688\":4878,\"1f689\":4879,\"1f68a\":4880,\"1f68b\":4883,\"1f68c\":4884,\"1f68d\":4885,\"1f68e\":4886,\"1f68f\":4911,\"1f690\":4887,\"1f691\":4888,\"1f692\":4889,\"1f693\":4890,\"1f694\":4891,\"1f695\":4892,\"1f696\":4893,\"1f697\":4894,\"1f698\":4895,\"1f699\":4896,\"1f69a\":4898,\"1f69b\":4899,\"1f69c\":4900,\"1f69d\":4881,\"1f69e\":4882,\"1f69f\":4938,\"1f6a0\":4939,\"1f6a1\":4940,\"1f6a2\":4930,\"1f6a3-200d-2640\":1609,\"1f6a3-200d-2642\":1608,\"1f6a3\":1607,\"1f6a4\":4926,\"1f6a5\":4918,\"1f6a6\":4919,\"1f6a7\":4921,\"1f6a8\":4917,\"1f6a9\":71587,\"1f6aa\":61333,\"1f6ab\":62745,\"1f6ac\":61358,\"1f6ad\":62747,\"1f6ae\":62730,\"1f6af\":62748,\"1f6b0\":62731,\"1f6b1\":62749,\"1f6b2\":4907,\"1f6b3\":62746,\"1f6b4-200d-2640\":1621,\"1f6b4-200d-2642\":1620,\"1f6b4\":1619,\"1f6b5-200d-2640\":1624,\"1f6b5-200d-2642\":1623,\"1f6b5\":1622,\"1f6b6-200d-2640\":1566,\"1f6b6-200d-2642\":1565,\"1f6b6\":1564,\"1f6b7\":62750,\"1f6b8\":62743,\"1f6b9\":62733,\"1f6ba\":62734,\"1f6bb\":62735,\"1f6bc\":62736,\"1f6bd\":61340,\"1f6be\":62737,\"1f6bf\":61342,\"1f6c0\":1643,\"1f6c1\":61343,\"1f6c2\":62738,\"1f6c3\":62739,\"1f6c4\":62740,\"1f6c5\":62741,\"1f6cb\":61338,\"1f6cc\":1644,\"1f6cd\":61133,\"1f6ce\":4944,\"1f6cf\":61337,\"1f6d0\":62776,\"1f6d1\":4920,\"1f6d2\":61357,\"1f6d5\":4851,\"1f6d6\":4828,\"1f6d7\":61334,\"1f6e0\":61298,\"1f6e1\":61304,\"1f6e2\":4914,\"1f6e3\":4912,\"1f6e4\":4913,\"1f6e5\":4929,\"1f6e9\":4932,\"1f6eb\":4933,\"1f6ec\":4934,\"1f6f0\":4941,\"1f6f3\":4927,\"1f6f4\":4908,\"1f6f5\":4903,\"1f6f6\":4925,\"1f6f7\":51076,\"1f6f8\":4943,\"1f6f9\":4909,\"1f6fa\":4906,\"1f6fb\":4897,\"1f6fc\":4910,\"1f7e0\":62917,\"1f7e1\":62918,\"1f7e2\":62919,\"1f7e3\":62921,\"1f7e4\":62922,\"1f7e5\":62925,\"1f7e6\":62929,\"1f7e7\":62926,\"1f7e8\":62927,\"1f7e9\":62928,\"1f7ea\":62930,\"1f7eb\":62931,\"1f90c\":1337,\"1f90d\":1149,\"1f90e\":1147,\"1f90f\":1338,\"1f910\":137,\"1f911\":129,\"1f912\":156,\"1f913\":171,\"1f914\":135,\"1f915\":157,\"1f916\":1114,\"1f917\":130,\"1f918\":1343,\"1f919\":1344,\"1f91a\":1328,\"1f91b\":1356,\"1f91c\":1357,\"1f91d\":1363,\"1f91e\":1340,\"1f91f\":1342,\"1f920\":167,\"1f921\":1108,\"1f922\":158,\"1f923\":17,\"1f924\":153,\"1f925\":149,\"1f926-200d-2640\":1440,\"1f926-200d-2642\":1439,\"1f926\":1438,\"1f927\":160,\"1f928\":138,\"1f929\":117,\"1f92a\":127,\"1f92b\":134,\"1f92c\":1102,\"1f92d\":131,\"1f92e\":159,\"1f92f\":166,\"1f930\":1519,\"1f931\":1522,\"1f932\":1362,\"1f933\":1367,\"1f934\":1506,\"1f935-200d-2640\":1515,\"1f935-200d-2642\":1514,\"1f935\":1513,\"1f936\":1528,\"1f937-200d-2640\":1443,\"1f937-200d-2642\":1442,\"1f937\":1441,\"1f938-200d-2640\":1627,\"1f938-200d-2642\":1626,\"1f938\":1625,\"1f939-200d-2640\":1639,\"1f939-200d-2642\":1638,\"1f939\":1637,\"1f93a\":1597,\"1f93c-200d-2640\":1630,\"1f93c-200d-2642\":1629,\"1f93c\":1628,\"1f93d-200d-2640\":1633,\"1f93d-200d-2642\":1632,\"1f93d\":1631,\"1f93e-200d-2640\":1636,\"1f93e-200d-2642\":1635,\"1f93e\":1634,\"1f93f\":51073,\"1f940\":2654,\"1f941\":61180,\"1f942\":3791,\"1f943\":3792,\"1f944\":3802,\"1f945\":51069,\"1f947\":51048,\"1f948\":51049,\"1f949\":51050,\"1f94a\":51067,\"1f94b\":51068,\"1f94c\":51077,\"1f94d\":51064,\"1f94e\":51053,\"1f94f\":51059,\"1f950\":3710,\"1f951\":3693,\"1f952\":3700,\"1f953\":3721,\"1f954\":3695,\"1f955\":3696,\"1f956\":3711,\"1f957\":3738,\"1f958\":3734,\"1f959\":3730,\"1f95a\":3732,\"1f95b\":3780,\"1f95c\":3706,\"1f95d\":3689,\"1f95e\":3715,\"1f95f\":3757,\"1f960\":3758,\"1f961\":3759,\"1f962\":3799,\"1f963\":3737,\"1f964\":3794,\"1f965\":3692,\"1f966\":3702,\"1f967\":3773,\"1f968\":3713,\"1f969\":3720,\"1f96a\":3726,\"1f96b\":3742,\"1f96c\":3701,\"1f96d\":3681,\"1f96e\":3755,\"1f96f\":3714,\"1f970\":115,\"1f971\":198,\"1f972\":123,\"1f973\":168,\"1f974\":163,\"1f975\":161,\"1f976\":162,\"1f977\":1501,\"1f978\":169,\"1f97a\":182,\"1f97b\":61124,\"1f97c\":61113,\"1f97d\":61112,\"1f97e\":61138,\"1f97f\":61139,\"1f980\":3760,\"1f981\":2545,\"1f982\":2643,\"1f983\":2594,\"1f984\":2551,\"1f985\":2603,\"1f986\":2604,\"1f987\":2583,\"1f988\":2628,\"1f989\":2606,\"1f98a\":2540,\"1f98b\":2633,\"1f98c\":2553,\"1f98d\":2532,\"1f98e\":2615,\"1f98f\":2572,\"1f990\":3762,\"1f991\":3763,\"1f992\":2569,\"1f993\":2552,\"1f994\":2582,\"1f995\":2619,\"1f996\":2620,\"1f997\":2639,\"1f998\":2591,\"1f999\":2568,\"1f99a\":2610,\"1f99b\":2573,\"1f99c\":2611,\"1f99d\":2541,\"1f99e\":3761,\"1f99f\":2644,\"1f9a0\":2647,\"1f9a1\":2592,\"1f9a2\":2605,\"1f9a3\":2571,\"1f9a4\":2607,\"1f9a5\":2588,\"1f9a6\":2589,\"1f9a7\":2533,\"1f9a8\":2590,\"1f9a9\":2609,\"1f9aa\":3764,\"1f9ab\":2581,\"1f9ac\":2554,\"1f9ad\":2624,\"1f9ae\":2536,\"1f9af\":61312,\"1f9b4\":1380,\"1f9b5\":1371,\"1f9b6\":1372,\"1f9b7\":1379,\"1f9b8-200d-2640\":1532,\"1f9b8-200d-2642\":1531,\"1f9b8\":1530,\"1f9b9-200d-2640\":1535,\"1f9b9-200d-2642\":1534,\"1f9b9\":1533,\"1f9ba\":61114,\"1f9bb\":1374,\"1f9bc\":4905,\"1f9bd\":4904,\"1f9be\":1369,\"1f9bf\":1370,\"1f9c0\":3717,\"1f9c1\":3772,\"1f9c2\":3741,\"1f9c3\":3796,\"1f9c4\":3703,\"1f9c5\":3704,\"1f9c6\":3731,\"1f9c7\":3716,\"1f9c8\":3740,\"1f9c9\":3797,\"1f9ca\":3798,\"1f9cb\":3795,\"1f9cd-200d-2640\":1569,\"1f9cd-200d-2642\":1568,\"1f9cd\":1567,\"1f9ce-200d-2640\":1572,\"1f9ce-200d-2642\":1571,\"1f9ce\":1570,\"1f9cf-200d-2640\":1434,\"1f9cf-200d-2642\":1433,\"1f9cf\":1432,\"1f9d0\":172,\"1f9d1-200d-1f33e\":1456,\"1f9d1-200d-1f373\":1459,\"1f9d1-200d-1f37c\":1525,\"1f9d1-200d-1f384\":1529,\"1f9d1-200d-1f393\":1447,\"1f9d1-200d-1f3a4\":1477,\"1f9d1-200d-1f3a8\":1480,\"1f9d1-200d-1f3eb\":1450,\"1f9d1-200d-1f3ed\":1465,\"1f9d1-200d-1f4bb\":1474,\"1f9d1-200d-1f4bc\":1468,\"1f9d1-200d-1f527\":1462,\"1f9d1-200d-1f52c\":1471,\"1f9d1-200d-1f680\":1486,\"1f9d1-200d-1f692\":1489,\"1f9d1-200d-1f91d-200d-1f9d1\":1645,\"1f9d1-200d-1f9af\":1573,\"1f9d1-200d-1f9b0\":1402,\"1f9d1-200d-1f9b1\":1404,\"1f9d1-200d-1f9b2\":1408,\"1f9d1-200d-1f9b3\":1406,\"1f9d1-200d-1f9bc\":1576,\"1f9d1-200d-1f9bd\":1579,\"1f9d1-200d-2695\":1444,\"1f9d1-200d-2696\":1453,\"1f9d1-200d-2708\":1483,\"1f9d1\":1390,\"1f9d2\":1387,\"1f9d3\":1411,\"1f9d4-200d-2640\":1395,\"1f9d4-200d-2642\":1394,\"1f9d4\":1393,\"1f9d5\":1512,\"1f9d6-200d-2640\":1593,\"1f9d6-200d-2642\":1592,\"1f9d6\":1591,\"1f9d7-200d-2640\":1596,\"1f9d7-200d-2642\":1595,\"1f9d7\":1594,\"1f9d8-200d-2640\":1642,\"1f9d8-200d-2642\":1641,\"1f9d8\":1640,\"1f9d9-200d-2640\":1538,\"1f9d9-200d-2642\":1537,\"1f9d9\":1536,\"1f9da-200d-2640\":1541,\"1f9da-200d-2642\":1540,\"1f9da\":1539,\"1f9db-200d-2640\":1544,\"1f9db-200d-2642\":1543,\"1f9db\":1542,\"1f9dc-200d-2640\":1547,\"1f9dc-200d-2642\":1546,\"1f9dc\":1545,\"1f9dd-200d-2640\":1550,\"1f9dd-200d-2642\":1549,\"1f9dd\":1548,\"1f9de-200d-2640\":1553,\"1f9de-200d-2642\":1552,\"1f9de\":1551,\"1f9df-200d-2640\":1556,\"1f9df-200d-2642\":1555,\"1f9df\":1554,\"1f9e0\":1376,\"1f9e1\":1142,\"1f9e2\":61148,\"1f9e3\":61118,\"1f9e4\":61119,\"1f9e5\":61120,\"1f9e6\":61121,\"1f9e7\":51039,\"1f9e8\":51028,\"1f9e9\":51090,\"1f9ea\":61320,\"1f9eb\":61321,\"1f9ec\":61322,\"1f9ed\":4812,\"1f9ee\":61201,\"1f9ef\":61356,\"1f9f0\":61316,\"1f9f1\":4825,\"1f9f2\":61317,\"1f9f3\":4945,\"1f9f4\":61346,\"1f9f5\":51106,\"1f9f6\":51108,\"1f9f7\":61347,\"1f9f8\":51091,\"1f9f9\":61348,\"1f9fa\":61349,\"1f9fb\":61350,\"1f9fc\":61352,\"1f9fd\":61355,\"1f9fe\":61243,\"1f9ff\":51084,\"1fa70\":61142,\"1fa71\":61125,\"1fa72\":61126,\"1fa73\":61127,\"1fa74\":61135,\"1fa78\":61327,\"1fa79\":61329,\"1fa7a\":61331,\"1fa80\":51079,\"1fa81\":51080,\"1fa82\":4935,\"1fa83\":61302,\"1fa84\":51083,\"1fa85\":51092,\"1fa86\":51094,\"1fa90\":4993,\"1fa91\":61339,\"1fa92\":61345,\"1fa93\":61295,\"1fa94\":61217,\"1fa95\":61179,\"1fa96\":61149,\"1fa97\":61174,\"1fa98\":61181,\"1fa99\":61236,\"1fa9a\":61305,\"1fa9b\":61307,\"1fa9c\":61318,\"1fa9d\":61315,\"1fa9e\":61335,\"1fa9f\":61336,\"1faa0\":61341,\"1faa1\":51107,\"1faa2\":51109,\"1faa3\":61351,\"1faa4\":61344,\"1faa5\":61354,\"1faa6\":61360,\"1faa7\":61363,\"1faa8\":4826,\"1fab0\":2645,\"1fab1\":2646,\"1fab2\":2637,\"1fab3\":2640,\"1fab4\":2660,\"1fab5\":4827,\"1fab6\":2608,\"1fac0\":1377,\"1fac1\":1378,\"1fac2\":1686,\"1fad0\":3688,\"1fad1\":3699,\"1fad2\":3691,\"1fad3\":3712,\"1fad4\":3729,\"1fad5\":3736,\"1fad6\":3782,\"203c\":62834,\"21a9\":62765,\"21aa\":62766,\"231a\":4948,\"231b\":4946,\"23cf\":62818,\"23e9\":62805,\"23ea\":62809,\"23eb\":62812,\"23ec\":62814,\"23ed\":62806,\"23ee\":62810,\"23ef\":62807,\"23f0\":4949,\"23f1\":4950,\"23f2\":4951,\"23f3\":4947,\"23f8\":62815,\"23f9\":62816,\"23fa\":62817,\"24c2\":62890,\"25aa\":62938,\"25ab\":62939,\"25b6\":62804,\"25c0\":62808,\"25fb\":62935,\"25fc\":62934,\"25fd\":62937,\"25fe\":62936,\"260e\":61184,\"261d\":1350,\"262a\":62784,\"262e\":62785,\"262f\":62781,\"263a\":120,\"264a\":62790,\"264b\":62791,\"264c\":62792,\"264d\":62793,\"264e\":62794,\"264f\":62795,\"265f\":51099,\"267b\":62844,\"267e\":62833,\"267f\":62732,\"269b\":62777,\"269c\":62845,\"26a0\":62742,\"26a1\":41016,\"26a7\":62827,\"26aa\":62924,\"26ab\":62923,\"26b0\":61359,\"26b1\":61361,\"26bd\":51051,\"26be\":51052,\"26c4\":41019,\"26c5\":4999,\"26c8\":41000,\"26ce\":62800,\"26cf\":61296,\"26d1\":61150,\"26d3\":61314,\"26d4\":62744,\"26e9\":4853,\"26ea\":4849,\"26f0\":4814,\"26f1\":41015,\"26f2\":4855,\"26f3\":51070,\"26f4\":4928,\"26f5\":4924,\"26f7\":1599,\"26f8\":51071,\"26f9-200d-2640\":1615,\"26f9-200d-2642\":1614,\"26f9\":1613,\"26fa\":4856,\"26fd\":4915,\"270a\":1354,\"270b\":1330,\"270c\":1339,\"270d\":1365,\"270f\":61258,\"271d\":62782,\"274c\":62853,\"274e\":62854,\"2764-200d-1f525\":1139,\"2764-200d-1fa79\":1140,\"27a1\":62757,\"27b0\":62855,\"27bf\":62856,\"2b05\":62761,\"2b06\":62755,\"2b07\":62759,\"2b1b\":62932,\"2b1c\":62933,\"2b50\":4994,\"2b55\":62849,\"303d\":62857,\"1f385-1f3fb\":0,\"1f385-1f3fc\":0,\"1f385-1f3fd\":0,\"1f385-1f3fe\":0,\"1f385-1f3ff\":0,\"1f3c2-1f3fb\":0,\"1f3c2-1f3fc\":0,\"1f3c2-1f3fd\":0,\"1f3c2-1f3fe\":0,\"1f3c2-1f3ff\":0,\"1f3c3-1f3fb-200d-2640\":0,\"1f3c3-1f3fc-200d-2640\":0,\"1f3c3-1f3fd-200d-2640\":0,\"1f3c3-1f3fe-200d-2640\":0,\"1f3c3-1f3ff-200d-2640\":0,\"1f3c3-1f3fb-200d-2642\":0,\"1f3c3-1f3fc-200d-2642\":0,\"1f3c3-1f3fd-200d-2642\":0,\"1f3c3-1f3fe-200d-2642\":0,\"1f3c3-1f3ff-200d-2642\":0,\"1f3c3-1f3fb\":0,\"1f3c3-1f3fc\":0,\"1f3c3-1f3fd\":0,\"1f3c3-1f3fe\":0,\"1f3c3-1f3ff\":0,\"1f3c4-1f3fb-200d-2640\":0,\"1f3c4-1f3fc-200d-2640\":0,\"1f3c4-1f3fd-200d-2640\":0,\"1f3c4-1f3fe-200d-2640\":0,\"1f3c4-1f3ff-200d-2640\":0,\"1f3c4-1f3fb-200d-2642\":0,\"1f3c4-1f3fc-200d-2642\":0,\"1f3c4-1f3fd-200d-2642\":0,\"1f3c4-1f3fe-200d-2642\":0,\"1f3c4-1f3ff-200d-2642\":0,\"1f3c4-1f3fb\":0,\"1f3c4-1f3fc\":0,\"1f3c4-1f3fd\":0,\"1f3c4-1f3fe\":0,\"1f3c4-1f3ff\":0,\"1f3c7-1f3fb\":0,\"1f3c7-1f3fc\":0,\"1f3c7-1f3fd\":0,\"1f3c7-1f3fe\":0,\"1f3c7-1f3ff\":0,\"1f3ca-1f3fb-200d-2640\":0,\"1f3ca-1f3fc-200d-2640\":0,\"1f3ca-1f3fd-200d-2640\":0,\"1f3ca-1f3fe-200d-2640\":0,\"1f3ca-1f3ff-200d-2640\":0,\"1f3ca-1f3fb-200d-2642\":0,\"1f3ca-1f3fc-200d-2642\":0,\"1f3ca-1f3fd-200d-2642\":0,\"1f3ca-1f3fe-200d-2642\":0,\"1f3ca-1f3ff-200d-2642\":0,\"1f3ca-1f3fb\":0,\"1f3ca-1f3fc\":0,\"1f3ca-1f3fd\":0,\"1f3ca-1f3fe\":0,\"1f3ca-1f3ff\":0,\"1f3cb-1f3fb-200d-2640\":0,\"1f3cb-1f3fc-200d-2640\":0,\"1f3cb-1f3fd-200d-2640\":0,\"1f3cb-1f3fe-200d-2640\":0,\"1f3cb-1f3ff-200d-2640\":0,\"1f3cb-1f3fb-200d-2642\":0,\"1f3cb-1f3fc-200d-2642\":0,\"1f3cb-1f3fd-200d-2642\":0,\"1f3cb-1f3fe-200d-2642\":0,\"1f3cb-1f3ff-200d-2642\":0,\"1f3cb-1f3fb\":0,\"1f3cb-1f3fc\":0,\"1f3cb-1f3fd\":0,\"1f3cb-1f3fe\":0,\"1f3cb-1f3ff\":0,\"1f3cc-1f3fb-200d-2640\":0,\"1f3cc-1f3fc-200d-2640\":0,\"1f3cc-1f3fd-200d-2640\":0,\"1f3cc-1f3fe-200d-2640\":0,\"1f3cc-1f3ff-200d-2640\":0,\"1f3cc-1f3fb-200d-2642\":0,\"1f3cc-1f3fc-200d-2642\":0,\"1f3cc-1f3fd-200d-2642\":0,\"1f3cc-1f3fe-200d-2642\":0,\"1f3cc-1f3ff-200d-2642\":0,\"1f3cc-1f3fb\":0,\"1f3cc-1f3fc\":0,\"1f3cc-1f3fd\":0,\"1f3cc-1f3fe\":0,\"1f3cc-1f3ff\":0,\"1f442-1f3fb\":0,\"1f442-1f3fc\":0,\"1f442-1f3fd\":0,\"1f442-1f3fe\":0,\"1f442-1f3ff\":0,\"1f443-1f3fb\":0,\"1f443-1f3fc\":0,\"1f443-1f3fd\":0,\"1f443-1f3fe\":0,\"1f443-1f3ff\":0,\"1f446-1f3fb\":0,\"1f446-1f3fc\":0,\"1f446-1f3fd\":0,\"1f446-1f3fe\":0,\"1f446-1f3ff\":0,\"1f447-1f3fb\":0,\"1f447-1f3fc\":0,\"1f447-1f3fd\":0,\"1f447-1f3fe\":0,\"1f447-1f3ff\":0,\"1f448-1f3fb\":0,\"1f448-1f3fc\":0,\"1f448-1f3fd\":0,\"1f448-1f3fe\":0,\"1f448-1f3ff\":0,\"1f449-1f3fb\":0,\"1f449-1f3fc\":0,\"1f449-1f3fd\":0,\"1f449-1f3fe\":0,\"1f449-1f3ff\":0,\"1f44a-1f3fb\":0,\"1f44a-1f3fc\":0,\"1f44a-1f3fd\":0,\"1f44a-1f3fe\":0,\"1f44a-1f3ff\":0,\"1f44b-1f3fb\":0,\"1f44b-1f3fc\":0,\"1f44b-1f3fd\":0,\"1f44b-1f3fe\":0,\"1f44b-1f3ff\":0,\"1f44c-1f3fb\":0,\"1f44c-1f3fc\":0,\"1f44c-1f3fd\":0,\"1f44c-1f3fe\":0,\"1f44c-1f3ff\":0,\"1f44d-1f3fb\":0,\"1f44d-1f3fc\":0,\"1f44d-1f3fd\":0,\"1f44d-1f3fe\":0,\"1f44d-1f3ff\":0,\"1f44e-1f3fb\":0,\"1f44e-1f3fc\":0,\"1f44e-1f3fd\":0,\"1f44e-1f3fe\":0,\"1f44e-1f3ff\":0,\"1f44f-1f3fb\":0,\"1f44f-1f3fc\":0,\"1f44f-1f3fd\":0,\"1f44f-1f3fe\":0,\"1f44f-1f3ff\":0,\"1f450-1f3fb\":0,\"1f450-1f3fc\":0,\"1f450-1f3fd\":0,\"1f450-1f3fe\":0,\"1f450-1f3ff\":0,\"1f466-1f3fb\":0,\"1f466-1f3fc\":0,\"1f466-1f3fd\":0,\"1f466-1f3fe\":0,\"1f466-1f3ff\":0,\"1f467-1f3fb\":0,\"1f467-1f3fc\":0,\"1f467-1f3fd\":0,\"1f467-1f3fe\":0,\"1f467-1f3ff\":0,\"1f468-1f3fb-200d-1f33e\":0,\"1f468-1f3fc-200d-1f33e\":0,\"1f468-1f3fd-200d-1f33e\":0,\"1f468-1f3fe-200d-1f33e\":0,\"1f468-1f3ff-200d-1f33e\":0,\"1f468-1f3fb-200d-1f373\":0,\"1f468-1f3fc-200d-1f373\":0,\"1f468-1f3fd-200d-1f373\":0,\"1f468-1f3fe-200d-1f373\":0,\"1f468-1f3ff-200d-1f373\":0,\"1f468-1f3fb-200d-1f37c\":0,\"1f468-1f3fc-200d-1f37c\":0,\"1f468-1f3fd-200d-1f37c\":0,\"1f468-1f3fe-200d-1f37c\":0,\"1f468-1f3ff-200d-1f37c\":0,\"1f468-1f3fb-200d-1f393\":0,\"1f468-1f3fc-200d-1f393\":0,\"1f468-1f3fd-200d-1f393\":0,\"1f468-1f3fe-200d-1f393\":0,\"1f468-1f3ff-200d-1f393\":0,\"1f468-1f3fb-200d-1f3a4\":0,\"1f468-1f3fc-200d-1f3a4\":0,\"1f468-1f3fd-200d-1f3a4\":0,\"1f468-1f3fe-200d-1f3a4\":0,\"1f468-1f3ff-200d-1f3a4\":0,\"1f468-1f3fb-200d-1f3a8\":0,\"1f468-1f3fc-200d-1f3a8\":0,\"1f468-1f3fd-200d-1f3a8\":0,\"1f468-1f3fe-200d-1f3a8\":0,\"1f468-1f3ff-200d-1f3a8\":0,\"1f468-1f3fb-200d-1f3eb\":0,\"1f468-1f3fc-200d-1f3eb\":0,\"1f468-1f3fd-200d-1f3eb\":0,\"1f468-1f3fe-200d-1f3eb\":0,\"1f468-1f3ff-200d-1f3eb\":0,\"1f468-1f3fb-200d-1f3ed\":0,\"1f468-1f3fc-200d-1f3ed\":0,\"1f468-1f3fd-200d-1f3ed\":0,\"1f468-1f3fe-200d-1f3ed\":0,\"1f468-1f3ff-200d-1f3ed\":0,\"1f468-1f3fb-200d-1f4bb\":0,\"1f468-1f3fc-200d-1f4bb\":0,\"1f468-1f3fd-200d-1f4bb\":0,\"1f468-1f3fe-200d-1f4bb\":0,\"1f468-1f3ff-200d-1f4bb\":0,\"1f468-1f3fb-200d-1f4bc\":0,\"1f468-1f3fc-200d-1f4bc\":0,\"1f468-1f3fd-200d-1f4bc\":0,\"1f468-1f3fe-200d-1f4bc\":0,\"1f468-1f3ff-200d-1f4bc\":0,\"1f468-1f3fb-200d-1f527\":0,\"1f468-1f3fc-200d-1f527\":0,\"1f468-1f3fd-200d-1f527\":0,\"1f468-1f3fe-200d-1f527\":0,\"1f468-1f3ff-200d-1f527\":0,\"1f468-1f3fb-200d-1f52c\":0,\"1f468-1f3fc-200d-1f52c\":0,\"1f468-1f3fd-200d-1f52c\":0,\"1f468-1f3fe-200d-1f52c\":0,\"1f468-1f3ff-200d-1f52c\":0,\"1f468-1f3fb-200d-1f680\":0,\"1f468-1f3fc-200d-1f680\":0,\"1f468-1f3fd-200d-1f680\":0,\"1f468-1f3fe-200d-1f680\":0,\"1f468-1f3ff-200d-1f680\":0,\"1f468-1f3fb-200d-1f692\":0,\"1f468-1f3fc-200d-1f692\":0,\"1f468-1f3fd-200d-1f692\":0,\"1f468-1f3fe-200d-1f692\":0,\"1f468-1f3ff-200d-1f692\":0,\"1f468-1f3fb-200d-1f9af\":0,\"1f468-1f3fc-200d-1f9af\":0,\"1f468-1f3fd-200d-1f9af\":0,\"1f468-1f3fe-200d-1f9af\":0,\"1f468-1f3ff-200d-1f9af\":0,\"1f468-1f3fb-200d-1f9b0\":0,\"1f468-1f3fc-200d-1f9b0\":0,\"1f468-1f3fd-200d-1f9b0\":0,\"1f468-1f3fe-200d-1f9b0\":0,\"1f468-1f3ff-200d-1f9b0\":0,\"1f468-1f3fb-200d-1f9b1\":0,\"1f468-1f3fc-200d-1f9b1\":0,\"1f468-1f3fd-200d-1f9b1\":0,\"1f468-1f3fe-200d-1f9b1\":0,\"1f468-1f3ff-200d-1f9b1\":0,\"1f468-1f3fb-200d-1f9b2\":0,\"1f468-1f3fc-200d-1f9b2\":0,\"1f468-1f3fd-200d-1f9b2\":0,\"1f468-1f3fe-200d-1f9b2\":0,\"1f468-1f3ff-200d-1f9b2\":0,\"1f468-1f3fb-200d-1f9b3\":0,\"1f468-1f3fc-200d-1f9b3\":0,\"1f468-1f3fd-200d-1f9b3\":0,\"1f468-1f3fe-200d-1f9b3\":0,\"1f468-1f3ff-200d-1f9b3\":0,\"1f468-1f3fb-200d-1f9bc\":0,\"1f468-1f3fc-200d-1f9bc\":0,\"1f468-1f3fd-200d-1f9bc\":0,\"1f468-1f3fe-200d-1f9bc\":0,\"1f468-1f3ff-200d-1f9bc\":0,\"1f468-1f3fb-200d-1f9bd\":0,\"1f468-1f3fc-200d-1f9bd\":0,\"1f468-1f3fd-200d-1f9bd\":0,\"1f468-1f3fe-200d-1f9bd\":0,\"1f468-1f3ff-200d-1f9bd\":0,\"1f468-1f3fb-200d-2695\":0,\"1f468-1f3fc-200d-2695\":0,\"1f468-1f3fd-200d-2695\":0,\"1f468-1f3fe-200d-2695\":0,\"1f468-1f3ff-200d-2695\":0,\"1f468-1f3fb-200d-2696\":0,\"1f468-1f3fc-200d-2696\":0,\"1f468-1f3fd-200d-2696\":0,\"1f468-1f3fe-200d-2696\":0,\"1f468-1f3ff-200d-2696\":0,\"1f468-1f3fb-200d-2708\":0,\"1f468-1f3fc-200d-2708\":0,\"1f468-1f3fd-200d-2708\":0,\"1f468-1f3fe-200d-2708\":0,\"1f468-1f3ff-200d-2708\":0,\"1f468-1f3fb-200d-2764-200d-1f468-1f3fb\":0,\"1f468-1f3fb-200d-2764-200d-1f468-1f3fc\":0,\"1f468-1f3fb-200d-2764-200d-1f468-1f3fd\":0,\"1f468-1f3fb-200d-2764-200d-1f468-1f3fe\":0,\"1f468-1f3fb-200d-2764-200d-1f468-1f3ff\":0,\"1f468-1f3fc-200d-2764-200d-1f468-1f3fb\":0,\"1f468-1f3fc-200d-2764-200d-1f468-1f3fc\":0,\"1f468-1f3fc-200d-2764-200d-1f468-1f3fd\":0,\"1f468-1f3fc-200d-2764-200d-1f468-1f3fe\":0,\"1f468-1f3fc-200d-2764-200d-1f468-1f3ff\":0,\"1f468-1f3fd-200d-2764-200d-1f468-1f3fb\":0,\"1f468-1f3fd-200d-2764-200d-1f468-1f3fc\":0,\"1f468-1f3fd-200d-2764-200d-1f468-1f3fd\":0,\"1f468-1f3fd-200d-2764-200d-1f468-1f3fe\":0,\"1f468-1f3fd-200d-2764-200d-1f468-1f3ff\":0,\"1f468-1f3fe-200d-2764-200d-1f468-1f3fb\":0,\"1f468-1f3fe-200d-2764-200d-1f468-1f3fc\":0,\"1f468-1f3fe-200d-2764-200d-1f468-1f3fd\":0,\"1f468-1f3fe-200d-2764-200d-1f468-1f3fe\":0,\"1f468-1f3fe-200d-2764-200d-1f468-1f3ff\":0,\"1f468-1f3ff-200d-2764-200d-1f468-1f3fb\":0,\"1f468-1f3ff-200d-2764-200d-1f468-1f3fc\":0,\"1f468-1f3ff-200d-2764-200d-1f468-1f3fd\":0,\"1f468-1f3ff-200d-2764-200d-1f468-1f3fe\":0,\"1f468-1f3ff-200d-2764-200d-1f468-1f3ff\":0,\"1f468-1f3fb-200d-2764-200d-1f48b-200d-1f468-1f3fb\":0,\"1f468-1f3fb-200d-2764-200d-1f48b-200d-1f468-1f3fc\":0,\"1f468-1f3fb-200d-2764-200d-1f48b-200d-1f468-1f3fd\":0,\"1f468-1f3fb-200d-2764-200d-1f48b-200d-1f468-1f3fe\":0,\"1f468-1f3fb-200d-2764-200d-1f48b-200d-1f468-1f3ff\":0,\"1f468-1f3fc-200d-2764-200d-1f48b-200d-1f468-1f3fb\":0,\"1f468-1f3fc-200d-2764-200d-1f48b-200d-1f468-1f3fc\":0,\"1f468-1f3fc-200d-2764-200d-1f48b-200d-1f468-1f3fd\":0,\"1f468-1f3fc-200d-2764-200d-1f48b-200d-1f468-1f3fe\":0,\"1f468-1f3fc-200d-2764-200d-1f48b-200d-1f468-1f3ff\":0,\"1f468-1f3fd-200d-2764-200d-1f48b-200d-1f468-1f3fb\":0,\"1f468-1f3fd-200d-2764-200d-1f48b-200d-1f468-1f3fc\":0,\"1f468-1f3fd-200d-2764-200d-1f48b-200d-1f468-1f3fd\":0,\"1f468-1f3fd-200d-2764-200d-1f48b-200d-1f468-1f3fe\":0,\"1f468-1f3fd-200d-2764-200d-1f48b-200d-1f468-1f3ff\":0,\"1f468-1f3fe-200d-2764-200d-1f48b-200d-1f468-1f3fb\":0,\"1f468-1f3fe-200d-2764-200d-1f48b-200d-1f468-1f3fc\":0,\"1f468-1f3fe-200d-2764-200d-1f48b-200d-1f468-1f3fd\":0,\"1f468-1f3fe-200d-2764-200d-1f48b-200d-1f468-1f3fe\":0,\"1f468-1f3fe-200d-2764-200d-1f48b-200d-1f468-1f3ff\":0,\"1f468-1f3ff-200d-2764-200d-1f48b-200d-1f468-1f3fb\":0,\"1f468-1f3ff-200d-2764-200d-1f48b-200d-1f468-1f3fc\":0,\"1f468-1f3ff-200d-2764-200d-1f48b-200d-1f468-1f3fd\":0,\"1f468-1f3ff-200d-2764-200d-1f48b-200d-1f468-1f3fe\":0,\"1f468-1f3ff-200d-2764-200d-1f48b-200d-1f468-1f3ff\":0,\"1f468-1f3fb\":0,\"1f468-1f3fc\":0,\"1f468-1f3fd\":0,\"1f468-1f3fe\":0,\"1f468-1f3ff\":0,\"1f469-1f3fb-200d-1f33e\":0,\"1f469-1f3fc-200d-1f33e\":0,\"1f469-1f3fd-200d-1f33e\":0,\"1f469-1f3fe-200d-1f33e\":0,\"1f469-1f3ff-200d-1f33e\":0,\"1f469-1f3fb-200d-1f373\":0,\"1f469-1f3fc-200d-1f373\":0,\"1f469-1f3fd-200d-1f373\":0,\"1f469-1f3fe-200d-1f373\":0,\"1f469-1f3ff-200d-1f373\":0,\"1f469-1f3fb-200d-1f37c\":0,\"1f469-1f3fc-200d-1f37c\":0,\"1f469-1f3fd-200d-1f37c\":0,\"1f469-1f3fe-200d-1f37c\":0,\"1f469-1f3ff-200d-1f37c\":0,\"1f469-1f3fb-200d-1f393\":0,\"1f469-1f3fc-200d-1f393\":0,\"1f469-1f3fd-200d-1f393\":0,\"1f469-1f3fe-200d-1f393\":0,\"1f469-1f3ff-200d-1f393\":0,\"1f469-1f3fb-200d-1f3a4\":0,\"1f469-1f3fc-200d-1f3a4\":0,\"1f469-1f3fd-200d-1f3a4\":0,\"1f469-1f3fe-200d-1f3a4\":0,\"1f469-1f3ff-200d-1f3a4\":0,\"1f469-1f3fb-200d-1f3a8\":0,\"1f469-1f3fc-200d-1f3a8\":0,\"1f469-1f3fd-200d-1f3a8\":0,\"1f469-1f3fe-200d-1f3a8\":0,\"1f469-1f3ff-200d-1f3a8\":0,\"1f469-1f3fb-200d-1f3eb\":0,\"1f469-1f3fc-200d-1f3eb\":0,\"1f469-1f3fd-200d-1f3eb\":0,\"1f469-1f3fe-200d-1f3eb\":0,\"1f469-1f3ff-200d-1f3eb\":0,\"1f469-1f3fb-200d-1f3ed\":0,\"1f469-1f3fc-200d-1f3ed\":0,\"1f469-1f3fd-200d-1f3ed\":0,\"1f469-1f3fe-200d-1f3ed\":0,\"1f469-1f3ff-200d-1f3ed\":0,\"1f469-1f3fb-200d-1f4bb\":0,\"1f469-1f3fc-200d-1f4bb\":0,\"1f469-1f3fd-200d-1f4bb\":0,\"1f469-1f3fe-200d-1f4bb\":0,\"1f469-1f3ff-200d-1f4bb\":0,\"1f469-1f3fb-200d-1f4bc\":0,\"1f469-1f3fc-200d-1f4bc\":0,\"1f469-1f3fd-200d-1f4bc\":0,\"1f469-1f3fe-200d-1f4bc\":0,\"1f469-1f3ff-200d-1f4bc\":0,\"1f469-1f3fb-200d-1f527\":0,\"1f469-1f3fc-200d-1f527\":0,\"1f469-1f3fd-200d-1f527\":0,\"1f469-1f3fe-200d-1f527\":0,\"1f469-1f3ff-200d-1f527\":0,\"1f469-1f3fb-200d-1f52c\":0,\"1f469-1f3fc-200d-1f52c\":0,\"1f469-1f3fd-200d-1f52c\":0,\"1f469-1f3fe-200d-1f52c\":0,\"1f469-1f3ff-200d-1f52c\":0,\"1f469-1f3fb-200d-1f680\":0,\"1f469-1f3fc-200d-1f680\":0,\"1f469-1f3fd-200d-1f680\":0,\"1f469-1f3fe-200d-1f680\":0,\"1f469-1f3ff-200d-1f680\":0,\"1f469-1f3fb-200d-1f692\":0,\"1f469-1f3fc-200d-1f692\":0,\"1f469-1f3fd-200d-1f692\":0,\"1f469-1f3fe-200d-1f692\":0,\"1f469-1f3ff-200d-1f692\":0,\"1f469-1f3fb-200d-1f9af\":0,\"1f469-1f3fc-200d-1f9af\":0,\"1f469-1f3fd-200d-1f9af\":0,\"1f469-1f3fe-200d-1f9af\":0,\"1f469-1f3ff-200d-1f9af\":0,\"1f469-1f3fb-200d-1f9b0\":0,\"1f469-1f3fc-200d-1f9b0\":0,\"1f469-1f3fd-200d-1f9b0\":0,\"1f469-1f3fe-200d-1f9b0\":0,\"1f469-1f3ff-200d-1f9b0\":0,\"1f469-1f3fb-200d-1f9b1\":0,\"1f469-1f3fc-200d-1f9b1\":0,\"1f469-1f3fd-200d-1f9b1\":0,\"1f469-1f3fe-200d-1f9b1\":0,\"1f469-1f3ff-200d-1f9b1\":0,\"1f469-1f3fb-200d-1f9b2\":0,\"1f469-1f3fc-200d-1f9b2\":0,\"1f469-1f3fd-200d-1f9b2\":0,\"1f469-1f3fe-200d-1f9b2\":0,\"1f469-1f3ff-200d-1f9b2\":0,\"1f469-1f3fb-200d-1f9b3\":0,\"1f469-1f3fc-200d-1f9b3\":0,\"1f469-1f3fd-200d-1f9b3\":0,\"1f469-1f3fe-200d-1f9b3\":0,\"1f469-1f3ff-200d-1f9b3\":0,\"1f469-1f3fb-200d-1f9bc\":0,\"1f469-1f3fc-200d-1f9bc\":0,\"1f469-1f3fd-200d-1f9bc\":0,\"1f469-1f3fe-200d-1f9bc\":0,\"1f469-1f3ff-200d-1f9bc\":0,\"1f469-1f3fb-200d-1f9bd\":0,\"1f469-1f3fc-200d-1f9bd\":0,\"1f469-1f3fd-200d-1f9bd\":0,\"1f469-1f3fe-200d-1f9bd\":0,\"1f469-1f3ff-200d-1f9bd\":0,\"1f469-1f3fb-200d-2695\":0,\"1f469-1f3fc-200d-2695\":0,\"1f469-1f3fd-200d-2695\":0,\"1f469-1f3fe-200d-2695\":0,\"1f469-1f3ff-200d-2695\":0,\"1f469-1f3fb-200d-2696\":0,\"1f469-1f3fc-200d-2696\":0,\"1f469-1f3fd-200d-2696\":0,\"1f469-1f3fe-200d-2696\":0,\"1f469-1f3ff-200d-2696\":0,\"1f469-1f3fb-200d-2708\":0,\"1f469-1f3fc-200d-2708\":0,\"1f469-1f3fd-200d-2708\":0,\"1f469-1f3fe-200d-2708\":0,\"1f469-1f3ff-200d-2708\":0,\"1f469-1f3fb-200d-2764-200d-1f468-1f3fb\":0,\"1f469-1f3fb-200d-2764-200d-1f468-1f3fc\":0,\"1f469-1f3fb-200d-2764-200d-1f468-1f3fd\":0,\"1f469-1f3fb-200d-2764-200d-1f468-1f3fe\":0,\"1f469-1f3fb-200d-2764-200d-1f468-1f3ff\":0,\"1f469-1f3fc-200d-2764-200d-1f468-1f3fb\":0,\"1f469-1f3fc-200d-2764-200d-1f468-1f3fc\":0,\"1f469-1f3fc-200d-2764-200d-1f468-1f3fd\":0,\"1f469-1f3fc-200d-2764-200d-1f468-1f3fe\":0,\"1f469-1f3fc-200d-2764-200d-1f468-1f3ff\":0,\"1f469-1f3fd-200d-2764-200d-1f468-1f3fb\":0,\"1f469-1f3fd-200d-2764-200d-1f468-1f3fc\":0,\"1f469-1f3fd-200d-2764-200d-1f468-1f3fd\":0,\"1f469-1f3fd-200d-2764-200d-1f468-1f3fe\":0,\"1f469-1f3fd-200d-2764-200d-1f468-1f3ff\":0,\"1f469-1f3fe-200d-2764-200d-1f468-1f3fb\":0,\"1f469-1f3fe-200d-2764-200d-1f468-1f3fc\":0,\"1f469-1f3fe-200d-2764-200d-1f468-1f3fd\":0,\"1f469-1f3fe-200d-2764-200d-1f468-1f3fe\":0,\"1f469-1f3fe-200d-2764-200d-1f468-1f3ff\":0,\"1f469-1f3ff-200d-2764-200d-1f468-1f3fb\":0,\"1f469-1f3ff-200d-2764-200d-1f468-1f3fc\":0,\"1f469-1f3ff-200d-2764-200d-1f468-1f3fd\":0,\"1f469-1f3ff-200d-2764-200d-1f468-1f3fe\":0,\"1f469-1f3ff-200d-2764-200d-1f468-1f3ff\":0,\"1f469-1f3fb-200d-2764-200d-1f469-1f3fb\":0,\"1f469-1f3fb-200d-2764-200d-1f469-1f3fc\":0,\"1f469-1f3fb-200d-2764-200d-1f469-1f3fd\":0,\"1f469-1f3fb-200d-2764-200d-1f469-1f3fe\":0,\"1f469-1f3fb-200d-2764-200d-1f469-1f3ff\":0,\"1f469-1f3fc-200d-2764-200d-1f469-1f3fb\":0,\"1f469-1f3fc-200d-2764-200d-1f469-1f3fc\":0,\"1f469-1f3fc-200d-2764-200d-1f469-1f3fd\":0,\"1f469-1f3fc-200d-2764-200d-1f469-1f3fe\":0,\"1f469-1f3fc-200d-2764-200d-1f469-1f3ff\":0,\"1f469-1f3fd-200d-2764-200d-1f469-1f3fb\":0,\"1f469-1f3fd-200d-2764-200d-1f469-1f3fc\":0,\"1f469-1f3fd-200d-2764-200d-1f469-1f3fd\":0,\"1f469-1f3fd-200d-2764-200d-1f469-1f3fe\":0,\"1f469-1f3fd-200d-2764-200d-1f469-1f3ff\":0,\"1f469-1f3fe-200d-2764-200d-1f469-1f3fb\":0,\"1f469-1f3fe-200d-2764-200d-1f469-1f3fc\":0,\"1f469-1f3fe-200d-2764-200d-1f469-1f3fd\":0,\"1f469-1f3fe-200d-2764-200d-1f469-1f3fe\":0,\"1f469-1f3fe-200d-2764-200d-1f469-1f3ff\":0,\"1f469-1f3ff-200d-2764-200d-1f469-1f3fb\":0,\"1f469-1f3ff-200d-2764-200d-1f469-1f3fc\":0,\"1f469-1f3ff-200d-2764-200d-1f469-1f3fd\":0,\"1f469-1f3ff-200d-2764-200d-1f469-1f3fe\":0,\"1f469-1f3ff-200d-2764-200d-1f469-1f3ff\":0,\"1f469-1f3fb-200d-2764-200d-1f48b-200d-1f468-1f3fb\":0,\"1f469-1f3fb-200d-2764-200d-1f48b-200d-1f468-1f3fc\":0,\"1f469-1f3fb-200d-2764-200d-1f48b-200d-1f468-1f3fd\":0,\"1f469-1f3fb-200d-2764-200d-1f48b-200d-1f468-1f3fe\":0,\"1f469-1f3fb-200d-2764-200d-1f48b-200d-1f468-1f3ff\":0,\"1f469-1f3fc-200d-2764-200d-1f48b-200d-1f468-1f3fb\":0,\"1f469-1f3fc-200d-2764-200d-1f48b-200d-1f468-1f3fc\":0,\"1f469-1f3fc-200d-2764-200d-1f48b-200d-1f468-1f3fd\":0,\"1f469-1f3fc-200d-2764-200d-1f48b-200d-1f468-1f3fe\":0,\"1f469-1f3fc-200d-2764-200d-1f48b-200d-1f468-1f3ff\":0,\"1f469-1f3fd-200d-2764-200d-1f48b-200d-1f468-1f3fb\":0,\"1f469-1f3fd-200d-2764-200d-1f48b-200d-1f468-1f3fc\":0,\"1f469-1f3fd-200d-2764-200d-1f48b-200d-1f468-1f3fd\":0,\"1f469-1f3fd-200d-2764-200d-1f48b-200d-1f468-1f3fe\":0,\"1f469-1f3fd-200d-2764-200d-1f48b-200d-1f468-1f3ff\":0,\"1f469-1f3fe-200d-2764-200d-1f48b-200d-1f468-1f3fb\":0,\"1f469-1f3fe-200d-2764-200d-1f48b-200d-1f468-1f3fc\":0,\"1f469-1f3fe-200d-2764-200d-1f48b-200d-1f468-1f3fd\":0,\"1f469-1f3fe-200d-2764-200d-1f48b-200d-1f468-1f3fe\":0,\"1f469-1f3fe-200d-2764-200d-1f48b-200d-1f468-1f3ff\":0,\"1f469-1f3ff-200d-2764-200d-1f48b-200d-1f468-1f3fb\":0,\"1f469-1f3ff-200d-2764-200d-1f48b-200d-1f468-1f3fc\":0,\"1f469-1f3ff-200d-2764-200d-1f48b-200d-1f468-1f3fd\":0,\"1f469-1f3ff-200d-2764-200d-1f48b-200d-1f468-1f3fe\":0,\"1f469-1f3ff-200d-2764-200d-1f48b-200d-1f468-1f3ff\":0,\"1f469-1f3fb-200d-2764-200d-1f48b-200d-1f469-1f3fb\":0,\"1f469-1f3fb-200d-2764-200d-1f48b-200d-1f469-1f3fc\":0,\"1f469-1f3fb-200d-2764-200d-1f48b-200d-1f469-1f3fd\":0,\"1f469-1f3fb-200d-2764-200d-1f48b-200d-1f469-1f3fe\":0,\"1f469-1f3fb-200d-2764-200d-1f48b-200d-1f469-1f3ff\":0,\"1f469-1f3fc-200d-2764-200d-1f48b-200d-1f469-1f3fb\":0,\"1f469-1f3fc-200d-2764-200d-1f48b-200d-1f469-1f3fc\":0,\"1f469-1f3fc-200d-2764-200d-1f48b-200d-1f469-1f3fd\":0,\"1f469-1f3fc-200d-2764-200d-1f48b-200d-1f469-1f3fe\":0,\"1f469-1f3fc-200d-2764-200d-1f48b-200d-1f469-1f3ff\":0,\"1f469-1f3fd-200d-2764-200d-1f48b-200d-1f469-1f3fb\":0,\"1f469-1f3fd-200d-2764-200d-1f48b-200d-1f469-1f3fc\":0,\"1f469-1f3fd-200d-2764-200d-1f48b-200d-1f469-1f3fd\":0,\"1f469-1f3fd-200d-2764-200d-1f48b-200d-1f469-1f3fe\":0,\"1f469-1f3fd-200d-2764-200d-1f48b-200d-1f469-1f3ff\":0,\"1f469-1f3fe-200d-2764-200d-1f48b-200d-1f469-1f3fb\":0,\"1f469-1f3fe-200d-2764-200d-1f48b-200d-1f469-1f3fc\":0,\"1f469-1f3fe-200d-2764-200d-1f48b-200d-1f469-1f3fd\":0,\"1f469-1f3fe-200d-2764-200d-1f48b-200d-1f469-1f3fe\":0,\"1f469-1f3fe-200d-2764-200d-1f48b-200d-1f469-1f3ff\":0,\"1f469-1f3ff-200d-2764-200d-1f48b-200d-1f469-1f3fb\":0,\"1f469-1f3ff-200d-2764-200d-1f48b-200d-1f469-1f3fc\":0,\"1f469-1f3ff-200d-2764-200d-1f48b-200d-1f469-1f3fd\":0,\"1f469-1f3ff-200d-2764-200d-1f48b-200d-1f469-1f3fe\":0,\"1f469-1f3ff-200d-2764-200d-1f48b-200d-1f469-1f3ff\":0,\"1f469-1f3fb\":0,\"1f469-1f3fc\":0,\"1f469-1f3fd\":0,\"1f469-1f3fe\":0,\"1f469-1f3ff\":0,\"1f46b-1f3fb\":0,\"1f46b-1f3fc\":0,\"1f46b-1f3fd\":0,\"1f46b-1f3fe\":0,\"1f46b-1f3ff\":0,\"1f469-1f3fb-200d-1f91d-200d-1f468-1f3fc\":0,\"1f469-1f3fb-200d-1f91d-200d-1f468-1f3fd\":0,\"1f469-1f3fb-200d-1f91d-200d-1f468-1f3fe\":0,\"1f469-1f3fb-200d-1f91d-200d-1f468-1f3ff\":0,\"1f469-1f3fc-200d-1f91d-200d-1f468-1f3fb\":0,\"1f469-1f3fc-200d-1f91d-200d-1f468-1f3fd\":0,\"1f469-1f3fc-200d-1f91d-200d-1f468-1f3fe\":0,\"1f469-1f3fc-200d-1f91d-200d-1f468-1f3ff\":0,\"1f469-1f3fd-200d-1f91d-200d-1f468-1f3fb\":0,\"1f469-1f3fd-200d-1f91d-200d-1f468-1f3fc\":0,\"1f469-1f3fd-200d-1f91d-200d-1f468-1f3fe\":0,\"1f469-1f3fd-200d-1f91d-200d-1f468-1f3ff\":0,\"1f469-1f3fe-200d-1f91d-200d-1f468-1f3fb\":0,\"1f469-1f3fe-200d-1f91d-200d-1f468-1f3fc\":0,\"1f469-1f3fe-200d-1f91d-200d-1f468-1f3fd\":0,\"1f469-1f3fe-200d-1f91d-200d-1f468-1f3ff\":0,\"1f469-1f3ff-200d-1f91d-200d-1f468-1f3fb\":0,\"1f469-1f3ff-200d-1f91d-200d-1f468-1f3fc\":0,\"1f469-1f3ff-200d-1f91d-200d-1f468-1f3fd\":0,\"1f469-1f3ff-200d-1f91d-200d-1f468-1f3fe\":0,\"1f46c-1f3fb\":0,\"1f46c-1f3fc\":0,\"1f46c-1f3fd\":0,\"1f46c-1f3fe\":0,\"1f46c-1f3ff\":0,\"1f468-1f3fb-200d-1f91d-200d-1f468-1f3fc\":0,\"1f468-1f3fb-200d-1f91d-200d-1f468-1f3fd\":0,\"1f468-1f3fb-200d-1f91d-200d-1f468-1f3fe\":0,\"1f468-1f3fb-200d-1f91d-200d-1f468-1f3ff\":0,\"1f468-1f3fc-200d-1f91d-200d-1f468-1f3fb\":0,\"1f468-1f3fc-200d-1f91d-200d-1f468-1f3fd\":0,\"1f468-1f3fc-200d-1f91d-200d-1f468-1f3fe\":0,\"1f468-1f3fc-200d-1f91d-200d-1f468-1f3ff\":0,\"1f468-1f3fd-200d-1f91d-200d-1f468-1f3fb\":0,\"1f468-1f3fd-200d-1f91d-200d-1f468-1f3fc\":0,\"1f468-1f3fd-200d-1f91d-200d-1f468-1f3fe\":0,\"1f468-1f3fd-200d-1f91d-200d-1f468-1f3ff\":0,\"1f468-1f3fe-200d-1f91d-200d-1f468-1f3fb\":0,\"1f468-1f3fe-200d-1f91d-200d-1f468-1f3fc\":0,\"1f468-1f3fe-200d-1f91d-200d-1f468-1f3fd\":0,\"1f468-1f3fe-200d-1f91d-200d-1f468-1f3ff\":0,\"1f468-1f3ff-200d-1f91d-200d-1f468-1f3fb\":0,\"1f468-1f3ff-200d-1f91d-200d-1f468-1f3fc\":0,\"1f468-1f3ff-200d-1f91d-200d-1f468-1f3fd\":0,\"1f468-1f3ff-200d-1f91d-200d-1f468-1f3fe\":0,\"1f46d-1f3fb\":0,\"1f46d-1f3fc\":0,\"1f46d-1f3fd\":0,\"1f46d-1f3fe\":0,\"1f46d-1f3ff\":0,\"1f469-1f3fb-200d-1f91d-200d-1f469-1f3fc\":0,\"1f469-1f3fb-200d-1f91d-200d-1f469-1f3fd\":0,\"1f469-1f3fb-200d-1f91d-200d-1f469-1f3fe\":0,\"1f469-1f3fb-200d-1f91d-200d-1f469-1f3ff\":0,\"1f469-1f3fc-200d-1f91d-200d-1f469-1f3fb\":0,\"1f469-1f3fc-200d-1f91d-200d-1f469-1f3fd\":0,\"1f469-1f3fc-200d-1f91d-200d-1f469-1f3fe\":0,\"1f469-1f3fc-200d-1f91d-200d-1f469-1f3ff\":0,\"1f469-1f3fd-200d-1f91d-200d-1f469-1f3fb\":0,\"1f469-1f3fd-200d-1f91d-200d-1f469-1f3fc\":0,\"1f469-1f3fd-200d-1f91d-200d-1f469-1f3fe\":0,\"1f469-1f3fd-200d-1f91d-200d-1f469-1f3ff\":0,\"1f469-1f3fe-200d-1f91d-200d-1f469-1f3fb\":0,\"1f469-1f3fe-200d-1f91d-200d-1f469-1f3fc\":0,\"1f469-1f3fe-200d-1f91d-200d-1f469-1f3fd\":0,\"1f469-1f3fe-200d-1f91d-200d-1f469-1f3ff\":0,\"1f469-1f3ff-200d-1f91d-200d-1f469-1f3fb\":0,\"1f469-1f3ff-200d-1f91d-200d-1f469-1f3fc\":0,\"1f469-1f3ff-200d-1f91d-200d-1f469-1f3fd\":0,\"1f469-1f3ff-200d-1f91d-200d-1f469-1f3fe\":0,\"1f46e-1f3fb-200d-2640\":0,\"1f46e-1f3fc-200d-2640\":0,\"1f46e-1f3fd-200d-2640\":0,\"1f46e-1f3fe-200d-2640\":0,\"1f46e-1f3ff-200d-2640\":0,\"1f46e-1f3fb-200d-2642\":0,\"1f46e-1f3fc-200d-2642\":0,\"1f46e-1f3fd-200d-2642\":0,\"1f46e-1f3fe-200d-2642\":0,\"1f46e-1f3ff-200d-2642\":0,\"1f46e-1f3fb\":0,\"1f46e-1f3fc\":0,\"1f46e-1f3fd\":0,\"1f46e-1f3fe\":0,\"1f46e-1f3ff\":0,\"1f470-1f3fb-200d-2640\":0,\"1f470-1f3fc-200d-2640\":0,\"1f470-1f3fd-200d-2640\":0,\"1f470-1f3fe-200d-2640\":0,\"1f470-1f3ff-200d-2640\":0,\"1f470-1f3fb-200d-2642\":0,\"1f470-1f3fc-200d-2642\":0,\"1f470-1f3fd-200d-2642\":0,\"1f470-1f3fe-200d-2642\":0,\"1f470-1f3ff-200d-2642\":0,\"1f470-1f3fb\":0,\"1f470-1f3fc\":0,\"1f470-1f3fd\":0,\"1f470-1f3fe\":0,\"1f470-1f3ff\":0,\"1f471-1f3fb-200d-2640\":0,\"1f471-1f3fc-200d-2640\":0,\"1f471-1f3fd-200d-2640\":0,\"1f471-1f3fe-200d-2640\":0,\"1f471-1f3ff-200d-2640\":0,\"1f471-1f3fb-200d-2642\":0,\"1f471-1f3fc-200d-2642\":0,\"1f471-1f3fd-200d-2642\":0,\"1f471-1f3fe-200d-2642\":0,\"1f471-1f3ff-200d-2642\":0,\"1f471-1f3fb\":0,\"1f471-1f3fc\":0,\"1f471-1f3fd\":0,\"1f471-1f3fe\":0,\"1f471-1f3ff\":0,\"1f472-1f3fb\":0,\"1f472-1f3fc\":0,\"1f472-1f3fd\":0,\"1f472-1f3fe\":0,\"1f472-1f3ff\":0,\"1f473-1f3fb-200d-2640\":0,\"1f473-1f3fc-200d-2640\":0,\"1f473-1f3fd-200d-2640\":0,\"1f473-1f3fe-200d-2640\":0,\"1f473-1f3ff-200d-2640\":0,\"1f473-1f3fb-200d-2642\":0,\"1f473-1f3fc-200d-2642\":0,\"1f473-1f3fd-200d-2642\":0,\"1f473-1f3fe-200d-2642\":0,\"1f473-1f3ff-200d-2642\":0,\"1f473-1f3fb\":0,\"1f473-1f3fc\":0,\"1f473-1f3fd\":0,\"1f473-1f3fe\":0,\"1f473-1f3ff\":0,\"1f474-1f3fb\":0,\"1f474-1f3fc\":0,\"1f474-1f3fd\":0,\"1f474-1f3fe\":0,\"1f474-1f3ff\":0,\"1f475-1f3fb\":0,\"1f475-1f3fc\":0,\"1f475-1f3fd\":0,\"1f475-1f3fe\":0,\"1f475-1f3ff\":0,\"1f476-1f3fb\":0,\"1f476-1f3fc\":0,\"1f476-1f3fd\":0,\"1f476-1f3fe\":0,\"1f476-1f3ff\":0,\"1f477-1f3fb-200d-2640\":0,\"1f477-1f3fc-200d-2640\":0,\"1f477-1f3fd-200d-2640\":0,\"1f477-1f3fe-200d-2640\":0,\"1f477-1f3ff-200d-2640\":0,\"1f477-1f3fb-200d-2642\":0,\"1f477-1f3fc-200d-2642\":0,\"1f477-1f3fd-200d-2642\":0,\"1f477-1f3fe-200d-2642\":0,\"1f477-1f3ff-200d-2642\":0,\"1f477-1f3fb\":0,\"1f477-1f3fc\":0,\"1f477-1f3fd\":0,\"1f477-1f3fe\":0,\"1f477-1f3ff\":0,\"1f478-1f3fb\":0,\"1f478-1f3fc\":0,\"1f478-1f3fd\":0,\"1f478-1f3fe\":0,\"1f478-1f3ff\":0,\"1f47c-1f3fb\":0,\"1f47c-1f3fc\":0,\"1f47c-1f3fd\":0,\"1f47c-1f3fe\":0,\"1f47c-1f3ff\":0,\"1f481-1f3fb-200d-2640\":0,\"1f481-1f3fc-200d-2640\":0,\"1f481-1f3fd-200d-2640\":0,\"1f481-1f3fe-200d-2640\":0,\"1f481-1f3ff-200d-2640\":0,\"1f481-1f3fb-200d-2642\":0,\"1f481-1f3fc-200d-2642\":0,\"1f481-1f3fd-200d-2642\":0,\"1f481-1f3fe-200d-2642\":0,\"1f481-1f3ff-200d-2642\":0,\"1f481-1f3fb\":0,\"1f481-1f3fc\":0,\"1f481-1f3fd\":0,\"1f481-1f3fe\":0,\"1f481-1f3ff\":0,\"1f482-1f3fb-200d-2640\":0,\"1f482-1f3fc-200d-2640\":0,\"1f482-1f3fd-200d-2640\":0,\"1f482-1f3fe-200d-2640\":0,\"1f482-1f3ff-200d-2640\":0,\"1f482-1f3fb-200d-2642\":0,\"1f482-1f3fc-200d-2642\":0,\"1f482-1f3fd-200d-2642\":0,\"1f482-1f3fe-200d-2642\":0,\"1f482-1f3ff-200d-2642\":0,\"1f482-1f3fb\":0,\"1f482-1f3fc\":0,\"1f482-1f3fd\":0,\"1f482-1f3fe\":0,\"1f482-1f3ff\":0,\"1f483-1f3fb\":0,\"1f483-1f3fc\":0,\"1f483-1f3fd\":0,\"1f483-1f3fe\":0,\"1f483-1f3ff\":0,\"1f485-1f3fb\":0,\"1f485-1f3fc\":0,\"1f485-1f3fd\":0,\"1f485-1f3fe\":0,\"1f485-1f3ff\":0,\"1f486-1f3fb-200d-2640\":0,\"1f486-1f3fc-200d-2640\":0,\"1f486-1f3fd-200d-2640\":0,\"1f486-1f3fe-200d-2640\":0,\"1f486-1f3ff-200d-2640\":0,\"1f486-1f3fb-200d-2642\":0,\"1f486-1f3fc-200d-2642\":0,\"1f486-1f3fd-200d-2642\":0,\"1f486-1f3fe-200d-2642\":0,\"1f486-1f3ff-200d-2642\":0,\"1f486-1f3fb\":0,\"1f486-1f3fc\":0,\"1f486-1f3fd\":0,\"1f486-1f3fe\":0,\"1f486-1f3ff\":0,\"1f487-1f3fb-200d-2640\":0,\"1f487-1f3fc-200d-2640\":0,\"1f487-1f3fd-200d-2640\":0,\"1f487-1f3fe-200d-2640\":0,\"1f487-1f3ff-200d-2640\":0,\"1f487-1f3fb-200d-2642\":0,\"1f487-1f3fc-200d-2642\":0,\"1f487-1f3fd-200d-2642\":0,\"1f487-1f3fe-200d-2642\":0,\"1f487-1f3ff-200d-2642\":0,\"1f487-1f3fb\":0,\"1f487-1f3fc\":0,\"1f487-1f3fd\":0,\"1f487-1f3fe\":0,\"1f487-1f3ff\":0,\"1f48f-1f3fb\":0,\"1f48f-1f3fc\":0,\"1f48f-1f3fd\":0,\"1f48f-1f3fe\":0,\"1f48f-1f3ff\":0,\"1f9d1-1f3fb-200d-2764-200d-1f48b-200d-1f9d1-1f3fc\":0,\"1f9d1-1f3fb-200d-2764-200d-1f48b-200d-1f9d1-1f3fd\":0,\"1f9d1-1f3fb-200d-2764-200d-1f48b-200d-1f9d1-1f3fe\":0,\"1f9d1-1f3fb-200d-2764-200d-1f48b-200d-1f9d1-1f3ff\":0,\"1f9d1-1f3fc-200d-2764-200d-1f48b-200d-1f9d1-1f3fb\":0,\"1f9d1-1f3fc-200d-2764-200d-1f48b-200d-1f9d1-1f3fd\":0,\"1f9d1-1f3fc-200d-2764-200d-1f48b-200d-1f9d1-1f3fe\":0,\"1f9d1-1f3fc-200d-2764-200d-1f48b-200d-1f9d1-1f3ff\":0,\"1f9d1-1f3fd-200d-2764-200d-1f48b-200d-1f9d1-1f3fb\":0,\"1f9d1-1f3fd-200d-2764-200d-1f48b-200d-1f9d1-1f3fc\":0,\"1f9d1-1f3fd-200d-2764-200d-1f48b-200d-1f9d1-1f3fe\":0,\"1f9d1-1f3fd-200d-2764-200d-1f48b-200d-1f9d1-1f3ff\":0,\"1f9d1-1f3fe-200d-2764-200d-1f48b-200d-1f9d1-1f3fb\":0,\"1f9d1-1f3fe-200d-2764-200d-1f48b-200d-1f9d1-1f3fc\":0,\"1f9d1-1f3fe-200d-2764-200d-1f48b-200d-1f9d1-1f3fd\":0,\"1f9d1-1f3fe-200d-2764-200d-1f48b-200d-1f9d1-1f3ff\":0,\"1f9d1-1f3ff-200d-2764-200d-1f48b-200d-1f9d1-1f3fb\":0,\"1f9d1-1f3ff-200d-2764-200d-1f48b-200d-1f9d1-1f3fc\":0,\"1f9d1-1f3ff-200d-2764-200d-1f48b-200d-1f9d1-1f3fd\":0,\"1f9d1-1f3ff-200d-2764-200d-1f48b-200d-1f9d1-1f3fe\":0,\"1f491-1f3fb\":0,\"1f491-1f3fc\":0,\"1f491-1f3fd\":0,\"1f491-1f3fe\":0,\"1f491-1f3ff\":0,\"1f9d1-1f3fb-200d-2764-200d-1f9d1-1f3fc\":0,\"1f9d1-1f3fb-200d-2764-200d-1f9d1-1f3fd\":0,\"1f9d1-1f3fb-200d-2764-200d-1f9d1-1f3fe\":0,\"1f9d1-1f3fb-200d-2764-200d-1f9d1-1f3ff\":0,\"1f9d1-1f3fc-200d-2764-200d-1f9d1-1f3fb\":0,\"1f9d1-1f3fc-200d-2764-200d-1f9d1-1f3fd\":0,\"1f9d1-1f3fc-200d-2764-200d-1f9d1-1f3fe\":0,\"1f9d1-1f3fc-200d-2764-200d-1f9d1-1f3ff\":0,\"1f9d1-1f3fd-200d-2764-200d-1f9d1-1f3fb\":0,\"1f9d1-1f3fd-200d-2764-200d-1f9d1-1f3fc\":0,\"1f9d1-1f3fd-200d-2764-200d-1f9d1-1f3fe\":0,\"1f9d1-1f3fd-200d-2764-200d-1f9d1-1f3ff\":0,\"1f9d1-1f3fe-200d-2764-200d-1f9d1-1f3fb\":0,\"1f9d1-1f3fe-200d-2764-200d-1f9d1-1f3fc\":0,\"1f9d1-1f3fe-200d-2764-200d-1f9d1-1f3fd\":0,\"1f9d1-1f3fe-200d-2764-200d-1f9d1-1f3ff\":0,\"1f9d1-1f3ff-200d-2764-200d-1f9d1-1f3fb\":0,\"1f9d1-1f3ff-200d-2764-200d-1f9d1-1f3fc\":0,\"1f9d1-1f3ff-200d-2764-200d-1f9d1-1f3fd\":0,\"1f9d1-1f3ff-200d-2764-200d-1f9d1-1f3fe\":0,\"1f4aa-1f3fb\":0,\"1f4aa-1f3fc\":0,\"1f4aa-1f3fd\":0,\"1f4aa-1f3fe\":0,\"1f4aa-1f3ff\":0,\"1f574-1f3fb\":0,\"1f574-1f3fc\":0,\"1f574-1f3fd\":0,\"1f574-1f3fe\":0,\"1f574-1f3ff\":0,\"1f575-1f3fb-200d-2640\":0,\"1f575-1f3fc-200d-2640\":0,\"1f575-1f3fd-200d-2640\":0,\"1f575-1f3fe-200d-2640\":0,\"1f575-1f3ff-200d-2640\":0,\"1f575-1f3fb-200d-2642\":0,\"1f575-1f3fc-200d-2642\":0,\"1f575-1f3fd-200d-2642\":0,\"1f575-1f3fe-200d-2642\":0,\"1f575-1f3ff-200d-2642\":0,\"1f575-1f3fb\":0,\"1f575-1f3fc\":0,\"1f575-1f3fd\":0,\"1f575-1f3fe\":0,\"1f575-1f3ff\":0,\"1f57a-1f3fb\":0,\"1f57a-1f3fc\":0,\"1f57a-1f3fd\":0,\"1f57a-1f3fe\":0,\"1f57a-1f3ff\":0,\"1f590-1f3fb\":0,\"1f590-1f3fc\":0,\"1f590-1f3fd\":0,\"1f590-1f3fe\":0,\"1f590-1f3ff\":0,\"1f595-1f3fb\":0,\"1f595-1f3fc\":0,\"1f595-1f3fd\":0,\"1f595-1f3fe\":0,\"1f595-1f3ff\":0,\"1f596-1f3fb\":0,\"1f596-1f3fc\":0,\"1f596-1f3fd\":0,\"1f596-1f3fe\":0,\"1f596-1f3ff\":0,\"1f645-1f3fb-200d-2640\":0,\"1f645-1f3fc-200d-2640\":0,\"1f645-1f3fd-200d-2640\":0,\"1f645-1f3fe-200d-2640\":0,\"1f645-1f3ff-200d-2640\":0,\"1f645-1f3fb-200d-2642\":0,\"1f645-1f3fc-200d-2642\":0,\"1f645-1f3fd-200d-2642\":0,\"1f645-1f3fe-200d-2642\":0,\"1f645-1f3ff-200d-2642\":0,\"1f645-1f3fb\":0,\"1f645-1f3fc\":0,\"1f645-1f3fd\":0,\"1f645-1f3fe\":0,\"1f645-1f3ff\":0,\"1f646-1f3fb-200d-2640\":0,\"1f646-1f3fc-200d-2640\":0,\"1f646-1f3fd-200d-2640\":0,\"1f646-1f3fe-200d-2640\":0,\"1f646-1f3ff-200d-2640\":0,\"1f646-1f3fb-200d-2642\":0,\"1f646-1f3fc-200d-2642\":0,\"1f646-1f3fd-200d-2642\":0,\"1f646-1f3fe-200d-2642\":0,\"1f646-1f3ff-200d-2642\":0,\"1f646-1f3fb\":0,\"1f646-1f3fc\":0,\"1f646-1f3fd\":0,\"1f646-1f3fe\":0,\"1f646-1f3ff\":0,\"1f647-1f3fb-200d-2640\":0,\"1f647-1f3fc-200d-2640\":0,\"1f647-1f3fd-200d-2640\":0,\"1f647-1f3fe-200d-2640\":0,\"1f647-1f3ff-200d-2640\":0,\"1f647-1f3fb-200d-2642\":0,\"1f647-1f3fc-200d-2642\":0,\"1f647-1f3fd-200d-2642\":0,\"1f647-1f3fe-200d-2642\":0,\"1f647-1f3ff-200d-2642\":0,\"1f647-1f3fb\":0,\"1f647-1f3fc\":0,\"1f647-1f3fd\":0,\"1f647-1f3fe\":0,\"1f647-1f3ff\":0,\"1f64b-1f3fb-200d-2640\":0,\"1f64b-1f3fc-200d-2640\":0,\"1f64b-1f3fd-200d-2640\":0,\"1f64b-1f3fe-200d-2640\":0,\"1f64b-1f3ff-200d-2640\":0,\"1f64b-1f3fb-200d-2642\":0,\"1f64b-1f3fc-200d-2642\":0,\"1f64b-1f3fd-200d-2642\":0,\"1f64b-1f3fe-200d-2642\":0,\"1f64b-1f3ff-200d-2642\":0,\"1f64b-1f3fb\":0,\"1f64b-1f3fc\":0,\"1f64b-1f3fd\":0,\"1f64b-1f3fe\":0,\"1f64b-1f3ff\":0,\"1f64c-1f3fb\":0,\"1f64c-1f3fc\":0,\"1f64c-1f3fd\":0,\"1f64c-1f3fe\":0,\"1f64c-1f3ff\":0,\"1f64d-1f3fb-200d-2640\":0,\"1f64d-1f3fc-200d-2640\":0,\"1f64d-1f3fd-200d-2640\":0,\"1f64d-1f3fe-200d-2640\":0,\"1f64d-1f3ff-200d-2640\":0,\"1f64d-1f3fb-200d-2642\":0,\"1f64d-1f3fc-200d-2642\":0,\"1f64d-1f3fd-200d-2642\":0,\"1f64d-1f3fe-200d-2642\":0,\"1f64d-1f3ff-200d-2642\":0,\"1f64d-1f3fb\":0,\"1f64d-1f3fc\":0,\"1f64d-1f3fd\":0,\"1f64d-1f3fe\":0,\"1f64d-1f3ff\":0,\"1f64e-1f3fb-200d-2640\":0,\"1f64e-1f3fc-200d-2640\":0,\"1f64e-1f3fd-200d-2640\":0,\"1f64e-1f3fe-200d-2640\":0,\"1f64e-1f3ff-200d-2640\":0,\"1f64e-1f3fb-200d-2642\":0,\"1f64e-1f3fc-200d-2642\":0,\"1f64e-1f3fd-200d-2642\":0,\"1f64e-1f3fe-200d-2642\":0,\"1f64e-1f3ff-200d-2642\":0,\"1f64e-1f3fb\":0,\"1f64e-1f3fc\":0,\"1f64e-1f3fd\":0,\"1f64e-1f3fe\":0,\"1f64e-1f3ff\":0,\"1f64f-1f3fb\":0,\"1f64f-1f3fc\":0,\"1f64f-1f3fd\":0,\"1f64f-1f3fe\":0,\"1f64f-1f3ff\":0,\"1f6a3-1f3fb-200d-2640\":0,\"1f6a3-1f3fc-200d-2640\":0,\"1f6a3-1f3fd-200d-2640\":0,\"1f6a3-1f3fe-200d-2640\":0,\"1f6a3-1f3ff-200d-2640\":0,\"1f6a3-1f3fb-200d-2642\":0,\"1f6a3-1f3fc-200d-2642\":0,\"1f6a3-1f3fd-200d-2642\":0,\"1f6a3-1f3fe-200d-2642\":0,\"1f6a3-1f3ff-200d-2642\":0,\"1f6a3-1f3fb\":0,\"1f6a3-1f3fc\":0,\"1f6a3-1f3fd\":0,\"1f6a3-1f3fe\":0,\"1f6a3-1f3ff\":0,\"1f6b4-1f3fb-200d-2640\":0,\"1f6b4-1f3fc-200d-2640\":0,\"1f6b4-1f3fd-200d-2640\":0,\"1f6b4-1f3fe-200d-2640\":0,\"1f6b4-1f3ff-200d-2640\":0,\"1f6b4-1f3fb-200d-2642\":0,\"1f6b4-1f3fc-200d-2642\":0,\"1f6b4-1f3fd-200d-2642\":0,\"1f6b4-1f3fe-200d-2642\":0,\"1f6b4-1f3ff-200d-2642\":0,\"1f6b4-1f3fb\":0,\"1f6b4-1f3fc\":0,\"1f6b4-1f3fd\":0,\"1f6b4-1f3fe\":0,\"1f6b4-1f3ff\":0,\"1f6b5-1f3fb-200d-2640\":0,\"1f6b5-1f3fc-200d-2640\":0,\"1f6b5-1f3fd-200d-2640\":0,\"1f6b5-1f3fe-200d-2640\":0,\"1f6b5-1f3ff-200d-2640\":0,\"1f6b5-1f3fb-200d-2642\":0,\"1f6b5-1f3fc-200d-2642\":0,\"1f6b5-1f3fd-200d-2642\":0,\"1f6b5-1f3fe-200d-2642\":0,\"1f6b5-1f3ff-200d-2642\":0,\"1f6b5-1f3fb\":0,\"1f6b5-1f3fc\":0,\"1f6b5-1f3fd\":0,\"1f6b5-1f3fe\":0,\"1f6b5-1f3ff\":0,\"1f6b6-1f3fb-200d-2640\":0,\"1f6b6-1f3fc-200d-2640\":0,\"1f6b6-1f3fd-200d-2640\":0,\"1f6b6-1f3fe-200d-2640\":0,\"1f6b6-1f3ff-200d-2640\":0,\"1f6b6-1f3fb-200d-2642\":0,\"1f6b6-1f3fc-200d-2642\":0,\"1f6b6-1f3fd-200d-2642\":0,\"1f6b6-1f3fe-200d-2642\":0,\"1f6b6-1f3ff-200d-2642\":0,\"1f6b6-1f3fb\":0,\"1f6b6-1f3fc\":0,\"1f6b6-1f3fd\":0,\"1f6b6-1f3fe\":0,\"1f6b6-1f3ff\":0,\"1f6c0-1f3fb\":0,\"1f6c0-1f3fc\":0,\"1f6c0-1f3fd\":0,\"1f6c0-1f3fe\":0,\"1f6c0-1f3ff\":0,\"1f6cc-1f3fb\":0,\"1f6cc-1f3fc\":0,\"1f6cc-1f3fd\":0,\"1f6cc-1f3fe\":0,\"1f6cc-1f3ff\":0,\"1f90c-1f3fb\":0,\"1f90c-1f3fc\":0,\"1f90c-1f3fd\":0,\"1f90c-1f3fe\":0,\"1f90c-1f3ff\":0,\"1f90f-1f3fb\":0,\"1f90f-1f3fc\":0,\"1f90f-1f3fd\":0,\"1f90f-1f3fe\":0,\"1f90f-1f3ff\":0,\"1f918-1f3fb\":0,\"1f918-1f3fc\":0,\"1f918-1f3fd\":0,\"1f918-1f3fe\":0,\"1f918-1f3ff\":0,\"1f919-1f3fb\":0,\"1f919-1f3fc\":0,\"1f919-1f3fd\":0,\"1f919-1f3fe\":0,\"1f919-1f3ff\":0,\"1f91a-1f3fb\":0,\"1f91a-1f3fc\":0,\"1f91a-1f3fd\":0,\"1f91a-1f3fe\":0,\"1f91a-1f3ff\":0,\"1f91b-1f3fb\":0,\"1f91b-1f3fc\":0,\"1f91b-1f3fd\":0,\"1f91b-1f3fe\":0,\"1f91b-1f3ff\":0,\"1f91c-1f3fb\":0,\"1f91c-1f3fc\":0,\"1f91c-1f3fd\":0,\"1f91c-1f3fe\":0,\"1f91c-1f3ff\":0,\"1f91d-1f3fb\":0,\"1f91d-1f3fc\":0,\"1f91d-1f3fd\":0,\"1f91d-1f3fe\":0,\"1f91d-1f3ff\":0,\"1f91e-1f3fb\":0,\"1f91e-1f3fc\":0,\"1f91e-1f3fd\":0,\"1f91e-1f3fe\":0,\"1f91e-1f3ff\":0,\"1f91f-1f3fb\":0,\"1f91f-1f3fc\":0,\"1f91f-1f3fd\":0,\"1f91f-1f3fe\":0,\"1f91f-1f3ff\":0,\"1f926-1f3fb-200d-2640\":0,\"1f926-1f3fc-200d-2640\":0,\"1f926-1f3fd-200d-2640\":0,\"1f926-1f3fe-200d-2640\":0,\"1f926-1f3ff-200d-2640\":0,\"1f926-1f3fb-200d-2642\":0,\"1f926-1f3fc-200d-2642\":0,\"1f926-1f3fd-200d-2642\":0,\"1f926-1f3fe-200d-2642\":0,\"1f926-1f3ff-200d-2642\":0,\"1f926-1f3fb\":0,\"1f926-1f3fc\":0,\"1f926-1f3fd\":0,\"1f926-1f3fe\":0,\"1f926-1f3ff\":0,\"1f930-1f3fb\":0,\"1f930-1f3fc\":0,\"1f930-1f3fd\":0,\"1f930-1f3fe\":0,\"1f930-1f3ff\":0,\"1f931-1f3fb\":0,\"1f931-1f3fc\":0,\"1f931-1f3fd\":0,\"1f931-1f3fe\":0,\"1f931-1f3ff\":0,\"1f932-1f3fb\":0,\"1f932-1f3fc\":0,\"1f932-1f3fd\":0,\"1f932-1f3fe\":0,\"1f932-1f3ff\":0,\"1f933-1f3fb\":0,\"1f933-1f3fc\":0,\"1f933-1f3fd\":0,\"1f933-1f3fe\":0,\"1f933-1f3ff\":0,\"1f934-1f3fb\":0,\"1f934-1f3fc\":0,\"1f934-1f3fd\":0,\"1f934-1f3fe\":0,\"1f934-1f3ff\":0,\"1f935-1f3fb-200d-2640\":0,\"1f935-1f3fc-200d-2640\":0,\"1f935-1f3fd-200d-2640\":0,\"1f935-1f3fe-200d-2640\":0,\"1f935-1f3ff-200d-2640\":0,\"1f935-1f3fb-200d-2642\":0,\"1f935-1f3fc-200d-2642\":0,\"1f935-1f3fd-200d-2642\":0,\"1f935-1f3fe-200d-2642\":0,\"1f935-1f3ff-200d-2642\":0,\"1f935-1f3fb\":0,\"1f935-1f3fc\":0,\"1f935-1f3fd\":0,\"1f935-1f3fe\":0,\"1f935-1f3ff\":0,\"1f936-1f3fb\":0,\"1f936-1f3fc\":0,\"1f936-1f3fd\":0,\"1f936-1f3fe\":0,\"1f936-1f3ff\":0,\"1f937-1f3fb-200d-2640\":0,\"1f937-1f3fc-200d-2640\":0,\"1f937-1f3fd-200d-2640\":0,\"1f937-1f3fe-200d-2640\":0,\"1f937-1f3ff-200d-2640\":0,\"1f937-1f3fb-200d-2642\":0,\"1f937-1f3fc-200d-2642\":0,\"1f937-1f3fd-200d-2642\":0,\"1f937-1f3fe-200d-2642\":0,\"1f937-1f3ff-200d-2642\":0,\"1f937-1f3fb\":0,\"1f937-1f3fc\":0,\"1f937-1f3fd\":0,\"1f937-1f3fe\":0,\"1f937-1f3ff\":0,\"1f938-1f3fb-200d-2640\":0,\"1f938-1f3fc-200d-2640\":0,\"1f938-1f3fd-200d-2640\":0,\"1f938-1f3fe-200d-2640\":0,\"1f938-1f3ff-200d-2640\":0,\"1f938-1f3fb-200d-2642\":0,\"1f938-1f3fc-200d-2642\":0,\"1f938-1f3fd-200d-2642\":0,\"1f938-1f3fe-200d-2642\":0,\"1f938-1f3ff-200d-2642\":0,\"1f938-1f3fb\":0,\"1f938-1f3fc\":0,\"1f938-1f3fd\":0,\"1f938-1f3fe\":0,\"1f938-1f3ff\":0,\"1f939-1f3fb-200d-2640\":0,\"1f939-1f3fc-200d-2640\":0,\"1f939-1f3fd-200d-2640\":0,\"1f939-1f3fe-200d-2640\":0,\"1f939-1f3ff-200d-2640\":0,\"1f939-1f3fb-200d-2642\":0,\"1f939-1f3fc-200d-2642\":0,\"1f939-1f3fd-200d-2642\":0,\"1f939-1f3fe-200d-2642\":0,\"1f939-1f3ff-200d-2642\":0,\"1f939-1f3fb\":0,\"1f939-1f3fc\":0,\"1f939-1f3fd\":0,\"1f939-1f3fe\":0,\"1f939-1f3ff\":0,\"1f93d-1f3fb-200d-2640\":0,\"1f93d-1f3fc-200d-2640\":0,\"1f93d-1f3fd-200d-2640\":0,\"1f93d-1f3fe-200d-2640\":0,\"1f93d-1f3ff-200d-2640\":0,\"1f93d-1f3fb-200d-2642\":0,\"1f93d-1f3fc-200d-2642\":0,\"1f93d-1f3fd-200d-2642\":0,\"1f93d-1f3fe-200d-2642\":0,\"1f93d-1f3ff-200d-2642\":0,\"1f93d-1f3fb\":0,\"1f93d-1f3fc\":0,\"1f93d-1f3fd\":0,\"1f93d-1f3fe\":0,\"1f93d-1f3ff\":0,\"1f93e-1f3fb-200d-2640\":0,\"1f93e-1f3fc-200d-2640\":0,\"1f93e-1f3fd-200d-2640\":0,\"1f93e-1f3fe-200d-2640\":0,\"1f93e-1f3ff-200d-2640\":0,\"1f93e-1f3fb-200d-2642\":0,\"1f93e-1f3fc-200d-2642\":0,\"1f93e-1f3fd-200d-2642\":0,\"1f93e-1f3fe-200d-2642\":0,\"1f93e-1f3ff-200d-2642\":0,\"1f93e-1f3fb\":0,\"1f93e-1f3fc\":0,\"1f93e-1f3fd\":0,\"1f93e-1f3fe\":0,\"1f93e-1f3ff\":0,\"1f977-1f3fb\":0,\"1f977-1f3fc\":0,\"1f977-1f3fd\":0,\"1f977-1f3fe\":0,\"1f977-1f3ff\":0,\"1f9b5-1f3fb\":0,\"1f9b5-1f3fc\":0,\"1f9b5-1f3fd\":0,\"1f9b5-1f3fe\":0,\"1f9b5-1f3ff\":0,\"1f9b6-1f3fb\":0,\"1f9b6-1f3fc\":0,\"1f9b6-1f3fd\":0,\"1f9b6-1f3fe\":0,\"1f9b6-1f3ff\":0,\"1f9b8-1f3fb-200d-2640\":0,\"1f9b8-1f3fc-200d-2640\":0,\"1f9b8-1f3fd-200d-2640\":0,\"1f9b8-1f3fe-200d-2640\":0,\"1f9b8-1f3ff-200d-2640\":0,\"1f9b8-1f3fb-200d-2642\":0,\"1f9b8-1f3fc-200d-2642\":0,\"1f9b8-1f3fd-200d-2642\":0,\"1f9b8-1f3fe-200d-2642\":0,\"1f9b8-1f3ff-200d-2642\":0,\"1f9b8-1f3fb\":0,\"1f9b8-1f3fc\":0,\"1f9b8-1f3fd\":0,\"1f9b8-1f3fe\":0,\"1f9b8-1f3ff\":0,\"1f9b9-1f3fb-200d-2640\":0,\"1f9b9-1f3fc-200d-2640\":0,\"1f9b9-1f3fd-200d-2640\":0,\"1f9b9-1f3fe-200d-2640\":0,\"1f9b9-1f3ff-200d-2640\":0,\"1f9b9-1f3fb-200d-2642\":0,\"1f9b9-1f3fc-200d-2642\":0,\"1f9b9-1f3fd-200d-2642\":0,\"1f9b9-1f3fe-200d-2642\":0,\"1f9b9-1f3ff-200d-2642\":0,\"1f9b9-1f3fb\":0,\"1f9b9-1f3fc\":0,\"1f9b9-1f3fd\":0,\"1f9b9-1f3fe\":0,\"1f9b9-1f3ff\":0,\"1f9bb-1f3fb\":0,\"1f9bb-1f3fc\":0,\"1f9bb-1f3fd\":0,\"1f9bb-1f3fe\":0,\"1f9bb-1f3ff\":0,\"1f9cd-1f3fb-200d-2640\":0,\"1f9cd-1f3fc-200d-2640\":0,\"1f9cd-1f3fd-200d-2640\":0,\"1f9cd-1f3fe-200d-2640\":0,\"1f9cd-1f3ff-200d-2640\":0,\"1f9cd-1f3fb-200d-2642\":0,\"1f9cd-1f3fc-200d-2642\":0,\"1f9cd-1f3fd-200d-2642\":0,\"1f9cd-1f3fe-200d-2642\":0,\"1f9cd-1f3ff-200d-2642\":0,\"1f9cd-1f3fb\":0,\"1f9cd-1f3fc\":0,\"1f9cd-1f3fd\":0,\"1f9cd-1f3fe\":0,\"1f9cd-1f3ff\":0,\"1f9ce-1f3fb-200d-2640\":0,\"1f9ce-1f3fc-200d-2640\":0,\"1f9ce-1f3fd-200d-2640\":0,\"1f9ce-1f3fe-200d-2640\":0,\"1f9ce-1f3ff-200d-2640\":0,\"1f9ce-1f3fb-200d-2642\":0,\"1f9ce-1f3fc-200d-2642\":0,\"1f9ce-1f3fd-200d-2642\":0,\"1f9ce-1f3fe-200d-2642\":0,\"1f9ce-1f3ff-200d-2642\":0,\"1f9ce-1f3fb\":0,\"1f9ce-1f3fc\":0,\"1f9ce-1f3fd\":0,\"1f9ce-1f3fe\":0,\"1f9ce-1f3ff\":0,\"1f9cf-1f3fb-200d-2640\":0,\"1f9cf-1f3fc-200d-2640\":0,\"1f9cf-1f3fd-200d-2640\":0,\"1f9cf-1f3fe-200d-2640\":0,\"1f9cf-1f3ff-200d-2640\":0,\"1f9cf-1f3fb-200d-2642\":0,\"1f9cf-1f3fc-200d-2642\":0,\"1f9cf-1f3fd-200d-2642\":0,\"1f9cf-1f3fe-200d-2642\":0,\"1f9cf-1f3ff-200d-2642\":0,\"1f9cf-1f3fb\":0,\"1f9cf-1f3fc\":0,\"1f9cf-1f3fd\":0,\"1f9cf-1f3fe\":0,\"1f9cf-1f3ff\":0,\"1f9d1-1f3fb-200d-1f33e\":0,\"1f9d1-1f3fc-200d-1f33e\":0,\"1f9d1-1f3fd-200d-1f33e\":0,\"1f9d1-1f3fe-200d-1f33e\":0,\"1f9d1-1f3ff-200d-1f33e\":0,\"1f9d1-1f3fb-200d-1f373\":0,\"1f9d1-1f3fc-200d-1f373\":0,\"1f9d1-1f3fd-200d-1f373\":0,\"1f9d1-1f3fe-200d-1f373\":0,\"1f9d1-1f3ff-200d-1f373\":0,\"1f9d1-1f3fb-200d-1f37c\":0,\"1f9d1-1f3fc-200d-1f37c\":0,\"1f9d1-1f3fd-200d-1f37c\":0,\"1f9d1-1f3fe-200d-1f37c\":0,\"1f9d1-1f3ff-200d-1f37c\":0,\"1f9d1-1f3fb-200d-1f384\":0,\"1f9d1-1f3fc-200d-1f384\":0,\"1f9d1-1f3fd-200d-1f384\":0,\"1f9d1-1f3fe-200d-1f384\":0,\"1f9d1-1f3ff-200d-1f384\":0,\"1f9d1-1f3fb-200d-1f393\":0,\"1f9d1-1f3fc-200d-1f393\":0,\"1f9d1-1f3fd-200d-1f393\":0,\"1f9d1-1f3fe-200d-1f393\":0,\"1f9d1-1f3ff-200d-1f393\":0,\"1f9d1-1f3fb-200d-1f3a4\":0,\"1f9d1-1f3fc-200d-1f3a4\":0,\"1f9d1-1f3fd-200d-1f3a4\":0,\"1f9d1-1f3fe-200d-1f3a4\":0,\"1f9d1-1f3ff-200d-1f3a4\":0,\"1f9d1-1f3fb-200d-1f3a8\":0,\"1f9d1-1f3fc-200d-1f3a8\":0,\"1f9d1-1f3fd-200d-1f3a8\":0,\"1f9d1-1f3fe-200d-1f3a8\":0,\"1f9d1-1f3ff-200d-1f3a8\":0,\"1f9d1-1f3fb-200d-1f3eb\":0,\"1f9d1-1f3fc-200d-1f3eb\":0,\"1f9d1-1f3fd-200d-1f3eb\":0,\"1f9d1-1f3fe-200d-1f3eb\":0,\"1f9d1-1f3ff-200d-1f3eb\":0,\"1f9d1-1f3fb-200d-1f3ed\":0,\"1f9d1-1f3fc-200d-1f3ed\":0,\"1f9d1-1f3fd-200d-1f3ed\":0,\"1f9d1-1f3fe-200d-1f3ed\":0,\"1f9d1-1f3ff-200d-1f3ed\":0,\"1f9d1-1f3fb-200d-1f4bb\":0,\"1f9d1-1f3fc-200d-1f4bb\":0,\"1f9d1-1f3fd-200d-1f4bb\":0,\"1f9d1-1f3fe-200d-1f4bb\":0,\"1f9d1-1f3ff-200d-1f4bb\":0,\"1f9d1-1f3fb-200d-1f4bc\":0,\"1f9d1-1f3fc-200d-1f4bc\":0,\"1f9d1-1f3fd-200d-1f4bc\":0,\"1f9d1-1f3fe-200d-1f4bc\":0,\"1f9d1-1f3ff-200d-1f4bc\":0,\"1f9d1-1f3fb-200d-1f527\":0,\"1f9d1-1f3fc-200d-1f527\":0,\"1f9d1-1f3fd-200d-1f527\":0,\"1f9d1-1f3fe-200d-1f527\":0,\"1f9d1-1f3ff-200d-1f527\":0,\"1f9d1-1f3fb-200d-1f52c\":0,\"1f9d1-1f3fc-200d-1f52c\":0,\"1f9d1-1f3fd-200d-1f52c\":0,\"1f9d1-1f3fe-200d-1f52c\":0,\"1f9d1-1f3ff-200d-1f52c\":0,\"1f9d1-1f3fb-200d-1f680\":0,\"1f9d1-1f3fc-200d-1f680\":0,\"1f9d1-1f3fd-200d-1f680\":0,\"1f9d1-1f3fe-200d-1f680\":0,\"1f9d1-1f3ff-200d-1f680\":0,\"1f9d1-1f3fb-200d-1f692\":0,\"1f9d1-1f3fc-200d-1f692\":0,\"1f9d1-1f3fd-200d-1f692\":0,\"1f9d1-1f3fe-200d-1f692\":0,\"1f9d1-1f3ff-200d-1f692\":0,\"1f9d1-1f3fb-200d-1f91d-200d-1f9d1-1f3fb\":0,\"1f9d1-1f3fb-200d-1f91d-200d-1f9d1-1f3fc\":0,\"1f9d1-1f3fb-200d-1f91d-200d-1f9d1-1f3fd\":0,\"1f9d1-1f3fb-200d-1f91d-200d-1f9d1-1f3fe\":0,\"1f9d1-1f3fb-200d-1f91d-200d-1f9d1-1f3ff\":0,\"1f9d1-1f3fc-200d-1f91d-200d-1f9d1-1f3fb\":0,\"1f9d1-1f3fc-200d-1f91d-200d-1f9d1-1f3fc\":0,\"1f9d1-1f3fc-200d-1f91d-200d-1f9d1-1f3fd\":0,\"1f9d1-1f3fc-200d-1f91d-200d-1f9d1-1f3fe\":0,\"1f9d1-1f3fc-200d-1f91d-200d-1f9d1-1f3ff\":0,\"1f9d1-1f3fd-200d-1f91d-200d-1f9d1-1f3fb\":0,\"1f9d1-1f3fd-200d-1f91d-200d-1f9d1-1f3fc\":0,\"1f9d1-1f3fd-200d-1f91d-200d-1f9d1-1f3fd\":0,\"1f9d1-1f3fd-200d-1f91d-200d-1f9d1-1f3fe\":0,\"1f9d1-1f3fd-200d-1f91d-200d-1f9d1-1f3ff\":0,\"1f9d1-1f3fe-200d-1f91d-200d-1f9d1-1f3fb\":0,\"1f9d1-1f3fe-200d-1f91d-200d-1f9d1-1f3fc\":0,\"1f9d1-1f3fe-200d-1f91d-200d-1f9d1-1f3fd\":0,\"1f9d1-1f3fe-200d-1f91d-200d-1f9d1-1f3fe\":0,\"1f9d1-1f3fe-200d-1f91d-200d-1f9d1-1f3ff\":0,\"1f9d1-1f3ff-200d-1f91d-200d-1f9d1-1f3fb\":0,\"1f9d1-1f3ff-200d-1f91d-200d-1f9d1-1f3fc\":0,\"1f9d1-1f3ff-200d-1f91d-200d-1f9d1-1f3fd\":0,\"1f9d1-1f3ff-200d-1f91d-200d-1f9d1-1f3fe\":0,\"1f9d1-1f3ff-200d-1f91d-200d-1f9d1-1f3ff\":0,\"1f9d1-1f3fb-200d-1f9af\":0,\"1f9d1-1f3fc-200d-1f9af\":0,\"1f9d1-1f3fd-200d-1f9af\":0,\"1f9d1-1f3fe-200d-1f9af\":0,\"1f9d1-1f3ff-200d-1f9af\":0,\"1f9d1-1f3fb-200d-1f9b0\":0,\"1f9d1-1f3fc-200d-1f9b0\":0,\"1f9d1-1f3fd-200d-1f9b0\":0,\"1f9d1-1f3fe-200d-1f9b0\":0,\"1f9d1-1f3ff-200d-1f9b0\":0,\"1f9d1-1f3fb-200d-1f9b1\":0,\"1f9d1-1f3fc-200d-1f9b1\":0,\"1f9d1-1f3fd-200d-1f9b1\":0,\"1f9d1-1f3fe-200d-1f9b1\":0,\"1f9d1-1f3ff-200d-1f9b1\":0,\"1f9d1-1f3fb-200d-1f9b2\":0,\"1f9d1-1f3fc-200d-1f9b2\":0,\"1f9d1-1f3fd-200d-1f9b2\":0,\"1f9d1-1f3fe-200d-1f9b2\":0,\"1f9d1-1f3ff-200d-1f9b2\":0,\"1f9d1-1f3fb-200d-1f9b3\":0,\"1f9d1-1f3fc-200d-1f9b3\":0,\"1f9d1-1f3fd-200d-1f9b3\":0,\"1f9d1-1f3fe-200d-1f9b3\":0,\"1f9d1-1f3ff-200d-1f9b3\":0,\"1f9d1-1f3fb-200d-1f9bc\":0,\"1f9d1-1f3fc-200d-1f9bc\":0,\"1f9d1-1f3fd-200d-1f9bc\":0,\"1f9d1-1f3fe-200d-1f9bc\":0,\"1f9d1-1f3ff-200d-1f9bc\":0,\"1f9d1-1f3fb-200d-1f9bd\":0,\"1f9d1-1f3fc-200d-1f9bd\":0,\"1f9d1-1f3fd-200d-1f9bd\":0,\"1f9d1-1f3fe-200d-1f9bd\":0,\"1f9d1-1f3ff-200d-1f9bd\":0,\"1f9d1-1f3fb-200d-2695\":0,\"1f9d1-1f3fc-200d-2695\":0,\"1f9d1-1f3fd-200d-2695\":0,\"1f9d1-1f3fe-200d-2695\":0,\"1f9d1-1f3ff-200d-2695\":0,\"1f9d1-1f3fb-200d-2696\":0,\"1f9d1-1f3fc-200d-2696\":0,\"1f9d1-1f3fd-200d-2696\":0,\"1f9d1-1f3fe-200d-2696\":0,\"1f9d1-1f3ff-200d-2696\":0,\"1f9d1-1f3fb-200d-2708\":0,\"1f9d1-1f3fc-200d-2708\":0,\"1f9d1-1f3fd-200d-2708\":0,\"1f9d1-1f3fe-200d-2708\":0,\"1f9d1-1f3ff-200d-2708\":0,\"1f9d1-1f3fb\":0,\"1f9d1-1f3fc\":0,\"1f9d1-1f3fd\":0,\"1f9d1-1f3fe\":0,\"1f9d1-1f3ff\":0,\"1f9d2-1f3fb\":0,\"1f9d2-1f3fc\":0,\"1f9d2-1f3fd\":0,\"1f9d2-1f3fe\":0,\"1f9d2-1f3ff\":0,\"1f9d3-1f3fb\":0,\"1f9d3-1f3fc\":0,\"1f9d3-1f3fd\":0,\"1f9d3-1f3fe\":0,\"1f9d3-1f3ff\":0,\"1f9d4-1f3fb-200d-2640\":0,\"1f9d4-1f3fc-200d-2640\":0,\"1f9d4-1f3fd-200d-2640\":0,\"1f9d4-1f3fe-200d-2640\":0,\"1f9d4-1f3ff-200d-2640\":0,\"1f9d4-1f3fb-200d-2642\":0,\"1f9d4-1f3fc-200d-2642\":0,\"1f9d4-1f3fd-200d-2642\":0,\"1f9d4-1f3fe-200d-2642\":0,\"1f9d4-1f3ff-200d-2642\":0,\"1f9d4-1f3fb\":0,\"1f9d4-1f3fc\":0,\"1f9d4-1f3fd\":0,\"1f9d4-1f3fe\":0,\"1f9d4-1f3ff\":0,\"1f9d5-1f3fb\":0,\"1f9d5-1f3fc\":0,\"1f9d5-1f3fd\":0,\"1f9d5-1f3fe\":0,\"1f9d5-1f3ff\":0,\"1f9d6-1f3fb-200d-2640\":0,\"1f9d6-1f3fc-200d-2640\":0,\"1f9d6-1f3fd-200d-2640\":0,\"1f9d6-1f3fe-200d-2640\":0,\"1f9d6-1f3ff-200d-2640\":0,\"1f9d6-1f3fb-200d-2642\":0,\"1f9d6-1f3fc-200d-2642\":0,\"1f9d6-1f3fd-200d-2642\":0,\"1f9d6-1f3fe-200d-2642\":0,\"1f9d6-1f3ff-200d-2642\":0,\"1f9d6-1f3fb\":0,\"1f9d6-1f3fc\":0,\"1f9d6-1f3fd\":0,\"1f9d6-1f3fe\":0,\"1f9d6-1f3ff\":0,\"1f9d7-1f3fb-200d-2640\":0,\"1f9d7-1f3fc-200d-2640\":0,\"1f9d7-1f3fd-200d-2640\":0,\"1f9d7-1f3fe-200d-2640\":0,\"1f9d7-1f3ff-200d-2640\":0,\"1f9d7-1f3fb-200d-2642\":0,\"1f9d7-1f3fc-200d-2642\":0,\"1f9d7-1f3fd-200d-2642\":0,\"1f9d7-1f3fe-200d-2642\":0,\"1f9d7-1f3ff-200d-2642\":0,\"1f9d7-1f3fb\":0,\"1f9d7-1f3fc\":0,\"1f9d7-1f3fd\":0,\"1f9d7-1f3fe\":0,\"1f9d7-1f3ff\":0,\"1f9d8-1f3fb-200d-2640\":0,\"1f9d8-1f3fc-200d-2640\":0,\"1f9d8-1f3fd-200d-2640\":0,\"1f9d8-1f3fe-200d-2640\":0,\"1f9d8-1f3ff-200d-2640\":0,\"1f9d8-1f3fb-200d-2642\":0,\"1f9d8-1f3fc-200d-2642\":0,\"1f9d8-1f3fd-200d-2642\":0,\"1f9d8-1f3fe-200d-2642\":0,\"1f9d8-1f3ff-200d-2642\":0,\"1f9d8-1f3fb\":0,\"1f9d8-1f3fc\":0,\"1f9d8-1f3fd\":0,\"1f9d8-1f3fe\":0,\"1f9d8-1f3ff\":0,\"1f9d9-1f3fb-200d-2640\":0,\"1f9d9-1f3fc-200d-2640\":0,\"1f9d9-1f3fd-200d-2640\":0,\"1f9d9-1f3fe-200d-2640\":0,\"1f9d9-1f3ff-200d-2640\":0,\"1f9d9-1f3fb-200d-2642\":0,\"1f9d9-1f3fc-200d-2642\":0,\"1f9d9-1f3fd-200d-2642\":0,\"1f9d9-1f3fe-200d-2642\":0,\"1f9d9-1f3ff-200d-2642\":0,\"1f9d9-1f3fb\":0,\"1f9d9-1f3fc\":0,\"1f9d9-1f3fd\":0,\"1f9d9-1f3fe\":0,\"1f9d9-1f3ff\":0,\"1f9da-1f3fb-200d-2640\":0,\"1f9da-1f3fc-200d-2640\":0,\"1f9da-1f3fd-200d-2640\":0,\"1f9da-1f3fe-200d-2640\":0,\"1f9da-1f3ff-200d-2640\":0,\"1f9da-1f3fb-200d-2642\":0,\"1f9da-1f3fc-200d-2642\":0,\"1f9da-1f3fd-200d-2642\":0,\"1f9da-1f3fe-200d-2642\":0,\"1f9da-1f3ff-200d-2642\":0,\"1f9da-1f3fb\":0,\"1f9da-1f3fc\":0,\"1f9da-1f3fd\":0,\"1f9da-1f3fe\":0,\"1f9da-1f3ff\":0,\"1f9db-1f3fb-200d-2640\":0,\"1f9db-1f3fc-200d-2640\":0,\"1f9db-1f3fd-200d-2640\":0,\"1f9db-1f3fe-200d-2640\":0,\"1f9db-1f3ff-200d-2640\":0,\"1f9db-1f3fb-200d-2642\":0,\"1f9db-1f3fc-200d-2642\":0,\"1f9db-1f3fd-200d-2642\":0,\"1f9db-1f3fe-200d-2642\":0,\"1f9db-1f3ff-200d-2642\":0,\"1f9db-1f3fb\":0,\"1f9db-1f3fc\":0,\"1f9db-1f3fd\":0,\"1f9db-1f3fe\":0,\"1f9db-1f3ff\":0,\"1f9dc-1f3fb-200d-2640\":0,\"1f9dc-1f3fc-200d-2640\":0,\"1f9dc-1f3fd-200d-2640\":0,\"1f9dc-1f3fe-200d-2640\":0,\"1f9dc-1f3ff-200d-2640\":0,\"1f9dc-1f3fb-200d-2642\":0,\"1f9dc-1f3fc-200d-2642\":0,\"1f9dc-1f3fd-200d-2642\":0,\"1f9dc-1f3fe-200d-2642\":0,\"1f9dc-1f3ff-200d-2642\":0,\"1f9dc-1f3fb\":0,\"1f9dc-1f3fc\":0,\"1f9dc-1f3fd\":0,\"1f9dc-1f3fe\":0,\"1f9dc-1f3ff\":0,\"1f9dd-1f3fb-200d-2640\":0,\"1f9dd-1f3fc-200d-2640\":0,\"1f9dd-1f3fd-200d-2640\":0,\"1f9dd-1f3fe-200d-2640\":0,\"1f9dd-1f3ff-200d-2640\":0,\"1f9dd-1f3fb-200d-2642\":0,\"1f9dd-1f3fc-200d-2642\":0,\"1f9dd-1f3fd-200d-2642\":0,\"1f9dd-1f3fe-200d-2642\":0,\"1f9dd-1f3ff-200d-2642\":0,\"1f9dd-1f3fb\":0,\"1f9dd-1f3fc\":0,\"1f9dd-1f3fd\":0,\"1f9dd-1f3fe\":0,\"1f9dd-1f3ff\":0,\"261d-1f3fb\":0,\"261d-1f3fc\":0,\"261d-1f3fd\":0,\"261d-1f3fe\":0,\"261d-1f3ff\":0,\"26f9-1f3fb-200d-2640\":0,\"26f9-1f3fc-200d-2640\":0,\"26f9-1f3fd-200d-2640\":0,\"26f9-1f3fe-200d-2640\":0,\"26f9-1f3ff-200d-2640\":0,\"26f9-1f3fb-200d-2642\":0,\"26f9-1f3fc-200d-2642\":0,\"26f9-1f3fd-200d-2642\":0,\"26f9-1f3fe-200d-2642\":0,\"26f9-1f3ff-200d-2642\":0,\"26f9-1f3fb\":0,\"26f9-1f3fc\":0,\"26f9-1f3fd\":0,\"26f9-1f3fe\":0,\"26f9-1f3ff\":0,\"270a-1f3fb\":0,\"270a-1f3fc\":0,\"270a-1f3fd\":0,\"270a-1f3fe\":0,\"270a-1f3ff\":0,\"270b-1f3fb\":0,\"270b-1f3fc\":0,\"270b-1f3fd\":0,\"270b-1f3fe\":0,\"270b-1f3ff\":0,\"270c-1f3fb\":0,\"270c-1f3fc\":0,\"270c-1f3fd\":0,\"270c-1f3fe\":0,\"270c-1f3ff\":0,\"270d-1f3fb\":0,\"270d-1f3fc\":0,\"270d-1f3fd\":0,\"270d-1f3fe\":0,\"270d-1f3ff\":0}};\r\n\r\nconst Emoji: {[emoji: string]: number} = EmojiVersions[''];\r\nfor(const version in EmojiVersions) {\r\n  if(version) {\r\n    Object.assign(Emoji, EmojiVersions[version as EMOJI_VERSION]);\r\n  }\r\n}\r\n\r\nexport default Emoji;\r\n\r\n/* Emoji[\"00a9-fe0f\"] = 6362;\r\nEmoji[\"00ae-fe0f\"] = 6363;\r\nEmoji[\"2122-fe0f\"] = 6364; */\r\n","/*\r\n * https://github.com/morethanwords/tweb\r\n * Copyright (C) 2019-2021 Eduard Kuzmenko\r\n * https://github.com/morethanwords/tweb/blob/master/LICENSE\r\n */\r\n\r\nimport ctx from './ctx';\r\n\r\nexport const USER_AGENT = navigator ? navigator.userAgent : null;\r\nexport const IS_APPLE = navigator.userAgent.search(/OS X|iPhone|iPad|iOS/i) !== -1;\r\nexport const IS_ANDROID = navigator.userAgent.toLowerCase().indexOf('android') !== -1;\r\nexport const IS_CHROMIUM = /Chrome/.test(navigator.userAgent) && /Google Inc/.test(navigator.vendor);\r\n\r\n// https://stackoverflow.com/a/58065241\r\nexport const IS_APPLE_MOBILE = (/iPad|iPhone|iPod/.test(navigator.platform) ||\r\n  (navigator.platform === 'MacIntel' && navigator.maxTouchPoints > 1)) &&\r\n  !(ctx as any).MSStream;\r\n\r\nexport const IS_SAFARI = !!('safari' in ctx) || !!(USER_AGENT && (/\\b(iPad|iPhone|iPod)\\b/.test(USER_AGENT) || (!!USER_AGENT.match('Safari') && !USER_AGENT.match('Chrome'))))/*  || true */;\r\nexport const IS_FIREFOX = navigator.userAgent.toLowerCase().indexOf('firefox') > -1;\r\n\r\nexport const IS_MOBILE_SAFARI = IS_SAFARI && IS_APPLE_MOBILE;\r\n\r\nexport const IS_MOBILE = /* screen.width && screen.width < 480 ||  */navigator.maxTouchPoints > 0 && navigator.userAgent.search(/iOS|iPhone OS|Android|BlackBerry|BB10|Series ?[64]0|J2ME|MIDP|opera mini|opera mobi|mobi.+Gecko|Windows Phone/i) != -1;\r\n","/*\r\n * https://github.com/morethanwords/tweb\r\n * Copyright (C) 2019-2021 Eduard Kuzmenko\r\n * https://github.com/morethanwords/tweb/blob/master/LICENSE\r\n * \r\n * Originally from:\r\n * https://github.com/zhukov/webogram\r\n * Copyright (C) 2014 Igor Zhukov <igor.beatle@gmail.com>\r\n * https://github.com/zhukov/webogram/blob/master/LICENSE\r\n */\r\n\r\nimport LatinizeMap from \"../config/latinizeMap\";\r\n\r\nexport const badCharsRe = /[`~!@#$%^&*()\\-_=+\\[\\]\\\\|{}'\";:\\/?.>,<]+/g;\r\nconst trimRe = /^\\s+|\\s$/g;\r\n\r\nconst C2L: {[k: string]: string} = {\r\n  й: 'q',\r\n  ц: 'w',\r\n  у: 'e',\r\n  к: 'r',\r\n  е: 't',\r\n  н: 'y',\r\n  г: 'u',\r\n  ш: 'i',\r\n  щ: 'o',\r\n  з: 'p',\r\n  х: '[',\r\n  ъ: ']',\r\n  ф: 'a',\r\n  ы: 's',\r\n  в: 'd',\r\n  а: 'f',\r\n  п: 'g',\r\n  р: 'h',\r\n  о: 'j',\r\n  л: 'k',\r\n  д: 'l',\r\n  ж: ';',\r\n  э: '\\'',\r\n  я: 'z',\r\n  ч: 'x',\r\n  с: 'c',\r\n  м: 'v',\r\n  и: 'b',\r\n  т: 'n',\r\n  ь: 'm',\r\n  б: ',',\r\n  ю: '.',\r\n  '.': '/'\r\n};\r\n\r\nexport function clearBadCharsAndTrim(text: string) {\r\n  return text.replace(badCharsRe, '').replace(trimRe, '');\r\n}\r\n\r\nexport function fixCyrillic(text: string) {\r\n  return text.toLowerCase().replace(/[\\wа-я]/g, (ch) => {\r\n    const latinizeCh = C2L[ch];\r\n    return latinizeCh ?? ch;\r\n  });\r\n}\r\n\r\nexport function latinizeString(text: string) {\r\n  return text.replace(/[^A-Za-z0-9]/g, (ch) => {\r\n    const latinizeCh = LatinizeMap[ch];\r\n    return latinizeCh ?? ch;\r\n  });\r\n}\r\n\r\nexport default function cleanSearchText(text: string, latinize = true) {\r\n  return processSearchText(text, {\r\n    clearBadChars: true,\r\n    latinize,\r\n    ignoreCase: true\r\n  });\r\n}\r\n\r\nexport type ProcessSearchTextOptions = Partial<{\r\n  clearBadChars: boolean,\r\n  latinize: boolean,\r\n  ignoreCase: boolean,\r\n  includeTag: boolean\r\n}>;\r\n\r\nexport function processSearchText(text: string, options: ProcessSearchTextOptions = {}) {\r\n  const hasTag = options.includeTag && text.charAt(0) === '%';\r\n  const originalText = text;\r\n  if(options.clearBadChars) text = clearBadCharsAndTrim(text);\r\n  if(options.latinize) text = latinizeString(text);\r\n  if(options.ignoreCase) text = text.toLowerCase();\r\n  if(hasTag) text = '%' + text;\r\n  if(options.latinize) text += '\\x01' + fixCyrillic(originalText);\r\n  return text;\r\n}\r\n","/*\r\n * https://github.com/morethanwords/tweb\r\n * Copyright (C) 2019-2021 Eduard Kuzmenko\r\n * https://github.com/morethanwords/tweb/blob/master/LICENSE\r\n */\r\n\r\nimport type { InputFileLocation, InputStickerSet, InputWebFileLocation } from \"../layer\";\r\nimport type { DownloadOptions } from \"../lib/mtproto/apiFileManager\";\r\n\r\nconst FILENAME_JOINER = '_';\r\n\r\nexport function getFileNameByLocation(location: InputFileLocation | InputWebFileLocation, options?: Partial<{\r\n  fileName: string\r\n}>) {\r\n  const fileName = '';//(options?.fileName || '').split('.');\r\n  const ext = fileName[fileName.length - 1] || '';\r\n\r\n  let str: string;\r\n  switch(location._) {\r\n    case 'inputPhotoFileLocation': {\r\n      str = ['photo', fileName[0], location.id, location.thumb_size].filter(Boolean).join(FILENAME_JOINER);\r\n      break;\r\n    }\r\n\r\n    case 'inputDocumentFileLocation': {\r\n      str = ['document', fileName[0], location.id, location.thumb_size].filter(Boolean).join(FILENAME_JOINER);\r\n      break;\r\n    }\r\n\r\n    case 'inputPeerPhotoFileLocation':\r\n      str = ['peerPhoto', location.photo_id, location.pFlags.big ? 'big' : 'small'].join(FILENAME_JOINER);\r\n      break;\r\n    \r\n    case 'inputStickerSetThumb': {\r\n      const id = (location.stickerset as InputStickerSet.inputStickerSetID).id || \r\n        (location.stickerset as InputStickerSet.inputStickerSetShortName).short_name || \r\n        (location.stickerset as InputStickerSet.inputStickerSetDice).emoticon || \r\n        location.stickerset._;\r\n      str = ['stickerSetThumb', id, location.thumb_version].join(FILENAME_JOINER);\r\n      break;\r\n    }\r\n\r\n    case 'inputFileLocation': {\r\n      str = location.volume_id + '_' + location.local_id;\r\n      break;\r\n    }\r\n\r\n    case 'inputWebFileLocation': {\r\n      str = ['webFile', location.url].join(FILENAME_JOINER);\r\n      break;\r\n    }\r\n\r\n    default: {\r\n      console.error('Unrecognized location:', location);\r\n      str = '';\r\n      break;\r\n    }\r\n  }\r\n\r\n  return str + (ext ? '.' + ext : ext);\r\n}\r\n\r\nexport type FileURLType = 'photo' | 'thumb' | 'document' | 'stream' | 'download';\r\nexport function getFileURL(type: FileURLType, options: DownloadOptions) {\r\n  //console.log('getFileURL', location);\r\n  //const perf = performance.now();\r\n  const encoded = encodeURIComponent(JSON.stringify(options));\r\n  //console.log('getFileURL encode:', performance.now() - perf, encoded);\r\n\r\n  return '/' + type + '/' + encoded;\r\n}\r\n","/*\r\n * https://github.com/morethanwords/tweb\r\n * Copyright (C) 2019-2021 Eduard Kuzmenko\r\n * https://github.com/morethanwords/tweb/blob/master/LICENSE\r\n * \r\n * Originally from:\r\n * https://github.com/zhukov/webogram\r\n * Copyright (C) 2014 Igor Zhukov <igor.beatle@gmail.com>\r\n * https://github.com/zhukov/webogram/blob/master/LICENSE\r\n */\r\n\r\nimport { Database } from '../config/databases';\r\nimport Modes from '../config/modes';\r\nimport safeAssign from '../helpers/object/safeAssign';\r\nimport { logger } from './logger';\r\n\r\n/**\r\n * https://developer.mozilla.org/en-US/docs/Web/API/IDBObjectStore/createIndex\r\n */\r\nexport type IDBIndex = {\r\n  indexName: string,\r\n  keyPath: string,\r\n  objectParameters: IDBIndexParameters\r\n};\r\n\r\nexport type IDBStore = {\r\n  name: string, \r\n  indexes?: IDBIndex[]\r\n};\r\n\r\nexport type IDBOptions = {\r\n  name?: string,\r\n  storeName: string,\r\n  stores?: IDBStore[],\r\n  version?: number\r\n};\r\n\r\nconst DEBUG = false;\r\n\r\nexport class IDB {\r\n  private static INSTANCES: IDB[] = [];\r\n  private openDbPromise: Promise<IDBDatabase>;\r\n  private db: IDBDatabase;\r\n  private storageIsAvailable: boolean;\r\n  private log: ReturnType<typeof logger>;\r\n  private name: string;\r\n  private version: number;\r\n  private stores: IDBStore[];\r\n\r\n  constructor(db: Database<any>) {\r\n    safeAssign(this, db);\r\n\r\n    if(Modes.test) {\r\n      this.name += '_test';\r\n    }\r\n\r\n    this.storageIsAvailable = true;\r\n    this.log = logger(['IDB', db.name].join('-'));\r\n    this.log('constructor');\r\n\r\n    this.openDatabase(true);\r\n\r\n    IDB.INSTANCES.push(this);\r\n  }\r\n\r\n  public isAvailable() {\r\n    return this.storageIsAvailable;\r\n  }\r\n\r\n  public openDatabase(createNew = false): Promise<IDBDatabase> {\r\n    if(this.openDbPromise && !createNew) {\r\n      return this.openDbPromise;\r\n    }\r\n\r\n    const createIndexes = (os: IDBObjectStore, store: IDBStore) => {\r\n      const indexNames = Array.from(os.indexNames);\r\n      for(const indexName of indexNames) {\r\n        os.deleteIndex(indexName);\r\n      }\r\n\r\n      if(!store.indexes?.length) {\r\n        return;\r\n      }\r\n\r\n      for(const index of store.indexes) {\r\n        if(os.indexNames.contains(index.indexName)) {\r\n          continue;\r\n        }\r\n\r\n        os.createIndex(index.indexName, index.keyPath, index.objectParameters);\r\n      }\r\n    };\r\n\r\n    const createObjectStore = (db: IDBDatabase, store: IDBStore) => {\r\n      const os = db.createObjectStore(store.name);\r\n      createIndexes(os, store);\r\n    };\r\n\r\n    try {\r\n      var request = indexedDB.open(this.name, this.version);\r\n\r\n      if(!request) {\r\n        return Promise.reject();\r\n      }\r\n    } catch(error) {\r\n      this.log.error('error opening db', (error as Error).message);\r\n      this.storageIsAvailable = false;\r\n      return Promise.reject(error);\r\n    }\r\n\r\n    let finished = false;\r\n    setTimeout(() => {\r\n      if(!finished) {\r\n        request.onerror({type: 'IDB_CREATE_TIMEOUT'} as Event);\r\n      }\r\n    }, 3000);\r\n\r\n    return this.openDbPromise = new Promise<IDBDatabase>((resolve, reject) => {\r\n      request.onsuccess = (event) => {\r\n        finished = true;\r\n        const db = request.result;\r\n        let calledNew = false;\r\n\r\n        this.log('Opened');\r\n  \r\n        db.onerror = (error) => {\r\n          this.storageIsAvailable = false;\r\n          this.log.error('Error creating/accessing IndexedDB database', error);\r\n          reject(error);\r\n        };\r\n\r\n        db.onclose = (e) => {\r\n          this.log.error('closed:', e);\r\n          !calledNew && this.openDatabase();\r\n        };\r\n\r\n        db.onabort = (e) => {\r\n          this.log.error('abort:', e);\r\n          const transaction = e.target as IDBTransaction;\r\n          \r\n          this.openDatabase(calledNew = true);\r\n\r\n          if(transaction.onerror) {\r\n            transaction.onerror(e);\r\n          }\r\n\r\n          db.close();\r\n        };\r\n\r\n        db.onversionchange = (e) => {\r\n          this.log.error('onversionchange, lol?');\r\n        };\r\n\r\n        resolve(this.db = db);\r\n      };\r\n  \r\n      request.onerror = (event) => {\r\n        finished = true;\r\n        this.storageIsAvailable = false;\r\n        this.log.error('Error creating/accessing IndexedDB database', event);\r\n        reject(event);\r\n      };\r\n  \r\n      request.onupgradeneeded = (event) => {\r\n        finished = true;\r\n        this.log.warn('performing idb upgrade from', event.oldVersion, 'to', event.newVersion);\r\n\r\n        const target = event.target as IDBOpenDBRequest;\r\n        const db = target.result;\r\n        this.stores.forEach((store) => {\r\n          /* if(db.objectStoreNames.contains(store.name)) {\r\n            //if(event.oldVersion === 1) {\r\n              db.deleteObjectStore(store.name);\r\n            //}\r\n          } */\r\n    \r\n          if(!db.objectStoreNames.contains(store.name)) {\r\n            createObjectStore(db, store);\r\n          } else {\r\n            const txn = target.transaction;\r\n            const os = txn.objectStore(store.name);\r\n            createIndexes(os, store);\r\n          }\r\n        });\r\n      };\r\n    });\r\n  }\r\n\r\n  public static create<T extends Database<any>>(db: T) {\r\n    return this.INSTANCES.find((instance) => instance.name === db.name) ?? new IDB(db);\r\n  }\r\n\r\n  public static closeDatabases(preserve?: IDB) {\r\n    this.INSTANCES.forEach((storage) => {\r\n      if(preserve && preserve === storage) {\r\n        return;\r\n      }\r\n\r\n      const db = storage.db;\r\n      if(db) {\r\n        db.onclose = () => {};\r\n        db.close();\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nexport default class IDBStorage<T extends Database<any>, StoreName extends string = T['stores'][0]['name']> {\r\n  private log: ReturnType<typeof logger>;\r\n  private storeName: T['stores'][0]['name'];\r\n  private idb: IDB;\r\n\r\n  constructor(db: T, storeName: typeof db['stores'][0]['name']) {\r\n    this.storeName = storeName;\r\n    this.log = logger(['IDB', db.name, storeName].join('-'));\r\n    this.idb = IDB.create(db);\r\n  }\r\n\r\n  /**\r\n   * ! WARNING ! function requires at least one opened connection\r\n   */\r\n  /* public static clearObjectStores() {\r\n    const storage = this.STORAGES[0];\r\n    this.closeDatabases(storage);\r\n\r\n    const names = Array.from(storage.db.objectStoreNames);\r\n    const promises = names.map((name) => storage.clear(name));\r\n    return Promise.all(promises);\r\n  } */\r\n\r\n  /* public static deleteDatabase() {\r\n    this.closeDatabases();\r\n\r\n    const storages = this.STORAGES;\r\n    const dbNames = Array.from(new Set(storages.map((storage) => storage.name)));\r\n    const promises = dbNames.map((dbName) => {\r\n      return new Promise<void>((resolve, reject) => {\r\n        const deleteRequest = indexedDB.deleteDatabase(dbName);\r\n  \r\n        deleteRequest.onerror = () => {\r\n          reject();\r\n        };\r\n  \r\n        deleteRequest.onsuccess = () => {\r\n          resolve();\r\n        };\r\n      });\r\n    });\r\n\r\n    return Promise.all(promises);\r\n  } */\r\n\r\n  public delete(entryName: string | string[], storeName?: StoreName): Promise<void> {\r\n    //return Promise.resolve();\r\n    if(!Array.isArray(entryName)) {\r\n      entryName = [].concat(entryName);\r\n    }\r\n\r\n    return this.getObjectStore('readwrite', (objectStore) => {\r\n      return (entryName as string[]).map((entryName) => objectStore.delete(entryName));\r\n    }, DEBUG ? 'delete: ' + entryName.join(', ') : '', storeName);\r\n  }\r\n\r\n  public clear(storeName?: StoreName): Promise<void> {\r\n    return this.getObjectStore('readwrite', (objectStore) => objectStore.clear(), DEBUG ? 'clear' : '', storeName);\r\n  }\r\n\r\n  public save(entryName: string | string[], value: any | any[], storeName?: StoreName) {\r\n    // const handleError = (error: Error) => {\r\n    //   this.log.error('save: transaction error:', entryName, value, db, error, error && error.name);\r\n    //   if((!error || error.name === 'InvalidStateError')/*  && false */) {\r\n    //     setTimeout(() => {\r\n    //       this.save(entryName, value);\r\n    //     }, 2e3);\r\n    //   } else {\r\n    //     //console.error('IndexedDB saveFile transaction error:', error, error && error.name);\r\n    //   }\r\n    // };\r\n\r\n    if(!Array.isArray(entryName)) {\r\n      entryName = [].concat(entryName);\r\n      value = [].concat(value);\r\n    }\r\n    \r\n    return this.getObjectStore('readwrite', (objectStore) => {\r\n      return (entryName as string[]).map((entryName, idx) => objectStore.put(value[idx], entryName));\r\n    }, DEBUG ? 'save: ' + entryName.join(', ') : '', storeName);\r\n  }\r\n\r\n  // public saveFile(fileName: string, blob: Blob | Uint8Array) {\r\n  //   //return Promise.resolve(blobConstruct([blob]));\r\n  //   if(!(blob instanceof Blob)) {\r\n  //     blob = blobConstruct(blob);\r\n  //   }\r\n\r\n  //   return this.save(fileName, blob);\r\n  // }\r\n\r\n  /* public saveFileBase64(db: IDBDatabase, fileName: string, blob: Blob | any): Promise<Blob> {\r\n    if(this.getBlobSize(blob) > 10 * 1024 * 1024) {\r\n      return Promise.reject();\r\n    }\r\n\r\n    if(!(blob instanceof Blob)) {\r\n      var safeMimeType = blobSafeMimeType(blob.type || 'image/jpeg');\r\n      var address = 'data:' + safeMimeType + ';base64,' + bytesToBase64(blob);\r\n      return this.storagePutB64String(db, fileName, address).then(() => {\r\n        return blob;\r\n      });\r\n    }\r\n\r\n    try {\r\n      var reader = new FileReader();\r\n    } catch (e) {\r\n      this.storageIsAvailable = false;\r\n      return Promise.reject();\r\n    }\r\n\r\n    let promise = new Promise<Blob>((resolve, reject) => {\r\n      reader.onloadend = () => {\r\n        this.storagePutB64String(db, fileName, reader.result as string).then(() => {\r\n          resolve(blob);\r\n        }, reject);\r\n      }\r\n  \r\n      reader.onerror = reject;\r\n    });\r\n    \r\n\r\n    try {\r\n      reader.readAsDataURL(blob);\r\n    } catch (e) {\r\n      this.storageIsAvailable = false;\r\n      return Promise.reject();\r\n    }\r\n\r\n    return promise;\r\n  }\r\n\r\n  public storagePutB64String(db: IDBDatabase, fileName: string, b64string: string) {\r\n    try {\r\n      var objectStore = db.transaction([this.storeName], 'readwrite')\r\n        .objectStore(this.storeName);\r\n      var request = objectStore.put(b64string, fileName);\r\n    } catch(error) {\r\n      this.storageIsAvailable = false;\r\n      return Promise.reject(error);\r\n    }\r\n\r\n    return new Promise((resolve, reject) => {\r\n      request.onsuccess = function(event) {\r\n        resolve();\r\n      };\r\n  \r\n      request.onerror = reject;\r\n    });\r\n  }\r\n\r\n  public getBlobSize(blob: any) {\r\n    return blob.size || blob.byteLength || blob.length;\r\n  } */\r\n\r\n  public get<T>(entryName: string[], storeName?: StoreName): Promise<T[]>;\r\n  public get<T>(entryName: string, storeName?: StoreName): Promise<T>;\r\n  public get<T>(entryName: string | string[], storeName?: StoreName): Promise<T> | Promise<T[]> {\r\n    //return Promise.reject();\r\n\r\n    if(!Array.isArray(entryName)) {\r\n      entryName = [].concat(entryName);\r\n    }\r\n\r\n    if(!entryName.length) {\r\n      return Promise.resolve([]) as any;\r\n    }\r\n\r\n    return this.getObjectStore<T>('readonly', (objectStore) => {\r\n      return (entryName as string[]).map((entryName) => objectStore.get(entryName));\r\n    }, DEBUG ? 'get: ' + entryName.join(', ') : '', storeName);\r\n  }\r\n\r\n  private getObjectStore<T>(\r\n    mode: IDBTransactionMode, \r\n    callback: (objectStore: IDBObjectStore) => IDBRequest | IDBRequest[], \r\n    log?: string, \r\n    storeName = this.storeName\r\n  ) {\r\n    let perf: number;\r\n\r\n    if(log) {\r\n      perf = performance.now();\r\n      this.log(log + ': start');\r\n    }\r\n\r\n    return this.idb.openDatabase().then((db) => {\r\n      return new Promise<T>((resolve, reject) => {\r\n        /* if(mode === 'readwrite') {\r\n          return;\r\n        } */\r\n\r\n        const transaction = db.transaction([storeName], mode);\r\n\r\n        const onError = () => {\r\n          clearTimeout(timeout);\r\n          reject(transaction.error);\r\n        };\r\n\r\n        // let resolved = false;\r\n        const onComplete = (/* what: string */) => {\r\n          clearTimeout(timeout);\r\n\r\n          if(log) {\r\n            this.log(log + ': end', performance.now() - perf/* , what */);\r\n          }\r\n\r\n          // if(resolved) {\r\n          //   return;\r\n          // }\r\n\r\n          // resolved = true;\r\n          const results = requests.map((r) => r.result);\r\n          resolve(isArray ? results : results[0]);\r\n        };\r\n\r\n        transaction.onerror = onError;\r\n\r\n        // * have to wait while clearing or setting something\r\n        const waitForTransactionComplete = mode === 'readwrite';\r\n        if(waitForTransactionComplete) {\r\n          transaction.oncomplete = () => onComplete(/* 'transaction' */);\r\n        }\r\n  \r\n        const timeout = setTimeout(() => {\r\n          this.log.error('transaction not finished', transaction, log);\r\n        }, 10000);\r\n  \r\n        /* transaction.addEventListener('abort', (e) => {\r\n          //handleError();\r\n          this.log.error('IndexedDB: transaction abort!', transaction.error);\r\n        }); */\r\n  \r\n        const callbackResult = callback(transaction.objectStore(storeName));\r\n\r\n        const isArray = Array.isArray(callbackResult);\r\n        const requests: IDBRequest[] = isArray ? callbackResult : [].concat(callbackResult) as any;\r\n\r\n        if(waitForTransactionComplete) {\r\n          return;\r\n        }\r\n\r\n        const length = requests.length;\r\n        let left = length;\r\n\r\n        const onRequestFinished = () => {\r\n          if(transaction.error) {\r\n            return;\r\n          }\r\n\r\n          if(!--left) {\r\n            onComplete(/* 'requests' */);\r\n          }\r\n        };\r\n\r\n        for(let i = 0; i < length; ++i) {\r\n          const request = requests[i];\r\n          request.onerror = onError;\r\n          request.onsuccess = onRequestFinished;\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  public getAll<T>(storeName?: StoreName): Promise<T[]> {\r\n    return this.getObjectStore<T[]>('readonly', (objectStore) => objectStore.getAll(), DEBUG ? 'getAll' : '', storeName);\r\n  }\r\n\r\n  /* public getAllKeys(): Promise<Array<string>> {\r\n    console.time('getAllEntries');\r\n    return this.openDatabase().then((db) => {\r\n      var objectStore = db.transaction([this.storeName], 'readonly')\r\n        .objectStore(this.storeName);\r\n      var request = objectStore.getAllKeys();\r\n\r\n      return new Promise((resolve, reject) => {\r\n        request.onsuccess = function(event) {\r\n          // @ts-ignore\r\n          var result = event.target.result;\r\n          resolve(result);\r\n          console.timeEnd('getAllEntries');\r\n        }\r\n  \r\n        request.onerror = reject;\r\n      });\r\n    });\r\n  } */\r\n\r\n  /* public isFileExists(fileName: string): Promise<boolean> {\r\n    console.time('isFileExists');\r\n    return this.openDatabase().then((db) => {\r\n      var objectStore = db.transaction([this.storeName], 'readonly')\r\n        .objectStore(this.storeName);\r\n      var request = objectStore.openCursor(fileName);\r\n\r\n      return new Promise((resolve, reject) => {\r\n        request.onsuccess = function(event) {\r\n          // @ts-ignore\r\n          var cursor = event.target.result;\r\n          resolve(!!cursor);\r\n          console.timeEnd('isFileExists');\r\n        }\r\n  \r\n        request.onerror = reject;\r\n      });\r\n    });\r\n  } */\r\n\r\n  /* public getFileWriter(fileName: string, mimeType: string) {\r\n    var fakeWriter = FileManager.getFakeFileWriter(mimeType, (blob) => {\r\n      return this.saveFile(fileName, blob);\r\n    });\r\n\r\n    return Promise.resolve(fakeWriter);\r\n  } */\r\n}\r\n","import type ENVIRONMENT from \".\";\r\n\r\nlet environment: typeof ENVIRONMENT;\r\nexport function getEnvironment() {\r\n  return environment;\r\n}\r\n\r\nexport function setEnvironment(env: typeof environment) {\r\n  return environment = env;\r\n}\r\n","/*\r\n * https://github.com/morethanwords/tweb\r\n * Copyright (C) 2019-2021 Eduard Kuzmenko\r\n * https://github.com/morethanwords/tweb/blob/master/LICENSE\r\n */\r\n\r\nimport type { Message, StickerSet, Update, NotifyPeer, PeerNotifySettings, PollResults, Poll, WebPage, GroupCall, GroupCallParticipant, ReactionCount, MessagePeerReaction, PhoneCall } from \"../layer\";\r\nimport type { AppMessagesManager, Dialog, MessagesStorageKey, MyMessage } from \"./appManagers/appMessagesManager\";\r\nimport type { MyDialogFilter } from \"./storages/filters\";\r\nimport type { Folder } from \"./storages/dialogs\";\r\nimport type { UserTyping } from \"./appManagers/appProfileManager\";\r\nimport type { MyDraftMessage } from \"./appManagers/appDraftsManager\";\r\nimport type { ConnectionStatusChange } from \"./mtproto/connectionStatus\";\r\nimport type { GroupCallId } from \"./appManagers/appGroupCallsManager\";\r\nimport type { AppManagers } from \"./appManagers/managers\";\r\nimport type { State } from \"../config/state\";\r\nimport type { Progress } from \"./appManagers/appDownloadManager\";\r\nimport type { CallId } from \"./appManagers/appCallsManager\";\r\nimport type { MyDocument } from \"./appManagers/appDocsManager\";\r\nimport { NULL_PEER_ID, UserAuth } from \"./mtproto/mtproto_config\";\r\nimport EventListenerBase from \"../helpers/eventListenerBase\";\r\nimport { MOUNT_CLASS_TO } from \"../config/debug\";\r\nimport MTProtoMessagePort from \"./mtproto/mtprotoMessagePort\";\r\nimport { IS_WORKER } from \"../helpers/context\";\r\n\r\nexport type BroadcastEvents = {\r\n  'chat_full_update': ChatId,\r\n  'chat_update': ChatId,\r\n\r\n  'channel_update': ChatId,\r\n  \r\n  'user_update': UserId,\r\n  'user_auth': UserAuth,\r\n  'user_full_update': UserId,\r\n\r\n  'peer_pinned_messages': {peerId: PeerId, mids?: number[], pinned?: boolean, unpinAll?: true},\r\n  'peer_pinned_hidden': {peerId: PeerId, maxId: number},\r\n  'peer_typings': {peerId: PeerId, typings: UserTyping[]},\r\n  'peer_block': {peerId: PeerId, blocked: boolean},\r\n  'peer_title_edit': PeerId,\r\n  'peer_bio_edit': PeerId,\r\n  'peer_deleted': PeerId, // left chat, deleted user dialog, left channel\r\n  'peer_full_update': PeerId,\r\n\r\n  'filter_delete': MyDialogFilter,\r\n  'filter_update': MyDialogFilter,\r\n  'filter_new': MyDialogFilter,\r\n  'filter_order': number[],\r\n\r\n  'folder_unread': Omit<Folder, 'dialogs' | 'dispatchUnreadTimeout'>,\r\n  \r\n  'dialog_draft': {peerId: PeerId, dialog: Dialog, drop: boolean, draft: MyDraftMessage | undefined},\r\n  'dialog_unread': {peerId: PeerId, dialog: Dialog},\r\n  'dialog_flush': {peerId: PeerId, dialog: Dialog},\r\n  'dialog_drop': {peerId: PeerId, dialog?: Dialog},\r\n  'dialog_migrate': {migrateFrom: PeerId, migrateTo: PeerId},\r\n  //'dialog_top': Dialog,\r\n  'dialog_notify_settings': Dialog,\r\n  // 'dialog_order': {dialog: Dialog, pos: number},\r\n  'dialogs_multiupdate': {[peerId: PeerId]: Dialog},\r\n  \r\n  'history_append': {storageKey: MessagesStorageKey, message: Message.message},\r\n  'history_update': {storageKey: MessagesStorageKey, message: MyMessage, sequential?: boolean},\r\n  'history_reply_markup': {peerId: PeerId},\r\n  'history_multiappend': MyMessage,\r\n  'history_delete': {peerId: PeerId, msgs: Set<number>},\r\n  'history_forbidden': PeerId,\r\n  'history_reload': PeerId,\r\n  //'history_request': void,\r\n  \r\n  'message_edit': {storageKey: MessagesStorageKey, peerId: PeerId, mid: number, message: MyMessage},\r\n  'message_sent': {storageKey: MessagesStorageKey, tempId: number, tempMessage: any, mid: number, message: MyMessage},\r\n  'messages_views': {peerId: PeerId, mid: number, views: number}[],\r\n  'messages_reactions': {message: Message.message, changedResults: ReactionCount[]}[],\r\n  'messages_pending': void,\r\n  'messages_read': void,\r\n  'messages_downloaded': {peerId: PeerId, mids: number[]},\r\n  'messages_media_read': {peerId: PeerId, mids: number[]},\r\n\r\n  'replies_updated': Message.message,\r\n\r\n  'scheduled_new': Message.message,\r\n  'scheduled_delete': {peerId: PeerId, mids: number[]},\r\n\r\n  'album_edit': {peerId: PeerId, groupId: string, deletedMids: number[], messages: Message.message[]},\r\n\r\n  'stickers_installed': StickerSet.stickerSet,\r\n  'stickers_deleted': StickerSet.stickerSet,\r\n  'stickers_recent': MyDocument[],\r\n\r\n  'state_cleared': void,\r\n  'state_synchronized': ChatId | void,\r\n  'state_synchronizing': ChatId | void,\r\n  \r\n  'contacts_update': UserId,\r\n  'avatar_update': PeerId,\r\n  'poll_update': {poll: Poll, results: PollResults},\r\n  'invalidate_participants': ChatId,\r\n  //'channel_settings': {channelId: number},\r\n  'webpage_updated': {id: WebPage.webPage['id'], msgs: {peerId: PeerId, mid: number, isScheduled: boolean}[]},\r\n\r\n  'connection_status_change': ConnectionStatusChange,\r\n  'settings_updated': {key: string, value: any, settings: State['settings']},\r\n  'draft_updated': {peerId: PeerId, threadId: number, draft: MyDraftMessage | undefined, force?: boolean},\r\n  \r\n  'background_change': void,\r\n  \r\n  'privacy_update': Update.updatePrivacy,\r\n  \r\n  'notify_settings': Update.updateNotifySettings,\r\n  'notify_peer_type_settings': {key: Exclude<NotifyPeer['_'], 'notifyPeer'>, settings: PeerNotifySettings},\r\n\r\n  'notification_reset': string,\r\n  'notification_cancel': string,\r\n  \r\n  'language_change': string,\r\n  \r\n  'theme_change': void,\r\n\r\n  'media_play': void,\r\n  \r\n  'emoji_recent': string,\r\n  \r\n  'download_progress': Progress,\r\n  'document_downloading': DocId,\r\n  'document_downloaded': DocId,\r\n\r\n  'choosing_sticker': boolean\r\n\r\n  'group_call_update': GroupCall,\r\n  'group_call_participant': {groupCallId: GroupCallId, participant: GroupCallParticipant},\r\n  // 'group_call_video_track_added': {instance: GroupCallInstance}\r\n\r\n  'call_update': PhoneCall,\r\n  'call_signaling': {callId: CallId, data: Uint8Array},\r\n\r\n  'quick_reaction': string,\r\n\r\n  'service_notification': Update.updateServiceNotification,\r\n\r\n  'logging_out': void,\r\n\r\n  'payment_sent': {peerId: PeerId, mid: number, receiptMessage: Message.messageService}\r\n};\r\n\r\nexport type BroadcastEventsListeners = {\r\n  [name in keyof BroadcastEvents]: (e: BroadcastEvents[name]) => void\r\n};\r\n\r\nexport class RootScope extends EventListenerBase<BroadcastEventsListeners> {\r\n  public myId: PeerId = NULL_PEER_ID;\r\n  private connectionStatus: {[name: string]: ConnectionStatusChange} = {};\r\n  public settings: State['settings'];\r\n  public managers: AppManagers;\r\n  public premium: boolean;\r\n\r\n  constructor() {\r\n    super();\r\n\r\n    this.premium = false;\r\n\r\n    this.addEventListener('user_auth', ({id}) => {\r\n      this.myId = id.toPeerId();\r\n    });\r\n\r\n    this.addEventListener('connection_status_change', (status) => {\r\n      this.connectionStatus[status.name] = status;\r\n    });\r\n\r\n    this.dispatchEvent = (e, ...args) => {\r\n      super.dispatchEvent(e, ...args);\r\n      MTProtoMessagePort.getInstance().invokeVoid('event', {name: e as string, args});\r\n    };\r\n\r\n    if(!IS_WORKER) {\r\n      this.addEventListener('settings_updated', ({settings}) => {\r\n        this.settings = settings;\r\n      });\r\n    }\r\n  }\r\n\r\n  public getConnectionStatus() {\r\n    return this.connectionStatus;\r\n  }\r\n  \r\n  public dispatchEventSingle(...args: any[]) {\r\n    // @ts-ignore\r\n    super.dispatchEvent(...args);\r\n  }\r\n}\r\n\r\nconst rootScope = new RootScope();\r\nMOUNT_CLASS_TO.rootScope = rootScope;\r\nexport default rootScope;\r\n","/*\r\n * https://github.com/morethanwords/tweb\r\n * Copyright (C) 2019-2021 Eduard Kuzmenko\r\n * https://github.com/morethanwords/tweb/blob/master/LICENSE\r\n */\r\n\r\nimport type { State } from '../../config/state';\r\nimport rootScope from '../rootScope';\r\nimport stateStorage from '../stateStorage';\r\nimport setDeepProperty from '../../helpers/object/setDeepProperty';\r\nimport MTProtoMessagePort from '../mtproto/mtprotoMessagePort';\r\n\r\nexport class AppStateManager {\r\n  private state: State = {} as any;\r\n  private storage = stateStorage;\r\n\r\n  // ! for mtproto worker use only\r\n  public newVersion: string;\r\n  public oldVersion: string;\r\n  public userId: UserId;\r\n\r\n  public getState() {\r\n    return Promise.resolve(this.state);\r\n  }\r\n\r\n  public setByKey(key: string, value: any) {\r\n    setDeepProperty(this.state, key, value);\r\n    \r\n    const first = key.split('.')[0] as keyof State;\r\n    if(first === 'settings') {\r\n      rootScope.dispatchEvent('settings_updated', {key, value, settings: this.state.settings});\r\n    }\r\n    \r\n    this.pushToState(first, this.state[first]);\r\n  }\r\n\r\n  public pushToState<T extends keyof State>(key: T, value: State[T], direct = true, onlyLocal?: boolean) {\r\n    if(direct) {\r\n      this.state[key] = value;\r\n    }\r\n\r\n    this.setKeyValueToStorage(key, value, onlyLocal);\r\n  }\r\n\r\n  public setKeyValueToStorage<T extends keyof State>(key: T, value: State[T] = this.state[key], onlyLocal?: boolean) {\r\n    MTProtoMessagePort.getInstance<false>().invokeVoid('mirror', {name: 'state', key, value});\r\n    \r\n    this.storage.set({\r\n      [key]: value\r\n    }, onlyLocal);\r\n  }\r\n\r\n  /* public resetState() {\r\n    for(let i in this.state) {\r\n      // @ts-ignore\r\n      this.state[i] = false;\r\n    }\r\n    sessionStorage.set(this.state).then(() => {\r\n      location.reload();\r\n    });\r\n  } */\r\n}\r\n\r\nconst appStateManager = new AppStateManager();\r\nexport default appStateManager;\r\n","import getDeepProperty from \"./getDeepProperty\";\r\n\r\nexport default function setDeepProperty(object: any, key: string, value: any) {\r\n  const splitted = key.split('.');\r\n  getDeepProperty(object, splitted.slice(0, -1).join('.'))[splitted.pop()] = value;\r\n}\r\n","export default function getDeepProperty(object: any, key: string) {\r\n  const splitted = key.split('.');\r\n  let o: any = object;\r\n  splitted.forEach((key) => {\r\n    if(!key) {\r\n      return;\r\n    }\r\n    \r\n    // @ts-ignore\r\n    o = o[key];\r\n  });\r\n  \r\n  return o;\r\n}\r\n","/*\r\n * https://github.com/morethanwords/tweb\r\n * Copyright (C) 2019-2021 Eduard Kuzmenko\r\n * https://github.com/morethanwords/tweb/blob/master/LICENSE\r\n */\r\n\r\nimport { MOUNT_CLASS_TO } from \"../../config/debug\";\r\nimport indexOfAndSplice from \"../../helpers/array/indexOfAndSplice\";\r\nimport deferredPromise, { CancellablePromise } from \"../../helpers/cancellablePromise\";\r\nimport noop from \"../../helpers/noop\";\r\nimport { DcId } from \"../../types\";\r\n\r\nexport class NetworkStats {\r\n  public sent: number;\r\n  public received: number;\r\n  public awaitingChunks: Map<DcId, {length: number, deferred: CancellablePromise<void>}[]>;\r\n\r\n  constructor() {\r\n    this.sent = this.received = 0;\r\n    this.awaitingChunks = new Map();\r\n  }\r\n\r\n  public addSent(dcId: DcId, length: number) {\r\n    this.sent += length;\r\n  }\r\n\r\n  public addReceived(dcId: DcId, length: number) {\r\n    this.received += length;\r\n\r\n    const awaitingChunks = this.awaitingChunks.get(dcId);\r\n    const awaitingLength = awaitingChunks?.length;\r\n    if(awaitingLength) {\r\n      for(let i = 0; i < awaitingLength; ++i) {\r\n        const awaiting = awaitingChunks[i];\r\n        if(length >= awaiting.length) {\r\n          awaiting.deferred.resolve();\r\n          break;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  public waitForChunk(dcId: DcId, length: number) {\r\n    const deferred = deferredPromise<void>();\r\n    let awaitingChunks = this.awaitingChunks.get(dcId);\r\n    if(!awaitingChunks) {\r\n      this.awaitingChunks.set(dcId, awaitingChunks = []);\r\n    }\r\n\r\n    const awaiting = {length, deferred};\r\n    deferred.catch(noop).finally(() => {\r\n      indexOfAndSplice(awaitingChunks, awaiting);\r\n    });\r\n\r\n    awaitingChunks.push(awaiting);\r\n    return deferred;\r\n  }\r\n}\r\n\r\nconst networkStats = new NetworkStats();\r\nMOUNT_CLASS_TO && (MOUNT_CLASS_TO.networkStats = networkStats);\r\nexport default networkStats;\r\n","/*\n * https://github.com/morethanwords/tweb\n * Copyright (C) 2019-2021 Eduard Kuzmenko\n * https://github.com/morethanwords/tweb/blob/master/LICENSE\n */\n\nimport pause from '../../../helpers/schedulers/pause';\nimport { DcId } from '../../../types';\nimport { logger, LogTypes } from '../../logger';\nimport type MTPNetworker from '../networker';\nimport MTTransport from './transport';\nimport Modes from '../../../config/modes';\n\n                    \nimport transportController from './controller';\nimport networkStats from '../networkStats';\n          \n\nexport default class HTTP implements MTTransport {\n  public networker: MTPNetworker;\n  private log: ReturnType<typeof logger>;\n\n  private pending: Array<{\n    resolve: (body: Uint8Array) => void, \n    reject: any, \n    body: Uint8Array\n  }> = [];\n  private releasing: boolean;\n\n  public connected: boolean;\n  private destroyed: boolean;\n  private debug: boolean;\n  \n  constructor(protected dcId: DcId, protected url: string, logSuffix: string) {\n    this.debug = Modes.debug && false;\n\n    let logTypes = LogTypes.Error | LogTypes.Log;\n    if(this.debug) logTypes |= LogTypes.Debug;\n    \n    this.log = logger(`HTTP-${dcId}` + logSuffix, logTypes);\n    this.log('constructor');\n\n    this.connected = false;\n  }\n\n  public _send(body: Uint8Array, mode?: RequestMode) {\n    const length = body.length;\n    this.debug && this.log.debug('-> body length to send:', length);\n\n    networkStats.addSent(this.dcId, length);\n    return fetch(this.url, {method: 'POST', body, mode}).then((response) => {\n      if(response.status !== 200 && !mode) {\n        response.arrayBuffer().then((buffer) => {\n          this.log.error('not 200', \n            new TextDecoder(\"utf-8\").decode(new Uint8Array(buffer)));\n        });\n\n        throw response;\n      }\n\n      this.setConnected(true);\n\n      // * test resending by dropping random request\n      // if(Math.random() > .5) {\n      //   throw 'asd';\n      // }\n\n      return response.arrayBuffer().then((buffer) => {\n        networkStats.addReceived(this.dcId, buffer.byteLength);\n        return new Uint8Array(buffer);\n      }); \n    }, (err) => {\n      this.setConnected(false);\n      throw err;\n    });\n  }\n\n  private setConnected(connected: boolean) {\n    if(this.connected === connected || this.destroyed) {\n      return;\n    }\n\n    this.connected = connected;\n\n                        \n    transportController.setTransportValue('https', connected);\n              \n  }\n\n  public destroy() {\n    this.setConnected(false);\n    this.destroyed = true;\n    this.pending.forEach((pending) => pending.reject());\n    this.pending.length = 0;\n  }\n\n  public send(body: Uint8Array) {\n    if(this.networker) {\n      return this._send(body);\n    } else {\n      const promise = new Promise<typeof body>((resolve, reject) => {\n        this.pending.push({resolve, reject, body});\n      });\n\n      this.releasePending();\n\n      return promise;\n    }\n  }\n\n  private async releasePending() {\n    if(this.releasing) return;\n\n    this.releasing = true;\n    // this.log('-> messages to send:', this.pending.length);\n    for(let i = 0; i < this.pending.length; ++i) {\n      const pending = this.pending[i];\n      const {body, resolve} = pending;\n\n      try {\n        const result = await this._send(body);\n        resolve(result);\n        this.pending.splice(i, 1);\n      } catch(err) {\n        this.log.error('Send plain request error:', err);\n        await pause(5000);\n      }\n\n      --i;\n    }\n\n    this.releasing = false;\n  }\n}\n","/*\r\n * https://github.com/morethanwords/tweb\r\n * Copyright (C) 2019-2021 Eduard Kuzmenko\r\n * https://github.com/morethanwords/tweb/blob/master/LICENSE\r\n */\r\n\r\nimport { logger, LogTypes } from '../../logger';\r\nimport Modes from '../../../config/modes';\r\nimport EventListenerBase from '../../../helpers/eventListenerBase';\r\nimport { MTConnection } from './transport';\r\n\r\n// let closeSocketBefore = Date.now() + 30e3;\r\n// let closeSocketAfter = Date.now() + 10e3;\r\n\r\nexport default class Socket extends EventListenerBase<{\r\n  open: () => void,\r\n  message: (buffer: ArrayBuffer) => any,\r\n  close: () => void,\r\n}> implements MTConnection {\r\n  private ws: WebSocket;\r\n  private log: ReturnType<typeof logger>;\r\n  private debug = Modes.debug && false;\r\n\r\n  constructor(protected dcId: number, protected url: string, logSuffix: string) {\r\n    super();\r\n\r\n    let logTypes = LogTypes.Error | LogTypes.Log;\r\n    if(this.debug) logTypes |= LogTypes.Debug;\r\n    this.log = logger(`WS-${dcId}` + logSuffix, logTypes);\r\n    this.log('constructor');\r\n    this.connect();\r\n\r\n    return this;\r\n  }\r\n\r\n  private removeListeners() {\r\n    if(!this.ws) {\r\n      return;\r\n    }\r\n\r\n    this.ws.removeEventListener('open', this.handleOpen);\r\n    this.ws.removeEventListener('close', this.handleClose);\r\n    this.ws.removeEventListener('error', this.handleError);\r\n    this.ws.removeEventListener('message', this.handleMessage);\r\n    this.ws = undefined;\r\n  }\r\n  \r\n  private connect() {\r\n    this.ws = new WebSocket(this.url, 'binary');\r\n    this.ws.binaryType = 'arraybuffer';\r\n    this.ws.addEventListener('open', this.handleOpen);\r\n    this.ws.addEventListener('close', this.handleClose);\r\n    this.ws.addEventListener('error', this.handleError);\r\n    this.ws.addEventListener('message', this.handleMessage);\r\n\r\n    // if(Date.now() < closeSocketBefore) {\r\n    // if(Date.now() >= closeSocketAfter) {\r\n    //   this.ws.close();\r\n    // }\r\n  }\r\n\r\n  public close() {\r\n    if(!this.ws) {\r\n      return;\r\n    }\r\n\r\n    this.log('close execution');\r\n\r\n    try {\r\n      this.ws.close();\r\n    } catch(err) {\r\n\r\n    }\r\n    this.handleClose();\r\n  }\r\n  \r\n  private handleOpen = () => {\r\n    this.log('opened');\r\n\r\n    this.debug && this.log.debug('sending init packet');\r\n    this.dispatchEvent('open');\r\n  };\r\n\r\n  private handleError = (e: Event) => {\r\n    this.log.error('handleError', e);\r\n    this.close();\r\n  };\r\n\r\n  private handleClose = () => {\r\n    this.log('closed'/* , event, this.pending, this.ws.bufferedAmount */);\r\n\r\n    this.removeListeners();\r\n    this.dispatchEvent('close');\r\n  };\r\n\r\n  private handleMessage = (event: MessageEvent) => {\r\n    this.debug && this.log.debug('<-', 'handleMessage', /* event,  */event.data.byteLength);\r\n\r\n    this.dispatchEvent('message', event.data as ArrayBuffer);\r\n  };\r\n\r\n  public send = (body: Uint8Array) => {\r\n    this.debug && this.log.debug('-> body length to send:', body.length);\r\n\r\n    this.ws.send(body);\r\n  };\r\n}\r\n","export default function randomize<T extends ArrayBufferView>(arr: T) {\r\n  if(crypto && 'getRandomValues' in crypto) {\r\n    crypto.getRandomValues(arr);\r\n  } else {\r\n    throw new Error('NO_SECURE_RANDOM');\r\n  }\r\n  \r\n  return arr;\r\n}\r\n","/*\r\n * https://github.com/morethanwords/tweb\r\n * Copyright (C) 2019-2021 Eduard Kuzmenko\r\n * https://github.com/morethanwords/tweb/blob/master/LICENSE\r\n */\r\n\r\n//import aesjs from 'aes-js';\r\nimport randomize from \"../../../helpers/array/randomize\";\r\nimport cryptoMessagePort from \"../../crypto/cryptoMessagePort\";\r\nimport { Codec } from \"./codec\";\r\n\r\n/* \r\n@cryptography/aes не работает с массивами которые не кратны 4, поэтому использую intermediate а не abridged\r\n*/\r\nexport default class Obfuscation {\r\n  /* private enc: aesjs.ModeOfOperation.ModeOfOperationCTR;\r\n  private dec: aesjs.ModeOfOperation.ModeOfOperationCTR; */\r\n\r\n  private id: number;\r\n  private idPromise: Promise<Obfuscation['id']>;\r\n  private process: (data: Uint8Array, operation: 'encrypt' | 'decrypt') => ReturnType<Obfuscation['_process']>;\r\n\r\n  // private cryptoEncKey: CryptoKey;\r\n  // private cryptoDecKey: CryptoKey;\r\n  // private cryptoKey: CryptoKey;\r\n\r\n  // private encIv: Uint8Array;\r\n  // private decIv: Uint8Array;\r\n\r\n  // private decIvCounter: Counter;\r\n\r\n  public async init(codec: Codec) {\r\n    if(this.idPromise !== undefined) {\r\n      this.release();\r\n    }\r\n\r\n    const initPayload = new Uint8Array(64);\r\n    randomize(initPayload);\r\n    \r\n    while(true) {\r\n      const val = (initPayload[3] << 24) | (initPayload[2] << 16) | (initPayload[1] << 8) | initPayload[0];\r\n      const val2 = (initPayload[7] << 24) | (initPayload[6] << 16) | (initPayload[5] << 8) | initPayload[4];\r\n      if(initPayload[0] !== 0xef &&\r\n          val !== 0x44414548 &&\r\n          val !== 0x54534f50 &&\r\n          val !== 0x20544547 &&\r\n          val !== 0x4954504f &&\r\n          val !== 0xeeeeeeee &&\r\n          val !== 0xdddddddd &&\r\n          val2 !== 0x00000000) {\r\n          //initPayload[56] = initPayload[57] = initPayload[58] = initPayload[59] = transport;\r\n          break;\r\n      }\r\n      randomize(initPayload);\r\n    }\r\n\r\n    ////////////////////////initPayload.subarray(60, 62).hex = dcId;\r\n    /* initPayload.set(new Uint8Array([161, 208, 67, 71, 118, 109, 20, 111, 113, 255, 134, 10, 159, 241, 7, 44, 217, 82, 187, 76, 108, 131, 200, 186, 33, 57, 177, 251, 52, 34, 18, 54, 65, 105, 37, 89, 38, 20, 47, 168, 126, 181, 24, 138, 212, 68, 60, 150, 225, 37, 181, 4, 201, 50, 72, 151, 168, 143, 204, 169, 81, 187, 241, 23]));\r\n    console.log('initPayload', initPayload); */\r\n\r\n    const reversedPayload = initPayload.slice().reverse();\r\n\r\n    const encKey = initPayload.slice(8, 40);\r\n    const encIv = /* this.encIv =  */initPayload.slice(40, 56);\r\n    const decKey = reversedPayload.slice(8, 40);\r\n    const decIv = /* this.decIv =  */reversedPayload.slice(40, 56);\r\n\r\n    /* this.enc = new aesjs.ModeOfOperation.ctr(encKey, new aesjs.Counter(encIv as any));\r\n    this.dec = new aesjs.ModeOfOperation.ctr(decKey, new aesjs.Counter(decIv as any)); */\r\n    \r\n    // console.log('encKey', encKey.hex, encIv.hex);\r\n    // console.log('decKey', decKey.hex, decIv.hex);\r\n\r\n    const idPromise = this.idPromise = cryptoMessagePort.invokeCrypto('aes-ctr-prepare', {\r\n      encKey,\r\n      encIv,\r\n      decKey,\r\n      decIv\r\n    });\r\n\r\n    this.process = async(data, operation) => {\r\n      await idPromise;\r\n      return this._process(data, operation);\r\n    };\r\n\r\n    this.id = await idPromise;\r\n    \r\n    this.process = this._process;\r\n    \r\n    // this.decIvCounter = new Counter(this.decIv);\r\n    /* const key = this.cryptoEncKey = await subtle.importKey(\r\n      'raw',\r\n      encKey,\r\n      {name: 'AES-CTR'},\r\n      false,\r\n      ['encrypt']\r\n    ); */\r\n\r\n    // this.cryptoDecKey = await subtle.importKey(\r\n    //   'raw',\r\n    //   decKey,\r\n    //   {name: 'AES-CTR'},\r\n    //   false,\r\n    //   ['encrypt']\r\n    // );\r\n\r\n    // this.cryptoKey = await subtle.importKey(\r\n    //   'raw',\r\n    //   encKey,\r\n    //   {name: 'AES-CTR'},\r\n    //   false,\r\n    //   ['encrypt', 'decrypt']\r\n    // );\r\n\r\n    initPayload.set(codec.obfuscateTag, 56);\r\n    const encrypted = await this.encode(initPayload.slice());\r\n\r\n    //console.log('encrypted', encrypted);\r\n\r\n    initPayload.set(encrypted.slice(56, 64), 56);\r\n\r\n    return initPayload;\r\n  }\r\n\r\n  /* public encode(payload: Uint8Array) {\r\n    let startTime = performance.now();\r\n    let res = this.enc.encrypt(payload);\r\n    let time = performance.now() - startTime;\r\n\r\n    try {\r\n      startTime = performance.now();\r\n      let arr = this.encNew.encrypt(payload);\r\n      //let resNew = bytesFromWords({words: arr, sigBytes: arr.length});\r\n      let resNew = new Uint8Array(bytesFromWordss(arr));\r\n      let time2 = performance.now() - startTime;\r\n      console.log('Obfuscation: encode comparison:', res, arr, resNew, res.hex === resNew.hex, time2 < time);\r\n    } catch(err) {\r\n      console.error('Obfuscation: error:', err);\r\n    }\r\n    \r\n    return res;\r\n  }\r\n\r\n  public decode(payload: Uint8Array) {\r\n    let res = this.dec.encrypt(payload);\r\n\r\n    try {\r\n      let arr = this.decNew.decrypt(payload);\r\n      //let resNew = bytesFromWords({words: arr, sigBytes: arr.length});\r\n      let resNew = new Uint8Array(bytesFromWordss(arr));\r\n      console.log('Obfuscation: decode comparison:', res, arr, resNew, res.hex === resNew.hex);\r\n    } catch(err) {\r\n      console.error('Obfuscation: error:', err);\r\n    }\r\n    \r\n    return res;\r\n  } */\r\n\r\n  private _process = (data: Uint8Array, operation: 'encrypt' | 'decrypt') => {\r\n    return cryptoMessagePort.invoke('invoke', {\r\n      method: 'aes-ctr-process',\r\n      args: [{id: this.id, data, operation}],\r\n    }, undefined, undefined, [data.buffer]) as Promise<Uint8Array>;\r\n  };\r\n\r\n  public encode(payload: Uint8Array) {\r\n    /* return subtle.encrypt({\r\n        name: 'AES-CTR',\r\n        counter: this.encIv,\r\n        length: 64\r\n      },\r\n      this.cryptoEncKey,\r\n      payload\r\n    ); */\r\n    return this.process(payload, 'encrypt');\r\n  }\r\n\r\n  public decode(payload: Uint8Array) {\r\n    return this.process(payload, 'decrypt');\r\n  }\r\n\r\n  public async release() {\r\n    const idPromise = this.idPromise;\r\n    if(idPromise === undefined) {\r\n      return;\r\n    }\r\n\r\n    this.id = undefined;\r\n    this.idPromise = undefined;\r\n\r\n    const id = await idPromise;\r\n    cryptoMessagePort.invokeCrypto('aes-ctr-destroy', id);\r\n  }\r\n\r\n  public destroy() {\r\n    this.release();\r\n  }\r\n\r\n  // public encode(payload: Uint8Array) {\r\n  //   let res = this.encNew.encrypt(payload);\r\n  //   let bytes = new Uint8Array(bytesFromWordss(res));\r\n    \r\n  //   return bytes;\r\n  // }\r\n\r\n  // public async decode(payload: Uint8Array) {\r\n  //   const counter = this.decIvCounter.counter.slice();\r\n  //   this.decIvCounter.increment();\r\n\r\n  //   const n: ArrayBuffer = await subtle.encrypt({\r\n  //       name: 'AES-CTR',\r\n  //       counter: counter,\r\n  //       length: 64\r\n  //     },\r\n  //     this.cryptoDecKey,\r\n  //     payload\r\n  //   );\r\n\r\n  //   const decoded = this.decNew.update(payload);\r\n    \r\n  //   console.log('decode', bytesToHex(decoded), 'new', n, bytesToHex(new Uint8Array(n)));\r\n\r\n  //   return decoded;\r\n  // }\r\n}","/*\r\n * https://github.com/morethanwords/tweb\r\n * Copyright (C) 2019-2021 Eduard Kuzmenko\r\n * https://github.com/morethanwords/tweb/blob/master/LICENSE\r\n */\r\n\r\n//import { bytesFromHex, addPadding } from \"../../bin_utils\";\r\nimport { Codec } from \"./codec\";\r\n\r\nclass AbridgedPacketCodec implements Codec {\r\n  public tag = 0xef;\r\n  public obfuscateTag = new Uint8Array([this.tag, this.tag, this.tag, this.tag]);\r\n\r\n  public encodePacket(data: Uint8Array) {\r\n    const len = data.byteLength >> 2;\r\n    let header: Uint8Array;\r\n    if(len < 127) {\r\n      header = new Uint8Array([len]);\r\n    } else { // Length: payload length, divided by four, and encoded as 3 length bytes (little endian)\r\n      //header = new Uint8Array([0x7f, ...addPadding(bytesFromHex(len.toString(16)).reverse(), 3, true)/* .reverse() */]);\r\n      header = new Uint8Array([0x7f, len & 0xFF, (len >> 8) & 0xFF, (len >> 16) & 0xFF]);\r\n      //console.log('got nobody cause im braindead', header, len);\r\n    }\r\n    \r\n    return header.concat(data);\r\n    //return new Uint8Array([...header, ...data]);\r\n  }\r\n\r\n  public readPacket(data: Uint8Array) {\r\n    let length = data[0];\r\n    if(length >= 127) { // 0x7f\r\n      length = data[1] | (data[2] << 8) | (data[3] << 16);\r\n\r\n      return data.slice(4, length << 2 + 1); // need +1\r\n    }\r\n    \r\n    return data.slice(1, length << 2 + 1); // need +1\r\n  }\r\n}\r\n\r\nexport default new AbridgedPacketCodec();\r\n","export default function bytesToHex(bytes: ArrayLike<number>) {\r\n  const length = bytes.length;\r\n  const arr: string[] = new Array(length);\r\n  for(let i = 0; i < length; ++i) {\r\n    arr[i] = (bytes[i] < 16 ? '0' : '') + (bytes[i] || 0).toString(16);\r\n  }\r\n  return arr.join('');\r\n}\r\n","/*\n * https://github.com/morethanwords/tweb\n * Copyright (C) 2019-2021 Eduard Kuzmenko\n * https://github.com/morethanwords/tweb/blob/master/LICENSE\n */\n\nimport Modes from \"../../../config/modes\";\nimport { logger, LogTypes } from \"../../logger\";\nimport MTPNetworker from \"../networker\";\nimport Obfuscation from \"./obfuscation\";\nimport MTTransport, { MTConnection, MTConnectionConstructable } from \"./transport\";\n// import intermediatePacketCodec from './intermediate';\nimport abridgedPacketCodec from './abridged';\n// import paddedIntermediatePacketCodec from './padded';\nimport { ConnectionStatus } from \"../connectionStatus\";\n\n                    \nimport transportController from \"./controller\";\nimport bytesToHex from \"../../../helpers/bytes/bytesToHex\";\nimport networkStats from \"../networkStats\";\nimport ctx from \"../../../environment/ctx\";\n          \n\nexport default class TcpObfuscated implements MTTransport {\n  private codec = abridgedPacketCodec;\n  private obfuscation = new Obfuscation();\n  public networker: MTPNetworker;\n\n  private pending: Array<Partial<{\n    resolve: any, \n    reject: any, \n    body: Uint8Array, \n    encoded?: Uint8Array,\n    bodySent: boolean\n  }>> = [];\n\n  private debug = Modes.debug && false/* true */;\n  private log: ReturnType<typeof logger>;\n  public connected = false;\n  private lastCloseTime: number;\n  public connection: MTConnection;\n\n  private autoReconnect = true;\n  private reconnectTimeout: number;\n  private releasingPending: boolean;\n\n  //private debugPayloads: MTPNetworker['debugRequests'] = [];\n\n  constructor(\n    private Connection: MTConnectionConstructable, \n    private dcId: number, \n    private url: string, \n    private logSuffix: string, \n    private retryTimeout: number\n  ) {\n    let logTypes = LogTypes.Error | LogTypes.Log;\n    if(this.debug) logTypes |= LogTypes.Debug;\n    this.log = logger(`TCP-${dcId}` + logSuffix, logTypes);\n    this.log('constructor');\n\n    this.connect();\n  }\n\n  private onOpen = async() => {\n    this.connected = true;\n\n                        \n    transportController.setTransportOpened('websocket');\n              \n\n    const initPayload = await this.obfuscation.init(this.codec);\n    if(!this.connected) {\n      return;\n    }\n\n    this.connection.send(initPayload);\n\n    if(this.networker) {\n      this.pending.length = 0; // ! clear queue and reformat messages to container, because if sending simultaneously 10+ messages, connection will die\n      this.networker.setConnectionStatus(ConnectionStatus.Connected);\n      this.networker.cleanupSent();\n      this.networker.resend();\n    }/*  else {\n      for(const pending of this.pending) {\n        if(pending.encoded && pending.body) {\n          pending.encoded = this.encodeBody(pending.body);\n        }\n      }\n    } */\n\n    setTimeout(() => {\n      this.releasePending();\n    }, 0);\n  };\n\n  private onMessage = async(buffer: ArrayBuffer) => {\n    networkStats.addReceived(this.dcId, buffer.byteLength);\n\n    let data = await this.obfuscation.decode(new Uint8Array(buffer));\n    data = this.codec.readPacket(data);\n\n    if(this.networker) { // authenticated!\n      //this.pending = this.pending.filter((p) => p.body); // clear pending\n\n      this.debug && this.log.debug('redirecting to networker', data.length);\n      this.networker.parseResponse(data).then((response) => {\n        this.debug && this.log.debug('redirecting to networker response:', response);\n\n        try {\n          this.networker.processMessage(response.response, response.messageId, response.sessionId);\n        } catch(err) {\n          this.log.error('handleMessage networker processMessage error', err);\n        }\n\n        //this.releasePending();\n      }).catch((err) => {\n        this.log.error('handleMessage networker parseResponse error', err);\n      });\n\n      //this.dd();\n      return;\n    }\n\n    //console.log('got hex:', data.hex);\n    const pending = this.pending.shift();\n    if(!pending) {\n      this.debug && this.log.debug('no pending for res:', bytesToHex(data));\n      return;\n    }\n\n    pending.resolve(data);\n  };\n\n  private onClose = () => {\n    this.clear();\n    \n    let needTimeout: number, retryAt: number;\n    if(this.autoReconnect) {\n      const time = Date.now();\n      const diff = time - this.lastCloseTime;\n      needTimeout = !isNaN(diff) && diff < this.retryTimeout ? this.retryTimeout - diff : 0;\n      retryAt = time + needTimeout;\n    }\n    \n    if(this.networker) {\n      this.networker.setConnectionStatus(ConnectionStatus.Closed, retryAt);\n      this.pending.length = 0;\n    }\n\n    if(this.autoReconnect) {\n      this.log('will try to reconnect after timeout:', needTimeout / 1000);\n      this.reconnectTimeout = ctx.setTimeout(this.reconnect, needTimeout);\n    } else {\n      this.log('reconnect isn\\'t needed');\n    }\n  };\n\n  public clear() {\n                        \n    if(this.connected) {\n      transportController.setTransportClosed('websocket');\n    }\n              \n\n    this.connected = false;\n\n    if(this.connection) {\n      this.connection.removeEventListener('open', this.onOpen);\n      this.connection.removeEventListener('close', this.onClose);\n      this.connection.removeEventListener('message', this.onMessage);\n      this.connection = undefined;\n    }\n  }\n\n  /**\n   * invoke only when closed\n   */\n  public reconnect = () => {\n    if(this.reconnectTimeout !== undefined) {\n      clearTimeout(this.reconnectTimeout);\n      this.reconnectTimeout = undefined;\n    }\n\n    if(this.connection) {\n      return;\n    }\n\n    this.log('trying to reconnect...');\n    this.lastCloseTime = Date.now();\n    \n    if(!this.networker) {\n      for(const pending of this.pending) {\n        if(pending.bodySent) {\n          pending.bodySent = false;\n        }\n      }\n    } else {\n      this.networker.setConnectionStatus(ConnectionStatus.Connecting);\n    }\n\n    this.connect();\n  }\n\n  public forceReconnect() {\n    this.close();\n    this.reconnect();\n  }\n\n  public destroy() {\n    this.setAutoReconnect(false);\n    this.close();\n\n    if(this.obfuscation) {\n      this.obfuscation.destroy();\n    }\n\n    this.pending.forEach((pending) => {\n      if(pending.reject) {\n        pending.reject();\n      }\n    });\n    this.pending.length = 0;\n  }\n\n  public close() {\n    const connection = this.connection;\n    if(connection) {\n      const connected = this.connected;\n      this.clear();\n      if(connected) { // wait for buffered messages if they are there\n        connection.addEventListener('message', this.onMessage);\n        connection.addEventListener('close', () => {\n          connection.removeEventListener('message', this.onMessage);\n        }, {once: true});\n        connection.close();\n      }\n    }\n  }\n\n  /**\n   * Will connect if enable and disconnected \\\n   * Will reset reconnection timeout if disable\n   */\n  public setAutoReconnect(enable: boolean) {\n    this.autoReconnect = enable;\n\n    if(!enable) {\n      if(this.reconnectTimeout !== undefined) {\n        clearTimeout(this.reconnectTimeout);\n        this.reconnectTimeout = undefined;\n      }\n    } else if(!this.connection && this.reconnectTimeout === undefined) {\n      this.reconnect();\n    }\n  }\n\n  private connect() {\n    if(this.connection) {\n      this.close();\n    }\n\n    this.connection = new this.Connection(this.dcId, this.url, this.logSuffix);\n    this.connection.addEventListener('open', this.onOpen);\n    this.connection.addEventListener('close', this.onClose);\n    this.connection.addEventListener('message', this.onMessage);\n  }\n\n  private encodeBody(body: Uint8Array) {\n    const toEncode = this.codec.encodePacket(body);\n\n    //this.log('send before obf:', /* body.hex, nonce.hex, */ toEncode.hex);\n    const encoded = this.obfuscation.encode(toEncode);\n    //this.log('send after obf:', enc.hex);\n\n    return encoded;\n  }\n\n  public send(body: Uint8Array) {\n    this.debug && this.log.debug('-> body length to pending:', body.length);\n\n    const encoded: typeof body = /* this.connected ? this.encodeBody(body) :  */undefined;\n\n    //return;\n\n    if(this.networker) {\n      this.pending.push({body, encoded});\n      this.releasePending();\n    } else {\n      const promise = new Promise<typeof body>((resolve, reject) => {\n        this.pending.push({resolve, reject, body, encoded});\n      });\n\n      this.releasePending();\n\n      return promise;\n    }\n  }\n\n  private async releasePending(/* tt = false */) {\n    if(!this.connected || this.releasingPending) {\n      //this.connect();\n      return;\n    }\n\n    this.releasingPending = true;\n\n    /* if(!tt) {\n      this.releasePendingDebounced();\n      return;\n    } */\n\n    //this.log('-> messages to send:', this.pending.length);\n    let length = this.pending.length;\n    let sent = false;\n    //for(let i = length - 1; i >= 0; --i) {\n    for(let i = 0; i < length; ++i) {\n      const pending = this.pending[i];\n      if(!pending) {\n        break;\n      }\n      \n      const {body, bodySent} = pending;\n      if(body && !bodySent) {\n\n        //this.debugPayloads.push({before: body.slice(), after: enc});\n\n        this.debug && this.log.debug('-> body length to send:', body.length);\n\n        // if(!encoded) {\n        //   encoded = pending.encoded = this.encodeBody(body);\n        // }\n\n        const encoded = pending.encoded ??= await this.encodeBody(body);\n        if(!this.connected) {\n          break;\n        }\n\n        networkStats.addSent(this.dcId, encoded.byteLength);\n        this.connection.send(encoded);\n        \n        if(!pending.resolve) { // remove if no response needed\n          this.pending.splice(i--, 1);\n          length--;\n        } else {\n          pending.bodySent = true;\n        }\n\n        sent = true;\n        //delete pending.body;\n      }\n    }\n\n    this.releasingPending = undefined;\n\n    if(this.pending.length && sent) {\n      this.releasePending();\n    }\n  }\n}\n","/*\n * https://github.com/morethanwords/tweb\n * Copyright (C) 2019-2021 Eduard Kuzmenko\n * https://github.com/morethanwords/tweb/blob/master/LICENSE\n * \n * Originally from:\n * https://github.com/zhukov/webogram\n * Copyright (C) 2014 Igor Zhukov <igor.beatle@gmail.com>\n * https://github.com/zhukov/webogram/blob/master/LICENSE\n */\n\nimport MTTransport, { MTConnectionConstructable } from './transports/transport';\nimport Modes from '../../config/modes';\nimport App from '../../config/app';\nimport indexOfAndSplice from '../../helpers/array/indexOfAndSplice';\n\n                        \nimport HTTP from './transports/http';\n          \n\n                      \nimport Socket from './transports/websocket';\nimport TcpObfuscated from './transports/tcpObfuscated';\nimport { IS_WEB_WORKER } from '../../helpers/context';\nimport { DcId } from '../../types';\nimport { getEnvironment } from '../../environment/utils';\n\n                                             \n                                                       \n          \n\n          \n\nexport type TransportType = 'websocket' | 'https' | 'http';\nexport type ConnectionType = 'client' | 'download' | 'upload';\ntype Servers = {\n  [transportType in TransportType]: {\n    [connectionType in ConnectionType]: {\n      [dcId: DcId]: MTTransport[]\n    }\n  }\n};\n\nconst TEST_SUFFIX = Modes.test ? '_test' : '';\nconst PREMIUM_SUFFIX = '_premium';\n\nexport class DcConfigurator {\n  private sslSubdomains = ['pluto', 'venus', 'aurora', 'vesta', 'flora'];\n\n  private dcOptions = Modes.test\n    ? [\n      {id: 1, host: '149.154.175.10',  port: 80},\n      {id: 2, host: '149.154.167.40',  port: 80},\n      {id: 3, host: '149.154.175.117', port: 80}\n    ]\n    : [\n      {id: 1, host: '149.154.175.50',  port: 80},\n      {id: 2, host: '149.154.167.50',  port: 80},\n      {id: 3, host: '149.154.175.100', port: 80},\n      {id: 4, host: '149.154.167.91',  port: 80},\n      {id: 5, host: '149.154.171.5',   port: 80}\n    ];\n\n  public chosenServers: Servers = {} as any;\n\n                        \n  private transportSocket = (dcId: DcId, connectionType: ConnectionType, suffix: string, premium?: boolean) => {\n    const path = connectionType !== 'client' ? 'apiws' + (premium ? PREMIUM_SUFFIX : '') : ('apiws' + TEST_SUFFIX);\n    const chosenServer = `wss://${App.suffix.toLowerCase()}ws${dcId}${suffix}.web.telegram.org/${path}`;\n    const logSuffix = connectionType === 'upload' ? '-U' : connectionType === 'download' ? '-D' : '';\n\n    const retryTimeout = connectionType === 'client' ? 10000 : 10000;\n\n    let oooohLetMeLive: MTConnectionConstructable;\n                                                 \n    oooohLetMeLive = Socket;\n             \n                                                                                                                                                   \n              \n\n    return new TcpObfuscated(oooohLetMeLive, dcId, chosenServer, logSuffix, retryTimeout);\n  };\n            \n\n                          \n  private transportHTTP = (dcId: DcId, connectionType: ConnectionType, suffix: string, premium?: boolean) => {\n    let chosenServer: string;\n    if(Modes.ssl || !Modes.http) {\n      const subdomain = this.sslSubdomains[dcId - 1] + (connectionType !== 'client' ? '-1' : '');\n      const path = Modes.test ? 'apiw_test1' : 'apiw1';\n      chosenServer = 'https://' + subdomain + '.web.telegram.org/' + path;\n    } else {\n      for(let dcOption of this.dcOptions) {\n        if(dcOption.id === dcId) {\n          chosenServer = 'http://' + dcOption.host + (dcOption.port !== 80 ? ':' + dcOption.port : '') + '/apiw1';\n          break;\n        }\n      }\n    }\n\n    const logSuffix = connectionType === 'upload' ? '-U' : connectionType === 'download' ? '-D' : '';\n    return new HTTP(dcId, chosenServer, logSuffix);\n  };\n            \n\n  public chooseServer(\n    dcId: DcId, \n    connectionType: ConnectionType = 'client', \n    transportType: TransportType = Modes.transport, \n    reuse = true,\n    premium?: boolean\n  ) {\n    /* if(transportType === 'websocket' && !Modes.multipleConnections) {\n      connectionType = 'client';\n    } */\n\n    if(!this.chosenServers.hasOwnProperty(transportType)) {\n      this.chosenServers[transportType] = {\n        client: {},\n        download: {},\n        upload: {}\n      };\n    }\n\n    const servers = this.chosenServers[transportType][connectionType];\n\n    if(!(dcId in servers)) {\n      servers[dcId] = [];\n    }\n\n    const transports = servers[dcId];\n\n    if(!transports.length || !reuse/*  || (upload && transports.length < 1) */) {\n      let transport: MTTransport;\n\n      const suffix = connectionType === 'client' ? '' : '-1';\n\n                                                \n      transport = (transportType === 'websocket' ? this.transportSocket : this.transportHTTP)(dcId, connectionType, suffix, premium);\n                             \n                                                                              \n               \n                                                                            \n                \n  \n      if(!transport) {\n        console.error('No chosenServer!', dcId);\n        return null;\n      }\n      \n      if(reuse) {\n        transports.push(transport);\n      }\n      \n      return transport;\n    }\n  \n    return transports[0];\n  }\n  \n  public static removeTransport<T>(obj: any, transport: T) {\n    for(const transportType in obj) {\n      // @ts-ignore\n      for(const connectionType in obj[transportType]) {\n        // @ts-ignore\n        for(const dcId in obj[transportType][connectionType]) {\n          // @ts-ignore\n          const transports: T[] = obj[transportType][connectionType][dcId];\n          indexOfAndSplice(transports, transport);\n        }\n      }\n    }\n  }\n}\n","/*\r\n * https://github.com/morethanwords/tweb\r\n * Copyright (C) 2019-2021 Eduard Kuzmenko\r\n * https://github.com/morethanwords/tweb/blob/master/LICENSE\r\n */\r\n\r\nimport App from \"../../../config/app\";\r\nimport deferredPromise from \"../../../helpers/cancellablePromise\";\r\nimport EventListenerBase from \"../../../helpers/eventListenerBase\";\r\nimport pause from \"../../../helpers/schedulers/pause\";\r\nimport { TransportType, DcConfigurator } from \"../dcConfigurator\";\r\nimport type HTTP from \"./http\";\r\nimport type TcpObfuscated from \"./tcpObfuscated\";\r\nimport MTTransport from \"./transport\";\r\n\r\nexport class MTTransportController extends EventListenerBase<{\r\n  change: (opened: MTTransportController['opened']) => void,\r\n  transport: (type: TransportType) => void\r\n}> {\r\n  private opened: Map<TransportType, number>;\r\n  private transports: {[k in TransportType]?: MTTransport};\r\n  private pinging: boolean;\r\n  private dcConfigurator: DcConfigurator;\r\n\r\n  constructor() {\r\n    super(true);\r\n\r\n    this.opened = new Map();\r\n    /* this.addEventListener('change', (opened) => {\r\n      this.dispatchEvent('transport', opened.get('websocket') || !opened.get('https') ? 'websocket' : 'https');\r\n    }); */\r\n\r\n    this.addEventListener('change', (opened) => {\r\n      if(!opened.get('websocket')) {\r\n        this.waitForWebSocket();\r\n      }\r\n    });\r\n\r\n    // setTimeout(() => {\r\n      // this.waitForWebSocket();\r\n    // }, 200); // wait for first transport so won't have delay for first WS\r\n  }\r\n\r\n  public async pingTransports() {\r\n    const dcConfigurator = this.dcConfigurator ??= new DcConfigurator();\r\n    const timeout = 2000;\r\n    const transports: {[k in TransportType]?: MTTransport} = this.transports = {\r\n      https: dcConfigurator.chooseServer(App.baseDcId, 'client', 'https', false),\r\n      websocket: dcConfigurator.chooseServer(App.baseDcId, 'client', 'websocket', false)\r\n    };\r\n\r\n    const httpPromise = deferredPromise<boolean>();\r\n    ((this.transports.https as HTTP)._send(new Uint8Array(), 'no-cors') as any as Promise<any>)\r\n    .then(() => httpPromise.resolve(true), () => httpPromise.resolve(false));\r\n    setTimeout(() => httpPromise.resolve(false), timeout);\r\n\r\n    const websocketPromise = deferredPromise<boolean>();\r\n    const socket = transports.websocket as TcpObfuscated;\r\n    socket.setAutoReconnect(false);\r\n    socket.connection.addEventListener('close', () => websocketPromise.resolve(false), {once: true});\r\n    socket.connection.addEventListener('open', () => websocketPromise.resolve(true), {once: true});\r\n    setTimeout(() => {\r\n      if(websocketPromise.isFulfilled || websocketPromise.isRejected) {\r\n        return;\r\n      }\r\n\r\n      if(socket.connection) {\r\n        socket.connection.close();\r\n      }\r\n      \r\n      websocketPromise.resolve(false);\r\n    }, timeout);\r\n\r\n    const [isHttpAvailable, isWebSocketAvailable] = await Promise.all([httpPromise, websocketPromise]);\r\n\r\n    for(const transportType in transports) {\r\n      const transport = transports[transportType as TransportType];\r\n      transport.destroy();\r\n    }\r\n\r\n    const result = {\r\n      https: isHttpAvailable || this.opened.get('https') > 0,\r\n      websocket: isWebSocketAvailable || this.opened.get('websocket') > 0\r\n    };\r\n\r\n    // result.websocket = false;\r\n    return result;\r\n  }\r\n\r\n  public async waitForWebSocket() {\r\n    if(this.pinging) return;\r\n    this.pinging = true;\r\n\r\n    while(true) {\r\n      const {https, websocket} = await this.pingTransports();\r\n      if(https || websocket) {\r\n        this.dispatchEvent('transport', websocket || !https ? 'websocket' : 'https');\r\n      }\r\n\r\n      if(websocket) {\r\n        break;\r\n      }\r\n\r\n      await pause(10000);\r\n    }\r\n\r\n    this.pinging = false;\r\n  }\r\n\r\n  public setTransportValue(type: TransportType, value: boolean) {\r\n    let length = this.opened.get(type) || 0;\r\n    length += value ? 1 : -1;\r\n    \r\n    this.opened.set(type, length);\r\n    this.dispatchEvent('change', this.opened);\r\n  }\r\n\r\n  public setTransportOpened(type: TransportType) {\r\n    return this.setTransportValue(type, true);\r\n  }\r\n\r\n  public setTransportClosed(type: TransportType) {\r\n    return this.setTransportValue(type, false);\r\n  }\r\n}\r\n\r\nconst transportController = new MTTransportController();\r\nexport default transportController;\r\n","/*\r\n * https://github.com/morethanwords/tweb\r\n * Copyright (C) 2019-2021 Eduard Kuzmenko\r\n * https://github.com/morethanwords/tweb/blob/master/LICENSE\r\n */\r\n\r\nimport deferredPromise, { CancellablePromise } from \"../../../../helpers/cancellablePromise\";\r\nimport type { StoragesResults } from \"./loadStorages\";\r\n\r\nconst RESET_STORAGES_PROMISE: CancellablePromise<Set<keyof StoragesResults>> = deferredPromise();\r\nexport default RESET_STORAGES_PROMISE;\r\n","/*\r\n * https://github.com/morethanwords/tweb\r\n * Copyright (C) 2019-2021 Eduard Kuzmenko\r\n * https://github.com/morethanwords/tweb/blob/master/LICENSE\r\n */\r\n\r\nimport type { CryptoMessagePort } from \"../crypto/cryptoMessagePort\";\r\nimport type { ApiFileManager } from \"../mtproto/apiFileManager\";\r\nimport type { ApiManager } from \"../mtproto/apiManager\";\r\nimport type { Authorizer } from \"../mtproto/authorizer\";\r\nimport type { DcConfigurator } from \"../mtproto/dcConfigurator\";\r\nimport type { NetworkerFactory } from \"../mtproto/networkerFactory\";\r\nimport type { PasswordManager } from \"../mtproto/passwordManager\";\r\nimport type { ReferenceDatabase } from \"../mtproto/referenceDatabase\";\r\nimport type { TimeManager } from \"../mtproto/timeManager\";\r\nimport type { RootScope } from \"../rootScope\";\r\nimport type DialogsStorage from \"../storages/dialogs\";\r\nimport type FiltersStorage from \"../storages/filters\";\r\nimport type PeersStorage from \"../storages/peers\";\r\nimport type ThumbsStorage from \"../storages/thumbs\";\r\nimport type { ApiUpdatesManager } from \"./apiUpdatesManager\";\r\nimport type { AppAvatarsManager } from \"./appAvatarsManager\";\r\nimport type { AppCallsManager } from \"./appCallsManager\";\r\nimport type { AppChatsManager } from \"./appChatsManager\";\r\nimport type { AppDocsManager } from \"./appDocsManager\";\r\nimport type { AppDraftsManager } from \"./appDraftsManager\";\r\nimport type { AppEmojiManager } from \"./appEmojiManager\";\r\nimport type { AppGroupCallsManager } from \"./appGroupCallsManager\";\r\nimport type { AppInlineBotsManager } from \"./appInlineBotsManager\";\r\nimport type { AppMessagesIdsManager } from \"./appMessagesIdsManager\";\r\nimport type { AppMessagesManager } from \"./appMessagesManager\";\r\nimport type { AppNotificationsManager } from \"./appNotificationsManager\";\r\nimport type AppPaymentsManager from \"./appPaymentsManager\";\r\nimport type { AppPeersManager } from \"./appPeersManager\";\r\nimport type { AppPhotosManager } from \"./appPhotosManager\";\r\nimport type { AppPollsManager } from \"./appPollsManager\";\r\nimport type { AppPrivacyManager } from \"./appPrivacyManager\";\r\nimport type { AppProfileManager } from \"./appProfileManager\";\r\nimport type { AppReactionsManager } from \"./appReactionsManager\";\r\nimport type { AppStateManager } from \"./appStateManager\";\r\nimport type { AppStickersManager } from \"./appStickersManager\";\r\nimport type { AppStoragesManager } from \"./appStoragesManager\";\r\nimport type { AppUsersManager } from \"./appUsersManager\";\r\nimport type AppWebDocsManager from \"./appWebDocsManager\";\r\nimport type { AppWebPagesManager } from \"./appWebPagesManager\";\r\nimport type { AppManagers } from \"./managers\";\r\n\r\nexport class AppManager {\r\n  protected appPeersManager: AppPeersManager;\r\n  protected appChatsManager: AppChatsManager;\r\n  protected appDocsManager: AppDocsManager;\r\n  protected appPhotosManager: AppPhotosManager;\r\n  protected appPollsManager: AppPollsManager;\r\n  protected appUsersManager: AppUsersManager;\r\n  protected appWebPagesManager: AppWebPagesManager;\r\n  protected appDraftsManager: AppDraftsManager;\r\n  protected appProfileManager: AppProfileManager;\r\n  protected appNotificationsManager: AppNotificationsManager;\r\n  protected apiUpdatesManager: ApiUpdatesManager;\r\n  protected appAvatarsManager: AppAvatarsManager;\r\n  protected appGroupCallsManager: AppGroupCallsManager;\r\n  protected appCallsManager: AppCallsManager;\r\n  protected appReactionsManager: AppReactionsManager;\r\n  protected appMessagesManager: AppMessagesManager;\r\n  protected appMessagesIdsManager: AppMessagesIdsManager;\r\n  protected appPrivacyManager: AppPrivacyManager;\r\n  protected appInlineBotsManager: AppInlineBotsManager;\r\n  protected appStickersManager: AppStickersManager;\r\n  protected referenceDatabase: ReferenceDatabase;\r\n  protected appEmojiManager: AppEmojiManager;\r\n  protected dialogsStorage: DialogsStorage;\r\n  protected filtersStorage: FiltersStorage;\r\n  protected apiManager: ApiManager;\r\n  // protected apiManager: ApiManagerProxy;\r\n  protected passwordManager: PasswordManager;\r\n  protected cryptoWorker: CryptoMessagePort;\r\n  protected apiFileManager: ApiFileManager;\r\n  protected peersStorage: PeersStorage;\r\n  protected thumbsStorage: ThumbsStorage;\r\n  protected networkerFactory: NetworkerFactory;\r\n  protected rootScope: RootScope;\r\n  protected authorizer: Authorizer;\r\n  protected dcConfigurator: DcConfigurator;\r\n  protected timeManager: TimeManager;\r\n  protected appStoragesManager: AppStoragesManager;\r\n  protected appStateManager: AppStateManager;\r\n  protected appWebDocsManager: AppWebDocsManager;\r\n  protected appPaymentsManager: AppPaymentsManager;\r\n\r\n  public clear: (init?: boolean) => void;\r\n  \r\n  public setManagers(managers: AppManagers) {\r\n    Object.assign(this, managers);\r\n    // this.after();\r\n  }\r\n}\r\n","/*\r\n * https://github.com/morethanwords/tweb\r\n * Copyright (C) 2019-2021 Eduard Kuzmenko\r\n * https://github.com/morethanwords/tweb/blob/master/LICENSE\r\n */\r\n\r\nimport type{ Chat } from \"../../../../layer\";\r\nimport type{ Dialog } from \"../../appMessagesManager\";\r\nimport type{ User } from \"../../appUsersManager\";\r\nimport type { StoragesStorages } from \"./createStorages\";\r\nimport { recordPromiseBound } from \"../../../../helpers/recordPromise\";\r\nimport { Awaited } from \"../../../../types\";\r\nimport { logger } from \"../../../logger\";\r\nimport RESET_STORAGES_PROMISE from \"./resetStoragesPromise\";\r\n\r\nexport type StoragesResults = Awaited<ReturnType<typeof loadStoragesInner>>;\r\n\r\nasync function loadStoragesInner(storages: StoragesStorages) {\r\n  const recordPromise = recordPromiseBound(logger('STORAGES-LOADER'));\r\n  const storagesKeys = Object.keys(storages) as Array<keyof StoragesStorages>;\r\n  const storagesPromises: Promise<any>[] = storagesKeys.map((key) => {\r\n    const promise = storages[key].getAll();\r\n    return recordPromise(promise, 'storage ' + (key as any as string));\r\n  });\r\n  \r\n  const storagesResults: {\r\n    users: User[],\r\n    chats: Chat[],\r\n    dialogs: Dialog[]\r\n  } = {} as any;\r\n  const arr = await Promise.all(storagesPromises);\r\n  for(let i = 0, length = storagesKeys.length; i < length; ++i) {\r\n    storagesResults[storagesKeys[i]] = arr[i] as any;\r\n  }\r\n\r\n  arr.splice(0, storagesKeys.length);\r\n\r\n  const resetStorages = await RESET_STORAGES_PROMISE;\r\n  if(resetStorages.size) {\r\n    for(const key of resetStorages) {\r\n      storagesResults[key].length = 0;\r\n    }\r\n\r\n    resetStorages.clear();\r\n  }\r\n\r\n  return storagesResults;\r\n}\r\n\r\nlet promise: ReturnType<typeof loadStoragesInner>;\r\nexport default function loadStorages(storages: StoragesStorages) {\r\n  return promise ??= loadStoragesInner(storages);\r\n}\r\n","/*\r\n * https://github.com/morethanwords/tweb\r\n * Copyright (C) 2019-2021 Eduard Kuzmenko\r\n * https://github.com/morethanwords/tweb/blob/master/LICENSE\r\n */\r\n\r\nimport { logger } from \"../logger\";\r\nimport { AppManager } from \"./manager\";\r\nimport createStorages from \"./utils/storages/createStorages\";\r\nimport loadStorages from \"./utils/storages/loadStorages\";\r\n\r\nexport class AppStoragesManager extends AppManager {\r\n  private storages: ReturnType<typeof createStorages>;\r\n\r\n  // private loadPromise: CancellablePromise<StoragesResults>;\r\n\r\n  private log: ReturnType<typeof logger>;\r\n\r\n  constructor() {\r\n    super();\r\n\r\n    this.log = logger('STORAGES');\r\n    this.storages = createStorages();\r\n    // this.loadPromise = deferredPromise();\r\n  }\r\n\r\n  public loadStorages() {\r\n    return loadStorages(this.storages);\r\n    // loadStorages(this.storages).then((storagesResults) => {\r\n      // this.loadPromise.resolve(storagesResults);\r\n    // });\r\n\r\n    // return this.loadPromise;\r\n  }\r\n\r\n  // public setStoragesResults(storagesResults: StoragesResults) {\r\n  //   this.loadPromise.resolve(storagesResults);\r\n  // }\r\n\r\n  public async loadStorage<T extends keyof AppStoragesManager['storages']>(name: T) {\r\n    return this.loadStorages().then((storagesResults) => {\r\n      return {\r\n        storage: this.storages[name],\r\n        results: storagesResults[name]\r\n      };\r\n    });\r\n  }\r\n}\r\n","/*\r\n * https://github.com/morethanwords/tweb\r\n * Copyright (C) 2019-2021 Eduard Kuzmenko\r\n * https://github.com/morethanwords/tweb/blob/master/LICENSE\r\n */\r\n\r\nimport type { Chat } from \"../../../../layer\";\r\nimport type { Dialog } from \"../../appMessagesManager\";\r\nimport type { User } from \"../../appUsersManager\";\r\nimport DATABASE_STATE from \"../../../../config/databases/state\";\r\nimport AppStorage from \"../../../storage\";\r\n\r\nexport type StoragesStorages = {\r\n  users: AppStorage<Record<UserId, User>, typeof DATABASE_STATE>,\r\n  chats: AppStorage<Record<ChatId, Chat>, typeof DATABASE_STATE>,\r\n  dialogs: AppStorage<Record<PeerId, Dialog>, typeof DATABASE_STATE>\r\n};\r\n\r\nexport default function createStorages() {\r\n  const names: (keyof StoragesStorages)[] = ['users', 'chats', 'dialogs'];\r\n  const storages: StoragesStorages = {} as any;\r\n  for(const name of names) {\r\n    // @ts-ignore\r\n    storages[name] = new AppStorage(DATABASE_STATE, name);\r\n  }\r\n\r\n  return storages;\r\n}\r\n","/*\r\n * https://github.com/morethanwords/tweb\r\n * Copyright (C) 2019-2021 Eduard Kuzmenko\r\n * https://github.com/morethanwords/tweb/blob/master/LICENSE\r\n * \r\n * Originally from:\r\n * https://github.com/zhukov/webogram\r\n * Copyright (C) 2014 Igor Zhukov <igor.beatle@gmail.com>\r\n * https://github.com/zhukov/webogram/blob/master/LICENSE\r\n */\r\n\r\nimport type { AccountPassword, AccountUpdatePasswordSettings, InputCheckPasswordSRP, PasswordKdfAlgo } from '../../layer';\r\nimport randomize from '../../helpers/array/randomize';\r\nimport { AppManager } from '../appManagers/manager';\r\n\r\nexport class PasswordManager extends AppManager {\r\n  public getState(): Promise<AccountPassword> {\r\n    return this.apiManager.invokeApi('account.getPassword').then((result) => {\r\n      return result;\r\n    });\r\n  }\r\n\r\n  public updateSettings(settings: {\r\n    hint?: string,\r\n    email?: string,\r\n    newPassword?: string,\r\n    currentPassword?: string\r\n  } = {}) {\r\n    //state = Object.assign({}, state);\r\n    //state.new_algo = Object.assign({}, state.new_algo);\r\n\r\n    return this.getState().then((state) => {\r\n      let currentHashPromise: Promise<InputCheckPasswordSRP>;\r\n      let newHashPromise: Promise<Uint8Array>;\r\n      const params: AccountUpdatePasswordSettings = {\r\n        password: null,\r\n        new_settings: {\r\n          _: 'account.passwordInputSettings',\r\n          hint: settings.hint,\r\n          email: settings.email\r\n        }\r\n      };\r\n  \r\n      if(settings.currentPassword) {\r\n        currentHashPromise = this.cryptoWorker.invokeCrypto('computeSRP', settings.currentPassword, state, false) as any;\r\n      } else {\r\n        currentHashPromise = Promise.resolve({\r\n          _: 'inputCheckPasswordEmpty'\r\n        });\r\n      }\r\n  \r\n      // * https://core.telegram.org/api/srp#setting-a-new-2fa-password, but still there is a mistake, TDesktop passes 'new_algo' everytime\r\n      const newAlgo = state.new_algo as PasswordKdfAlgo.passwordKdfAlgoSHA256SHA256PBKDF2HMACSHA512iter100000SHA256ModPow;\r\n      const salt1 = new Uint8Array(newAlgo.salt1.length + 32);\r\n      randomize(salt1);\r\n      salt1.set(newAlgo.salt1, 0);\r\n      newAlgo.salt1 = salt1;\r\n  \r\n      if(settings.newPassword) {\r\n        newHashPromise = this.cryptoWorker.invokeCrypto('computeSRP', settings.newPassword, state, true) as any;\r\n      } else {\r\n        newHashPromise = Promise.resolve(new Uint8Array());\r\n      }\r\n  \r\n      return Promise.all([currentHashPromise, newHashPromise]).then((hashes) => {\r\n        params.password = hashes[0];\r\n        params.new_settings.new_algo = newAlgo;\r\n        params.new_settings.new_password_hash = hashes[1];\r\n  \r\n        return this.apiManager.invokeApi('account.updatePasswordSettings', params);\r\n      });\r\n    });\r\n  }\r\n\r\n  public getInputCheckPassword(password: string, state: AccountPassword) {\r\n    return this.cryptoWorker.invokeCrypto('computeSRP', password, state, false) as Promise<InputCheckPasswordSRP.inputCheckPasswordSRP>;\r\n  }\r\n\r\n  public check(password: string, state: AccountPassword, options: any = {}) {\r\n    return this.getInputCheckPassword(password, state).then((inputCheckPassword) => {\r\n      //console.log('SRP', inputCheckPassword);\r\n      return this.apiManager.invokeApi('auth.checkPassword', {\r\n        password: inputCheckPassword as InputCheckPasswordSRP.inputCheckPasswordSRP\r\n      }, options).then((auth) => {\r\n        if(auth._ === 'auth.authorization') {\r\n          this.apiManager.setUser(auth.user);\r\n        }\r\n\r\n        return auth;\r\n      });\r\n    });\r\n  }\r\n\r\n  public confirmPasswordEmail(code: string) {\r\n    return this.apiManager.invokeApi('account.confirmPasswordEmail', {code});\r\n  }\r\n\r\n  public resendPasswordEmail() {\r\n    return this.apiManager.invokeApi('account.resendPasswordEmail');\r\n  }\r\n\r\n  public cancelPasswordEmail() {\r\n    return this.apiManager.invokeApi('account.cancelPasswordEmail');\r\n  }\r\n\r\n  /* public requestRecovery(options: any = {}) {\r\n    return apiManager.invokeApi('auth.requestPasswordRecovery', {}, options);\r\n  }\r\n\r\n  public recover(code: any, options: any = {}) {\r\n    return apiManager.invokeApi('auth.recoverPassword', {\r\n      code\r\n    }, options);\r\n  } */\r\n}\r\n","/*\r\n * https://github.com/morethanwords/tweb\r\n * Copyright (C) 2019-2021 Eduard Kuzmenko\r\n * https://github.com/morethanwords/tweb/blob/master/LICENSE\r\n */\r\n\r\nimport { Photo } from \"../../layer\";\r\nimport { logger } from \"../logger\";\r\nimport bytesToHex from \"../../helpers/bytes/bytesToHex\";\r\nimport deepEqual from \"../../helpers/object/deepEqual\";\r\nimport { AppManager } from \"../appManagers/manager\";\r\n\r\nexport type ReferenceContext = ReferenceContext.referenceContextProfilePhoto | ReferenceContext.referenceContextMessage | ReferenceContext.referenceContextEmojiesSounds | ReferenceContext.referenceContextReactions;\r\nexport namespace ReferenceContext {\r\n  export type referenceContextProfilePhoto = {\r\n    type: 'profilePhoto',\r\n    peerId: PeerId\r\n  };\r\n\r\n  export type referenceContextMessage = {\r\n    type: 'message',\r\n    peerId: PeerId,\r\n    messageId: number\r\n  };\r\n\r\n  export type referenceContextEmojiesSounds = {\r\n    type: 'emojiesSounds'\r\n  };\r\n\r\n  export type referenceContextReactions = {\r\n    type: 'reactions'\r\n  };\r\n}\r\n\r\nexport type ReferenceBytes = Photo.photo['file_reference'];\r\nexport type ReferenceContexts = Set<ReferenceContext>;\r\n\r\n//type ReferenceBytes = Uint8Array;\r\n\r\nexport class ReferenceDatabase extends AppManager {\r\n  private contexts: Map<ReferenceBytes, ReferenceContexts> = new Map();\r\n  //private references: Map<ReferenceBytes, number[]> = new Map();\r\n  private links: {[hex: string]: ReferenceBytes} = {};\r\n  private log = logger('RD', undefined, true);\r\n  private refreshEmojiesSoundsPromise: Promise<any>;\r\n\r\n  // constructor() {\r\n  //   super();\r\n\r\n    // apiManager.addTaskListener('refreshReference', (task: RefreshReferenceTask) => {\r\n    //   const originalPayload = task.payload;\r\n\r\n    //   assumeType<RefreshReferenceTaskResponse>(task);\r\n    //   task.originalPayload = originalPayload;\r\n\r\n    //   this.refreshReference(originalPayload).then((bytes) => {\r\n    //     task.payload = bytes;\r\n    //   }, (err) => {\r\n    //     task.error = err;\r\n    //   }).then(() => apiManager.postMessage(task));\r\n    // });\r\n  // }\r\n\r\n  public saveContext(reference: ReferenceBytes, context: ReferenceContext, contexts?: ReferenceContexts) {\r\n    [contexts, reference] = this.getContexts(reference);\r\n    if(!contexts) {\r\n      contexts = new Set();\r\n      this.contexts.set(reference, contexts);\r\n    }\r\n    \r\n    this.links[bytesToHex(reference)] = reference;\r\n    for(const _context of contexts) {\r\n      if(deepEqual(_context, context)) {\r\n        return;\r\n      }\r\n    }\r\n\r\n    contexts.add(context);\r\n  }\r\n\r\n  public getReferenceByLink(reference: ReferenceBytes) {\r\n    return this.links[bytesToHex(reference)];\r\n  }\r\n\r\n  public getContexts(reference: ReferenceBytes): [ReferenceContexts, ReferenceBytes] {\r\n    const contexts = this.contexts.get(reference) || (reference = this.getReferenceByLink(reference) || reference, this.contexts.get(reference));\r\n    return [contexts, reference];\r\n  }\r\n\r\n  public getContext(reference: ReferenceBytes): [ReferenceContext, ReferenceBytes] {\r\n    const contexts = this.getContexts(reference);\r\n    return contexts[0] ? [contexts[0].values().next().value, contexts[1]] : undefined;\r\n  }\r\n\r\n  public deleteContext(reference: ReferenceBytes, context: ReferenceContext, contexts?: ReferenceContexts) {\r\n    [contexts, reference] = this.getContexts(reference);\r\n    if(contexts) {\r\n      for(const _context of contexts) {\r\n        if(deepEqual(_context, context)) {\r\n          contexts.delete(_context);\r\n          if(!contexts.size) {\r\n            this.contexts.delete(reference);\r\n            delete this.links[bytesToHex(reference)];\r\n          }\r\n          return true;\r\n        }\r\n      }\r\n    }\r\n\r\n    return false;\r\n  }\r\n\r\n  public refreshReference(reference: ReferenceBytes, context?: ReferenceContext): Promise<Uint8Array | number[]> {\r\n    this.log('refreshReference: start', reference.slice(), context);\r\n    if(!context) {\r\n      const c = this.getContext(reference);\r\n      if(!c) {\r\n        this.log('refreshReference: got no context for reference:', reference.slice());\r\n        return Promise.reject('NO_CONTEXT');\r\n      }\r\n\r\n      [context, reference] = c;\r\n    }\r\n\r\n    let promise: Promise<any>;\r\n    switch(context?.type) {\r\n      case 'message': {\r\n        promise = this.appMessagesManager.wrapSingleMessage(context.peerId, context.messageId, true);\r\n        break; \r\n        // .then(() => {\r\n        //   console.log('FILE_REFERENCE_EXPIRED: got message', context, appMessagesManager.getMessage((context as ReferenceContext.referenceContextMessage).messageId).media, reference);\r\n        // });\r\n      }\r\n\r\n      case 'emojiesSounds': {\r\n        promise = this.refreshEmojiesSoundsPromise || this.appStickersManager.getAnimatedEmojiSounds(true).then(() => {\r\n          this.refreshEmojiesSoundsPromise = undefined;\r\n        });\r\n        break;\r\n      }\r\n\r\n      default: {\r\n        this.log.warn('refreshReference: not implemented context', context);\r\n        return Promise.reject();\r\n      }\r\n    }\r\n\r\n    const hex = bytesToHex(reference);\r\n    this.log('refreshReference: refreshing reference:', hex);\r\n    return promise.then(() => {\r\n      const newHex = bytesToHex(reference);\r\n      this.log('refreshReference: refreshed, reference before:', hex, 'after:', newHex);\r\n      if(hex !== newHex) {\r\n        return reference;\r\n      }\r\n\r\n      this.deleteContext(reference, context);\r\n\r\n      const newContext = this.getContext(reference);\r\n      if(newContext) {\r\n        return this.refreshReference(reference, newContext[0]);\r\n      }\r\n\r\n      this.log.error('refreshReference: no new context, reference before:', hex, 'after:', newHex, context);\r\n\r\n      throw 'NO_NEW_CONTEXT';\r\n    });\r\n  }\r\n\r\n  /* public replaceReference(oldReference: ReferenceBytes, newReference: ReferenceBytes) {\r\n    const contexts = this.contexts.get(oldReference);\r\n    if(contexts) {\r\n      this.contexts.delete(oldReference);\r\n      this.contexts.set(newReference, contexts);\r\n    }\r\n  } */\r\n}\r\n","export default function safeReplaceObject(wasObject: any, newObject: any) {\r\n  if(!wasObject) {\r\n    return newObject;\r\n  }\r\n\r\n  for(var key in wasObject) {\r\n    if(!newObject.hasOwnProperty(key)) {\r\n      delete wasObject[key];\r\n    }\r\n  }\r\n\r\n  for(var key in newObject) {\r\n    //if (newObject.hasOwnProperty(key)) { // useless\r\n      wasObject[key] = newObject[key];\r\n    //}\r\n  }\r\n  \r\n  return wasObject;\r\n}\r\n","/*\r\n * https://github.com/morethanwords/tweb\r\n * Copyright (C) 2019-2021 Eduard Kuzmenko\r\n * https://github.com/morethanwords/tweb/blob/master/LICENSE\r\n */\r\n\r\nimport { Message, MessageAction, MessageMedia } from \"../../../../layer\";\r\nimport getPeerId from \"../peers/getPeerId\";\r\n\r\nexport default function getPeerIdsFromMessage(message: Message.message | Message.messageService) {\r\n  const peerIds: number[] = [\r\n    message.fromId,\r\n    message.viaBotId,\r\n    (message as Message.message).fwdFromId\r\n  ];\r\n\r\n  const media = (message as Message.message).media;\r\n  if(media) {\r\n    const contactUserId = (media as MessageMedia.messageMediaContact).user_id;\r\n    if(contactUserId !== undefined) {\r\n      peerIds.push(contactUserId.toPeerId());\r\n    }\r\n\r\n    const results = (media as MessageMedia.messageMediaPoll).results;\r\n    const recentVoters = results?.recent_voters;\r\n    if(recentVoters?.length) {\r\n      peerIds.push(...recentVoters.map((userId) => userId.toPeerId()));\r\n    }\r\n  }\r\n\r\n  const recentReactions = ((message as Message.message).reactions)?.recent_reactions;\r\n  if(recentReactions?.length) {\r\n    peerIds.push(...recentReactions.map((reaction) => getPeerId(reaction.peer_id)));\r\n  }\r\n\r\n  const action = (message as Message.messageService).action;\r\n  if(action) {\r\n    const userIds: UserId[] = [\r\n      ...((action as MessageAction.messageActionChatAddUser).users || []),\r\n      (action as MessageAction.messageActionChatDeleteUser).user_id,\r\n      (action as MessageAction.messageActionChatJoinedByLink).inviter_id\r\n    ];\r\n    peerIds.push(...userIds.filter(Boolean).map((userId) => userId.toPeerId()));\r\n\r\n    const chatIds: ChatId[] = [\r\n      (action as MessageAction.messageActionChatMigrateTo).channel_id,\r\n      (action as MessageAction.messageActionChannelMigrateFrom).chat_id,\r\n    ];\r\n    peerIds.push(...chatIds.filter(Boolean).map((chatId) => chatId.toPeerId(true)));\r\n  }\r\n\r\n  const recentRepliers = ((message as Message.message).replies)?.recent_repliers;\r\n  if(recentRepliers?.length) {\r\n    peerIds.push(...recentRepliers.map((reply) => getPeerId(reply)));\r\n  }\r\n\r\n  return new Set(peerIds.filter(Boolean));\r\n}\r\n","export default function defineNotNumerableProperties<T extends any>(obj: T, names: (keyof T)[]) {\r\n  //const perf = performance.now();\r\n  const props = {writable: true, configurable: true};\r\n  const out: {[name in keyof T]?: typeof props} = {};\r\n  names.forEach((name) => {\r\n    if(!obj.hasOwnProperty(name)) {\r\n      out[name] = props;\r\n    }\r\n  });\r\n  Object.defineProperties(obj, out);\r\n  //console.log('defineNotNumerableProperties time:', performance.now() - perf);\r\n}\r\n","/*\r\n * https://github.com/morethanwords/tweb\r\n * Copyright (C) 2019-2021 Eduard Kuzmenko\r\n * https://github.com/morethanwords/tweb/blob/master/LICENSE\r\n */\r\n\r\nimport type { Dialog } from \"../../appMessagesManager\";\r\nimport type getDialogIndexKey from \"./getDialogIndexKey\";\r\n\r\nexport default function setDialogIndex(\r\n  dialog: Dialog, \r\n  indexKey: ReturnType<typeof getDialogIndexKey>,\r\n  index: number\r\n) {\r\n  return dialog[indexKey] = index;\r\n}\r\n","/*\r\n * https://github.com/morethanwords/tweb\r\n * Copyright (C) 2019-2021 Eduard Kuzmenko\r\n * https://github.com/morethanwords/tweb/blob/master/LICENSE\r\n * \r\n * Originally from:\r\n * https://github.com/zhukov/webogram\r\n * Copyright (C) 2014 Igor Zhukov <igor.beatle@gmail.com>\r\n * https://github.com/zhukov/webogram/blob/master/LICENSE\r\n */\r\n\r\nimport type { Chat, DialogPeer, Message, MessageAction, MessageMedia, MessagesPeerDialogs, Update } from \"../../layer\";\r\nimport type { Dialog, MyMessage } from \"../appManagers/appMessagesManager\";\r\nimport tsNow from \"../../helpers/tsNow\";\r\nimport SearchIndex from \"../searchIndex\";\r\nimport { SliceEnd } from \"../../helpers/slicedArray\";\r\nimport { MyDialogFilter } from \"./filters\";\r\nimport { NULL_PEER_ID } from \"../mtproto/mtproto_config\";\r\nimport { NoneToVoidFunction } from \"../../types\";\r\nimport ctx from \"../../environment/ctx\";\r\nimport AppStorage from \"../storage\";\r\nimport type DATABASE_STATE from \"../../config/databases/state\";\r\nimport forEachReverse from \"../../helpers/array/forEachReverse\";\r\nimport indexOfAndSplice from \"../../helpers/array/indexOfAndSplice\";\r\nimport insertInDescendSortedArray from \"../../helpers/array/insertInDescendSortedArray\";\r\nimport safeReplaceObject from \"../../helpers/object/safeReplaceObject\";\r\nimport getServerMessageId from \"../appManagers/utils/messageId/getServerMessageId\";\r\nimport getPeerId from \"../appManagers/utils/peers/getPeerId\";\r\nimport generateMessageId from \"../appManagers/utils/messageId/generateMessageId\";\r\nimport { AppManager } from \"../appManagers/manager\";\r\nimport getDialogIndexKey from \"../appManagers/utils/dialogs/getDialogIndexKey\";\r\nimport isObject from \"../../helpers/object/isObject\";\r\nimport getDialogIndex from \"../appManagers/utils/dialogs/getDialogIndex\";\r\nimport getPeerIdsFromMessage from \"../appManagers/utils/messages/getPeerIdsFromMessage\";\r\nimport { AppStoragesManager } from \"../appManagers/appStoragesManager\";\r\nimport defineNotNumerableProperties from \"../../helpers/object/defineNotNumerableProperties\";\r\nimport setDialogIndex from \"../appManagers/utils/dialogs/setDialogIndex\";\r\n\r\nexport type FolderDialog = {\r\n  dialog: Dialog,\r\n  index: number\r\n};\r\n\r\nexport type Folder = {\r\n  dialogs: Dialog[],\r\n  id: number,\r\n  unreadMessagesCount: number,\r\n  unreadPeerIds: Set<PeerId>,\r\n  unreadUnmutedPeerIds: Set<PeerId>,\r\n  dispatchUnreadTimeout?: number\r\n};\r\n\r\nexport const GLOBAL_FOLDER_ID: LOCAL_FOLDER_ID = undefined;\r\nexport type LOCAL_FOLDER_ID = 0 | 1;\r\n\r\n// let spentTime = 0;\r\nexport default class DialogsStorage extends AppManager {\r\n  private storage: AppStoragesManager['storages']['dialogs'];\r\n  \r\n  private dialogs: {[peerId: PeerId]: Dialog};\r\n\r\n  private folders: {[folderId: number]: Folder} = {};\r\n\r\n  private allDialogsLoaded: {[folder_id: number]: boolean};\r\n  private dialogsOffsetDate: {[folder_id: number]: number};\r\n  private pinnedOrders: {[folder_id: number]: PeerId[]};\r\n  private dialogsNum: number;\r\n\r\n  private dialogsIndex: SearchIndex<PeerId>;\r\n\r\n  private cachedResults: {\r\n    query: string,\r\n    count: number,\r\n    dialogs: Dialog[],\r\n    folderId: number\r\n  };\r\n\r\n  protected after() {\r\n    this.clear(true);\r\n\r\n    this.rootScope.addEventListener('language_change', () => {\r\n      const peerId = this.appUsersManager.getSelf().id.toPeerId(false);\r\n      const dialog = this.getDialogOnly(peerId);\r\n      if(dialog) {\r\n        const peerText = this.appPeersManager.getPeerSearchText(peerId);\r\n        this.dialogsIndex.indexObject(peerId, peerText);\r\n      }\r\n    });\r\n\r\n    const onFilterUpdate = (filter: MyDialogFilter) => {\r\n      const dialogs = this.getCachedDialogs(false);\r\n      for(let i = 0; i < dialogs.length; ++i) {\r\n        this.processDialogForFilter(dialogs[i], filter);\r\n      }\r\n    };\r\n\r\n    this.rootScope.addEventListener('filter_order', () => {\r\n      const dialogs = this.getCachedDialogs(false);\r\n      // const indexKeys: ReturnType<DialogsStorage['getDialogIndexKey']>[] = [];\r\n      for(const filterId in this.folders) {\r\n        if(+filterId > 1) {\r\n          delete this.folders[filterId];\r\n        }\r\n\r\n        // indexKeys.push(this.getDialogIndexKey(+filterId));\r\n      }\r\n\r\n      for(let i = 0; i < dialogs.length; ++i) {\r\n        const dialog = dialogs[i];\r\n        // for(const indexKey of indexKeys) {\r\n        //   delete dialog[indexKey];\r\n        // }\r\n\r\n        this.processDialogForFilters(dialog);\r\n      }\r\n    });\r\n\r\n    this.rootScope.addEventListener('filter_update', onFilterUpdate);\r\n    this.rootScope.addEventListener('filter_new', onFilterUpdate);\r\n\r\n    this.rootScope.addEventListener('filter_delete', (filter) => {\r\n      const dialogs = this.getCachedDialogs(false);\r\n\r\n      const indexKey = this.getDialogIndexKeyByFilterId(filter.id);\r\n      for(let i = 0; i < dialogs.length; ++i) {\r\n        const dialog = dialogs[i];\r\n        delete dialog[indexKey];\r\n      }\r\n\r\n      delete this.folders[filter.id];\r\n    });\r\n\r\n    this.rootScope.addEventListener('dialog_notify_settings', (dialog) => {\r\n      this.processDialogForFilters(dialog);\r\n      this.prepareDialogUnreadCountModifying(dialog)();\r\n    });\r\n\r\n    this.rootScope.addEventListener('chat_update', (chatId) => {\r\n      const chat: Chat.chat = this.appChatsManager.getChat(chatId);\r\n\r\n      const peerId = chatId.toPeerId(true);\r\n      if(chat.pFlags.left && this.getDialogOnly(peerId)) {\r\n        this.dropDialogOnDeletion(peerId);\r\n      }\r\n    });\r\n\r\n    this.apiUpdatesManager.addMultipleEventsListeners({\r\n      updateFolderPeers: this.onUpdateFolderPeers,\r\n\r\n      updateDialogPinned: this.onUpdateDialogPinned,\r\n\r\n      updatePinnedDialogs: this.onUpdatePinnedDialogs,\r\n    });\r\n\r\n    return Promise.all([\r\n      this.appStateManager.getState(),\r\n      this.appStoragesManager.loadStorage('dialogs')\r\n    ]).then(([state, {results: dialogs, storage}]) => {\r\n      this.storage = storage;\r\n      this.dialogs = this.storage.getCache();\r\n\r\n      this.pinnedOrders = state.pinnedOrders || {};\r\n      if(!this.pinnedOrders[0]) this.pinnedOrders[0] = [];\r\n      if(!this.pinnedOrders[1]) this.pinnedOrders[1] = [];\r\n      \r\n      if(dialogs.length) {\r\n        AppStorage.freezeSaving<typeof DATABASE_STATE>(this.setDialogsFromState.bind(this, dialogs), ['chats', 'dialogs', 'messages', 'users']);\r\n      }\r\n\r\n      this.allDialogsLoaded = state.allDialogsLoaded || {};\r\n\r\n      if(dialogs.length) {\r\n        this.appDraftsManager.addMissedDialogs();\r\n      }\r\n    });\r\n  }\r\n\r\n  private setDialogsFromState(dialogs: Dialog[]) {\r\n    for(let i = 0, length = dialogs.length; i < length; ++i) {\r\n      const dialog = dialogs[i];\r\n      if(!dialog) {\r\n        continue;\r\n      }\r\n\r\n      // if(dialog.peerId !== SERVICE_PEER_ID) {\r\n        dialog.top_message = getServerMessageId(dialog.top_message); // * fix outgoing message to avoid copying dialog\r\n      // }\r\n\r\n      if(dialog.topMessage) {\r\n        this.appMessagesManager.saveMessages([dialog.topMessage]);\r\n      }\r\n\r\n      for(let i = 0; i <= 21; ++i) {\r\n        const indexKey: ReturnType<typeof getDialogIndexKey> = `index_${i}` as any;\r\n        delete dialog[indexKey];\r\n      }\r\n      // delete dialog.indexes;\r\n\r\n      this.saveDialog(dialog, undefined, true);\r\n\r\n      // ! WARNING, убрать это когда нужно будет делать чтобы pending сообщения сохранялись\r\n      const message = this.appMessagesManager.getMessageByPeer(dialog.peerId, dialog.top_message);\r\n      if(!message) {\r\n        this.appMessagesManager.reloadConversation(dialog.peerId);\r\n      }\r\n    }\r\n  }\r\n\r\n  public isDialogsLoaded(folderId: number) {\r\n    return !!this.allDialogsLoaded[folderId];\r\n  }\r\n\r\n  public setDialogsLoaded(folderId: number, loaded: boolean) {\r\n    if(folderId === GLOBAL_FOLDER_ID && loaded) {\r\n      this.allDialogsLoaded[0] = loaded;\r\n      this.allDialogsLoaded[1] = loaded;\r\n    } else {\r\n      this.allDialogsLoaded[folderId] = loaded;\r\n    }\r\n\r\n    if(this.allDialogsLoaded[0] && this.allDialogsLoaded[1]) {\r\n      this.allDialogsLoaded[GLOBAL_FOLDER_ID] = true;\r\n    }\r\n\r\n    this.appStateManager.pushToState('allDialogsLoaded', this.allDialogsLoaded);\r\n  }\r\n\r\n  public clear = (init = false) => {\r\n    this.pinnedOrders = {\r\n      0: [],\r\n      1: []\r\n    };\r\n\r\n    if(!init) {\r\n      this.storage.clear();\r\n\r\n      this.setDialogsLoaded(0, false);\r\n      this.setDialogsLoaded(1, false);\r\n      this.setDialogsLoaded(GLOBAL_FOLDER_ID, false);\r\n      this.savePinnedOrders();\r\n    } else {\r\n      this.allDialogsLoaded = {};\r\n    }\r\n\r\n    this.folders = {};\r\n    this.dialogsOffsetDate = {};\r\n    this.dialogsNum = 0;\r\n    this.dialogsIndex = new SearchIndex({\r\n      clearBadChars: true,\r\n      ignoreCase: true,\r\n      latinize: true,\r\n      includeTag: true\r\n    });\r\n    this.cachedResults = {\r\n      query: '',\r\n      count: 0,\r\n      dialogs: [],\r\n      folderId: 0\r\n    };\r\n  };\r\n\r\n  public handleDialogUnpinning(dialog: Dialog, folderId: number) {\r\n    delete dialog.pFlags.pinned;\r\n    indexOfAndSplice(this.pinnedOrders[folderId], dialog.peerId);\r\n    this.savePinnedOrders();\r\n  }\r\n\r\n  public savePinnedOrders() {\r\n    this.appStateManager.pushToState('pinnedOrders', this.pinnedOrders);\r\n  }\r\n\r\n  public resetPinnedOrder(folderId: number) {\r\n    this.pinnedOrders[folderId] = [];\r\n  }\r\n\r\n  public getPinnedOrders(folderId: number) {\r\n    return this.pinnedOrders[folderId];\r\n  }\r\n\r\n  public getOffsetDate(folderId: number): number {\r\n    const offsetDate = this.dialogsOffsetDate[folderId] || 0;\r\n    if(folderId === GLOBAL_FOLDER_ID && !offsetDate) { // make request not from beginning if we have loaded some dialogs\r\n      return Math.min(this.getOffsetDate(0), this.getOffsetDate(1));\r\n    }\r\n\r\n    return offsetDate;\r\n  }\r\n\r\n  public getFolder(id: number) {\r\n    let folder = this.folders[id];\r\n    if(!folder) {\r\n      folder = this.folders[id] = {\r\n        dialogs: [], \r\n        id, \r\n        unreadMessagesCount: 0, \r\n        unreadPeerIds: new Set(), \r\n        unreadUnmutedPeerIds: new Set()\r\n      };\r\n\r\n      defineNotNumerableProperties(folder, ['dispatchUnreadTimeout']);\r\n    }\r\n\r\n    return folder;\r\n  }\r\n\r\n  public getFolderDialogs(id: number, skipMigrated = true): Dialog[] {\r\n    if(id === GLOBAL_FOLDER_ID) { // * it won't be sorted\r\n      return this.getCachedDialogs(skipMigrated);\r\n    }\r\n\r\n    const folder = this.getFolder(id);\r\n    return skipMigrated ? folder.dialogs.filter((dialog) => dialog.migratedTo === undefined) : folder.dialogs;\r\n  }\r\n\r\n  public getNextDialog(currentPeerId: PeerId, next: boolean, filterId: number) {\r\n    const folder = this.getFolderDialogs(filterId, true);\r\n    let dialog: Dialog;\r\n    if(!currentPeerId) {\r\n      if(next) {\r\n        dialog = folder[0];\r\n      }\r\n    } else {\r\n      const idx = folder.findIndex((dialog) => dialog.peerId === currentPeerId);\r\n      if(idx !== -1) {\r\n        const nextIndex = next ? idx + 1 : idx - 1;\r\n        dialog = folder[nextIndex];\r\n      }\r\n    }\r\n\r\n    return dialog;\r\n  }\r\n\r\n  public getDialogIndexKeyByFilterId(filterId: number) {\r\n    if(filterId <= 1) return getDialogIndexKey(filterId as LOCAL_FOLDER_ID);\r\n    const filter = this.filtersStorage.getFilter(filterId);\r\n    return getDialogIndexKey(filter.orderIndex);\r\n  }\r\n  \r\n  public isPeerUnmuted(peerId: PeerId) {\r\n    return !this.appNotificationsManager.isPeerLocalMuted(peerId, true);\r\n  }\r\n\r\n  public getFolderUnreadCount(filterId: number) {\r\n    const folder = this.getFolder(filterId);\r\n    return {unreadUnmutedCount: folder.unreadUnmutedPeerIds.size, unreadCount: folder.unreadPeerIds.size};\r\n  }\r\n\r\n  public getCachedDialogs(skipMigrated?: boolean) {\r\n    return this.getFolderDialogs(0, skipMigrated).concat(this.getFolderDialogs(1, skipMigrated));\r\n  }\r\n\r\n  private setDialogIndexInFilter(dialog: Dialog, indexKey: ReturnType<typeof getDialogIndexKey>, filter: MyDialogFilter) {\r\n    let index: number;\r\n\r\n    /* if(filter.id <= 1) {\r\n      index = getDialogIndex(dialog, getDialogIndexKey(filter.id));\r\n    } else  */if(this.filtersStorage.testDialogForFilter(dialog, filter)) {\r\n      const pinnedIndex = filter.pinnedPeerIds.indexOf(dialog.peerId);\r\n      if(pinnedIndex !== -1) {\r\n        index = this.generateDialogIndex(this.generateDialogPinnedDateByIndex(filter.pinned_peers.length - 1 - pinnedIndex), true);\r\n      } else if(dialog.pFlags?.pinned) {\r\n        index = this.generateIndexForDialog(dialog, true);\r\n      } else {\r\n        index = getDialogIndex(dialog);\r\n      }\r\n    }\r\n\r\n    // if(!dialog.hasOwnProperty(indexKey)) {\r\n    //   defineNotNumerableProperties(dialog, [indexKey]);\r\n    // }\r\n\r\n    return setDialogIndex(dialog, indexKey, index);\r\n  }\r\n\r\n  public getDialog(peerId: PeerId, folderId?: number, skipMigrated = true): [Dialog, number] | [] {\r\n    const folders: Dialog[][] = [];\r\n\r\n    if(folderId === undefined) {\r\n      folders.push(this.getFolder(0).dialogs, this.getFolder(1).dialogs);\r\n    } else {\r\n      folders.push(this.getFolderDialogs(folderId, false));\r\n    }\r\n\r\n    for(let folder of folders) {\r\n      let i = 0, skipped = 0;\r\n      for(let length = folder.length; i < length; ++i) {\r\n        const dialog = folder[i];\r\n        if(dialog.peerId === peerId) {\r\n          return [dialog, i - skipped];\r\n        } else if(skipMigrated && dialog.migratedTo !== undefined) {\r\n          ++skipped;\r\n        }\r\n      }\r\n    }\r\n\r\n    return [];\r\n  }\r\n\r\n  public getDialogOnly(peerId: PeerId) {\r\n    return this.dialogs[peerId];\r\n  }\r\n\r\n  public getDialogIndex(peerId: PeerId | Dialog, indexKey: ReturnType<typeof getDialogIndexKey>) {\r\n    const dialog = isObject(peerId) ? peerId : this.getDialogOnly(peerId);\r\n    return getDialogIndex(dialog, indexKey);\r\n  }\r\n\r\n  /*\r\n  var date = Date.now() / 1000 | 0;\r\n  var m = date * 0x10000;\r\n\r\n  var k = (date + 1) * 0x10000;\r\n  k - m;\r\n  65536\r\n  */\r\n  public generateDialogIndex(date?: number, isPinned?: boolean) {\r\n    if(date === undefined) {\r\n      date = tsNow(true) + this.timeManager.getServerTimeOffset();\r\n    }\r\n\r\n    return (date * 0x10000) + (isPinned ? 0 : ((++this.dialogsNum) & 0xFFFF));\r\n  }\r\n\r\n  public processDialogForFilters(dialog: Dialog) {\r\n    // let perf = performance.now();\r\n    const filters = this.filtersStorage.getFilters();\r\n    for(const id in filters) {\r\n      const filter = filters[id];\r\n      this.processDialogForFilter(dialog, filter);\r\n    }\r\n    // spentTime += (performance.now() - perf);\r\n    // console.log('generate index time:', spentTime);\r\n  }\r\n\r\n  public processDialogForFilter(dialog: Dialog, filter: MyDialogFilter) {\r\n    const indexKey = this.getDialogIndexKeyByFilterId(filter.id);\r\n    const folder = this.getFolder(filter.id);\r\n    const dialogs = folder.dialogs;\r\n\r\n    const wasIndex = dialogs.findIndex((d) => d.peerId === dialog.peerId);\r\n    const wasDialog = dialogs[wasIndex];\r\n    const wasDialogIndex = this.getDialogIndex(wasDialog, indexKey);\r\n\r\n    const newDialogIndex = this.setDialogIndexInFilter(dialog, indexKey, filter);\r\n\r\n    if(wasDialogIndex === newDialogIndex) {\r\n      return false;\r\n    }\r\n\r\n    if((!wasDialogIndex && newDialogIndex) || (wasIndex && !newDialogIndex)) {\r\n      this.prepareFolderUnreadCountModifyingByDialog(filter.id, dialog, !!newDialogIndex);\r\n    }\r\n\r\n    if(wasIndex !== -1) {\r\n      dialogs.splice(wasIndex, 1);\r\n    }\r\n\r\n    if(newDialogIndex) {\r\n      insertInDescendSortedArray(dialogs, dialog, (dialog) => this.getDialogIndex(dialog, indexKey), -1);\r\n    }\r\n\r\n    return true;\r\n  }\r\n\r\n  public prepareDialogUnreadCountModifying(dialog: Dialog) {\r\n    const callbacks: NoneToVoidFunction[] = [\r\n      this.prepareFolderUnreadCountModifyingByDialog(dialog.folder_id, dialog)\r\n    ];\r\n\r\n    const filters = this.filtersStorage.getFilters();\r\n    for(const id in filters) {\r\n      const filter = filters[id];\r\n      if(this.filtersStorage.testDialogForFilter(dialog, filter)) {\r\n        callbacks.push(this.prepareFolderUnreadCountModifyingByDialog(filter.id, dialog));\r\n      }\r\n    }\r\n\r\n    return () => callbacks.forEach((callback) => callback());\r\n  }\r\n\r\n  public prepareFolderUnreadCountModifyingByDialog(folderId: number, dialog: Dialog, toggle?: boolean) {\r\n    const wasUnreadCount = this.appMessagesManager.getDialogUnreadCount(dialog);\r\n    const wasUnmuted = this.isPeerUnmuted(dialog.peerId);\r\n    \r\n    if(toggle !== undefined) {\r\n      const addMessagesCount = toggle ? wasUnreadCount : -wasUnreadCount;\r\n      this.modifyFolderUnreadCount(folderId, addMessagesCount, !!wasUnreadCount, wasUnreadCount && wasUnmuted, dialog);\r\n      return;\r\n    }\r\n\r\n    return () => {\r\n      const newUnreadCount = this.appMessagesManager.getDialogUnreadCount(dialog);\r\n      const newUnmuted = this.isPeerUnmuted(dialog.peerId);\r\n\r\n      const addMessagesCount = newUnreadCount - wasUnreadCount;\r\n      this.modifyFolderUnreadCount(folderId, addMessagesCount, !!newUnreadCount, newUnreadCount && newUnmuted, dialog);\r\n    };\r\n  }\r\n\r\n  public modifyFolderUnreadCount(\r\n    folderId: number, \r\n    addMessagesCount: number, \r\n    toggleDialog: boolean, \r\n    toggleUnmuted: boolean, \r\n    dialog: Dialog\r\n  ) {\r\n    const folder = this.getFolder(folderId);\r\n    if(addMessagesCount) {\r\n      folder.unreadMessagesCount = Math.max(0, folder.unreadMessagesCount + addMessagesCount);\r\n    }\r\n    \r\n    const {peerId} = dialog;\r\n    if(toggleDialog) {\r\n      folder.unreadPeerIds.add(peerId);\r\n    } else {\r\n      folder.unreadPeerIds.delete(peerId);\r\n    }\r\n\r\n    if(toggleUnmuted) {\r\n      folder.unreadUnmutedPeerIds.add(peerId);\r\n    } else {\r\n      folder.unreadUnmutedPeerIds.delete(peerId);\r\n    }\r\n\r\n    if(folder.dispatchUnreadTimeout === undefined) {\r\n      folder.dispatchUnreadTimeout = ctx.setTimeout(() => {\r\n        folder.dispatchUnreadTimeout = undefined;\r\n        const _folder = {...folder};\r\n        delete _folder.dialogs;\r\n        this.rootScope.dispatchEvent('folder_unread', _folder);\r\n      }, 0);\r\n    }\r\n  }\r\n\r\n  public generateIndexForDialog(dialog: Dialog, justReturn = false, message?: MyMessage) {\r\n    let topDate = 0, isPinned: boolean;\r\n    if(dialog.pFlags.pinned && !justReturn) {\r\n      topDate = this.generateDialogPinnedDate(dialog);\r\n      isPinned = true;\r\n    } else {\r\n      if(!message) {\r\n        message = this.appMessagesManager.getMessageByPeer(dialog.peerId, dialog.top_message);\r\n      }\r\n      \r\n      topDate = (message as Message.message)?.date || topDate;\r\n\r\n      const channelId = this.appPeersManager.isChannel(dialog.peerId) && dialog.peerId.toChatId();\r\n      if(channelId) {\r\n        const channel: Chat.channel = this.appChatsManager.getChat(channelId);\r\n        if(!topDate || (channel.date && channel.date > topDate)) {\r\n          topDate = channel.date;\r\n        }\r\n      }\r\n  \r\n      if(dialog.draft?._ === 'draftMessage' && dialog.draft.date > topDate) {\r\n        topDate = dialog.draft.date;\r\n      }\r\n    }\r\n\r\n    if(!topDate) {\r\n      topDate = tsNow(true);\r\n    }\r\n\r\n    const index = this.generateDialogIndex(topDate, isPinned);\r\n    if(justReturn) {\r\n      return index;\r\n    }\r\n\r\n    const indexKey = getDialogIndexKey(dialog.folder_id);\r\n    setDialogIndex(dialog, indexKey, index);\r\n  }\r\n\r\n  public generateDialogPinnedDateByIndex(pinnedIndex: number) {\r\n    return 0x7fff0000 + (pinnedIndex & 0xFFFF); // 0xFFFF - потому что в папках может быть бесконечное число пиннедов\r\n  }\r\n\r\n  public generateDialogPinnedDate(dialog: Dialog) {\r\n    const order = this.pinnedOrders[dialog.folder_id];\r\n\r\n    const foundIndex = order.indexOf(dialog.peerId);\r\n    let pinnedIndex = foundIndex;\r\n    if(foundIndex === -1) {\r\n      pinnedIndex = order.push(dialog.peerId) - 1;\r\n      this.savePinnedOrders();\r\n    }\r\n\r\n    return this.generateDialogPinnedDateByIndex(pinnedIndex);\r\n  }\r\n\r\n  /* public generateDialog(peerId: PeerId) {\r\n    const dialog: Dialog = {\r\n      _: 'dialog',\r\n      pFlags: {},\r\n      peer: this.appPeersManager.getOutputPeer(peerId),\r\n      top_message: 0,\r\n      read_inbox_max_id: 0,\r\n      read_outbox_max_id: 0,\r\n      unread_count: 0,\r\n      unread_mentions_count: 0,\r\n      notify_settings: {\r\n        _: 'peerNotifySettings',\r\n      },\r\n    };\r\n\r\n    return dialog;\r\n  } */\r\n\r\n  public setDialogToState(dialog: Dialog) {\r\n    const {peerId, pts} = dialog;\r\n    const historyStorage = this.appMessagesManager.getHistoryStorage(peerId);\r\n    const messagesStorage = this.appMessagesManager.getHistoryMessagesStorage(peerId);\r\n    const history = historyStorage.history.slice;\r\n    let incomingMessage: MyMessage;\r\n    for(let i = 0, length = history.length; i < length; ++i) {\r\n      const mid = history[i];\r\n      const message: MyMessage = this.appMessagesManager.getMessageFromStorage(messagesStorage, mid);\r\n      if(message && !message.pFlags.is_outgoing/*  || peerId === SERVICE_PEER_ID */) {\r\n        incomingMessage = message;\r\n  \r\n        const peerIds = getPeerIdsFromMessage(message);\r\n        this.peersStorage.requestPeersForKey(peerIds, `topMessage_${peerId}`);\r\n  \r\n        break;\r\n      }\r\n    }\r\n\r\n    dialog.topMessage = incomingMessage;\r\n\r\n    // DO NOT TOUCH THESE LINES, SOME REAL MAGIC HERE.\r\n    // * Read service chat when refreshing page with outgoing & getting new service outgoing message\r\n    /* if(incomingMessage && dialog.read_inbox_max_id >= dialog.top_message) {\r\n      dialog.unread_count = 0;\r\n    }\r\n\r\n    dialog.read_inbox_max_id = this.appMessagesIdsManager.clearMessageId(dialog.read_inbox_max_id);\r\n    dialog.read_outbox_max_id = this.appMessagesIdsManager.clearMessageId(dialog.read_outbox_max_id); */\r\n    // CAN TOUCH NOW\r\n\r\n    if(peerId.isAnyChat() && pts) {\r\n      const newPts = this.apiUpdatesManager.getChannelState(peerId.toChatId(), pts).pts;\r\n      dialog.pts = newPts;\r\n    }\r\n\r\n    this.storage.set({\r\n      [peerId]: dialog\r\n    });\r\n\r\n    this.peersStorage.requestPeer(peerId, 'dialog');\r\n\r\n    /* for(let id in this.filtersStorage.filters) {\r\n      const filter = this.filtersStorage.filters[id];\r\n\r\n      if(this.filtersStorage.testDialogForFilter(dialog, filter)) {\r\n        \r\n      }\r\n    } */\r\n  }\r\n\r\n  public pushDialog(dialog: Dialog, offsetDate?: number, ignoreOffsetDate?: boolean, saveGlobalOffset?: boolean) {\r\n    const {folder_id, peerId} = dialog;\r\n    const dialogs = this.getFolderDialogs(folder_id, false);\r\n    const pos = dialogs.findIndex((d) => d.peerId === peerId);\r\n    if(pos !== -1) {\r\n      dialogs.splice(pos, 1);\r\n    }\r\n    \r\n    //if(!this.dialogs[peerId]) {\r\n      this.dialogs[peerId] = dialog;\r\n      \r\n      this.setDialogToState(dialog);\r\n    //}\r\n\r\n    if(offsetDate === undefined) {\r\n      offsetDate = this.getDialogOffsetDate(dialog);\r\n    }\r\n\r\n    this.processDialogForFilters(dialog);\r\n\r\n    if(offsetDate && !dialog.pFlags.pinned) {\r\n      if(saveGlobalOffset) {\r\n        const savedGlobalOffsetDate = this.dialogsOffsetDate[GLOBAL_FOLDER_ID];\r\n        if(!savedGlobalOffsetDate || offsetDate < savedGlobalOffsetDate) {\r\n          this.dialogsOffsetDate[GLOBAL_FOLDER_ID] = offsetDate;\r\n        }\r\n      }\r\n\r\n      const savedOffsetDate = this.dialogsOffsetDate[folder_id];\r\n      if(!savedOffsetDate || offsetDate < savedOffsetDate) {\r\n        // if(pos !== -1) {\r\n        if(!ignoreOffsetDate && !this.isDialogsLoaded(folder_id)) {\r\n          this.clearDialogFromState(dialog, true);\r\n          return;\r\n        }\r\n  \r\n        this.dialogsOffsetDate[folder_id] = offsetDate;\r\n      }\r\n    }\r\n\r\n    if(pos === -1) {\r\n      this.prepareFolderUnreadCountModifyingByDialog(folder_id, dialog, true);\r\n    }\r\n\r\n    const indexKey = getDialogIndexKey(folder_id);\r\n    /* const newPos =  */insertInDescendSortedArray(dialogs, dialog, (dialog) => getDialogIndex(dialog, indexKey), -1);\r\n    /* if(pos !== -1 && pos !== newPos) {\r\n      rootScope.dispatchEvent('dialog_order', {dialog, pos: newPos});\r\n    } */\r\n  }\r\n\r\n  public dropDialog(peerId: PeerId): ReturnType<DialogsStorage['getDialog']> {\r\n    const foundDialog = this.getDialog(peerId, undefined, false);\r\n    const [dialog, index] = foundDialog;\r\n    if(dialog) {\r\n      delete this.dialogs[peerId];\r\n\r\n      const folder = this.getFolder(dialog.folder_id);\r\n      folder.dialogs.splice(index, 1);\r\n      const wasPinned = indexOfAndSplice(this.pinnedOrders[dialog.folder_id], peerId) !== undefined;\r\n      \r\n      this.processDialogForFilters(dialog);\r\n\r\n      this.dialogsIndex.indexObject(peerId, '');\r\n\r\n      if(wasPinned) {\r\n        this.savePinnedOrders();\r\n      }\r\n\r\n      this.clearDialogFromState(dialog, false);\r\n    }\r\n\r\n    return foundDialog;\r\n  }\r\n\r\n  public clearDialogFromState(dialog: Dialog, keepLocal: boolean) {\r\n    const peerId = dialog.peerId;\r\n    this.peersStorage.requestPeersForKey([], `topMessage_${peerId}`);\r\n    this.peersStorage.releasePeer(peerId, 'dialog');\r\n    this.storage.delete(peerId, keepLocal);\r\n  }\r\n\r\n  public dropDialogWithEvent(peerId: PeerId) {\r\n    const dropped = this.dropDialog(peerId);\r\n    if(dropped.length) {\r\n      this.rootScope.dispatchEvent('dialog_drop', {peerId, dialog: dropped[0]});\r\n    }\r\n\r\n    return dropped;\r\n  }\r\n\r\n  /**\r\n   * leaving chat, leaving channel, deleting private dialog\r\n   */\r\n  public dropDialogOnDeletion(peerId: PeerId) {\r\n    this.dropDialogWithEvent(peerId);\r\n    this.rootScope.dispatchEvent('peer_deleted', peerId);\r\n  }\r\n\r\n  public applyDialogs(dialogsResult: MessagesPeerDialogs.messagesPeerDialogs) {\r\n    // * В эту функцию попадут только те диалоги, в которых есть read_inbox_max_id и read_outbox_max_id, в отличие от тех, что будут в getTopMessages\r\n\r\n    // ! fix 'dialogFolder', maybe there is better way to do it, this only can happen by 'messages.getPinnedDialogs' by folder_id: 0\r\n    forEachReverse(dialogsResult.dialogs, (dialog, idx) => {\r\n      if(dialog._ === 'dialogFolder') {\r\n        dialogsResult.dialogs.splice(idx, 1);\r\n      }\r\n    });\r\n\r\n    this.appUsersManager.saveApiUsers(dialogsResult.users);\r\n    this.appChatsManager.saveApiChats(dialogsResult.chats);\r\n    this.appMessagesManager.saveMessages(dialogsResult.messages);\r\n\r\n    // this.appMessagesManager.log('applyConversation', dialogsResult);\r\n\r\n    const updatedDialogs: {[peerId: PeerId]: Dialog} = {};\r\n    (dialogsResult.dialogs as Dialog[]).forEach((dialog) => {\r\n      const peerId = getPeerId(dialog.peer);\r\n      let topMessage = dialog.top_message;\r\n\r\n      const topPendingMessage = this.appMessagesManager.pendingTopMsgs[peerId];\r\n      if(topPendingMessage) {\r\n        if(!topMessage \r\n          || (this.appMessagesManager.getMessageByPeer(peerId, topPendingMessage) as MyMessage)?.date > (this.appMessagesManager.getMessageByPeer(peerId, topMessage) as MyMessage)?.date) {\r\n          dialog.top_message = topMessage = topPendingMessage;\r\n          this.appMessagesManager.getHistoryStorage(peerId).maxId = topPendingMessage;\r\n        }\r\n      }\r\n\r\n      /* const d = Object.assign({}, dialog);\r\n      if(peerId === 239602833) {\r\n        this.log.error('applyConversation lun', dialog, d);\r\n      } */\r\n\r\n      if(topMessage || dialog.draft?._ === 'draftMessage') {\r\n        this.saveDialog(dialog);\r\n        updatedDialogs[peerId] = dialog;\r\n      } else {\r\n        this.dropDialogWithEvent(peerId);\r\n      }\r\n\r\n      const updates = this.appMessagesManager.newUpdatesAfterReloadToHandle[peerId];\r\n      if(updates !== undefined) {\r\n        for(const update of updates) {\r\n          updates.delete(update);\r\n          this.apiUpdatesManager.saveUpdate(update);\r\n        }\r\n\r\n        if(!updates.size) {\r\n          delete this.appMessagesManager.newUpdatesAfterReloadToHandle[peerId];\r\n        }\r\n      }\r\n    });\r\n\r\n    if(Object.keys(updatedDialogs).length) {\r\n      this.rootScope.dispatchEvent('dialogs_multiupdate', updatedDialogs);\r\n    }\r\n  }\r\n\r\n  private getDialogOffsetDate(dialog: Dialog) {\r\n    const message = this.appMessagesManager.getMessageByPeer(dialog.peerId, dialog.top_message);\r\n    return message?.date || 0;\r\n  }\r\n\r\n  /**\r\n   * Won't save migrated from peer, forbidden peers, left and kicked\r\n   */\r\n  public saveDialog(dialog: Dialog, folderId = dialog.folder_id ?? 0, ignoreOffsetDate?: boolean, saveGlobalOffset?: boolean) {\r\n    const peerId = getPeerId(dialog.peer);\r\n    if(!peerId) {\r\n      console.error('saveConversation no peerId???', dialog, folderId);\r\n      return;\r\n    }\r\n\r\n    if(dialog._ !== 'dialog'/*  || peerId === 239602833 */) {\r\n      console.error('saveConversation not regular dialog', dialog, Object.assign({}, dialog));\r\n    }\r\n    \r\n    const channelId = this.appPeersManager.isChannel(peerId) ? peerId.toChatId() : NULL_PEER_ID;\r\n\r\n    if(peerId.isAnyChat()) {\r\n      const chat: Chat = this.appChatsManager.getChat(peerId.toChatId());\r\n      // ! chatForbidden stays for chat where you're kicked\r\n      if(\r\n        chat._ === 'channelForbidden' \r\n        // || chat._ === 'chatForbidden' \r\n        || (chat as Chat.chat).pFlags.left \r\n        // || (chat as any).pFlags.kicked\r\n      ) {\r\n        return;\r\n      }\r\n    }\r\n\r\n    const peerText = this.appPeersManager.getPeerSearchText(peerId);\r\n    this.dialogsIndex.indexObject(peerId, peerText);\r\n\r\n    const wasDialogBefore = this.getDialogOnly(peerId);\r\n\r\n    let mid: number, message: MyMessage;\r\n    if(dialog.top_message) {\r\n      mid = generateMessageId(dialog.top_message);//dialog.top_message;\r\n\r\n      // preserve outgoing message\r\n      const wasTopMessage = wasDialogBefore?.top_message && this.appMessagesManager.getMessageByPeer(peerId, wasDialogBefore.top_message) as MyMessage;\r\n      if(wasTopMessage?.pFlags?.is_outgoing && wasDialogBefore.top_message >= mid) {\r\n        mid = wasDialogBefore.top_message;\r\n      }\r\n\r\n      message = this.appMessagesManager.getMessageByPeer(peerId, mid);\r\n    } else {\r\n      mid = this.appMessagesManager.generateTempMessageId(peerId);\r\n      message = {\r\n        _: 'message',\r\n        id: mid,\r\n        mid,\r\n        from_id: this.appPeersManager.getOutputPeer(this.appUsersManager.getSelf().id.toPeerId(false)),\r\n        peer_id: this.appPeersManager.getOutputPeer(peerId),\r\n        deleted: true,\r\n        pFlags: {out: true},\r\n        date: 0,\r\n        message: ''\r\n      };\r\n      this.appMessagesManager.saveMessages([message], {isOutgoing: true});\r\n    }\r\n\r\n    if(!message?.pFlags) {\r\n      this.appMessagesManager.log.error('saveConversation no message:', dialog, message);\r\n    }\r\n\r\n    if(!channelId && peerId.isAnyChat()) {\r\n      const chat = this.appChatsManager.getChat(peerId.toChatId());\r\n      if(chat && chat.migrated_to && chat.pFlags.deactivated) {\r\n        const migratedToPeer = getPeerId(chat.migrated_to);\r\n        this.appMessagesManager.migratedFromTo[peerId] = migratedToPeer;\r\n        this.appMessagesManager.migratedToFrom[migratedToPeer] = peerId;\r\n        dialog.migratedTo = migratedToPeer;\r\n        //return;\r\n      }\r\n    }\r\n\r\n    dialog.top_message = mid;\r\n    // dialog.unread_count = wasDialogBefore && dialog.read_inbox_max_id === getServerMessageId(wasDialogBefore.read_inbox_max_id) ? wasDialogBefore.unread_count : dialog.unread_count;\r\n    dialog.read_inbox_max_id = generateMessageId(wasDialogBefore && !dialog.read_inbox_max_id ? wasDialogBefore.read_inbox_max_id : dialog.read_inbox_max_id);\r\n    dialog.read_outbox_max_id = generateMessageId(wasDialogBefore && !dialog.read_outbox_max_id ? wasDialogBefore.read_outbox_max_id : dialog.read_outbox_max_id);\r\n\r\n    if(dialog.folder_id === undefined) {\r\n      if(dialog._ === 'dialog') {\r\n        // ! СЛОЖНО ! СМОТРИ В getTopMessages\r\n        dialog.folder_id = wasDialogBefore ? wasDialogBefore.folder_id : folderId;\r\n      }/*  else if(dialog._ === 'dialogFolder') {\r\n        dialog.folder_id = dialog.folder.id;\r\n      } */\r\n    }\r\n\r\n    dialog.draft = this.appDraftsManager.saveDraft(peerId, 0, dialog.draft);\r\n    dialog.peerId = peerId;\r\n    // dialog.indexes ??= {} as any;\r\n\r\n    // Because we saved message without dialog present\r\n    if(message && message.pFlags.is_outgoing) {\r\n      const isOut = message.pFlags.out;\r\n      if(mid > dialog[isOut ? 'read_outbox_max_id' : 'read_inbox_max_id']) {\r\n        message.pFlags.unread = true;\r\n\r\n        if(!dialog.unread_count && !isOut) {\r\n          ++dialog.unread_count;\r\n        }\r\n      } else {\r\n        delete message.pFlags.unread;\r\n      }\r\n    }\r\n\r\n    const historyStorage = this.appMessagesManager.getHistoryStorage(peerId);\r\n    const slice = historyStorage.history.slice;\r\n    /* if(historyStorage === undefined) { // warning\r\n      historyStorage.history.push(mid);\r\n    } else  */if(!slice.length) {\r\n      historyStorage.history.unshift(mid);\r\n      historyStorage.count ||= 1;\r\n      if(this.appMessagesManager.mergeReplyKeyboard(historyStorage, message)) {\r\n        this.rootScope.dispatchEvent('history_reply_markup', {peerId});\r\n      }\r\n    } else if(!slice.isEnd(SliceEnd.Bottom)) { // * this will probably never happen, however, if it does, then it will fix slice with top_message\r\n      const slice = historyStorage.history.insertSlice([mid]);\r\n      slice.setEnd(SliceEnd.Bottom);\r\n      historyStorage.count ||= 1;\r\n      if(this.appMessagesManager.mergeReplyKeyboard(historyStorage, message)) {\r\n        this.rootScope.dispatchEvent('history_reply_markup', {peerId});\r\n      }\r\n    }\r\n\r\n    historyStorage.maxId = mid;\r\n    historyStorage.readMaxId = dialog.read_inbox_max_id;\r\n    historyStorage.readOutboxMaxId = dialog.read_outbox_max_id;\r\n\r\n    this.appNotificationsManager.savePeerSettings({\r\n      peerId, \r\n      settings: dialog.notify_settings\r\n    });\r\n\r\n    if(channelId && dialog.pts) {\r\n      this.apiUpdatesManager.addChannelState(channelId, dialog.pts);\r\n    }\r\n\r\n    this.generateIndexForDialog(dialog);\r\n\r\n    if(wasDialogBefore) {\r\n      // fix unread count\r\n      const releaseUnreadCount = this.dialogsStorage.prepareDialogUnreadCountModifying(wasDialogBefore);\r\n      safeReplaceObject(wasDialogBefore, dialog);\r\n      releaseUnreadCount();\r\n    }\r\n\r\n    this.pushDialog(dialog, message?.date, ignoreOffsetDate, saveGlobalOffset);\r\n  }\r\n\r\n  public getDialogs(query = '', offsetIndex?: number, limit = 20, folderId: number = 0, skipMigrated = false): {\r\n    dialogs: Dialog[],\r\n    count: number,\r\n    isTopEnd: boolean,\r\n    isEnd: boolean\r\n  } | Promise<{\r\n    dialogs: Dialog[],\r\n    count: number,\r\n    isTopEnd: boolean,\r\n    isEnd: boolean\r\n  }> {\r\n    if(folderId > 1) {\r\n      const promises: Promise<any>[] = [];\r\n\r\n      const fillContactsResult = this.appUsersManager.fillContacts();\r\n      if(!fillContactsResult.cached) {\r\n        promises.push(fillContactsResult.promise);\r\n      }\r\n\r\n      const reloadMissingDialogsPromise = this.filtersStorage.reloadMissingPeerIds(folderId);\r\n      if(reloadMissingDialogsPromise) {\r\n        promises.push(reloadMissingDialogsPromise);\r\n      }\r\n\r\n      if(promises.length) {\r\n        return Promise.all(promises).then(() => {\r\n          return this.getDialogs(query, offsetIndex, limit, folderId, skipMigrated);\r\n        });\r\n      }\r\n    }\r\n\r\n    // let's load only first pages by certain folderId. next pages will load without folder filtering\r\n    const realFolderId: LOCAL_FOLDER_ID = folderId > 1 || this.getOffsetDate(folderId) ? GLOBAL_FOLDER_ID : folderId as LOCAL_FOLDER_ID;\r\n    let curDialogStorage = this.getFolderDialogs(folderId, skipMigrated);\r\n\r\n    const indexKey = this.getDialogIndexKeyByFilterId(folderId);\r\n\r\n    if(query) {\r\n      if(!limit || this.cachedResults.query !== query || this.cachedResults.folderId !== folderId) {\r\n        this.cachedResults.query = query;\r\n        this.cachedResults.folderId = folderId;\r\n\r\n        const results = this.dialogsIndex.search(query);\r\n\r\n        const dialogs: Dialog[] = [];\r\n        for(const peerId in this.dialogs) {\r\n          const dialog = this.dialogs[peerId];\r\n          if(results.has(dialog.peerId) && dialog.folder_id === folderId) {\r\n            dialogs.push(dialog);\r\n          }\r\n        }\r\n\r\n        dialogs.sort((d1, d2) => this.getDialogIndex(d2, indexKey) - this.getDialogIndex(d1, indexKey));\r\n        this.cachedResults.dialogs = dialogs;\r\n        this.cachedResults.count = dialogs.length;\r\n      }\r\n\r\n      curDialogStorage = this.cachedResults.dialogs;\r\n    } else {\r\n      this.cachedResults.query = '';\r\n    }\r\n\r\n    let offset = 0;\r\n    if(offsetIndex > 0) {\r\n      for(let length = curDialogStorage.length; offset < length; ++offset) {\r\n        if(offsetIndex > this.getDialogIndex(curDialogStorage[offset], indexKey)) {\r\n          break;\r\n        }\r\n      }\r\n    }\r\n\r\n    const loadedAll = this.isDialogsLoaded(realFolderId);\r\n    const isEnoughDialogs = curDialogStorage.length >= (offset + limit);\r\n    if(query || loadedAll || isEnoughDialogs) {\r\n      const dialogs = curDialogStorage.slice(offset, offset + limit);\r\n      return {\r\n        dialogs,\r\n        count: loadedAll ? curDialogStorage.length : null,\r\n        isTopEnd: curDialogStorage.length && ((dialogs[0] && dialogs[0] === curDialogStorage[0]) || this.getDialogIndex(curDialogStorage[0], indexKey) < offsetIndex),\r\n        isEnd: (query || loadedAll) && (offset + limit) >= curDialogStorage.length\r\n      };\r\n    }\r\n\r\n    return this.appMessagesManager.getTopMessages(limit, realFolderId).then((result) => {\r\n      //const curDialogStorage = this[folderId];\r\n      if(skipMigrated) {\r\n        curDialogStorage = this.getFolderDialogs(folderId, skipMigrated);\r\n      }\r\n\r\n      offset = 0;\r\n      if(offsetIndex > 0) {\r\n        for(let length = curDialogStorage.length; offset < length; ++offset) {\r\n          if(offsetIndex > this.getDialogIndex(curDialogStorage[offset], indexKey)) {\r\n            break;\r\n          }\r\n        }\r\n      }\r\n\r\n      //this.log.warn(offset, offset + limit, curDialogStorage.dialogs.length, this.dialogs.length);\r\n\r\n      const dialogs = curDialogStorage.slice(offset, offset + limit);\r\n      return {\r\n        dialogs,\r\n        count: result.count === undefined ? curDialogStorage.length : result.count,\r\n        isTopEnd: curDialogStorage.length && ((dialogs[0] && dialogs[0] === curDialogStorage[0]) || this.getDialogIndex(curDialogStorage[0], indexKey) < offsetIndex),\r\n        // isEnd: this.isDialogsLoaded(realFolderId) && (offset + limit) >= curDialogStorage.length\r\n        isEnd: result.isEnd\r\n      };\r\n    });\r\n  }\r\n\r\n  // only 0 and 1 folders\r\n  private onUpdateFolderPeers = (update: Update.updateFolderPeers) => {\r\n    //this.log('updateFolderPeers', update);\r\n    const peers = update.folder_peers;\r\n\r\n    peers.forEach((folderPeer) => {\r\n      const {folder_id, peer} = folderPeer;\r\n\r\n      const peerId = getPeerId(peer);\r\n      const dialog = this.dropDialog(peerId)[0];\r\n      if(dialog) {\r\n        if(dialog.pFlags?.pinned) {\r\n          this.handleDialogUnpinning(dialog, folder_id);\r\n        }\r\n\r\n        dialog.folder_id = folder_id as LOCAL_FOLDER_ID;\r\n        this.generateIndexForDialog(dialog);\r\n        this.pushDialog(dialog); // need for simultaneously updatePinnedDialogs\r\n      }\r\n\r\n      this.appMessagesManager.scheduleHandleNewDialogs(peerId, dialog);\r\n    });\r\n  };\r\n\r\n  private onUpdateDialogPinned = (update: Update.updateDialogPinned) => {\r\n    const folderId = update.folder_id ?? 0;\r\n    //this.log('updateDialogPinned', update);\r\n    const peerId = getPeerId((update.peer as DialogPeer.dialogPeer).peer);\r\n    const dialog = this.getDialogOnly(peerId);\r\n\r\n    // этот код внизу никогда не сработает, в папках за пиннед отвечает updateDialogFilter\r\n    /* if(update.folder_id > 1) {\r\n      const filter = this.filtersStorage.filters[update.folder_id];\r\n      if(update.pFlags.pinned) {\r\n        filter.pinned_peers.unshift(peerId);\r\n      } else {\r\n        filter.pinned_peers.findAndSplice((p) => p === peerId);\r\n      }\r\n    } */\r\n\r\n    if(dialog) {\r\n      if(!update.pFlags.pinned) {\r\n        this.handleDialogUnpinning(dialog, folderId);\r\n      } else { // means set\r\n        dialog.pFlags.pinned = true;\r\n      }\r\n\r\n      this.generateIndexForDialog(dialog);\r\n    } \r\n\r\n    this.appMessagesManager.scheduleHandleNewDialogs(peerId, dialog);\r\n  };\r\n\r\n  private onUpdatePinnedDialogs = (update: Update.updatePinnedDialogs) => {\r\n    const folderId = update.folder_id ?? 0;\r\n        \r\n    const handleOrder = (order: PeerId[]) => {\r\n      this.pinnedOrders[folderId].length = 0;\r\n      order.reverse(); // index must be higher\r\n      order.forEach((peerId) => {\r\n        newPinned[peerId] = true;\r\n  \r\n        const dialog = this.getDialogOnly(peerId);\r\n        this.appMessagesManager.scheduleHandleNewDialogs(peerId, dialog);\r\n        if(!dialog) {\r\n          return;\r\n        }\r\n  \r\n        dialog.pFlags.pinned = true;\r\n        this.generateIndexForDialog(dialog);\r\n      });\r\n      \r\n      const dialogs = this.getFolderDialogs(folderId, false);\r\n      for(const dialog of dialogs) {\r\n        if(!dialog.pFlags.pinned) {\r\n          break;\r\n        }\r\n\r\n        const peerId = dialog.peerId;\r\n        if(!newPinned[peerId]) {\r\n          this.appMessagesManager.scheduleHandleNewDialogs(peerId);\r\n        }\r\n      }\r\n    };\r\n\r\n    //this.log('updatePinnedDialogs', update);\r\n    const newPinned: {[peerId: PeerId]: true} = {};\r\n    if(!update.order) {\r\n      this.apiManager.invokeApi('messages.getPinnedDialogs', {\r\n        folder_id: folderId\r\n      }).then((dialogsResult) => {\r\n        // * for test reordering and rendering\r\n        // dialogsResult.dialogs.reverse();\r\n\r\n        this.applyDialogs(dialogsResult);\r\n\r\n        handleOrder(dialogsResult.dialogs.map((d) => d.peerId));\r\n\r\n        /* dialogsResult.dialogs.forEach((dialog) => {\r\n          newPinned[dialog.peerId] = true;\r\n        });\r\n\r\n        this.dialogsStorage.getFolder(folderId).forEach((dialog) => {\r\n          const peerId = dialog.peerId;\r\n          if(dialog.pFlags.pinned && !newPinned[peerId]) {\r\n            this.newDialogsToHandle[peerId] = {reload: true};\r\n            this.scheduleHandleNewDialogs();\r\n          }\r\n        }); */\r\n      });\r\n\r\n      return;\r\n    }\r\n\r\n    //this.log('before order:', this.dialogsStorage[0].map((d) => d.peerId));\r\n\r\n    handleOrder(update.order.map((peer) => getPeerId((peer as DialogPeer.dialogPeer).peer)));\r\n  };\r\n}\r\n","/*\r\n * https://github.com/morethanwords/tweb\r\n * Copyright (C) 2019-2021 Eduard Kuzmenko\r\n * https://github.com/morethanwords/tweb/blob/master/LICENSE\r\n */\r\n\r\nimport type { DialogFilter, Update } from \"../../layer\";\r\nimport { Modify } from \"../../types\";\r\nimport type { Dialog } from '../appManagers/appMessagesManager';\r\nimport forEachReverse from \"../../helpers/array/forEachReverse\";\r\nimport copy from \"../../helpers/object/copy\";\r\nimport safeReplaceObject from \"../../helpers/object/safeReplaceObject\";\r\nimport getPeerId from \"../appManagers/utils/peers/getPeerId\";\r\nimport { AppManager } from \"../appManagers/manager\";\r\nimport assumeType from \"../../helpers/assumeType\";\r\n\r\nexport type MyDialogFilter = Modify<DialogFilter.dialogFilter, {\r\n  /* pinned_peers: PeerId[],\r\n  include_peers: PeerId[],\r\n  exclude_peers: PeerId[], */\r\n  pinnedPeerIds: PeerId[],\r\n  includePeerIds: PeerId[],\r\n  excludePeerIds: PeerId[]\r\n}>;\r\n\r\nconst convertment = [\r\n  ['pinned_peers', 'pinnedPeerIds'], \r\n  ['exclude_peers', 'excludePeerIds'], \r\n  ['include_peers', 'includePeerIds']\r\n] as ['pinned_peers' | 'exclude_peers' | 'include_peers', 'pinnedPeerIds' | 'excludePeerIds' | 'includePeerIds'][];\r\n\r\nconst START_ORDER_INDEX = 2;\r\n\r\n// const LOCAL_FILTER: MyDialogFilter = {\r\n//   _: 'dialogFilter',\r\n//   id: 0,\r\n//   title: '',\r\n//   exclude_peers: [],\r\n//   include_peers: [],\r\n//   pinned_peers: [],\r\n//   excludePeerIds: [],\r\n//   includePeerIds: [],\r\n//   pinnedPeerIds: [],\r\n//   pFlags: {}\r\n// };\r\n\r\nexport default class FiltersStorage extends AppManager {\r\n  private filters: {[filterId: string]: MyDialogFilter};\r\n  private orderIndex: number;\r\n  private reloadedPeerIds: Set<PeerId>;\r\n\r\n  protected after() {\r\n    this.clear(true);\r\n    this.filters = {};\r\n\r\n    this.apiUpdatesManager.addMultipleEventsListeners({\r\n      updateDialogFilter: this.onUpdateDialogFilter,\r\n\r\n      updateDialogFilters: (update) => {\r\n        //console.warn('updateDialogFilters', update);\r\n\r\n        const oldFilters = copy(this.filters);\r\n\r\n        this.getDialogFilters(true).then((filters) => {\r\n          for(const _filterId in oldFilters) {\r\n            const filterId = +_filterId;\r\n            if(!filters.find((filter) => filter.id === filterId)) { // * deleted\r\n              this.onUpdateDialogFilter({_: 'updateDialogFilter', id: filterId});\r\n            }\r\n          }\r\n\r\n          this.onUpdateDialogFilterOrder({_: 'updateDialogFilterOrder', order: filters.map((filter) => filter.id)});\r\n        });\r\n      },\r\n\r\n      updateDialogFilterOrder: this.onUpdateDialogFilterOrder\r\n    });\r\n\r\n    // delete peers when dialog is being dropped\r\n    /* rootScope.addEventListener('peer_deleted', (peerId) => {\r\n      for(const filterId in this.filters) {\r\n        const filter = this.filters[filterId];\r\n        let modified = false;\r\n        [filter.pinned_peers, filter.include_peers, filter.exclude_peers].forEach((arr) => {\r\n          forEachReverse(arr, (inputPeer, idx) => {\r\n            if(getPeerId(inputPeer) === peerId) {\r\n              arr.splice(idx, 1);\r\n              modified = true;\r\n            }\r\n          });\r\n        });\r\n\r\n        if(modified) {\r\n          this.saveDialogFilter(filter, true);\r\n        }\r\n      }\r\n    }); */\r\n\r\n    return this.appStateManager.getState().then((state) => {\r\n      safeReplaceObject(this.filters, state.filters);\r\n\r\n      for(const filterId in this.filters) {\r\n        const filter = this.filters[filterId];\r\n        if(filter.hasOwnProperty('orderIndex') && filter.orderIndex >= this.orderIndex) {\r\n          this.orderIndex = filter.orderIndex + 1;\r\n        }\r\n\r\n        /* this.appMessagesManager.dialogsStorage.folders[+filterId] = {\r\n          dialogs: []\r\n        }; */\r\n      }\r\n\r\n      // delete this.filters[0];\r\n      // delete this.filters[1];\r\n      // this.getLocalFilter(0);\r\n      // this.getLocalFilter(1);\r\n    });\r\n  }\r\n\r\n  // private getLocalFilter(id: number) {\r\n  //   return this.filters[id] ??= {...copy(LOCAL_FILTER), id};\r\n  // }\r\n\r\n  public clear = (init?: boolean) => {\r\n    if(!init) {\r\n      // safeReplaceObject(this.filters, {});\r\n      this.reloadedPeerIds.clear();\r\n      this.clearFilters();\r\n    } else {\r\n      this.filters = {};\r\n      this.reloadedPeerIds = new Set();\r\n    }\r\n\r\n    this.orderIndex = START_ORDER_INDEX;\r\n  };\r\n\r\n  private onUpdateDialogFilter = (update: Update.updateDialogFilter) => {\r\n    if(update.filter) {\r\n      this.saveDialogFilter(update.filter as any);\r\n    } else if(this.filters[update.id]) { // Папка удалена\r\n      //this.getDialogFilters(true);\r\n      this.rootScope.dispatchEvent('filter_delete', this.filters[update.id]);\r\n      delete this.filters[update.id];\r\n    }\r\n\r\n    this.appStateManager.pushToState('filters', this.filters);\r\n  };\r\n\r\n  private onUpdateDialogFilterOrder = (update: Update.updateDialogFilterOrder) => {\r\n    //console.log('updateDialogFilterOrder', update);\r\n\r\n    this.orderIndex = START_ORDER_INDEX;\r\n    update.order.forEach((filterId, idx) => {\r\n      const filter = this.filters[filterId];\r\n      delete filter.orderIndex;\r\n      this.setOrderIndex(filter);\r\n    });\r\n\r\n    this.rootScope.dispatchEvent('filter_order', update.order);\r\n\r\n    this.appStateManager.pushToState('filters', this.filters);\r\n  };\r\n\r\n  public testDialogForFilter(dialog: Dialog, filter: MyDialogFilter) {\r\n    if(filter.id <= 1) {\r\n      return dialog.folder_id === filter.id;\r\n    }\r\n\r\n    const peerId = dialog.peerId;\r\n\r\n    // * check whether dialog exists\r\n    if(!this.appMessagesManager.getDialogOnly(peerId)) {\r\n      return false;\r\n    }\r\n\r\n    // exclude_peers\r\n    if(filter.excludePeerIds.includes(peerId)) {\r\n      return false;\r\n    }\r\n\r\n    // include_peers\r\n    if(filter.includePeerIds.includes(peerId)) {\r\n      return true;\r\n    }\r\n\r\n    const pFlags = filter.pFlags;\r\n\r\n    // exclude_archived\r\n    if(pFlags.exclude_archived && dialog.folder_id === 1) {\r\n      return false;\r\n    }\r\n\r\n    // exclude_read\r\n    if(pFlags.exclude_read && !this.appMessagesManager.isDialogUnread(dialog)) {\r\n      return false;\r\n    }\r\n\r\n    // exclude_muted\r\n    if(pFlags.exclude_muted && this.appNotificationsManager.isPeerLocalMuted(peerId) && !(dialog.unread_mentions_count && dialog.unread_count)) {\r\n      return false;\r\n    }\r\n\r\n    if(this.appPeersManager.isAnyChat(peerId)) {\r\n      // broadcasts\r\n      if(pFlags.broadcasts && this.appPeersManager.isBroadcast(peerId)) {\r\n        return true;\r\n      }\r\n\r\n      // groups\r\n      if(pFlags.groups && this.appPeersManager.isAnyGroup(peerId)) {\r\n        return true;\r\n      }\r\n    } else {\r\n      const userId = peerId.toUserId();\r\n      \r\n      // bots\r\n      if(this.appUsersManager.isBot(userId)) {\r\n        return !!pFlags.bots;\r\n      }\r\n      \r\n      // non_contacts\r\n      if(pFlags.non_contacts && !this.appUsersManager.isContact(userId)) {\r\n        return true;\r\n      }\r\n\r\n      // contacts\r\n      if(pFlags.contacts && this.appUsersManager.isContact(userId)) {\r\n        return true;\r\n      }\r\n    }\r\n\r\n    return false;\r\n  }\r\n\r\n  public testDialogForFilterId(dialog: Dialog, filterId: number) {\r\n    return this.testDialogForFilter(dialog, this.filters[filterId]);\r\n  }\r\n\r\n  public getFilter(filterId: number) {\r\n    return this.filters[filterId];\r\n  }\r\n\r\n  public getFilters() {\r\n    return this.filters;\r\n  }\r\n\r\n  public clearFilters() {\r\n    const filters = this.getFilters();\r\n    for(const filterId in filters) { // delete filters\r\n      this.onUpdateDialogFilter({\r\n        _: 'updateDialogFilter',\r\n        id: +filterId,\r\n      });\r\n    }\r\n  }\r\n\r\n  public async toggleDialogPin(peerId: PeerId, filterId: number) {\r\n    const filter = this.filters[filterId];\r\n\r\n    const index = filter.pinnedPeerIds.indexOf(peerId);\r\n    const wasPinned = index !== -1;\r\n\r\n    if(wasPinned) {\r\n      filter.pinned_peers.splice(index, 1);\r\n      filter.pinnedPeerIds.splice(index, 1);\r\n    }\r\n    \r\n    if(!wasPinned) {\r\n      if(filter.pinned_peers.length >= (await this.apiManager.getConfig()).pinned_infolder_count_max) {\r\n        return Promise.reject({type: 'PINNED_DIALOGS_TOO_MUCH'});\r\n      }\r\n      \r\n      filter.pinned_peers.unshift(this.appPeersManager.getInputPeerById(peerId));\r\n      filter.pinnedPeerIds.unshift(peerId);\r\n    }\r\n    \r\n    return this.updateDialogFilter(filter);\r\n  }\r\n\r\n  public createDialogFilter(filter: MyDialogFilter, prepend?: boolean) {\r\n    const maxId = Math.max(1, ...Object.keys(this.filters).map((i) => +i));\r\n    filter = copy(filter);\r\n    filter.id = maxId + 1;\r\n    return this.updateDialogFilter(filter, undefined, prepend);\r\n  }\r\n\r\n  public updateDialogFilter(filter: MyDialogFilter, remove = false, prepend = false) {\r\n    const flags = remove ? 0 : 1;\r\n\r\n    return this.apiManager.invokeApi('messages.updateDialogFilter', {\r\n      flags,\r\n      id: filter.id,\r\n      filter: remove ? undefined : this.getOutputDialogFilter(filter)\r\n    }).then((bool: boolean) => { // возможно нужна проверка и откат, если результат не ТРУ\r\n      //console.log('updateDialogFilter bool:', bool);\r\n\r\n      if(bool) {\r\n        /* if(!this.filters[filter.id]) {\r\n          this.saveDialogFilter(filter);\r\n        }\r\n\r\n        rootScope.$broadcast('filter_update', filter); */\r\n\r\n        this.onUpdateDialogFilter({\r\n          _: 'updateDialogFilter',\r\n          id: filter.id,\r\n          filter: remove ? undefined : filter as any\r\n        });\r\n\r\n        if(prepend) {\r\n          const f: MyDialogFilter[] = [];\r\n          for(const filterId in this.filters) {\r\n            const filter = this.filters[filterId];\r\n            ++filter.orderIndex;\r\n            f.push(filter);\r\n          }\r\n\r\n          filter.orderIndex = START_ORDER_INDEX;\r\n\r\n          const order = f.sort((a, b) => a.orderIndex - b.orderIndex).map((filter) => filter.id);\r\n          this.onUpdateDialogFilterOrder({\r\n            _: 'updateDialogFilterOrder',\r\n            order\r\n          });\r\n        }\r\n      }\r\n\r\n      return bool;\r\n    });\r\n  }\r\n\r\n  public getOutputDialogFilter(filter: MyDialogFilter) {\r\n    const c = copy(filter);\r\n    /* convertment.forEach(([from, to]) => {\r\n      c[from] = c[to].map((peerId) => this.appPeersManager.getInputPeerById(peerId));\r\n    }); */\r\n\r\n    this.filterIncludedPinnedPeers(filter);\r\n\r\n    return c;\r\n  }\r\n\r\n  private filterIncludedPinnedPeers(filter: MyDialogFilter) {\r\n    forEachReverse(filter.includePeerIds, (peerId, idx) => {\r\n      if(filter.pinnedPeerIds.includes(peerId)) {\r\n        filter.include_peers.splice(idx, 1);\r\n        filter.includePeerIds.splice(idx, 1);\r\n      }\r\n    });\r\n  }\r\n\r\n  // private spliceMissingPeerIds(filterId: number, type: ArgumentTypes<FiltersStorage['reloadMissingPeerIds']>[1], missingPeerIds: PeerId[]) {\r\n  //   const filter = this.getFilter(filterId);\r\n  //   const peers = filter && filter[type];\r\n  //   if(!peers?.length) {\r\n  //     return;\r\n  //   }\r\n\r\n  //   let spliced = false;\r\n  //   missingPeerIds.forEach((peerId) => {\r\n  //     const inputPeer = findAndSplice(peers, (inputPeer) => getPeerId(inputPeer) === peerId);\r\n  //     if(inputPeer) {\r\n  //       spliced = true;\r\n  //     }\r\n  //   });\r\n\r\n  //   if(spliced) {\r\n  //     this.onUpdateDialogFilter({\r\n  //       _: 'updateDialogFilter',\r\n  //       id: filterId,\r\n  //       filter\r\n  //     });\r\n  //   }\r\n  // }\r\n\r\n  public reloadMissingPeerIds(filterId: number, type: 'pinned_peers' | 'include_peers' | 'exclude_peers' = 'pinned_peers') {\r\n    const filter = this.getFilter(filterId);\r\n    const peers = filter && filter[type];\r\n    if(!peers?.length) {\r\n      return;\r\n    }\r\n\r\n    // const missingPeerIds: PeerId[] = [];\r\n    const reloadDialogs = peers.filter((inputPeer) => {\r\n      const peerId = getPeerId(inputPeer);\r\n      const isAlreadyReloaded = this.reloadedPeerIds.has(peerId);\r\n      const dialog = this.appMessagesManager.getDialogOnly(peerId);\r\n      // if(isAlreadyReloaded && !dialog) {\r\n      //   missingPeerIds.push(peerId);\r\n      // }\r\n\r\n      const reload = !isAlreadyReloaded && !dialog;\r\n      return reload;\r\n    });\r\n\r\n    if(!reloadDialogs.length) {\r\n      // if(missingPeerIds.length) {\r\n      //   this.spliceMissingPeerIds(filterId, type, missingPeerIds);\r\n      // }\r\n\r\n      return;\r\n    }\r\n\r\n    const reloadPromises = reloadDialogs.map((inputPeer) => {\r\n      const peerId = getPeerId(inputPeer);\r\n      const promise = this.appMessagesManager.reloadConversation(inputPeer)\r\n      .then((dialog) => {\r\n        this.reloadedPeerIds.add(peerId);\r\n\r\n        return dialog ? undefined : peerId;\r\n      });\r\n\r\n      return promise;\r\n    });\r\n\r\n    const reloadPromise = Promise.all(reloadPromises).then((missingPeerIds) => {\r\n      missingPeerIds = missingPeerIds.filter(Boolean);\r\n      if(!missingPeerIds.length) {\r\n        return;\r\n      }\r\n\r\n      // this.spliceMissingPeerIds(filterId, type, missingPeerIds);\r\n    });\r\n\r\n    return reloadPromise;\r\n  }\r\n\r\n  public async getDialogFilters(overwrite = false): Promise<MyDialogFilter[]> {\r\n    const keys = Object.keys(this.filters);\r\n    if(keys.length && !overwrite) {\r\n      return keys.map((filterId) => this.filters[filterId]).sort((a, b) => a.orderIndex - b.orderIndex);\r\n    }\r\n\r\n    const filters = await this.apiManager.invokeApiSingle('messages.getDialogFilters');\r\n    return filters.map((filter) => this.saveDialogFilter(filter, overwrite)).filter(Boolean);\r\n  }\r\n\r\n  public getSuggestedDialogsFilters() {\r\n    return this.apiManager.invokeApi('messages.getSuggestedDialogFilters');\r\n  }\r\n\r\n  public saveDialogFilter(filter: DialogFilter, update = true) {\r\n    // defineNotNumerableProperties(filter, ['includePeerIds', 'excludePeerIds', 'pinnedPeerIds']);\r\n\r\n    // if(filter._ === 'dialogFilterDefault') {\r\n    //   return;\r\n    //   // filter = this.getLocalFilter(0);\r\n    //   // delete filter.orderIndex;\r\n    // }\r\n\r\n    assumeType<MyDialogFilter>(filter);\r\n    convertment.forEach(([from, to]) => {\r\n      assumeType<MyDialogFilter>(filter);\r\n      filter[to] = filter[from].map((peer) => getPeerId(peer));\r\n    });\r\n\r\n    this.filterIncludedPinnedPeers(filter);\r\n    \r\n    filter.include_peers = filter.pinned_peers.concat(filter.include_peers);\r\n    filter.includePeerIds = filter.pinnedPeerIds.concat(filter.includePeerIds);\r\n\r\n    const oldFilter = this.filters[filter.id];\r\n    if(oldFilter) {\r\n      Object.assign(oldFilter, filter);\r\n    } else {\r\n      this.filters[filter.id] = filter;\r\n    }\r\n    \r\n    this.setOrderIndex(filter);\r\n    \r\n    if(update) {\r\n      this.rootScope.dispatchEvent('filter_update', filter);\r\n    } else if(!oldFilter) {\r\n      this.rootScope.dispatchEvent('filter_new', filter);\r\n    }\r\n\r\n    return filter;\r\n  }\r\n\r\n  public setOrderIndex(filter: MyDialogFilter) {\r\n    if(filter.hasOwnProperty('orderIndex')) {\r\n      if(filter.orderIndex >= this.orderIndex) {\r\n        this.orderIndex = filter.orderIndex + 1;\r\n      }\r\n    } else {\r\n      filter.orderIndex = this.orderIndex++ as MyDialogFilter['orderIndex'];\r\n    }\r\n\r\n    this.appStateManager.pushToState('filters', this.filters);\r\n  }\r\n}\r\n","/*\r\n * https://github.com/morethanwords/tweb\r\n * Copyright (C) 2019-2021 Eduard Kuzmenko\r\n * https://github.com/morethanwords/tweb/blob/master/LICENSE\r\n */\r\n\r\nexport default function applyMixins(derivedCtor: any, constructors: any[]) {\r\n  // const callbacks: Array<(...args: any[]) => any> = [];\r\n\r\n  constructors.forEach((baseCtor) => {\r\n    Object.getOwnPropertyNames(baseCtor.prototype).forEach((name) => {\r\n      const value: PropertyDescriptor = Object.getOwnPropertyDescriptor(baseCtor.prototype, name) || Object.create(null);\r\n      /* if(name === '_constructor') {\r\n        callbacks.push(value.value);\r\n        return;\r\n      } else  */if(name === 'constructor') {\r\n        return;\r\n      }\r\n\r\n      Object.defineProperty(\r\n        derivedCtor.prototype,\r\n        name,\r\n        value\r\n      );\r\n    });\r\n  });\r\n\r\n  // if(callbacks.length) {\r\n  //   function c(...args: any[]): any {\r\n  //     callbacks.forEach((cb, idx) => {\r\n  //       // @ts-ignore\r\n  //       cb.apply(this, args[idx] || []);\r\n  //     });\r\n  //   };\r\n\r\n  //   Object.defineProperty(derivedCtor.prototype, 'superConstructor', {\r\n  //     configurable: true,\r\n  //     enumerable: true,\r\n  //     value: c,\r\n  //     writable: true\r\n  //   });\r\n  // }\r\n}\r\n","/*\r\n * https://github.com/morethanwords/tweb\r\n * Copyright (C) 2019-2021 Eduard Kuzmenko\r\n * https://github.com/morethanwords/tweb/blob/master/LICENSE\r\n * \r\n * Originally from:\r\n * https://github.com/zhukov/webogram\r\n * Copyright (C) 2014 Igor Zhukov <igor.beatle@gmail.com>\r\n * https://github.com/zhukov/webogram/blob/master/LICENSE\r\n */\r\n\r\nimport DEBUG from '../../config/debug';\r\nimport { ConstructorDeclMap, Message, MessageEntity, MessageFwdHeader, Peer, Update, Updates } from '../../layer';\r\nimport { logger, LogTypes } from '../logger';\r\nimport assumeType from '../../helpers/assumeType';\r\nimport App from '../../config/app';\r\nimport filterUnique from '../../helpers/array/filterUnique';\r\nimport { AppManager } from './manager';\r\nimport parseMarkdown from '../richTextProcessor/parseMarkdown';\r\nimport getPeerId from './utils/peers/getPeerId';\r\nimport ctx from '../../environment/ctx';\r\nimport EventListenerBase from '../../helpers/eventListenerBase';\r\nimport applyMixins from '../../helpers/applyMixins';\r\n\r\ntype UpdatesState = {\r\n  pendingPtsUpdates: (Update & {pts: number, pts_count: number})[],\r\n  pendingSeqUpdates?: {[seq: number]: {seq: number, date: number, updates: any[]}},\r\n  syncPending: {\r\n    seqAwaiting?: number,\r\n    ptsAwaiting?: true,\r\n    timeout: number\r\n  },\r\n  syncLoading: Promise<void>,\r\n\r\n  seq?: number,\r\n  pts?: number,\r\n  date?: number,\r\n  lastPtsUpdateTime?: number\r\n};\r\n\r\nconst SYNC_DELAY = 6;\r\n\r\nclass ApiUpdatesManager {\r\n  public updatesState: UpdatesState = {\r\n    pendingPtsUpdates: [],\r\n    pendingSeqUpdates: {},\r\n    syncPending: null,\r\n    syncLoading: null\r\n  };\r\n\r\n  private channelStates: {[channelId: ChatId]: UpdatesState} = {};\r\n  private attached = false;\r\n\r\n  private log = logger('UPDATES', LogTypes.Error | LogTypes.Warn | LogTypes.Log/*  | LogTypes.Debug */);\r\n  private debug = DEBUG;\r\n\r\n  constructor() {\r\n    this._constructor(false);\r\n  }\r\n\r\n  private setProxy() {\r\n    const self = this;\r\n    this.updatesState = new Proxy(this.updatesState, {\r\n      set: function(target: ApiUpdatesManager['updatesState'], key: keyof ApiUpdatesManager['updatesState'], value: ApiUpdatesManager['updatesState'][typeof key]) {\r\n        // @ts-ignore\r\n        target[key] = value;\r\n        self.saveUpdatesState();\r\n        return true;\r\n      }\r\n    });\r\n  }\r\n\r\n  public saveUpdatesState() {\r\n    const us = this.updatesState;\r\n    this.appStateManager.pushToState('updates', {\r\n      seq: us.seq,\r\n      pts: us.pts,\r\n      date: us.date\r\n    });\r\n  }\r\n\r\n  private popPendingSeqUpdate() {\r\n    const state = this.updatesState;\r\n    const nextSeq = state.seq + 1;\r\n    const pendingUpdatesData = state.pendingSeqUpdates[nextSeq];\r\n    if(!pendingUpdatesData) {\r\n      return false;\r\n    }\r\n\r\n    const updates = pendingUpdatesData.updates;\r\n    for(let i = 0, length = updates.length; i < length; ++i) {\r\n      this.saveUpdate(updates[i]);\r\n    }\r\n\r\n    state.seq = pendingUpdatesData.seq;\r\n    if(pendingUpdatesData.date && state.date < pendingUpdatesData.date) {\r\n      state.date = pendingUpdatesData.date;\r\n    }\r\n    delete state.pendingSeqUpdates[nextSeq];\r\n  \r\n    if(!this.popPendingSeqUpdate() &&\r\n      state.syncPending &&\r\n      state.syncPending.seqAwaiting &&\r\n      state.seq >= state.syncPending.seqAwaiting) {\r\n      if(!state.syncPending.ptsAwaiting) {\r\n        clearTimeout(state.syncPending.timeout);\r\n        state.syncPending = null;\r\n      } else {\r\n        delete state.syncPending.seqAwaiting;\r\n      }\r\n    }\r\n  \r\n    return true;\r\n  }\r\n\r\n  private popPendingPtsUpdate(channelId: ChatId) {\r\n    const curState = channelId ? this.getChannelState(channelId) : this.updatesState;\r\n    if(!curState.pendingPtsUpdates.length) {\r\n      return false;\r\n    }\r\n\r\n    curState.pendingPtsUpdates.sort((a, b) => {\r\n      return a.pts - b.pts;\r\n    });\r\n    // this.log('pop update', channelId, curState.pendingPtsUpdates)\r\n  \r\n    let curPts = curState.pts;\r\n    let goodPts = 0;\r\n    let goodIndex = 0;\r\n    for(let i = 0, length = curState.pendingPtsUpdates.length; i < length; ++i) {\r\n      const update = curState.pendingPtsUpdates[i];\r\n      curPts += update.pts_count;\r\n      if(curPts >= update.pts) {\r\n        goodPts = update.pts;\r\n        goodIndex = i;\r\n      }\r\n    }\r\n  \r\n    if(!goodPts) {\r\n      return false;\r\n    }\r\n  \r\n    this.debug && this.log.debug('pop pending pts updates', goodPts, curState.pendingPtsUpdates.slice(0, goodIndex + 1));\r\n  \r\n    curState.pts = goodPts;\r\n    for(let i = 0; i <= goodIndex; ++i) {\r\n      const update = curState.pendingPtsUpdates[i];\r\n\r\n      // @ts-ignore\r\n      this.saveUpdate(update);\r\n    }\r\n    curState.pendingPtsUpdates.splice(0, goodIndex + 1);\r\n  \r\n    if(!curState.pendingPtsUpdates.length && curState.syncPending) {\r\n      if(!curState.syncPending.seqAwaiting) {\r\n        clearTimeout(curState.syncPending.timeout);\r\n        curState.syncPending = null;\r\n      } else {\r\n        delete curState.syncPending.ptsAwaiting;\r\n      }\r\n    }\r\n  \r\n    return true;\r\n  }\r\n\r\n  public forceGetDifference() {\r\n    if(!this.updatesState.syncLoading) {\r\n      this.getDifference();\r\n    }\r\n  }\r\n\r\n  public processLocalUpdate(update: Update) {\r\n    this.processUpdateMessage({\r\n      _: 'updateShort',\r\n      update\r\n    } as Updates);\r\n  }\r\n\r\n  public processUpdateMessage = (updateMessage: any, options: Partial<{\r\n    override: boolean\r\n  }> = {}) => {\r\n    // return forceGetDifference()\r\n    const processOpts = {\r\n      date: updateMessage.date,\r\n      seq: updateMessage.seq,\r\n      seqStart: updateMessage.seq_start,\r\n      //ignoreSyncLoading: options.ignoreSyncLoading\r\n    };\r\n\r\n    this.debug && this.log.debug('processUpdateMessage', updateMessage);\r\n  \r\n    switch(updateMessage._) {\r\n      case 'updatesTooLong':\r\n      case 'new_session_created':\r\n        this.forceGetDifference();\r\n        break;\r\n  \r\n      case 'updateShort':\r\n        this.processUpdate(updateMessage.update, processOpts);\r\n        break;\r\n  \r\n      case 'updateShortMessage':\r\n      case 'updateShortChatMessage': {\r\n        assumeType<Updates.updateShortChatMessage | Updates.updateShortMessage>(updateMessage);\r\n        this.debug && this.log.debug('updateShortMessage | updateShortChatMessage', {...updateMessage});\r\n        const isOut = updateMessage.pFlags.out;\r\n        const fromId = (updateMessage as Updates.updateShortChatMessage).from_id || (isOut ? this.appPeersManager.peerId : (updateMessage as Updates.updateShortMessage).user_id);\r\n        const toId = (updateMessage as Updates.updateShortChatMessage).chat_id\r\n          ? (updateMessage as Updates.updateShortChatMessage).chat_id.toPeerId(true)\r\n          : ((updateMessage as Updates.updateShortMessage).user_id.toPeerId(false) || this.appPeersManager.peerId);\r\n  \r\n        this.processUpdate({\r\n          _: 'updateNewMessage',\r\n          message: {\r\n            _: 'message',\r\n            pFlags: updateMessage.pFlags,\r\n            id: updateMessage.id,\r\n            from_id: this.appPeersManager.getOutputPeer(fromId.toPeerId()),\r\n            peer_id: this.appPeersManager.getOutputPeer(toId),\r\n            date: updateMessage.date,\r\n            message: updateMessage.message,\r\n            fwd_from: updateMessage.fwd_from,\r\n            reply_to: updateMessage.reply_to,\r\n            entities: updateMessage.entities\r\n          },\r\n          pts: updateMessage.pts,\r\n          pts_count: updateMessage.pts_count\r\n        }, processOpts);\r\n        break;\r\n      }\r\n  \r\n      case 'updatesCombined':\r\n      case 'updates':\r\n        this.appUsersManager.saveApiUsers(updateMessage.users, options.override);\r\n        this.appChatsManager.saveApiChats(updateMessage.chats, options.override);\r\n  \r\n        updateMessage.updates.forEach((update: Update) => {\r\n          this.processUpdate(update, processOpts);\r\n        });\r\n        break;\r\n  \r\n      default:\r\n        this.log.warn('Unknown update message', updateMessage);\r\n    }\r\n  };\r\n  \r\n  private getDifference(first = false): Promise<void> {\r\n    // this.trace('Get full diff')\r\n    const updatesState = this.updatesState;\r\n    let wasSyncing = updatesState.syncLoading;\r\n    if(!wasSyncing) {\r\n      updatesState.pendingSeqUpdates = {};\r\n      updatesState.pendingPtsUpdates = [];\r\n    }\r\n  \r\n    if(updatesState.syncPending) {\r\n      clearTimeout(updatesState.syncPending.timeout);\r\n      updatesState.syncPending = null;\r\n    }\r\n\r\n    const promise = this.apiManager.invokeApi('updates.getDifference', {\r\n      pts: updatesState.pts, \r\n      pts_total_limit: first /* && false  */? /* 50 */1200 : undefined,\r\n      date: updatesState.date, \r\n      qts: -1\r\n    }, {\r\n      timeout: 0x7fffffff\r\n    }).then((differenceResult) => {\r\n      this.debug && this.log.debug('Get diff result', differenceResult);\r\n\r\n      if(differenceResult._ === 'updates.differenceEmpty') {\r\n        this.debug && this.log.debug('apply empty diff', differenceResult.seq);\r\n        updatesState.date = differenceResult.date;\r\n        updatesState.seq = differenceResult.seq;\r\n        return;\r\n      }\r\n\r\n      // ! SORRY I'M SORRY I'M SORRY\r\n      if(first) {\r\n        this.rootScope.dispatchEvent('state_synchronizing');\r\n      }\r\n\r\n      if(differenceResult._ !== 'updates.differenceTooLong') {\r\n        this.appUsersManager.saveApiUsers(differenceResult.users);\r\n        this.appChatsManager.saveApiChats(differenceResult.chats);\r\n\r\n        // Should be first because of updateMessageID\r\n        // this.log('applying', differenceResult.other_updates.length, 'other updates')\r\n    \r\n        differenceResult.other_updates.forEach((update) => {\r\n          switch(update._) {\r\n            case 'updateChannelTooLong':\r\n            case 'updateNewChannelMessage':\r\n            case 'updateEditChannelMessage':\r\n              this.processUpdate(update);\r\n              return;\r\n          }\r\n          \r\n          this.saveUpdate(update);\r\n        });\r\n\r\n        // this.log('applying', differenceResult.new_messages.length, 'new messages')\r\n        differenceResult.new_messages.forEach((apiMessage) => {\r\n          this.saveUpdate({\r\n            _: 'updateNewMessage',\r\n            message: apiMessage,\r\n            pts: updatesState.pts,\r\n            pts_count: 0\r\n          });\r\n        });\r\n\r\n        const nextState = differenceResult._ === 'updates.difference' ? differenceResult.state : differenceResult.intermediate_state;\r\n        updatesState.seq = nextState.seq;\r\n        updatesState.pts = nextState.pts;\r\n        updatesState.date = nextState.date;\r\n      } else {\r\n        updatesState.pts = differenceResult.pts;\r\n        updatesState.date = (Date.now() / 1000 | 0) + this.timeManager.getServerTimeOffset();\r\n        delete updatesState.seq;\r\n        \r\n        this.channelStates = {};\r\n        \r\n        this.log.warn('getDifference:', differenceResult._);\r\n        this.onDifferenceTooLong();\r\n      }\r\n  \r\n      // this.log('apply diff', updatesState.seq, updatesState.pts)\r\n  \r\n      if(differenceResult._ === 'updates.differenceSlice') {\r\n        return this.getDifference();\r\n      } else {\r\n        this.debug && this.log.debug('finished get diff');\r\n      }\r\n    });\r\n\r\n    if(!wasSyncing) {\r\n      this.justAName(updatesState, promise);\r\n    }\r\n  \r\n    return promise;\r\n  }\r\n\r\n  private getChannelDifference(channelId: ChatId): Promise<void> {\r\n    const channelState = this.getChannelState(channelId);\r\n    const wasSyncing = channelState.syncLoading;\r\n    if(!wasSyncing) {\r\n      channelState.pendingPtsUpdates = [];\r\n    }\r\n\r\n    if(channelState.syncPending) {\r\n      clearTimeout(channelState.syncPending.timeout);\r\n      channelState.syncPending = null;\r\n    }\r\n\r\n    //this.log.trace('Get channel diff', appChatsManager.getChat(channelId), channelState.pts);\r\n    const promise = this.apiManager.invokeApi('updates.getChannelDifference', {\r\n      channel: this.appChatsManager.getChannelInput(channelId),\r\n      filter: {_: 'channelMessagesFilterEmpty'},\r\n      pts: channelState.pts,\r\n      limit: 30\r\n    }, {timeout: 0x7fffffff}).then((differenceResult) => {\r\n      this.debug && this.log.debug('Get channel diff result', differenceResult)\r\n      channelState.pts = 'pts' in differenceResult ? differenceResult.pts : undefined;\r\n  \r\n      if(differenceResult._ === 'updates.channelDifferenceEmpty') {\r\n        this.debug && this.log.debug('apply channel empty diff', differenceResult);\r\n        return;\r\n      }\r\n  \r\n      if(differenceResult._ === 'updates.channelDifferenceTooLong') {\r\n        this.debug && this.log.debug('channel diff too long', differenceResult);\r\n        delete this.channelStates[channelId];\r\n\r\n        this.saveUpdate({_: 'updateChannelReload', channel_id: channelId});\r\n        return;\r\n      }\r\n  \r\n      this.appUsersManager.saveApiUsers(differenceResult.users);\r\n      this.appChatsManager.saveApiChats(differenceResult.chats);\r\n  \r\n      // Should be first because of updateMessageID\r\n      this.debug && this.log.debug('applying', differenceResult.other_updates.length, 'channel other updates');\r\n      differenceResult.other_updates.forEach((update) => {\r\n        this.saveUpdate(update);\r\n      });\r\n  \r\n      this.debug && this.log.debug('applying', differenceResult.new_messages.length, 'channel new messages');\r\n      differenceResult.new_messages.forEach((apiMessage) => {\r\n        this.saveUpdate({\r\n          _: 'updateNewChannelMessage',\r\n          message: apiMessage,\r\n          pts: channelState.pts,\r\n          pts_count: 0\r\n        });\r\n      });\r\n  \r\n      this.debug && this.log.debug('apply channel diff', channelState.pts);\r\n  \r\n      if(differenceResult._ === 'updates.channelDifference' &&\r\n        !differenceResult.pFlags['final']) {\r\n        return this.getChannelDifference(channelId);\r\n      } else {\r\n        this.debug && this.log.debug('finished channel get diff');\r\n      }\r\n    });\r\n\r\n    if(!wasSyncing) {\r\n      this.justAName(channelState, promise, channelId);\r\n    }\r\n\r\n    return promise;\r\n  }\r\n\r\n  private onDifferenceTooLong() {\r\n    this.appUsersManager.clear();\r\n    this.appChatsManager.clear();\r\n    this.appMessagesManager.clear();\r\n\r\n    this.rootScope.dispatchEvent('state_cleared');\r\n  }\r\n\r\n  private justAName(state: UpdatesState, promise: UpdatesState['syncLoading'], channelId?: ChatId) {\r\n    state.syncLoading = promise;\r\n    this.rootScope.dispatchEvent('state_synchronizing', channelId);\r\n\r\n    promise.then(() => {\r\n      state.syncLoading = null;\r\n      this.rootScope.dispatchEvent('state_synchronized', channelId);\r\n    }, () => {\r\n      state.syncLoading = null;\r\n    });\r\n  }\r\n  \r\n  public addChannelState(channelId: ChatId, pts: number) {\r\n    if(!pts) {\r\n      throw new Error('Add channel state without pts ' + channelId);\r\n    }\r\n\r\n    if(!(channelId in this.channelStates)) {\r\n      this.channelStates[channelId] = {\r\n        pts,\r\n        pendingPtsUpdates: [],\r\n        syncPending: null,\r\n        syncLoading: null\r\n      };\r\n\r\n      return true;\r\n    }\r\n\r\n    return false;\r\n  }\r\n\r\n  public getChannelState(channelId: ChatId, pts?: number) {\r\n    if(this.channelStates[channelId] === undefined) {\r\n      this.addChannelState(channelId, pts);\r\n    }\r\n\r\n    return this.channelStates[channelId];\r\n  }\r\n\r\n  private processUpdate(update: Update, options: Partial<{\r\n    date: number,\r\n    seq: number,\r\n    seqStart: number/* ,\r\n    ignoreSyncLoading: boolean */\r\n  }> = {}) {\r\n    let channelId: ChatId;\r\n    switch(update._) {\r\n      case 'updateNewChannelMessage':\r\n      case 'updateEditChannelMessage':\r\n        channelId = getPeerId(update.message.peer_id).toChatId();\r\n        break;\r\n      /* case 'updateDeleteChannelMessages':\r\n        channelId = update.channel_id;\r\n        break; */\r\n      case 'updateChannelTooLong':\r\n        channelId = update.channel_id;\r\n        if(!(channelId in this.channelStates)) {\r\n          return false;\r\n        }\r\n        break;\r\n      default:\r\n        if('channel_id' in update && 'pts' in update) {\r\n          channelId = update.channel_id;\r\n        }\r\n        break;\r\n    }\r\n  \r\n    const {pts, pts_count} = update as Update.updateNewMessage;\r\n    const curState = channelId ? this.getChannelState(channelId, pts) : this.updatesState;\r\n  \r\n    // this.log.log('process', channelId, curState.pts, update)\r\n  \r\n    if(curState.syncLoading/*  && !options.ignoreSyncLoading */) {\r\n      return false;\r\n    }\r\n  \r\n    if(update._ === 'updateChannelTooLong') {\r\n      if(!curState.lastPtsUpdateTime ||\r\n          curState.lastPtsUpdateTime < (Date.now() - SYNC_DELAY)) {\r\n        // this.log.trace('channel too long, get diff', channelId, update)\r\n        this.getChannelDifference(channelId);\r\n      }\r\n      return false;\r\n    }\r\n  \r\n    if(update._ === 'updateNewMessage' ||\r\n        update._ === 'updateEditMessage' ||\r\n        update._ === 'updateNewChannelMessage' ||\r\n        update._ === 'updateEditChannelMessage') {\r\n      const message = update.message as Message.message;\r\n      const toPeerId = getPeerId(message.peer_id);\r\n      const fwdHeader: MessageFwdHeader.messageFwdHeader = message.fwd_from || {} as any;\r\n      let reason: string;\r\n      if(message.from_id && !this.appUsersManager.hasUser(getPeerId(message.from_id), message.pFlags.post/* || channelId*/) && (reason = 'author') ||\r\n          fwdHeader.from_id && !this.appUsersManager.hasUser(getPeerId(fwdHeader.from_id), !!(fwdHeader.from_id as Peer.peerChannel).channel_id) && (reason = 'fwdAuthor') ||\r\n          (fwdHeader.from_id as Peer.peerChannel)?.channel_id && !this.appChatsManager.hasChat((fwdHeader.from_id as Peer.peerChannel).channel_id, true) && (reason = 'fwdChannel') ||\r\n          toPeerId.isUser() && !this.appUsersManager.hasUser(toPeerId) && (reason = 'toPeer User') ||\r\n          toPeerId.isAnyChat() && !this.appChatsManager.hasChat(toPeerId.toChatId()) && (reason = 'toPeer Chat')) {\r\n        this.log.warn('Not enough data for message update', toPeerId, reason, message);\r\n        if(channelId && this.appChatsManager.hasChat(channelId)) {\r\n          this.getChannelDifference(channelId);\r\n        } else {\r\n          this.forceGetDifference();\r\n        }\r\n        return false;\r\n      }\r\n    } else if(channelId && !this.appChatsManager.hasChat(channelId)) {\r\n      // this.log.log('skip update, missing channel', channelId, update)\r\n      return false;\r\n    }\r\n  \r\n    let popPts: boolean;\r\n    let popSeq: boolean;\r\n  \r\n    if(pts) {\r\n      const newPts = curState.pts + (pts_count || 0);\r\n      if(newPts < pts) {\r\n        this.debug && this.log.warn('Pts hole', curState, update, channelId && this.appChatsManager.getChat(channelId));\r\n        curState.pendingPtsUpdates.push(update as Update.updateNewMessage);\r\n        if(!curState.syncPending && !curState.syncLoading) {\r\n          curState.syncPending = {\r\n            timeout: ctx.setTimeout(() => {\r\n              curState.syncPending = null;\r\n\r\n              if(curState.syncLoading) {\r\n                return;\r\n              }\r\n\r\n              if(channelId) {\r\n                this.getChannelDifference(channelId);\r\n              } else {\r\n                this.getDifference();\r\n              }\r\n            }, SYNC_DELAY)\r\n          };\r\n        }\r\n\r\n        curState.syncPending.ptsAwaiting = true;\r\n        return false;\r\n      }\r\n\r\n      if(pts > curState.pts) {\r\n        curState.pts = pts;\r\n        popPts = true;\r\n  \r\n        curState.lastPtsUpdateTime = Date.now();\r\n      } else if(pts_count) {\r\n        // this.log.warn('Duplicate update', update)\r\n        return false;\r\n      }\r\n\r\n      if(channelId && options.date && this.updatesState.date < options.date) {\r\n        this.updatesState.date = options.date;\r\n      }\r\n    } else if(!channelId && options.seq > 0) {\r\n      const seq = options.seq;\r\n      const seqStart = options.seqStart || seq;\r\n  \r\n      if(seqStart !== curState.seq + 1) {\r\n        if(seqStart > curState.seq) {\r\n          this.debug && this.log.warn('Seq hole', curState, curState.syncPending && curState.syncPending.seqAwaiting);\r\n  \r\n          if(curState.pendingSeqUpdates[seqStart] === undefined) {\r\n            curState.pendingSeqUpdates[seqStart] = {seq, date: options.date, updates: []};\r\n          }\r\n          curState.pendingSeqUpdates[seqStart].updates.push(update);\r\n  \r\n          if(!curState.syncPending) {\r\n            curState.syncPending = {\r\n              timeout: ctx.setTimeout(() => {\r\n                curState.syncPending = null;\r\n\r\n                if(curState.syncLoading) {\r\n                  return;\r\n                }\r\n\r\n                this.getDifference();\r\n              }, SYNC_DELAY)\r\n            };\r\n          }\r\n\r\n          if(!curState.syncPending.seqAwaiting ||\r\n            curState.syncPending.seqAwaiting < seqStart) {\r\n            curState.syncPending.seqAwaiting = seqStart;\r\n          }\r\n          return false;\r\n        }\r\n      }\r\n  \r\n      if(curState.seq !== seq) {\r\n        curState.seq = seq;\r\n        if(options.date && curState.date < options.date) {\r\n          curState.date = options.date;\r\n        }\r\n\r\n        popSeq = true;\r\n      }\r\n    }\r\n  \r\n    this.saveUpdate(update);\r\n  \r\n    if(popPts) {\r\n      this.popPendingPtsUpdate(channelId);\r\n    } else if(popSeq) {\r\n      this.popPendingSeqUpdate();\r\n    }\r\n  }\r\n\r\n  public saveUpdate(update: Update) {\r\n    //this.debug && this.log('saveUpdate', update);\r\n    this.dispatchEvent(update._, update as any);\r\n  }\r\n  \r\n  public attach(langCode?: string) {\r\n    if(this.attached) return;\r\n\r\n    //return;\r\n\r\n    this.log('attach');\r\n    \r\n    this.attached = true;\r\n\r\n    this.appStateManager.getState().then(({updates: state}) => {\r\n      const newVersion = this.appStateManager.newVersion/*  || '0.8.6' */;\r\n\r\n      //rootScope.broadcast('state_synchronizing');\r\n      if(!state || !state.pts || !state.date/*  || !state.seq */) { // seq can be undefined because of updates.differenceTooLong\r\n        this.log('will get new state');\r\n\r\n        this.updatesState.syncLoading = new Promise((resolve) => {\r\n          this.apiManager.invokeApi('updates.getState', {}, {noErrorBox: true}).then((stateResult) => {\r\n            this.updatesState.seq = stateResult.seq;\r\n            this.updatesState.pts = stateResult.pts;\r\n            this.updatesState.date = stateResult.date;\r\n            this.saveUpdatesState();\r\n            //setTimeout(() => {\r\n              this.updatesState.syncLoading = null;\r\n              resolve();\r\n              //rootScope.broadcast('state_synchronized');\r\n            //}, 1000);\r\n        \r\n          // ! for testing\r\n          // updatesState.seq = 1\r\n          // updatesState.pts = stateResult.pts - 5000\r\n          // updatesState.date = 1\r\n          // getDifference()\r\n          });\r\n        });\r\n      } else {\r\n        // ! for testing\r\n        /* state.seq = 1;\r\n        state.pts = state.pts - 15;\r\n        state.date = 1; */\r\n        // state.pts -= 100;\r\n\r\n        /* state.date = 1628623682;\r\n        state.pts = 2007500;\r\n        state.seq = 503; */\r\n\r\n        Object.assign(this.updatesState, state);\r\n        \r\n        this.log('will get difference', Object.assign({}, state));\r\n        \r\n        this.getDifference(true)/* .finally(() => {\r\n          if(this.updatesState.syncLoading) {\r\n            rootScope.broadcast('state_synchronizing');\r\n          }\r\n        }) */;\r\n      }\r\n\r\n      this.apiManager.setUpdatesProcessor(this.processUpdateMessage);\r\n\r\n      // this.updatesState.syncLoading.then(() => {\r\n        this.setProxy();\r\n      // });\r\n\r\n      if(newVersion) {\r\n        this.updatesState.syncLoading.then(async() => {\r\n          const strs: Record<string, string> = {\r\n            en: 'was updated to version',\r\n            ru: 'обновлён до версии'\r\n          };\r\n\r\n          const getChangelog = (lang: string) => {\r\n            fetch(`changelogs/${lang}_${newVersion.split(' ')[0]}.md`)\r\n            .then((res) => (res.status === 200 && res.ok && res.text()) || Promise.reject())\r\n            .then((text) => {\r\n              const langStr = strs[lang] || strs.en;\r\n              const pre = `**Telegram Web${App.suffix} ${langStr} ${newVersion}**\\n\\n`;\r\n  \r\n              text = pre + text;\r\n  \r\n              const entities: MessageEntity[] = [];\r\n              const message = parseMarkdown(text, entities);\r\n  \r\n              const update: Update.updateServiceNotification = {\r\n                _: 'updateServiceNotification',\r\n                entities,\r\n                message,\r\n                type: 'local',\r\n                pFlags: {},\r\n                inbox_date: Date.now() / 1000 | 0,\r\n                media: undefined\r\n              };\r\n\r\n              this.processLocalUpdate(update);\r\n            });\r\n          };\r\n          \r\n          const languages = filterUnique([langCode, 'en']);\r\n          for(const language of languages) {\r\n            try {\r\n              await getChangelog(language);\r\n              break;\r\n            } catch(err) {\r\n              \r\n            }\r\n          }\r\n        });\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\ninterface ApiUpdatesManager extends EventListenerBase<{\r\n  [name in Update['_']]: (update: ConstructorDeclMap[name]) => void\r\n}>, AppManager {}\r\napplyMixins(ApiUpdatesManager, [EventListenerBase, AppManager]);\r\n\r\nexport { ApiUpdatesManager };\r\n","/*\r\n * https://github.com/morethanwords/tweb\r\n * Copyright (C) 2019-2021 Eduard Kuzmenko\r\n * https://github.com/morethanwords/tweb/blob/master/LICENSE\r\n */\r\n\r\nimport { UserProfilePhoto, ChatPhoto, InputFileLocation } from \"../../layer\";\r\nimport { DownloadOptions } from \"../mtproto/apiFileManager\";\r\nimport { AppManager } from \"./manager\";\r\n\r\nexport type PeerPhotoSize = 'photo_small' | 'photo_big';\r\n\r\nexport class AppAvatarsManager extends AppManager {\r\n  private savedAvatarURLs: {\r\n    [peerId: PeerId]: {\r\n      [size in PeerPhotoSize]?: string | Promise<string>\r\n    }\r\n  } = {};\r\n  \r\n  protected after() {\r\n    this.rootScope.addEventListener('avatar_update', (peerId) => {\r\n      this.removeFromAvatarsCache(peerId);\r\n    });\r\n  }\r\n\r\n  public isAvatarCached(peerId: PeerId, size?: PeerPhotoSize) {\r\n    const saved = this.savedAvatarURLs[peerId];\r\n    if(size === undefined) {\r\n      return !!saved;\r\n    }\r\n\r\n    return !!(saved && saved[size] && !(saved[size] instanceof Promise));\r\n  }\r\n  \r\n  public removeFromAvatarsCache(peerId: PeerId) {\r\n    if(this.savedAvatarURLs[peerId]) {\r\n      delete this.savedAvatarURLs[peerId];\r\n    }\r\n  }\r\n\r\n  public loadAvatar(peerId: PeerId, photo: UserProfilePhoto.userProfilePhoto | ChatPhoto.chatPhoto, size: PeerPhotoSize) {\r\n    let saved = this.savedAvatarURLs[peerId];\r\n    if(!saved || !saved[size]) {\r\n      if(!saved) {\r\n        saved = this.savedAvatarURLs[peerId] = {};\r\n      }\r\n\r\n      //console.warn('will invoke downloadSmallFile:', peerId);\r\n      const peerPhotoFileLocation: InputFileLocation.inputPeerPhotoFileLocation = {\r\n        _: 'inputPeerPhotoFileLocation', \r\n        pFlags: {},\r\n        peer: this.appPeersManager.getInputPeerById(peerId), \r\n        photo_id: photo.photo_id\r\n      };\r\n\r\n      const downloadOptions: DownloadOptions = {dcId: photo.dc_id, location: peerPhotoFileLocation};\r\n      if(size === 'photo_big') {\r\n        peerPhotoFileLocation.pFlags.big = true;\r\n        downloadOptions.limitPart = 512 * 1024;\r\n      }\r\n\r\n      /* let str: string;\r\n      const time = Date.now();\r\n      if(peerId === 0) {\r\n        str = `download avatar ${peerId}`;\r\n      } */\r\n\r\n      const promise = this.apiFileManager.download(downloadOptions);\r\n      return saved[size] = promise.then((blob) => {\r\n        return saved[size] = URL.createObjectURL(blob);\r\n\r\n        /* if(str) {\r\n          console.log(str, Date.now() / 1000, Date.now() - time);\r\n        } */\r\n      });\r\n    } else {\r\n      return saved[size];\r\n    }\r\n  }\r\n}\r\n","/*\r\n * https://github.com/morethanwords/tweb\r\n * Copyright (C) 2019-2021 Eduard Kuzmenko\r\n * https://github.com/morethanwords/tweb/blob/master/LICENSE\r\n */\r\n\r\nimport { getEnvironment } from \"../../environment/utils\";\r\nimport safeReplaceObject from \"../../helpers/object/safeReplaceObject\";\r\nimport { nextRandomUint } from \"../../helpers/random\";\r\nimport { InputPhoneCall, MessagesDhConfig, PhoneCall, PhoneCallDiscardReason, PhoneCallProtocol, PhonePhoneCall } from \"../../layer\";\r\nimport { AppManager } from \"./manager\";\r\n\r\nexport type CallId = PhoneCall['id'];\r\n\r\nexport type MyPhoneCall = Exclude<PhoneCall, PhoneCall.phoneCallEmpty | PhoneCall.phoneCallDiscarded>;\r\n\r\nexport class AppCallsManager extends AppManager {\r\n  private calls: Map<CallId, MyPhoneCall>;\r\n  \r\n  protected after() {\r\n    this.calls = new Map();\r\n\r\n    if(!getEnvironment().IS_CALL_SUPPORTED) {\r\n      return;\r\n    }\r\n\r\n    this.apiUpdatesManager.addMultipleEventsListeners({\r\n      updatePhoneCall: (update) => {\r\n        this.saveCall(update.phone_call);\r\n      },\r\n\r\n      updatePhoneCallSignalingData: (update) => {\r\n        this.rootScope.dispatchEvent('call_signaling', {callId: update.phone_call_id, data: update.data});\r\n      }\r\n    });\r\n  }\r\n\r\n  public computeKey(g_b: Uint8Array, a: Uint8Array, p: Uint8Array) {\r\n    return this.cryptoWorker.invokeCrypto('compute-dh-key', g_b, a, p);\r\n  }\r\n  \r\n  public saveCall(call: PhoneCall) {\r\n    const isDiscarded = call._ === 'phoneCallDiscarded';\r\n    const oldCall = this.calls.get(call.id);\r\n    if(oldCall) {\r\n      // if(shouldUpdate) {\r\n      safeReplaceObject(oldCall, call);\r\n      // }\r\n\r\n      if(isDiscarded) {\r\n        this.calls.delete(call.id);\r\n      }\r\n      \r\n      call = oldCall;\r\n    } else if(!isDiscarded) {\r\n      this.calls.set(call.id, call as any);\r\n    }\r\n\r\n    this.rootScope.dispatchEvent('call_update', call);\r\n\r\n    return call;\r\n  }\r\n  \r\n  public getCall(callId: CallId) {\r\n    return this.calls.get(callId);\r\n  }\r\n  \r\n  public getCallInput(id: CallId): InputPhoneCall {\r\n    const call = this.getCall(id);\r\n    return {\r\n      _: 'inputPhoneCall',\r\n      id: call.id,\r\n      access_hash: call.access_hash\r\n    };\r\n  }\r\n\r\n  public savePhonePhoneCall(phonePhoneCall: PhonePhoneCall) {\r\n    this.appUsersManager.saveApiUsers(phonePhoneCall.users);\r\n    return this.saveCall(phonePhoneCall.phone_call);\r\n  }\r\n\r\n  public generateDh() {\r\n    return this.apiManager.invokeApi('messages.getDhConfig', {\r\n      version: 0,\r\n      random_length: 256\r\n    }).then((dhConfig) => {\r\n      return this.cryptoWorker.invokeCrypto('generate-dh', dhConfig as MessagesDhConfig.messagesDhConfig);\r\n    });\r\n  }\r\n\r\n  // private verifyProtocolCompatibility(protocol: PhoneCallProtocol) {\r\n  //   const my = getCallProtocol();\r\n  //   const myVersion = my.library_versions[0];\r\n  //   return !protocol.library_versions.find((version) => {\r\n  //     return compareVersion(myVersion, version) > 0;\r\n  //   });\r\n  // }\r\n\r\n  public async requestCall(userId: UserId, protocol: PhoneCallProtocol, g_a_hash: Uint8Array, video?: boolean) {\r\n    const phonePhoneCall = await this.apiManager.invokeApi('phone.requestCall', {\r\n      user_id: this.appUsersManager.getUserInput(userId),\r\n      protocol: protocol,\r\n      video: video,\r\n      random_id: nextRandomUint(32),\r\n      g_a_hash: g_a_hash\r\n    });\r\n\r\n    return this.savePhonePhoneCall(phonePhoneCall);\r\n  }\r\n\r\n  public async discardCall(callId: CallId, duration: number, reason: PhoneCallDiscardReason['_'], video?: boolean) {\r\n    if(!this.getCall(callId)) {\r\n      return;\r\n    }\r\n\r\n    const updates = await this.apiManager.invokeApi('phone.discardCall', {\r\n      video,\r\n      peer: this.getCallInput(callId),\r\n      duration,\r\n      reason: {\r\n        _: reason\r\n      },\r\n      connection_id: '0'\r\n    });\r\n\r\n    this.apiUpdatesManager.processUpdateMessage(updates);\r\n  }\r\n}\r\n","import { RestrictionReason } from \"../layer\";\r\n\r\nconst platforms = new Set([\r\n  'all',\r\n  'web',\r\n  'webk'\r\n]);\r\n\r\nconst ignore = new Set();\r\n\r\nexport function getRestrictionReason(reasons: RestrictionReason[]) {\r\n  // return reasons[0];\r\n  return reasons.find((reason) => platforms.has(reason.platform) && !ignore.has(reason.reason));\r\n}\r\n\r\nexport function isRestricted(reasons: RestrictionReason[]) {\r\n  return !!getRestrictionReason(reasons);\r\n}\r\n\r\nexport function ignoreRestrictionReasons(reasons: string[]) {\r\n  ignore.clear();\r\n  reasons.forEach((reason) => {\r\n    ignore.add(reason);\r\n  });\r\n}\r\n","/*\r\n * https://github.com/morethanwords/tweb\r\n * Copyright (C) 2019-2021 Eduard Kuzmenko\r\n * https://github.com/morethanwords/tweb/blob/master/LICENSE\r\n * \r\n * Originally from:\r\n * https://github.com/zhukov/webogram\r\n * Copyright (C) 2014 Igor Zhukov <igor.beatle@gmail.com>\r\n * https://github.com/zhukov/webogram/blob/master/LICENSE\r\n */\r\n\r\nimport deepEqual from \"../../helpers/object/deepEqual\";\r\nimport isObject from \"../../helpers/object/isObject\";\r\nimport safeReplaceObject from \"../../helpers/object/safeReplaceObject\";\r\nimport { ChannelParticipant, ChannelsCreateChannel, Chat, ChatAdminRights, ChatBannedRights, ChatInvite, ChatPhoto, InputChannel, InputChatPhoto, InputFile, InputPeer, SponsoredMessage, Update, Updates } from \"../../layer\";\r\nimport { isRestricted } from \"../../helpers/restrictions\";\r\nimport { AppManager } from \"./manager\";\r\nimport getPeerId from \"./utils/peers/getPeerId\";\r\nimport hasRights from \"./utils/chats/hasRights\";\r\nimport getParticipantPeerId from \"./utils/chats/getParticipantPeerId\";\r\nimport { AppStoragesManager } from \"./appStoragesManager\";\r\n\r\nexport type Channel = Chat.channel;\r\nexport type ChatRights = keyof ChatBannedRights['pFlags'] | keyof ChatAdminRights['pFlags'] | 'change_type' | 'change_permissions' | 'delete_chat' | 'view_participants';\r\n\r\nexport class AppChatsManager extends AppManager {\r\n  private storage: AppStoragesManager['storages']['chats'];\r\n  \r\n  private chats: {[id: ChatId]: Chat.channel | Chat.chat | any};\r\n  //private usernames: any;\r\n  //private channelAccess: any;\r\n  //private megagroups: {[id: number]: true};\r\n\r\n  protected after() {\r\n    this.clear(true);\r\n\r\n    this.apiUpdatesManager.addMultipleEventsListeners({\r\n      /* updateChannel: (update) => {\r\n        const channelId = update.channel_id;\r\n        //console.log('updateChannel:', update);\r\n        rootScope.broadcast('channel_settings', {channelId});\r\n      }, */\r\n\r\n      updateChannelParticipant: (update) => {\r\n        this.apiManager.clearCache('channels.getParticipants', (params) => {\r\n          return (params.channel as InputChannel.inputChannel).channel_id === update.channel_id;\r\n        });\r\n      },\r\n\r\n      updateChatDefaultBannedRights: (update) => {\r\n        const chatId = getPeerId(update.peer).toChatId();\r\n        const chat: Chat.chat = this.chats[chatId];\r\n        if(chat) {\r\n          chat.default_banned_rights = update.default_banned_rights;\r\n          this.rootScope.dispatchEvent('chat_update', chatId);\r\n        }\r\n      }\r\n    });\r\n\r\n    return Promise.all([\r\n      this.appStateManager.getState(),\r\n      this.appStoragesManager.loadStorage('chats')\r\n    ]).then(([state, {results: chats, storage}]) => {\r\n      this.storage = storage;\r\n\r\n      if(chats.length) {\r\n        for(let i = 0, length = chats.length; i < length; ++i) {\r\n          const chat = chats[i];\r\n          if(chat) {\r\n            this.chats[chat.id] = chat;\r\n          }\r\n        }\r\n      }\r\n\r\n      this.peersStorage.addEventListener('peerNeeded', (peerId) => {\r\n        if(peerId.isUser() || this.storage.getFromCache(peerId.toChatId())) {\r\n          return;\r\n        }\r\n\r\n        this.storage.set({\r\n          [peerId.toChatId()]: this.getChat(peerId.toChatId())\r\n        });\r\n      });\r\n\r\n      this.peersStorage.addEventListener('peerUnneeded', (peerId) => {\r\n        if(peerId.isUser() || !this.storage.getFromCache(peerId.toChatId())) {\r\n          return;\r\n        }\r\n\r\n        this.storage.delete(peerId.toChatId());\r\n      });\r\n    });\r\n  }\r\n\r\n  public clear = (init = false) => {\r\n    if(!init) {\r\n      for(const chatId in this.chats) {\r\n        if(!chatId) continue;\r\n        if(!this.peersStorage.isPeerNeeded(chatId.toPeerId(true))) {\r\n          /* const chat = this.chats[chatId];\r\n          if(chat.username) {\r\n            delete this.usernames[cleanUsername(chat.username)];\r\n          } */\r\n          \r\n          this.storage.delete(chatId);\r\n          delete this.chats[chatId];\r\n        }\r\n      }\r\n    } else {\r\n      this.chats = {};\r\n    }\r\n  };\r\n\r\n  public saveApiChats(apiChats: any[], override?: boolean) {\r\n    if((apiChats as any).saved) return;\r\n    (apiChats as any).saved = true;\r\n    apiChats.forEach((chat) => this.saveApiChat(chat, override));\r\n  }\r\n\r\n  public saveApiChat(chat: Chat, override?: boolean) {\r\n    if(chat._ === 'chatEmpty') return;\r\n    /* if(chat._ !== 'chat' && chat._ !== 'channel') {\r\n      return;\r\n    } */\r\n    \r\n    // * exclude from state\r\n    // defineNotNumerableProperties(chat, ['rTitle', 'initials']);\r\n\r\n    const oldChat: Exclude<Chat, Chat.chatEmpty> = this.chats[chat.id];\r\n\r\n    /* if(oldChat && !override) {\r\n      return;\r\n    } */\r\n\r\n    if((chat as Chat.chat).pFlags === undefined) {\r\n      (chat as Chat.chat).pFlags = {};\r\n    }\r\n\r\n    if((chat as Chat.channel).pFlags.min && oldChat !== undefined) {\r\n      return;\r\n    }\r\n\r\n    if(chat._ === 'channel' &&\r\n        chat.participants_count === undefined &&\r\n        oldChat !== undefined &&\r\n        (oldChat as Chat.channel).participants_count) {\r\n      chat.participants_count = (oldChat as Chat.channel).participants_count;\r\n    }\r\n\r\n    /* if(chat.username) {\r\n      let searchUsername = searchIndexManager.cleanUsername(chat.username);\r\n      this.usernames[searchUsername] = chat.id;\r\n    } */\r\n\r\n    let changedPhoto = false, changedTitle = false;\r\n    if(oldChat === undefined) {\r\n      this.chats[chat.id] = chat;\r\n    } else {\r\n      const oldPhotoId = ((oldChat as Chat.chat).photo as ChatPhoto.chatPhoto)?.photo_id;\r\n      const newPhotoId = ((chat as Chat.chat).photo as ChatPhoto.chatPhoto)?.photo_id;\r\n      if(oldPhotoId !== newPhotoId) {\r\n        changedPhoto = true;\r\n      }\r\n\r\n      if(oldChat.title !== chat.title) {\r\n        changedTitle = true;\r\n      }\r\n\r\n      safeReplaceObject(oldChat, chat);\r\n      this.rootScope.dispatchEvent('chat_update', chat.id);\r\n    }\r\n\r\n    const peerId = chat.id.toPeerId(true);\r\n    if(changedPhoto) {\r\n      this.rootScope.dispatchEvent('avatar_update', peerId);\r\n    }\r\n\r\n    if(changedTitle) {\r\n      this.rootScope.dispatchEvent('peer_title_edit', peerId);\r\n    }\r\n\r\n    if(this.peersStorage.isPeerNeeded(peerId)) {\r\n      this.storage.set({\r\n        [chat.id]: chat\r\n      });\r\n    }\r\n  }\r\n\r\n  public getChat(id: ChatId) {\r\n    return this.chats[id] || {_: 'chatEmpty', id, deleted: true, access_hash: '', pFlags: {}/* this.channelAccess[id] */};\r\n  }\r\n\r\n  public getChatTyped(id: ChatId): Chat {\r\n    return this.getChat(id);\r\n  }\r\n\r\n  /**\r\n   * Check the user's ability to do an action in chat\r\n   * @param id \r\n   * @param action creator can still send messages to left channel. so this function shows server rights. see canSendToPeer for local rights in messages manager.\r\n   * @param rights do not provide this parameter when checking rights for self\r\n   * @param isThread \r\n   * @returns \r\n   */\r\n  public hasRights(id: ChatId, action: ChatRights, rights?: ChatAdminRights | ChatBannedRights, isThread?: boolean) {\r\n    return hasRights(this.getChat(id), action, rights, isThread);\r\n  }\r\n\r\n  public editChatDefaultBannedRights(id: ChatId, banned_rights: ChatBannedRights) {\r\n    const chat: Chat.chat = this.getChat(id);\r\n    if(chat.default_banned_rights) {\r\n      if(chat.default_banned_rights.until_date === banned_rights.until_date && deepEqual(chat.default_banned_rights.pFlags, banned_rights.pFlags)) {\r\n        return Promise.resolve();\r\n      }\r\n    }\r\n    \r\n    return this.apiManager.invokeApi('messages.editChatDefaultBannedRights', {\r\n      peer: this.appPeersManager.getInputPeerById(id.toPeerId(true)),\r\n      banned_rights\r\n    }).then(this.onChatUpdated.bind(this, id));\r\n  }\r\n\r\n  /* public resolveUsername(username: string) {\r\n    return this.usernames[username] || 0;\r\n  } */\r\n\r\n  /* public saveChannelAccess(id: ChatId, accessHash: string) {\r\n    this.channelAccess[id] = accessHash;\r\n  } */\r\n\r\n  /* public saveIsMegagroup(id: ChatId) {\r\n    this.megagroups[id] = true;\r\n  } */\r\n\r\n  public isChannel(id: ChatId) {\r\n    const chat = this.chats[id];\r\n    return !!(chat && (chat._ === 'channel' || chat._ === 'channelForbidden')/*  || this.channelAccess[id] */);\r\n  }\r\n\r\n  public isMegagroup(id: ChatId) {\r\n    /* if(this.megagroups[id]) {\r\n      return true;\r\n    } */\r\n\r\n    const chat: Chat = this.chats[id];\r\n    return !!(chat as Chat.channel)?.pFlags?.megagroup;\r\n  }\r\n\r\n  public isBroadcast(id: ChatId) {\r\n    return this.isChannel(id) && !this.isMegagroup(id);\r\n  }\r\n\r\n  public isInChat(id: ChatId) {\r\n    let good = true;\r\n    const chat: Chat = this.getChat(id);\r\n    if(chat._ === 'channelForbidden' \r\n      || chat._ === 'chatForbidden' \r\n      || chat._ === 'chatEmpty' \r\n      || (chat as Chat.chat).pFlags.left \r\n      // || (chat as any).pFlags.kicked \r\n      || (chat as Chat.chat).pFlags.deactivated) {\r\n      good = false;\r\n    }\r\n\r\n    return good;\r\n  }\r\n\r\n  public getChannelInput(id: ChatId): InputChannel {\r\n    const chat: Chat = this.getChat(id);\r\n    if(chat._ === 'chatEmpty' || !(chat as Chat.channel).access_hash) {\r\n      return {\r\n        _: 'inputChannelEmpty'\r\n      };\r\n    } else {\r\n      return {\r\n        _: 'inputChannel',\r\n        channel_id: id,\r\n        access_hash: (chat as Chat.channel).access_hash/*  || this.channelAccess[id] */ || '0'\r\n      };\r\n    }\r\n  }\r\n\r\n  public getInputPeer(id: ChatId) {\r\n    return this.isChannel(id) ? this.getChannelInputPeer(id) : this.getChatInputPeer(id);\r\n  }\r\n\r\n  public getChatInputPeer(id: ChatId): InputPeer.inputPeerChat {\r\n    return {\r\n      _: 'inputPeerChat',\r\n      chat_id: id\r\n    };\r\n  }\r\n\r\n  public getChannelInputPeer(id: ChatId): InputPeer.inputPeerChannel {\r\n    return {\r\n      _: 'inputPeerChannel',\r\n      channel_id: id,\r\n      access_hash: this.getChat(id).access_hash/*  || this.channelAccess[id] */ || 0\r\n    };\r\n  }\r\n\r\n  public hasChat(id: ChatId, allowMin?: true) {\r\n    const chat = this.chats[id];\r\n    return isObject(chat) && (allowMin || !chat.pFlags.min);\r\n  }\r\n\r\n  public getChatPhoto(id: ChatId) {\r\n    const chat: Chat.chat = this.getChat(id);\r\n\r\n    return chat && chat.photo || {\r\n      _: 'chatPhotoEmpty'\r\n    };\r\n  }\r\n\r\n  public getChatString(id: ChatId) {\r\n    const chat = this.getChat(id);\r\n    if(this.isChannel(id)) {\r\n      return (this.isMegagroup(id) ? 's' : 'c') + id + '_' + chat.access_hash;\r\n    }\r\n    return 'g' + id;\r\n  }\r\n\r\n  /* public wrapForFull(id: number, fullChat: any) {\r\n    const chatFull = copy(fullChat);\r\n    const chat = this.getChat(id);\r\n\r\n    if(!chatFull.participants_count) {\r\n      chatFull.participants_count = chat.participants_count;\r\n    }\r\n\r\n    if(chatFull.participants &&\r\n        chatFull.participants._ === 'chatParticipants') {\r\n      chatFull.participants.participants = this.wrapParticipants(id, chatFull.participants.participants);\r\n    }\r\n\r\n    if(chatFull.about) {\r\n      chatFull.rAbout = wrapRichText(chatFull.about, {noLinebreaks: true});\r\n    }\r\n\r\n    //chatFull.peerString = this.getChatString(id);\r\n    chatFull.chat = chat;\r\n\r\n    return chatFull;\r\n  }\r\n\r\n  public wrapParticipants(id: number, participants: any[]) {\r\n    const chat = this.getChat(id);\r\n    const myId = appUsersManager.getSelf().id;\r\n    if(this.isChannel(id)) {\r\n      const isAdmin = chat.pFlags.creator;\r\n      participants.forEach((participant) => {\r\n        participant.canLeave = myId === participant.user_id;\r\n        participant.canKick = isAdmin && participant._ === 'channelParticipant';\r\n\r\n        // just for order by last seen\r\n        participant.user = appUsersManager.getUser(participant.user_id);\r\n      });\r\n    } else {\r\n      const isAdmin = chat.pFlags.creator || chat.pFlags.admins_enabled && chat.pFlags.admin;\r\n      participants.forEach((participant) => {\r\n        participant.canLeave = myId === participant.user_id;\r\n        participant.canKick = !participant.canLeave && (\r\n          chat.pFlags.creator ||\r\n          participant._ === 'chatParticipant' && (isAdmin || myId === participant.inviter_id)\r\n        );\r\n\r\n        // just for order by last seen\r\n        participant.user = appUsersManager.getUser(participant.user_id);\r\n      });\r\n    }\r\n\r\n    return participants;\r\n  } */\r\n\r\n  public createChannel(options: ChannelsCreateChannel): Promise<ChatId> {\r\n    return this.apiManager.invokeApi('channels.createChannel', options).then((updates) => {\r\n      this.apiUpdatesManager.processUpdateMessage(updates);\r\n\r\n      const channelId = (updates as any).chats[0].id;\r\n      return channelId;\r\n    });\r\n  }\r\n\r\n  public inviteToChannel(id: ChatId, userIds: UserId[]) {\r\n    const input = this.getChannelInput(id);\r\n    const usersInputs = userIds.map((u) => this.appUsersManager.getUserInput(u));\r\n\r\n    return this.apiManager.invokeApi('channels.inviteToChannel', {\r\n      channel: input,\r\n      users: usersInputs\r\n    }).then(this.onChatUpdated.bind(this, id));\r\n  }\r\n\r\n  public createChat(title: string, userIds: UserId[]): Promise<ChatId> {\r\n    return this.apiManager.invokeApi('messages.createChat', {\r\n      users: userIds.map((u) => this.appUsersManager.getUserInput(u)),\r\n      title\r\n    }).then((updates) => {\r\n      this.apiUpdatesManager.processUpdateMessage(updates);\r\n\r\n      const chatId = (updates as any as Updates.updates).chats[0].id;\r\n      return chatId;\r\n    });\r\n  }\r\n\r\n  private onChatUpdated = (chatId: ChatId, updates?: any) => {\r\n    //console.log('onChatUpdated', chatId, updates);\r\n\r\n    this.apiUpdatesManager.processUpdateMessage(updates);\r\n    if(updates?.updates?.length && this.isChannel(chatId)) {\r\n      this.rootScope.dispatchEvent('invalidate_participants', chatId);\r\n    }\r\n  };\r\n\r\n  public leaveChannel(id: ChatId) {\r\n    return this.apiManager.invokeApi('channels.leaveChannel', {\r\n      channel: this.getChannelInput(id)\r\n    }).then(this.onChatUpdated.bind(this, id));\r\n  }\r\n\r\n  public joinChannel(id: ChatId) {\r\n    return this.apiManager.invokeApi('channels.joinChannel', {\r\n      channel: this.getChannelInput(id)\r\n    }).then(this.onChatUpdated.bind(this, id));\r\n  }\r\n\r\n  public addChatUser(id: ChatId, userId: UserId, fwdLimit = 100) {\r\n    return this.apiManager.invokeApi('messages.addChatUser', {\r\n      chat_id: id,\r\n      user_id: this.appUsersManager.getUserInput(userId),\r\n      fwd_limit: fwdLimit\r\n    }).then(this.onChatUpdated.bind(this, id));\r\n  }\r\n\r\n  public deleteChatUser(id: ChatId, userId: UserId) {\r\n    return this.apiManager.invokeApi('messages.deleteChatUser', {\r\n      chat_id: id,\r\n      user_id: this.appUsersManager.getUserInput(userId)\r\n    }).then(this.onChatUpdated.bind(this, id));\r\n  }\r\n\r\n  public leaveChat(id: ChatId) {\r\n    return this.deleteChatUser(id, this.appUsersManager.getSelf().id);\r\n  }\r\n\r\n  public leave(id: ChatId) {\r\n    return this.isChannel(id) ? this.leaveChannel(id) : this.leaveChat(id);\r\n  }\r\n\r\n  public delete(id: ChatId) {\r\n    return this.isChannel(id) ? this.deleteChannel(id) : this.deleteChat(id);\r\n  }\r\n\r\n  public deleteChannel(id: ChatId) {\r\n    return this.apiManager.invokeApi('channels.deleteChannel', {\r\n      channel: this.getChannelInput(id)\r\n    }).then(this.onChatUpdated.bind(this, id));\r\n  }\r\n\r\n  public deleteChat(id: ChatId) {\r\n    //return this.leaveChat(id).then(() => {\r\n      return this.apiManager.invokeApi('messages.deleteChat', {\r\n        chat_id: id\r\n      });\r\n    //});\r\n  }\r\n\r\n  public migrateChat(id: ChatId): Promise<ChatId> {\r\n    const chat: Chat = this.getChat(id);\r\n    if(chat._ === 'channel') return Promise.resolve(chat.id);\r\n    return this.apiManager.invokeApi('messages.migrateChat', {\r\n      chat_id: id\r\n    }).then((updates) => {\r\n      this.onChatUpdated(id, updates);\r\n      const update: Update.updateChannel = (updates as Updates.updates).updates.find((u) => u._ === 'updateChannel') as any;\r\n      return update.channel_id;\r\n    });\r\n  }\r\n\r\n  public updateUsername(id: ChatId, username: string) {\r\n    return this.apiManager.invokeApi('channels.updateUsername', {\r\n      channel: this.getChannelInput(id),\r\n      username\r\n    }).then((bool) => {\r\n      if(bool) {\r\n        const chat: Chat.channel = this.getChat(id);\r\n        chat.username = username;\r\n      }\r\n\r\n      return bool;\r\n    });\r\n  }\r\n\r\n  public editPhoto(id: ChatId, inputFile: InputFile) {\r\n    const inputChatPhoto: InputChatPhoto = {\r\n      _: 'inputChatUploadedPhoto',\r\n      file: inputFile\r\n    };\r\n\r\n    let promise: any;\r\n    if(this.isChannel(id)) {\r\n      promise = this.apiManager.invokeApi('channels.editPhoto', {\r\n        channel: this.getChannelInput(id),\r\n        photo: inputChatPhoto\r\n      });\r\n    } else {\r\n      promise = this.apiManager.invokeApi('messages.editChatPhoto', {\r\n        chat_id: id,\r\n        photo: inputChatPhoto\r\n      });\r\n    }\r\n\r\n    return promise.then((updates: any) => {\r\n      this.apiUpdatesManager.processUpdateMessage(updates);\r\n    });\r\n  }\r\n\r\n  public editTitle(id: ChatId, title: string) {\r\n    let promise: any;\r\n\r\n    if(this.isChannel(id)) {\r\n      promise = this.apiManager.invokeApi('channels.editTitle', {\r\n        channel: this.getChannelInput(id),\r\n        title\r\n      });\r\n    } else {\r\n      promise = this.apiManager.invokeApi('messages.editChatTitle', {\r\n        chat_id: id,\r\n        title\r\n      });\r\n    }\r\n\r\n    return promise.then((updates: any) => {\r\n      this.apiUpdatesManager.processUpdateMessage(updates);\r\n    });\r\n  }\r\n\r\n  public editAbout(id: ChatId, about: string) {\r\n    const peerId = id.toPeerId(true);\r\n    return this.apiManager.invokeApi('messages.editChatAbout', {\r\n      peer: this.appPeersManager.getInputPeerById(peerId),\r\n      about\r\n    }).then((bool) => {\r\n      if(bool) {\r\n        this.rootScope.dispatchEvent('peer_bio_edit', peerId);\r\n      }\r\n\r\n      return bool;\r\n    });\r\n  }\r\n\r\n  public editBanned(id: ChatId, participant: PeerId | ChannelParticipant, banned_rights: ChatBannedRights) {\r\n    const peerId = typeof(participant) !== 'object' ? participant : getParticipantPeerId(participant);\r\n    return this.apiManager.invokeApi('channels.editBanned', {\r\n      channel: this.getChannelInput(id),\r\n      participant: this.appPeersManager.getInputPeerById(peerId),\r\n      banned_rights\r\n    }).then((updates) => {\r\n      this.onChatUpdated(id, updates);\r\n\r\n      if(typeof(participant) === 'object') {\r\n        const timestamp = Date.now() / 1000 | 0;\r\n        this.apiUpdatesManager.processLocalUpdate({\r\n          _: 'updateChannelParticipant',\r\n          channel_id: id,\r\n          date: timestamp,\r\n          actor_id: undefined,\r\n          qts: undefined,\r\n          user_id: peerId,\r\n          prev_participant: participant,\r\n          new_participant: Object.keys(banned_rights.pFlags).length ? {\r\n            _: 'channelParticipantBanned',\r\n            date: timestamp,\r\n            banned_rights,\r\n            kicked_by: this.appUsersManager.getSelf().id,\r\n            peer: this.appPeersManager.getOutputPeer(peerId),\r\n            pFlags: {}\r\n          } : undefined\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  public clearChannelParticipantBannedRights(id: ChatId, participant: PeerId | ChannelParticipant) {\r\n    return this.editBanned(id, participant, {\r\n      _: 'chatBannedRights',\r\n      until_date: 0,\r\n      pFlags: {}\r\n    });\r\n  }\r\n  \r\n  public kickFromChannel(id: ChatId, participant: PeerId | ChannelParticipant) {\r\n    return this.editBanned(id, participant, {\r\n      _: 'chatBannedRights',\r\n      until_date: 0,\r\n      pFlags: {\r\n        view_messages: true\r\n      }\r\n    });\r\n  }\r\n\r\n  public kickFromChat(id: ChatId, participant: PeerId | ChannelParticipant) {\r\n    if(this.isChannel(id)) return this.kickFromChannel(id, participant);\r\n    else return this.deleteChatUser(id, (participant as PeerId).toUserId());\r\n  }\r\n\r\n  public resolveChannel(id: ChatId) {\r\n    return this.apiManager.invokeApiSingle('channels.getChannels', {\r\n      id: [{\r\n        _: 'inputChannel',\r\n        channel_id: id,\r\n        access_hash: '0'\r\n      }]\r\n    }).then((messagesChats) => {\r\n      this.saveApiChats(messagesChats.chats);\r\n    });\r\n  }\r\n\r\n  public togglePreHistoryHidden(id: ChatId, enabled: boolean) {\r\n    return this.migrateChat(id).then((channelId) => {\r\n      return this.apiManager.invokeApi('channels.togglePreHistoryHidden', {\r\n        channel: this.getChannelInput(channelId),\r\n        enabled\r\n      });\r\n    }).then((updates) => {\r\n      this.apiUpdatesManager.processUpdateMessage(updates);\r\n    });\r\n  }\r\n\r\n  public toggleSignatures(id: ChatId, enabled: boolean) {\r\n    return this.apiManager.invokeApi('channels.toggleSignatures', {\r\n      channel: this.getChannelInput(id),\r\n      enabled\r\n    }).then((updates) => {\r\n      this.apiUpdatesManager.processUpdateMessage(updates);\r\n    });\r\n  }\r\n\r\n  public toggleNoForwards(id: ChatId, enabled: boolean) {\r\n    return this.apiManager.invokeApi('messages.toggleNoForwards', {\r\n      peer: this.getInputPeer(id),\r\n      enabled\r\n    }).then((updates) => {\r\n      this.apiUpdatesManager.processUpdateMessage(updates);\r\n    });\r\n  }\r\n\r\n  public setChatAvailableReactions(id: ChatId, reactions: Array<string>) {\r\n    return this.apiManager.invokeApi('messages.setChatAvailableReactions', {\r\n      peer: this.getInputPeer(id),\r\n      available_reactions: reactions\r\n    }).then((updates) => {\r\n      this.apiUpdatesManager.processUpdateMessage(updates);\r\n    });\r\n  }\r\n\r\n  public isRestricted(chatId: ChatId) {\r\n    const chat: Chat.channel = this.getChat(chatId);\r\n    const restrictionReasons = chat.restriction_reason;\r\n\r\n    return !!(chat.pFlags.restricted && restrictionReasons && isRestricted(restrictionReasons));\r\n  }\r\n\r\n  public getSendAs(channelId: ChatId) {\r\n    return this.apiManager.invokeApiSingleProcess({\r\n      method: 'channels.getSendAs', \r\n      params: {\r\n        peer: this.getChannelInputPeer(channelId)\r\n      },\r\n      processResult: (sendAsPeers) => {\r\n        this.appUsersManager.saveApiUsers(sendAsPeers.users);\r\n        this.saveApiChats(sendAsPeers.chats);\r\n\r\n        return sendAsPeers.peers;\r\n      }\r\n    });\r\n  }\r\n\r\n  public importChatInvite(hash: string) {\r\n    return this.apiManager.invokeApi('messages.importChatInvite', {hash})\r\n    .then((updates) => {\r\n      this.apiUpdatesManager.processUpdateMessage(updates);\r\n      const chat = (updates as Updates.updates).chats[0];\r\n      return chat.id;\r\n    });\r\n  }\r\n\r\n  public checkUsername(chatId: ChatId, username: string) {\r\n    return this.apiManager.invokeApi('channels.checkUsername', {\r\n      channel: this.getChannelInput(chatId),\r\n      username\r\n    });\r\n  }\r\n\r\n  public getSponsoredMessage(chatId: ChatId) {\r\n    return this.apiManager.invokeApiCacheable('channels.getSponsoredMessages', {\r\n      channel: this.getChannelInput(chatId)\r\n    }, {cacheSeconds: 300}).then((sponsoredMessages) => {\r\n      this.appUsersManager.saveApiUsers(sponsoredMessages.users);\r\n      this.appChatsManager.saveApiChats(sponsoredMessages.chats);\r\n\r\n      const sponsoredMessage = sponsoredMessages.messages.shift();\r\n      sponsoredMessages.messages.push(sponsoredMessage);\r\n\r\n      return sponsoredMessages;\r\n    });\r\n  }\r\n\r\n  public viewSponsoredMessage(chatId: ChatId, randomId: SponsoredMessage['random_id']) {\r\n    return this.apiManager.invokeApiSingle('channels.viewSponsoredMessage', {\r\n      channel: this.getChannelInput(chatId),\r\n      random_id: randomId\r\n    });\r\n  }\r\n\r\n  public checkChatInvite(hash: string) {\r\n    return this.apiManager.invokeApi('messages.checkChatInvite', {\r\n      hash: hash\r\n    }).then((chatInvite) => {\r\n      if((chatInvite as ChatInvite.chatInvitePeek).chat) {\r\n        this.saveApiChat((chatInvite as ChatInvite.chatInvitePeek).chat, true);\r\n      }\r\n\r\n      return chatInvite;\r\n    });\r\n  }\r\n}\r\n","/*\r\n * https://github.com/morethanwords/tweb\r\n * Copyright (C) 2019-2021 Eduard Kuzmenko\r\n * https://github.com/morethanwords/tweb/blob/master/LICENSE\r\n */\r\n\r\nimport type lang from \"../lang\";\r\nimport type langSign from \"../langSign\";\r\nimport type { State } from \"../config/state\";\r\nimport DEBUG, { MOUNT_CLASS_TO } from \"../config/debug\";\r\nimport { HelpCountriesList, HelpCountry, LangPackDifference, LangPackString } from \"../layer\";\r\nimport stateStorage from \"./stateStorage\";\r\nimport App from \"../config/app\";\r\nimport rootScope from \"./rootScope\";\r\nimport { IS_MOBILE } from \"../environment/userAgent\";\r\nimport deepEqual from \"../helpers/object/deepEqual\";\r\nimport safeAssign from \"../helpers/object/safeAssign\";\r\nimport capitalizeFirstLetter from \"../helpers/string/capitalizeFirstLetter\";\r\nimport matchUrlProtocol from \"./richTextProcessor/matchUrlProtocol\";\r\nimport wrapUrl from \"./richTextProcessor/wrapUrl\";\r\n\r\nexport const langPack: {[actionType: string]: LangPackKey} = {\r\n  \"messageActionChatCreate\": \"ActionCreateGroup\",\r\n  \"messageActionChatCreateYou\": \"ActionYouCreateGroup\",\r\n\t\"messageActionChatEditTitle\": \"ActionChangedTitle\",\r\n\t\"messageActionChatEditPhoto\": \"ActionChangedPhoto\",\r\n\t\"messageActionChatEditVideo\": \"ActionChangedVideo\",\r\n\t\"messageActionChatDeletePhoto\": \"ActionRemovedPhoto\",\r\n\t\"messageActionChatReturn\": \"ActionAddUserSelf\",\r\n\t\"messageActionChatReturnYou\": \"ActionAddUserSelfYou\",\r\n\t\"messageActionChatJoined\": \"ActionAddUserSelfMega\",\r\n\t\"messageActionChatJoinedYou\": \"ChannelMegaJoined\",\r\n  \"messageActionChatAddUser\": \"ActionAddUser\",\r\n  \"messageActionChatAddUsers\": \"ActionAddUser\",\r\n\t\"messageActionChatLeave\": \"ActionLeftUser\",\r\n\t\"messageActionChatLeaveYou\": \"YouLeft\",\r\n\t\"messageActionChatDeleteUser\": \"ActionKickUser\",\r\n\t\"messageActionChatJoinedByLink\": \"ActionInviteUser\",\r\n  \"messageActionPinMessage\": \"Chat.Service.Group.UpdatedPinnedMessage\",\r\n  \"messageActionContactSignUp\": \"Chat.Service.PeerJoinedTelegram\",\r\n\t\"messageActionChannelCreate\": \"ActionCreateChannel\",\r\n\t\"messageActionChannelEditTitle\": \"Chat.Service.Channel.UpdatedTitle\",\r\n\t\"messageActionChannelEditPhoto\": \"Chat.Service.Channel.UpdatedPhoto\",\r\n\t\"messageActionChannelEditVideo\": \"Chat.Service.Channel.UpdatedVideo\",\r\n  \"messageActionChannelDeletePhoto\": \"Chat.Service.Channel.RemovedPhoto\",\r\n  \"messageActionHistoryClear\": \"HistoryCleared\",\r\n\t\"messageActionDiscussionStarted\": \"DiscussionStarted\",\r\n\r\n  \"messageActionChannelMigrateFrom\": \"ActionMigrateFromGroup\",\r\n\r\n  \"messageActionPhoneCall.video_in_ok\": \"ChatList.Service.VideoCall.incoming\",\r\n\t\"messageActionPhoneCall.video_out_ok\": \"ChatList.Service.VideoCall.outgoing\",\r\n\t\"messageActionPhoneCall.video_missed\": \"ChatList.Service.VideoCall.Missed\",\r\n\t\"messageActionPhoneCall.video_cancelled\": \"ChatList.Service.VideoCall.Cancelled\",\r\n  \"messageActionPhoneCall.in_ok\": \"ChatList.Service.Call.incoming\",\r\n\t\"messageActionPhoneCall.out_ok\": \"ChatList.Service.Call.outgoing\",\r\n\t\"messageActionPhoneCall.missed\": \"ChatList.Service.Call.Missed\",\r\n\t\"messageActionPhoneCall.cancelled\": \"ChatList.Service.Call.Cancelled\",\r\n\r\n\t\"messageActionGroupCall.started\": \"Chat.Service.VoiceChatStarted.Channel\",\r\n\t\"messageActionGroupCall.started_by\": \"Chat.Service.VoiceChatStarted\",\r\n\t\"messageActionGroupCall.started_byYou\": \"Chat.Service.VoiceChatStartedYou\",\r\n\t\"messageActionGroupCall.ended\": \"Chat.Service.VoiceChatFinished.Channel\",\r\n\t\"messageActionGroupCall.ended_by\": \"Chat.Service.VoiceChatFinished\",\r\n\t\"messageActionGroupCall.ended_byYou\": \"Chat.Service.VoiceChatFinishedYou\",\r\n\r\n\t\"messageActionBotAllowed\": \"Chat.Service.BotPermissionAllowed\",\r\n};\r\n\r\nexport type LangPackKey = /* string |  */keyof typeof lang | keyof typeof langSign;\r\n\r\nexport type FormatterArgument = string | number | Node | FormatterArgument[];\r\nexport type FormatterArguments = FormatterArgument[];\r\n\r\nexport const UNSUPPORTED_LANG_PACK_KEY: LangPackKey = IS_MOBILE ? 'Message.Unsupported.Mobile' : 'Message.Unsupported.Desktop';\r\n\r\nnamespace I18n {\r\n\texport const strings: Map<LangPackKey, LangPackString> = new Map();\r\n\texport const countriesList: HelpCountry[] = [];\r\n\tlet pluralRules: Intl.PluralRules;\r\n\r\n\tlet cacheLangPackPromise: Promise<LangPackDifference>;\r\n\texport let lastRequestedLangCode: string;\r\n  export let lastRequestedNormalizedLangCode: string;\r\n\texport let lastAppliedLangCode: string;\r\n\texport let requestedServerLanguage = false;\r\n  export let timeFormat: State['settings']['timeFormat'];\r\n\r\n  function setLangCode(langCode: string) {\r\n    lastRequestedLangCode = langCode;\r\n    lastRequestedNormalizedLangCode = langCode.split('-')[0];\r\n  }\r\n\r\n\texport function getCacheLangPack(): Promise<LangPackDifference> {\r\n\t\tif(cacheLangPackPromise) return cacheLangPackPromise;\r\n\t\treturn cacheLangPackPromise = Promise.all([\r\n\t\t\tstateStorage.get('langPack') as Promise<LangPackDifference>,\r\n\t\t\tpolyfillPromise\r\n\t\t]).then(([langPack]) => {\r\n\t\t\tif(!langPack/*  || true */) {\r\n\t\t\t\treturn loadLocalLangPack();\r\n\t\t\t} else if(DEBUG && false) {\r\n\t\t\t\treturn getLangPack(langPack.lang_code);\r\n\t\t\t}/*  else if(langPack.appVersion !== App.langPackVersion) {\r\n\t\t\t\treturn getLangPack(langPack.lang_code);\r\n\t\t\t} */\r\n\t\t\t\r\n\t\t\tif(!lastRequestedLangCode) {\r\n        setLangCode(langPack.lang_code);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tapplyLangPack(langPack);\r\n\t\t\treturn langPack;\r\n\t\t}).finally(() => {\r\n\t\t\tcacheLangPackPromise = undefined;\r\n\t\t});\r\n\t}\r\n\r\n  function updateAmPm() {\r\n    if(timeFormat === 'h12') {\r\n      try {\r\n        const dateTimeFormat = getDateTimeFormat({hour: 'numeric', minute: 'numeric', hour12: true});\r\n        const date = new Date();\r\n        date.setHours(0);\r\n        const amText = dateTimeFormat.format(date);\r\n        amPmCache.am = amText.split(' ')[1];\r\n        date.setHours(12);\r\n        const pmText = dateTimeFormat.format(date);\r\n        amPmCache.pm = pmText.split(' ')[1];\r\n      } catch(err) {\r\n        console.error('cannot get am/pm', err);\r\n        amPmCache = {am: 'AM', pm: 'PM'};\r\n      }\r\n    }\r\n  }\r\n\r\n  export function setTimeFormat(\r\n    format: State['settings']['timeFormat'],\r\n    haveToUpdate = !!timeFormat && timeFormat !== format\r\n  ) {\r\n    timeFormat = format;\r\n\r\n    updateAmPm();\r\n\r\n    if(haveToUpdate) {\r\n      cachedDateTimeFormats.clear();\r\n      const elements = Array.from(document.querySelectorAll(`.i18n`)) as HTMLElement[];\r\n      elements.forEach((element) => {\r\n        const instance = weakMap.get(element);\r\n\r\n        if(instance instanceof IntlDateElement) {\r\n          instance.update();\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n\texport function loadLocalLangPack() {\r\n\t\tconst defaultCode = App.langPackCode;\r\n    setLangCode(defaultCode);\r\n\t\treturn Promise.all([\r\n\t\t\timport('../lang'),\r\n\t\t\timport('../langSign'),\r\n\t\t\timport('../countries')\r\n\t\t]).then(([lang, langSign, countries]) => {\r\n\t\t\tconst strings: LangPackString[] = [];\r\n\t\t\tformatLocalStrings(lang.default, strings);\r\n\t\t\tformatLocalStrings(langSign.default, strings);\r\n\r\n\t\t\tconst langPack: LangPackDifference = {\r\n\t\t\t\t_: 'langPackDifference',\r\n\t\t\t\tfrom_version: 0,\r\n\t\t\t\tlang_code: defaultCode,\r\n\t\t\t\tstrings,\r\n\t\t\t\tversion: 0,\r\n\t\t\t\tlocal: true,\r\n\t\t\t\tcountries: countries.default\r\n\t\t\t};\r\n\t\t\treturn saveLangPack(langPack);\r\n\t\t});\r\n\t}\r\n\r\n\texport function loadLangPack(langCode: string, web?: boolean) {\r\n\t\trequestedServerLanguage = true;\r\n    const managers = rootScope.managers;\r\n\t\treturn Promise.all([\r\n\t\t\tmanagers.apiManager.invokeApiCacheable('langpack.getLangPack', {\r\n\t\t\t\tlang_code: langCode,\r\n\t\t\t\tlang_pack: web ? 'web' : App.langPack\r\n\t\t\t}),\r\n\t\t\t!web && managers.apiManager.invokeApiCacheable('langpack.getLangPack', {\r\n\t\t\t\tlang_code: langCode,\r\n\t\t\t\tlang_pack: 'android'\r\n\t\t\t}),\r\n\t\t\timport('../lang'),\r\n\t\t\timport('../langSign'),\r\n\t\t\tmanagers.apiManager.invokeApiCacheable('help.getCountriesList', {\r\n\t\t\t\tlang_code: langCode,\r\n\t\t\t\thash: 0\r\n\t\t\t}) as Promise<HelpCountriesList.helpCountriesList>,\r\n\t\t\tpolyfillPromise,\r\n\t\t]);\r\n\t}\r\n\r\n\texport function getStrings(langCode: string, strings: string[]) {\r\n\t\treturn rootScope.managers.apiManager.invokeApi('langpack.getStrings', {\r\n\t\t\tlang_pack: App.langPack,\r\n\t\t\tlang_code: langCode,\r\n\t\t\tkeys: strings\r\n\t\t});\r\n\t}\r\n\r\n\texport function formatLocalStrings(strings: any, pushTo: LangPackString[] = []) {\r\n\t\tfor(const i in strings) {\r\n\t\t\t// @ts-ignore\r\n\t\t\tconst v = strings[i];\r\n\t\t\tif(typeof(v) === 'string') {\r\n\t\t\t\tpushTo.push({\r\n\t\t\t\t\t_: 'langPackString',\r\n\t\t\t\t\tkey: i,\r\n\t\t\t\t\tvalue: v\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tpushTo.push({\r\n\t\t\t\t\t_: 'langPackStringPluralized',\r\n\t\t\t\t\tkey: i,\r\n\t\t\t\t\t...v\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn pushTo;\r\n\t}\r\n\r\n\texport function getLangPack(langCode: string, web?: boolean) {\r\n    setLangCode(langCode);\r\n\t\treturn loadLangPack(langCode, web).then(([langPack1, langPack2, localLangPack1, localLangPack2, countries, _]) => {\r\n\t\t\tlet strings: LangPackString[] = [];\r\n\r\n\t\t\t[localLangPack1, localLangPack2].forEach((l) => {\r\n\t\t\t\tformatLocalStrings(l.default as any, strings);\r\n\t\t\t});\r\n\r\n\t\t\tstrings = strings.concat(...[langPack1.strings, langPack2.strings].filter(Boolean));\r\n\r\n\t\t\tlangPack1.strings = strings;\r\n\t\t\tlangPack1.countries = countries;\r\n\t\t\treturn saveLangPack(langPack1);\r\n\t\t});\r\n\t}\r\n\r\n\texport function saveLangPack(langPack: LangPackDifference) {\r\n\t\tlangPack.appVersion = App.langPackVersion;\r\n\r\n\t\treturn stateStorage.set({langPack}).then(() => {\r\n\t\t\tapplyLangPack(langPack);\r\n\t\t\treturn langPack;\r\n\t\t});\r\n\t}\r\n\r\n\texport const polyfillPromise = (function checkIfPolyfillNeeded() {\r\n\t\tif(typeof(Intl) !== 'undefined' && typeof(Intl.PluralRules) !== 'undefined'/*  && false */) {\r\n\t\t\treturn Promise.resolve();\r\n\t\t} else {\r\n\t\t\treturn import('./pluralPolyfill').then((_Intl) => {\r\n\t\t\t\t(window as any).Intl = Object.assign(typeof(Intl) !== 'undefined' ? Intl : {}, _Intl.default);\r\n\t\t\t});\r\n\t\t}\r\n\t})();\r\n\t\r\n\texport function applyLangPack(langPack: LangPackDifference) {\r\n    const currentLangCode = lastRequestedLangCode;\r\n\t\tif(langPack.lang_code !== currentLangCode) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\ttry {\r\n\t\t\tpluralRules = new Intl.PluralRules(lastRequestedNormalizedLangCode);\r\n\t\t} catch(err) {\r\n\t\t\tconsole.error('pluralRules error', err);\r\n\t\t\tpluralRules = new Intl.PluralRules(lastRequestedNormalizedLangCode.split('-', 1)[0]);\r\n\t\t}\r\n\r\n\t\tstrings.clear();\r\n\r\n\t\tfor(const string of langPack.strings) {\r\n\t\t\tstrings.set(string.key as LangPackKey, string);\r\n\t\t}\r\n\r\n\t\tif(langPack.countries) {\r\n\t\t\tcountriesList.length = 0;\r\n\t\t\tcountriesList.push(...langPack.countries.countries);\r\n\r\n\t\t\tlangPack.countries.countries.forEach((country) => {\r\n\t\t\t\tif(country.name) {\r\n\t\t\t\t\tconst langPackKey: any = country.default_name;\r\n\t\t\t\t\tstrings.set(langPackKey, {\r\n\t\t\t\t\t\t_: 'langPackString',\r\n\t\t\t\t\t\tkey: langPackKey,\r\n\t\t\t\t\t\tvalue: country.name\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tif(lastAppliedLangCode !== currentLangCode) {\r\n\t\t\trootScope.dispatchEvent('language_change', currentLangCode);\r\n\t\t\tlastAppliedLangCode = currentLangCode;\r\n      cachedDateTimeFormats.clear();\r\n      updateAmPm();\r\n\t\t}\r\n\r\n\t\tconst elements = Array.from(document.querySelectorAll(`.i18n`)) as HTMLElement[];\r\n\t\telements.forEach((element) => {\r\n\t\t\tconst instance = weakMap.get(element);\r\n\r\n\t\t\tif(instance) {\r\n\t\t\t\tinstance.update();\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n  function pushNextArgument(out: ReturnType<typeof superFormatter>, args: FormatterArguments, indexHolder: {i: number}) {\r\n    const arg = args[indexHolder.i++];\r\n\t\tif(Array.isArray(arg)) {\r\n\t\t\tout.push(...arg as any);\r\n\t\t} else {\r\n\t\t\tout.push(arg);\r\n\t\t}\r\n  }\r\n\r\n\texport function superFormatter(input: string, args?: FormatterArguments, indexHolder = {i: 0}): Exclude<FormatterArgument, FormatterArgument[]>[] {\r\n\t\tlet out: ReturnType<typeof superFormatter> = [];\r\n\t\tconst regExp = /(\\*\\*|__)(.+?)\\1|(\\n)|(\\[.+?\\]\\(.*?\\))|un\\d|%\\d\\$.|%./g;\r\n\r\n\t\tlet lastIndex = 0;\r\n\t\tinput.replace(regExp, (match, p1: any, p2: any, p3: any, p4: string, offset: number, string: string) => {\r\n\t\t\t//console.table({match, p1, p2, offset, string});\r\n\r\n\t\t\tout.push(string.slice(lastIndex, offset));\r\n\r\n\t\t\tif(p1) {\r\n\t\t\t\t//offset += p1.length;\r\n        let element: HTMLElement;\r\n\t\t\t\tswitch(p1) {\r\n\t\t\t\t\tcase '**': {\r\n            element = document.createElement('b');\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\r\n          case '__': {\r\n            element = document.createElement('i');\r\n            break;\r\n          }\r\n\t\t\t\t}\r\n\r\n        element.append(...superFormatter(p2, args, indexHolder) as any);\r\n        out.push(element);\r\n\t\t\t} else if(p3) {\r\n\t\t\t\tout.push(document.createElement('br'));\r\n\t\t\t} else if(p4) {\r\n        const idx = p4.lastIndexOf(']');\r\n\t\t\t\tconst text = p4.slice(1, idx);\r\n        \r\n\t\t\t\tconst url = p4.slice(idx + 2, p4.length - 1);\r\n        let a: HTMLAnchorElement;\r\n\t\t\t\tif(url && matchUrlProtocol(url)) {\r\n          a = document.createElement('a');\r\n          const wrappedUrl = wrapUrl(url);\r\n          a.href = wrappedUrl.url;\r\n          if(wrappedUrl.onclick) a.setAttribute('onclick', wrappedUrl.onclick);\r\n          a.target = '_blank';\r\n\t\t\t\t} else {\r\n          a = args[indexHolder.i++] as HTMLAnchorElement;\r\n          a.textContent = ''; // reset content\r\n        }\r\n\r\n        a.append(...superFormatter(text, args, indexHolder) as any);\r\n\r\n\t\t\t\tout.push(a);\r\n\t\t\t} else if(args) {\r\n        pushNextArgument(out, args, indexHolder);\r\n\t\t\t}\r\n\r\n\t\t\tlastIndex = offset + match.length;\r\n\t\t\treturn '';\r\n\t\t});\r\n\t\r\n\t\tif(lastIndex !== input.length) {\r\n\t\t\tout.push(input.slice(lastIndex));\r\n\t\t}\r\n\r\n\t\treturn out;\r\n\t}\r\n\t\r\n\texport function format(key: LangPackKey, plain: true, args?: FormatterArguments): string;\r\n\texport function format(key: LangPackKey, plain?: false, args?: FormatterArguments): ReturnType<typeof superFormatter>;\r\n\texport function format(key: LangPackKey, plain = false, args?: FormatterArguments): ReturnType<typeof superFormatter> | string {\r\n\t\tconst str = strings.get(key);\r\n\t\tlet input: string;\r\n\t\tif(str) {\r\n\t\t\tif(str._ === 'langPackStringPluralized' && args?.length) {\r\n\t\t\t\tlet v = args[0] as number | string;\r\n\t\t\t\tif(typeof(v) === 'string') v = +v.replace(/\\D/g, '');\r\n\t\t\t\tconst s = pluralRules.select(v);\r\n\t\t\t\t// @ts-ignore\r\n\t\t\t\tinput = str[s + '_value'] || str['other_value'];\r\n\t\t\t} else if(str._ === 'langPackString') {\r\n\t\t\t\tinput = str.value;\r\n\t\t\t} else {\r\n\t\t\t\t//input = '[' + key + ']';\r\n\t\t\t\tinput = key;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\t//input = '[' + key + ']';\r\n\t\t\tinput = key;\r\n\t\t}\r\n\r\n    const result = superFormatter(input, args);\r\n    if(plain) { // * let's try a hack now... (don't want to replace []() entity)\r\n      return result.map((item) => item instanceof Node ? item.textContent : item).join('');\r\n    } else {\r\n      return result;\r\n    }\r\n\t\t\r\n\t\t/* if(plain) {\r\n\t\t\tif(args?.length) {\r\n\t\t\t\tconst regExp = /un\\d|%\\d\\$.|%./g;\r\n\t\t\t\tlet i = 0;\r\n\t\t\t\tinput = input.replace(regExp, (match, offset, string) => {\r\n\t\t\t\t\treturn '' + args[i++];\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\treturn input;\r\n\t\t} else {\r\n\t\t\treturn superFormatter(input, args);\r\n\t\t} */\r\n\t}\r\n\r\n\texport const weakMap: WeakMap<HTMLElement, IntlElementBase<IntlElementBaseOptions>> = new WeakMap();\r\n\r\n\texport type IntlElementBaseOptions = {\r\n\t\telement?: HTMLElement,\r\n\t\tproperty?: 'innerText' | 'innerHTML' | 'placeholder' | 'textContent',\r\n\t};\r\n\r\n\tabstract class IntlElementBase<Options extends IntlElementBaseOptions> {\r\n\t\tpublic element: IntlElementBaseOptions['element'];\r\n\t\tpublic property: IntlElementBaseOptions['property'];\r\n\t\r\n\t\tconstructor(options?: Options) {\r\n\t\t\tthis.element = options?.element || document.createElement('span');\r\n\t\t\tthis.element.classList.add('i18n');\r\n\t\t\t\r\n      this.property = options?.property;\r\n      if(options && ((options as any as IntlElementOptions).key || (options as any as IntlDateElementOptions).date)) {\r\n        this.update(options);\r\n      }\r\n\r\n\t\t\tweakMap.set(this.element, this);\r\n\t\t}\r\n\r\n\t\tabstract update(options?: Options): void;\r\n\t}\r\n\r\n\texport type IntlElementOptions = IntlElementBaseOptions & {\r\n\t\tkey?: LangPackKey,\r\n\t\targs?: FormatterArguments\r\n\t};\r\n\texport class IntlElement extends IntlElementBase<IntlElementOptions> {\r\n\t\tpublic key: IntlElementOptions['key'];\r\n\t\tpublic args: IntlElementOptions['args'];\r\n\r\n    constructor(options: IntlElementOptions = {}) {\r\n      super({...options, property: options.property ?? 'innerHTML'});\r\n    }\r\n\r\n\t\tpublic update(options?: IntlElementOptions) {\r\n\t\t\tsafeAssign(this, options);\r\n\t\r\n\t\t\tif(this.property === 'innerHTML') {\r\n\t\t\t\tthis.element.textContent = '';\r\n\t\t\t\tthis.element.append(...format(this.key, false, this.args) as any);\r\n\t\t\t} else {\r\n\t\t\t\t// @ts-ignore\r\n\t\t\t\tconst v = this.element[this.property];\r\n\t\t\t\tconst formatted = format(this.key, true, this.args);\r\n\r\n\t\t\t\t// * hasOwnProperty won't work here\r\n\t\t\t\tif(v === undefined) this.element.dataset[this.property] = formatted;\r\n\t\t\t\telse (this.element as HTMLInputElement)[this.property] = formatted;\r\n\t\t\t}\r\n\t\t}\r\n\r\n    public compareAndUpdate(options?: IntlElementOptions) {\r\n      if(this.key === options.key && deepEqual(this.args, options.args)) {\r\n        return;\r\n      }\r\n\r\n      return this.update(options);\r\n    }\r\n\t}\r\n\r\n  const cachedDateTimeFormats: Map<string, Intl.DateTimeFormat> = new Map();\r\n  function getDateTimeFormat(options: Intl.DateTimeFormatOptions = {}) {\r\n    const json = JSON.stringify(options);\r\n    let dateTimeFormat = cachedDateTimeFormats.get(json);\r\n    if(!dateTimeFormat) {\r\n      dateTimeFormat = new Intl.DateTimeFormat(lastRequestedNormalizedLangCode + '-u-hc-' + timeFormat, options);\r\n      cachedDateTimeFormats.set(json, dateTimeFormat);\r\n    }\r\n\r\n    return dateTimeFormat;\r\n  }\r\n\r\n  export let amPmCache = {am: 'AM', pm: 'PM'};\r\n\texport type IntlDateElementOptions = IntlElementBaseOptions & {\r\n\t\tdate?: Date,\r\n\t\toptions: Intl.DateTimeFormatOptions\r\n\t};\r\n\texport class IntlDateElement extends IntlElementBase<IntlDateElementOptions> {\r\n\t\tpublic date: IntlDateElementOptions['date'];\r\n\t\tpublic options: IntlDateElementOptions['options'];\r\n\r\n    constructor(options: IntlDateElementOptions) {\r\n      super({...options, property: options.property ?? 'textContent'});\r\n    }\r\n\r\n\t\tpublic update(options?: IntlDateElementOptions) {\r\n\t\t\tsafeAssign(this, options);\r\n\t\r\n      let text: string;\r\n      if(this.options.hour && this.options.minute && Object.keys(this.options).length === 2/*  && false */) {\r\n        let hours = this.date.getHours();\r\n        text = ('0' + (timeFormat === 'h12' ? (hours % 12) || 12 : hours)).slice(-2) + ':' + ('0' + this.date.getMinutes()).slice(-2);\r\n        // if(this.options.second) {\r\n        //   text += ':' + ('0' + this.date.getSeconds()).slice(-2);\r\n        // }\r\n\r\n        if(timeFormat === 'h12') {\r\n          text += ' ' + (hours < 12 ? amPmCache.am : amPmCache.pm);\r\n        }\r\n      } else {\r\n        // * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/Locale/hourCycle#adding_an_hour_cycle_via_the_locale_string\r\n        const dateTimeFormat = getDateTimeFormat(this.options);\r\n        text = capitalizeFirstLetter(dateTimeFormat.format(this.date));\r\n      }\r\n\r\n      (this.element as any)[this.property] = text;\r\n\t\t}\r\n\t}\r\n\r\n\texport function i18n(key: LangPackKey, args?: FormatterArguments) {\r\n\t\treturn new IntlElement({key, args}).element;\r\n\t}\r\n\t\r\n\texport function i18n_(options: IntlElementOptions) {\r\n\t\treturn new IntlElement(options).element;\r\n\t}\r\n\r\n\texport function _i18n(element: HTMLElement, key: LangPackKey, args?: FormatterArguments, property?: IntlElementOptions['property']) {\r\n\t\treturn new IntlElement({element, key, args, property}).element;\r\n\t}\r\n}\r\n\r\nexport {I18n};\r\nexport default I18n;\r\n\r\nconst i18n = I18n.i18n;\r\nexport {i18n};\r\n\r\nconst i18n_ = I18n.i18n_;\r\nexport {i18n_};\r\n\r\nconst _i18n = I18n._i18n;\r\nexport {_i18n};\r\n\r\nexport function joinElementsWith(elements: (Node | string)[], joiner: typeof elements[0] | ((isLast: boolean) => typeof elements[0])) {\r\n\tconst arr = elements.slice(0, 1);\r\n  for(let i = 1; i < elements.length; ++i) {\r\n    const isLast = (elements.length - 1) === i;\r\n    arr.push(typeof(joiner) === 'function' ? joiner(isLast) : joiner);\r\n    arr.push(elements[i]);\r\n  }\r\n\r\n\treturn arr;\r\n}\r\n\r\n\r\nexport function join(elements: (Node | string)[], useLast: boolean, plain: true): string;\r\nexport function join(elements: (Node | string)[], useLast?: boolean, plain?: false): (string | Node)[];\r\nexport function join(elements: (Node | string)[], useLast: boolean, plain: boolean): string | (string | Node)[];\r\nexport function join(elements: (Node | string)[], useLast = true, plain?: boolean): string | (string | Node)[] {\r\n\tconst joined = joinElementsWith(elements, (isLast) => {\r\n    const langPackKey: LangPackKey = isLast && useLast ? 'AutoDownloadSettings.LastDelimeter' : 'AutoDownloadSettings.Delimeter';\r\n    return plain ? I18n.format(langPackKey, true) : i18n(langPackKey);\r\n  });\r\n\r\n  return plain ? joined.join('') : joined;\r\n}\r\n\r\nMOUNT_CLASS_TO.I18n = I18n;\r\n","/*\r\n * https://github.com/morethanwords/tweb\r\n * Copyright (C) 2019-2021 Eduard Kuzmenko\r\n * https://github.com/morethanwords/tweb/blob/master/LICENSE\r\n */\r\n\r\nimport { MOUNT_CLASS_TO } from \"../config/debug\";\r\nimport I18n, { i18n } from \"../lib/langPack\";\r\n\r\nexport const months = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];\r\nexport const days = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];\r\n\r\nexport const ONE_DAY = 86400;\r\n\r\n// https://stackoverflow.com/a/6117889\r\nexport const getWeekNumber = (date: Date) => {\r\n  const d = new Date(Date.UTC(date.getFullYear(), date.getMonth(), date.getDate()));\r\n  const dayNum = d.getUTCDay() || 7;\r\n  d.setUTCDate(d.getUTCDate() + 4 - dayNum);\r\n  const yearStart = new Date(Date.UTC(d.getUTCFullYear(), 0, 1));\r\n  return Math.ceil((((d.getTime() - yearStart.getTime()) / ONE_DAY) + 1) / 7);\r\n};\r\n\r\nexport function formatDateAccordingToTodayNew(time: Date) {\r\n  const today = new Date();\r\n  const now = today.getTime() / 1000 | 0;\r\n  const timestamp = time.getTime() / 1000 | 0;\r\n\r\n  const options: Intl.DateTimeFormatOptions = {};\r\n  if((now - timestamp) < ONE_DAY && today.getDate() === time.getDate()) { // if the same day\r\n    options.hour = options.minute = '2-digit';\r\n  } else if(today.getFullYear() !== time.getFullYear()) { // different year\r\n    options.year = options.day = 'numeric';\r\n    options.month = '2-digit';\r\n  } else if((now - timestamp) < (ONE_DAY * 7) && getWeekNumber(today) === getWeekNumber(time)) { // current week\r\n    options.weekday = 'short';\r\n  } else { // same year\r\n    options.month = 'short';\r\n    options.day = 'numeric';\r\n  }\r\n\r\n  return new I18n.IntlDateElement({\r\n    date: time,\r\n    options\r\n  }).element;\r\n}\r\n\r\nexport function formatFullSentTimeRaw(timestamp: number, options: {\r\n  capitalize?: boolean\r\n} = {}) {\r\n  const date = new Date();\r\n  const time = new Date(timestamp * 1000);\r\n  const now = date.getTime() / 1000;\r\n\r\n  const timeEl = formatTime(time);\r\n\r\n  let dateEl: Node | string;\r\n  if((now - timestamp) < ONE_DAY && date.getDate() === time.getDate()) { // if the same day\r\n    dateEl = i18n(options.capitalize ? 'Date.Today' : 'Peer.Status.Today');\r\n  } else if((now - timestamp) < (ONE_DAY * 2) && (date.getDate() - 1) === time.getDate()) { // yesterday\r\n    dateEl = i18n(options.capitalize ? 'Yesterday' : 'Peer.Status.Yesterday');\r\n\r\n    if(options.capitalize) {\r\n      (dateEl as HTMLElement).style.textTransform = 'capitalize';\r\n    }\r\n  } else if(date.getFullYear() !== time.getFullYear()) { // different year\r\n    dateEl = new I18n.IntlDateElement({\r\n      date: time,\r\n      options: {\r\n        month: 'short',\r\n        day: 'numeric',\r\n        year: 'numeric'\r\n      }\r\n    }).element;\r\n    // dateStr = months[time.getMonth()].slice(0, 3) + ' ' + time.getDate() + ', ' + time.getFullYear();\r\n  } else {\r\n    dateEl = new I18n.IntlDateElement({\r\n      date: time,\r\n      options: {\r\n        month: 'short',\r\n        day: 'numeric'\r\n      }\r\n    }).element;\r\n    // dateStr = months[time.getMonth()].slice(0, 3) + ' ' + time.getDate();\r\n  }\r\n\r\n  return {dateEl, timeEl};\r\n}\r\n\r\nexport function formatFullSentTime(timestamp: number) {\r\n  const {dateEl, timeEl} = formatFullSentTimeRaw(timestamp, {\r\n    capitalize: true\r\n  });\r\n\r\n  const fragment = document.createDocumentFragment();\r\n  fragment.append(dateEl, ' ', i18n('ScheduleController.at'), ' ', timeEl);\r\n  return fragment;\r\n}\r\n\r\nexport function formatTime(date: Date) {\r\n  return new I18n.IntlDateElement({\r\n    date,\r\n    options: {\r\n      hour: '2-digit',\r\n      minute: '2-digit'\r\n    }\r\n  }).element;\r\n}\r\n\r\nMOUNT_CLASS_TO && (MOUNT_CLASS_TO.formatDateAccordingToTodayNew = formatDateAccordingToTodayNew);\r\n\r\nexport const getFullDate = (date: Date, options: Partial<{\r\n  noTime: true, \r\n  noSeconds: true,\r\n  monthAsNumber: true,\r\n  leadingZero: true\r\n}> = {}) => {\r\n  const joiner = options.monthAsNumber ? '.' : ' ';\r\n  const time = ('0' + date.getHours()).slice(-2) + ':' + ('0' + date.getMinutes()).slice(-2) + (options.noSeconds ? '' : ':' + ('0' + date.getSeconds()).slice(-2));\r\n\r\n  return (options.leadingZero ? ('0' + date.getDate()).slice(-2) : date.getDate()) + \r\n    joiner + (options.monthAsNumber ? ('0' + (date.getMonth() + 1)).slice(-2) : months[date.getMonth()]) + \r\n    joiner + date.getFullYear() + \r\n    (options.noTime ? '' : ', ' + time);\r\n};\r\n\r\n// https://github.com/DrKLO/Telegram/blob/d52b2c921abd3c1e8d6368858313ad0cb0468c07/TMessagesProj/src/main/java/org/telegram/ui/Adapters/FiltersView.java\r\nconst minYear = 2013;\r\nconst yearPattern = new RegExp(\"20[0-9]{1,2}\");\r\nconst monthYearOrDayPattern = new RegExp(\"(\\\\w{3,}) ([0-9]{0,4})\", 'i');\r\nconst yearOrDayAndMonthPattern = new RegExp(\"([0-9]{0,4}) (\\\\w{2,})\", 'i');\r\nconst shortDate = new RegExp(\"^([0-9]{1,4})(\\\\.| |/|\\\\-)([0-9]{1,4})$\", 'i');\r\nconst longDate = new RegExp(\"^([0-9]{1,2})(\\\\.| |/|\\\\-)([0-9]{1,2})(\\\\.| |/|\\\\-)([0-9]{1,4})$\", 'i');\r\nconst numberOfDaysEachMonth = [31, 29, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];\r\nexport type DateData = {\r\n  title: string,\r\n  minDate: number,\r\n  maxDate: number,\r\n};\r\nexport function fillTipDates(query: string, dates: DateData[]) {\r\n  const q = query.trim().toLowerCase();\r\n\r\n  if(q.length < 3) {\r\n    return;\r\n  }\r\n\r\n  if(\"today\".indexOf(q) === 0) {\r\n    const date = new Date();\r\n    const year = date.getFullYear();\r\n    const month = date.getMonth();\r\n    const day = date.getDate();\r\n    date.setFullYear(year, month, day);\r\n    date.setHours(0, 0, 0);\r\n\r\n    const minDate = date.getTime();\r\n    date.setFullYear(year, month, day + 1);\r\n    date.setHours(0, 0, 0);\r\n\r\n    const maxDate = date.getTime() - 1;\r\n    dates.push({\r\n      title: 'Today',\r\n      minDate,\r\n      maxDate\r\n    });\r\n    return;\r\n  }\r\n\r\n  if(\"yesterday\".indexOf(q) === 0) {\r\n    const date = new Date();\r\n    const year = date.getFullYear();\r\n    const month = date.getMonth();\r\n    const day = date.getDate();\r\n    date.setFullYear(year, month, day);\r\n    date.setHours(0, 0, 0);\r\n\r\n    const minDate = date.getTime() - 86400000;\r\n    date.setFullYear(year, month, day + 1);\r\n    date.setHours(0, 0, 0);\r\n\r\n    const maxDate = date.getTime() - 86400001;\r\n    dates.push({\r\n      title: 'Yesterday',\r\n      minDate,\r\n      maxDate\r\n    });\r\n    return;\r\n  }\r\n\r\n  const dayOfWeek = getDayOfWeek(q);\r\n  if(dayOfWeek >= 0) {\r\n    const date = new Date();\r\n    const now = date.getTime();\r\n    const currentDay = date.getDay();\r\n    const distance = dayOfWeek - currentDay;\r\n    date.setDate(date.getDate() + distance);\r\n    if(date.getTime() > now) {\r\n      date.setTime(date.getTime() - 604800000);\r\n    }\r\n    const year = date.getFullYear()\r\n    const month = date.getMonth();\r\n    const day = date.getDate();\r\n    date.setFullYear(year, month, day);\r\n    date.setHours(0, 0, 0);\r\n\r\n    const minDate = date.getTime();\r\n    date.setFullYear(year, month, day + 1);\r\n    date.setHours(0, 0, 0);\r\n\r\n    const maxDate = date.getTime() - 1;\r\n    dates.push({\r\n      title: formatWeekLong(minDate),\r\n      minDate,\r\n      maxDate\r\n    });\r\n    return;\r\n  }\r\n\r\n  let matches: any[];\r\n  if((matches = shortDate.exec(q)) !== null) {\r\n    const g1 = matches[1];\r\n    const g2 = matches[3];\r\n    const k = parseInt(g1);\r\n    const k1 = parseInt(g2);\r\n    if(k > 0 && k <= 31) {\r\n      if(k1 >= minYear && k <= 12) {\r\n        const selectedYear = k1;\r\n        const month = k - 1;\r\n        createForMonthYear(dates, month, selectedYear);\r\n        return;\r\n      } else if (k1 <= 12) {\r\n        const day = k - 1;\r\n        const month = k1 - 1;\r\n        createForDayMonth(dates, day, month);\r\n      }\r\n    } else if (k >= minYear && k1 <= 12) {\r\n      const selectedYear = k;\r\n      const month = k1 - 1;\r\n      createForMonthYear(dates, month, selectedYear);\r\n    }\r\n\r\n    return;\r\n  }\r\n\r\n  if((matches = longDate.exec(q)) !== null) {\r\n    const g1 = matches[1];\r\n    const g2 = matches[3];\r\n    const g3 = matches[5];\r\n    if(!matches[2] === matches[4]) {\r\n      return;\r\n    }\r\n\r\n    const day = parseInt(g1);\r\n    const month = parseInt(g2) - 1;\r\n    let year = parseInt(g3);\r\n    if(year >= 10 && year <= 99) {\r\n      year += 2000;\r\n    }\r\n\r\n    const currentYear = new Date().getFullYear();\r\n    if(validDateForMonth(day - 1, month) && year >= minYear && year <= currentYear) {\r\n      const date = new Date();\r\n      date.setFullYear(year, month, day);\r\n      date.setHours(0, 0, 0);\r\n      \r\n      const minDate = date.getTime();\r\n      date.setFullYear(year, month, day + 1);\r\n      date.setHours(0, 0, 0);\r\n\r\n      const maxDate = date.getTime() - 1;\r\n      dates.push({\r\n        title: formatterYearMax(minDate),\r\n        minDate,\r\n        maxDate\r\n      });\r\n      return;\r\n    }\r\n\r\n    return;\r\n  }\r\n\r\n  if((matches = yearPattern.exec(q)) !== null) {\r\n    let selectedYear = +q;\r\n    const currentYear = new Date().getFullYear();\r\n    if(selectedYear < minYear) {\r\n      selectedYear = minYear;\r\n      for(let i = currentYear; i >= selectedYear; i--) {\r\n        const date = new Date();\r\n        date.setFullYear(i, 0, 1);\r\n        date.setHours(0, 0, 0);\r\n\r\n        const minDate = date.getTime();\r\n        date.setFullYear(i + 1, 0, 1);\r\n        date.setHours(0, 0, 0);\r\n\r\n        const maxDate = date.getTime() - 1;\r\n        dates.push({\r\n          title: '' + i,\r\n          minDate,\r\n          maxDate\r\n        });\r\n      }\r\n    } else if(selectedYear <= currentYear) {\r\n      const date = new Date();\r\n      date.setFullYear(selectedYear, 0, 1);\r\n      date.setHours(0, 0, 0);\r\n\r\n      const minDate = date.getTime();\r\n      date.setFullYear(selectedYear + 1, 0, 1);\r\n      date.setHours(0, 0, 0);\r\n\r\n      const maxDate = date.getTime() - 1;\r\n      dates.push({\r\n        title: '' + selectedYear,\r\n        minDate,\r\n        maxDate\r\n      });\r\n    }\r\n\r\n    return;\r\n  }\r\n\r\n  if((matches = monthYearOrDayPattern.exec(q)) !== null) {\r\n    const g1 = matches[1];\r\n    const g2 = matches[2];\r\n    const month = getMonth(g1);\r\n    if(month >= 0) {\r\n      const k = +g2;\r\n      if(k > 0 && k <= 31) {\r\n        const day = k - 1;\r\n        createForDayMonth(dates, day, month);\r\n        return;\r\n      } else if(k >= minYear) {\r\n        const selectedYear = k;\r\n        createForMonthYear(dates, month, selectedYear);\r\n        return;\r\n      }\r\n    }\r\n  }\r\n\r\n  if((matches = yearOrDayAndMonthPattern.exec(q)) !== null) {\r\n    const g1 = matches[1];\r\n    const g2 = matches[2];\r\n    const month = getMonth(g2);\r\n    if(month >= 0) {\r\n      const k = +g1;\r\n      if(k > 0 && k <= 31) {\r\n        const day = k - 1;\r\n        createForDayMonth(dates, day, month);\r\n        return;\r\n      } else if (k >= minYear) {\r\n        const selectedYear = k;\r\n        createForMonthYear(dates, month, selectedYear);\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nfunction createForMonthYear(dates: DateData[], month: number, selectedYear: number) {\r\n  const currentYear = new Date().getFullYear();\r\n  const today = Date.now();\r\n  if(selectedYear >= minYear && selectedYear <= currentYear) {\r\n    const date = new Date();\r\n    date.setFullYear(selectedYear, month, 1);\r\n    date.setHours(0, 0, 0);\r\n    const minDate = date.getTime();\r\n    if(minDate > today) {\r\n      return;\r\n    }\r\n    date.setMonth(date.getMonth() + 1);\r\n    const maxDate = date.getTime() - 1;\r\n\r\n    dates.push({\r\n      title: formatterMonthYear(minDate),\r\n      minDate,\r\n      maxDate\r\n    });\r\n  }\r\n}\r\n\r\nfunction createForDayMonth(dates: DateData[], day: number, month: number) {\r\n  if(validDateForMonth(day, month)) {\r\n    const currentYear = new Date().getFullYear();\r\n    const today = Date.now();\r\n    \r\n    for(let i = currentYear; i >= minYear; i--) {\r\n      if(month === 1 && day === 28 && !isLeapYear(i)) {\r\n        continue;\r\n      }\r\n\r\n      const date = new Date();\r\n      date.setFullYear(i, month, day + 1);\r\n      date.setHours(0, 0, 0);\r\n      \r\n      const minDate = date.getTime();\r\n      if(minDate > today) {\r\n        continue;\r\n      }\r\n\r\n      date.setFullYear(i, month, day + 2);\r\n      date.setHours(0, 0, 0);\r\n      const maxDate = date.getTime() - 1;\r\n      if(i === currentYear) {\r\n        dates.push({\r\n          title: formatterDayMonth(minDate),\r\n          minDate,\r\n          maxDate\r\n        });\r\n      } else {\r\n        dates.push({\r\n          title: formatterYearMax(minDate),\r\n          minDate,\r\n          maxDate\r\n        });\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nfunction formatterMonthYear(timestamp: number) {\r\n  const date = new Date(timestamp);\r\n  return months[date.getMonth()].slice(0, 3) + ' ' + date.getFullYear();\r\n}\r\n\r\nfunction formatterDayMonth(timestamp: number) {\r\n  const date = new Date(timestamp);\r\n  return months[date.getMonth()].slice(0, 3) + ' ' + date.getDate();\r\n}\r\n\r\nfunction formatterYearMax(timestamp: number) {\r\n  const date = new Date(timestamp);\r\n  return ('0' + date.getDate()).slice(-2) + '.' + ('0' + (date.getMonth() + 1)).slice(-2) + '.' + date.getFullYear();\r\n}\r\n\r\nfunction formatWeekLong(timestamp: number) {\r\n  const date = new Date(timestamp);\r\n  return days[date.getDay()];\r\n}\r\n\r\nfunction validDateForMonth(day: number, month: number) {\r\n  if(month >= 0 && month < 12) {\r\n    if(day >= 0 && day < numberOfDaysEachMonth[month]) {\r\n      return true;\r\n    }\r\n  }\r\n  return false;\r\n}\r\n\r\nfunction isLeapYear(year: number) {\r\n  return ((year % 4 === 0) && (year % 100 !== 0)) || (year % 400 === 0);\r\n}\r\n\r\nfunction getMonth(q: string) {\r\n  /* String[] months = new String[]{\r\n          LocaleController.getString(\"January\", R.string.January).toLowerCase(),\r\n          LocaleController.getString(\"February\", R.string.February).toLowerCase(),\r\n          LocaleController.getString(\"March\", R.string.March).toLowerCase(),\r\n          LocaleController.getString(\"April\", R.string.April).toLowerCase(),\r\n          LocaleController.getString(\"May\", R.string.May).toLowerCase(),\r\n          LocaleController.getString(\"June\", R.string.June).toLowerCase(),\r\n          LocaleController.getString(\"July\", R.string.July).toLowerCase(),\r\n          LocaleController.getString(\"August\", R.string.August).toLowerCase(),\r\n          LocaleController.getString(\"September\", R.string.September).toLowerCase(),\r\n          LocaleController.getString(\"October\", R.string.October).toLowerCase(),\r\n          LocaleController.getString(\"November\", R.string.November).toLowerCase(),\r\n          LocaleController.getString(\"December\", R.string.December).toLowerCase()\r\n  }; */\r\n\r\n  /* String[] monthsEng = new String[12];\r\n  Calendar c = Calendar.getInstance();\r\n  for (int i = 1; i <= 12; i++) {\r\n      c.set(0, 0, 0, 0, 0, 0);\r\n      c.set(Calendar.MONTH, i);\r\n      monthsEng[i - 1] = c.getDisplayName(Calendar.MONTH, Calendar.LONG, Locale.ENGLISH).toLowerCase();\r\n  } */\r\n\r\n  q = q.toLowerCase();\r\n  for(let i = 0; i < 12; i++) {\r\n    const month = months[i].toLowerCase();\r\n    if(month.indexOf(q) === 0) {\r\n      return i;\r\n    }\r\n  }\r\n  return -1;\r\n}\r\n\r\nfunction getDayOfWeek(q: string) {\r\n  const c = new Date();\r\n  if(q.length <= 3) {\r\n    return -1;\r\n  }\r\n  \r\n  for(let i = 0; i < 7; i++) {\r\n    c.setDate(c.getDate() + 1);\r\n    \r\n    if(formatWeekLong(c.getTime()).toLowerCase().indexOf(q) === 0) {\r\n      return c.getDay();\r\n    }\r\n  }\r\n  return -1;\r\n}\r\n\r\nMOUNT_CLASS_TO.fillTipDates = fillTipDates;\r\n","/**\r\n * Will be used for FILE_REFERENCE_EXPIRED\r\n * @param key \r\n * @param wasObject \r\n * @param newObject \r\n */\r\n export default function safeReplaceArrayInObject<K>(key: K, wasObject: any, newObject: any) {\r\n  if('byteLength' in newObject[key]) { // Uint8Array\r\n    newObject[key] = [...newObject[key]];\r\n  }\r\n\r\n  if(wasObject && wasObject[key] !== newObject[key]) {\r\n    wasObject[key].length = newObject[key].length;\r\n    (newObject[key] as any[]).forEach((v, i) => {\r\n      wasObject[key][i] = v;\r\n    });\r\n\r\n    /* wasObject[key].set(newObject[key]); */\r\n    newObject[key] = wasObject[key];\r\n  }\r\n}\r\n","/*\r\n * https://github.com/morethanwords/tweb\r\n * Copyright (C) 2019-2021 Eduard Kuzmenko\r\n * https://github.com/morethanwords/tweb/blob/master/LICENSE\r\n * \r\n * Originally from:\r\n * https://github.com/zhukov/webogram\r\n * Copyright (C) 2014 Igor Zhukov <igor.beatle@gmail.com>\r\n * https://github.com/zhukov/webogram/blob/master/LICENSE\r\n */\r\n\r\nimport { AccountWallPapers, Document, MessagesSavedGifs, PhotoSize, WallPaper } from '../../layer';\r\nimport { ReferenceContext } from '../mtproto/referenceDatabase';\r\nimport { getFullDate } from '../../helpers/date';\r\nimport isObject from '../../helpers/object/isObject';\r\nimport safeReplaceArrayInObject from '../../helpers/object/safeReplaceArrayInObject';\r\nimport { AppManager } from './manager';\r\nimport wrapPlainText from '../richTextProcessor/wrapPlainText';\r\nimport assumeType from '../../helpers/assumeType';\r\nimport { getEnvironment } from '../../environment/utils';\r\nimport { isServiceWorkerOnline } from '../mtproto/mtproto.worker';\r\nimport MTProtoMessagePort from '../mtproto/mtprotoMessagePort';\r\nimport getDocumentInput from './utils/docs/getDocumentInput';\r\nimport getDocumentURL from './utils/docs/getDocumentURL';\r\nimport type { ThumbCache } from '../storages/thumbs';\r\n\r\nexport type MyDocument = Document.document;\r\n\r\n// TODO: если залить картинку файлом, а потом перезайти в диалог - превьюшка заново скачается\r\n\r\nconst EXTENSION_MIME_TYPE_MAP = {\r\n  mov: 'video/quicktime',\r\n  gif: 'image/gif',\r\n  pdf: 'application/pdf',\r\n};\r\n\r\ntype WallPaperId = WallPaper.wallPaper['id'];\r\n\r\nlet uploadWallPaperTempId = 0;\r\n\r\nexport class AppDocsManager extends AppManager {\r\n  private docs: {[docId: DocId]: MyDocument};\r\n\r\n  private stickerCachedThumbs: {[docId: DocId]: {[toneIndex: number]: {url: string, w: number, h: number}}};\r\n\r\n  private uploadingWallPapers: {[id: WallPaperId]: {cacheContext: ThumbCache, file: File}};\r\n\r\n  protected after() {\r\n    this.docs = {};\r\n    this.stickerCachedThumbs = {};\r\n    this.uploadingWallPapers = {};\r\n\r\n    MTProtoMessagePort.getInstance<false>().addEventListener('serviceWorkerOnline', (online) => {\r\n      if(!online) {\r\n        this.onServiceWorkerFail();\r\n      }\r\n    });\r\n  }\r\n\r\n  private onServiceWorkerFail = () => {\r\n    for(const id in this.docs) {\r\n      const doc = this.docs[id];\r\n\r\n      if(doc.supportsStreaming) {\r\n        delete doc.supportsStreaming;\r\n        this.thumbsStorage.deleteCacheContext(doc);\r\n      }\r\n    }\r\n  };\r\n\r\n  public saveDoc(doc: Document, context?: ReferenceContext): MyDocument {\r\n    if(!doc || doc._ === 'documentEmpty') {\r\n      return;\r\n    }\r\n\r\n    const oldDoc = this.docs[doc.id];\r\n\r\n    if(doc.file_reference) { // * because we can have a new object w/o the file_reference while sending\r\n      safeReplaceArrayInObject('file_reference', oldDoc, doc);\r\n      this.referenceDatabase.saveContext(doc.file_reference, context);\r\n    }\r\n    \r\n    //console.log('saveDoc', apiDoc, this.docs[apiDoc.id]);\r\n    // if(oldDoc) {\r\n    //   //if(doc._ !== 'documentEmpty' && doc._ === d._) {\r\n    //     if(doc.thumbs) {\r\n    //       if(!oldDoc.thumbs) oldDoc.thumbs = doc.thumbs;\r\n    //       /* else if(apiDoc.thumbs[0].bytes && !d.thumbs[0].bytes) {\r\n    //         d.thumbs.unshift(apiDoc.thumbs[0]);\r\n    //       } else if(d.thumbs[0].url) { // fix for converted thumb in safari\r\n    //         apiDoc.thumbs[0] = d.thumbs[0];\r\n    //       } */\r\n    //     }\r\n\r\n    //   //}\r\n\r\n    //   return oldDoc;\r\n\r\n    //   //return Object.assign(d, apiDoc, context);\r\n    //   //return context ? Object.assign(d, context) : d;\r\n    // }\r\n\r\n    if(!oldDoc) {\r\n      this.docs[doc.id] = doc;\r\n    }\r\n\r\n    // * exclude from state\r\n    // defineNotNumerableProperties(doc, [/* 'thumbs',  */'type', 'h', 'w', 'file_name', \r\n    // 'file', 'duration', 'downloaded', 'url', 'audioTitle', \r\n    // 'audioPerformer', 'sticker', 'stickerEmoji', 'stickerEmojiRaw', \r\n    // 'stickerSetInput', 'stickerThumbConverted', 'animated', 'supportsStreaming']);\r\n\r\n    for(let i = 0, length = doc.attributes.length; i < length; ++i) {\r\n      const attribute = doc.attributes[i];\r\n      switch(attribute._) {\r\n        case 'documentAttributeFilename':\r\n          doc.file_name = wrapPlainText(attribute.file_name);\r\n          break;\r\n\r\n        case 'documentAttributeAudio':\r\n          doc.duration = attribute.duration;\r\n          doc.type = attribute.pFlags.voice && doc.mime_type === 'audio/ogg' ? 'voice' : 'audio';\r\n          /* if(apiDoc.type === 'audio') {\r\n            apiDoc.supportsStreaming = true;\r\n          } */\r\n          break;\r\n\r\n        case 'documentAttributeVideo':\r\n          doc.duration = attribute.duration;\r\n          doc.w = attribute.w;\r\n          doc.h = attribute.h;\r\n          //apiDoc.supportsStreaming = attribute.pFlags?.supports_streaming/*  && apiDoc.size > 524288 */;\r\n          if(/* apiDoc.thumbs &&  */attribute.pFlags.round_message) {\r\n            doc.type = 'round';\r\n          } else /* if(apiDoc.thumbs) */ {\r\n            doc.type = 'video';\r\n          }\r\n          break;\r\n\r\n        case 'documentAttributeSticker':\r\n          if(attribute.alt !== undefined) {\r\n            doc.stickerEmojiRaw = attribute.alt;\r\n          }\r\n\r\n          if(attribute.stickerset) {\r\n            if(attribute.stickerset._ === 'inputStickerSetEmpty') {\r\n              delete attribute.stickerset;\r\n            } else if(attribute.stickerset._ === 'inputStickerSetID') {\r\n              doc.stickerSetInput = attribute.stickerset;\r\n            }\r\n          }\r\n\r\n          // * there can be no thumbs, then it is a document\r\n          if(/* apiDoc.thumbs &&  */doc.mime_type === 'image/webp' && (doc.thumbs || getEnvironment().IS_WEBP_SUPPORTED)) {\r\n            doc.type = 'sticker';\r\n            doc.sticker = 1;\r\n          } else if(doc.mime_type === 'video/webm') {\r\n            if(!getEnvironment().IS_WEBM_SUPPORTED) {\r\n              return;\r\n            }\r\n\r\n            doc.type = 'sticker';\r\n            doc.sticker = 3;\r\n            doc.animated = true;\r\n          }\r\n          break;\r\n\r\n        case 'documentAttributeImageSize':\r\n          doc.type = 'photo';\r\n          doc.w = attribute.w;\r\n          doc.h = attribute.h;\r\n          break;\r\n\r\n        case 'documentAttributeAnimated':\r\n          if((doc.mime_type === 'image/gif' || doc.mime_type === 'video/mp4')/*  && apiDoc.thumbs */) {\r\n            doc.type = 'gif';\r\n          }\r\n\r\n          doc.animated = true;\r\n          break;\r\n      }\r\n    }\r\n    \r\n    if(!doc.mime_type) {\r\n      const ext = (doc.file_name || '').split('.').pop();\r\n      // @ts-ignore\r\n      const mappedMimeType = ext && EXTENSION_MIME_TYPE_MAP[ext.toLowerCase()];\r\n      if(mappedMimeType) {\r\n        doc.mime_type = mappedMimeType;\r\n      } else {\r\n        switch(doc.type) {\r\n          case 'gif':\r\n          case 'video':\r\n          case 'round':\r\n            doc.mime_type = 'video/mp4';\r\n            break;\r\n          case 'sticker':\r\n            doc.mime_type = 'image/webp';\r\n            break;\r\n          case 'audio':\r\n            doc.mime_type = 'audio/mpeg';\r\n            break;\r\n          case 'voice':\r\n            doc.mime_type = 'audio/ogg';\r\n            break;\r\n          default:\r\n            doc.mime_type = 'application/octet-stream';\r\n            break;\r\n        }\r\n      }\r\n    } else if(doc.mime_type === EXTENSION_MIME_TYPE_MAP.pdf) {\r\n      doc.type = 'pdf';\r\n    } else if(doc.mime_type === EXTENSION_MIME_TYPE_MAP.gif) {\r\n      doc.type = 'gif';\r\n    }\r\n\r\n    if(doc.type === 'voice' || doc.type === 'round') {\r\n      // browser will identify extension\r\n      doc.file_name = doc.type + '_' + getFullDate(new Date(doc.date * 1000), {monthAsNumber: true, leadingZero: true}).replace(/[:\\.]/g, '-').replace(', ', '_');\r\n    }\r\n\r\n    if(isServiceWorkerOnline()) {\r\n      if((doc.type === 'gif' && doc.size > 8e6) || doc.type === 'audio' || doc.type === 'video'/*  || doc.mime_type.indexOf('video/') === 0 */) {\r\n        doc.supportsStreaming = true;\r\n        \r\n        const cacheContext = this.thumbsStorage.getCacheContext(doc);\r\n        if(!cacheContext.url) {\r\n          this.thumbsStorage.setCacheContextURL(doc, undefined, getDocumentURL(doc), 0);\r\n        }\r\n      }\r\n    }\r\n\r\n    // for testing purposes\r\n    // doc.supportsStreaming = false;\r\n    // doc.url = ''; // * this will break upload urls\r\n    \r\n    if(!doc.file_name) {\r\n      doc.file_name = '';\r\n    }\r\n\r\n    if(doc.mime_type === 'application/x-tgsticker' && doc.file_name === 'AnimatedSticker.tgs') {\r\n      doc.type = 'sticker';\r\n      doc.animated = true;\r\n      doc.sticker = 2;\r\n    }\r\n\r\n    /* if(!doc.url) {\r\n      doc.url = this.getFileURL(doc);\r\n    } */\r\n\r\n    if(oldDoc) {\r\n      return Object.assign(oldDoc, doc);\r\n    }\r\n\r\n    return doc;\r\n  }\r\n  \r\n  public getDoc(docId: DocId | MyDocument): MyDocument {\r\n    return isObject<MyDocument>(docId) ? docId : this.docs[docId];\r\n  }\r\n\r\n  public downloadDoc(doc: MyDocument, queueId?: number, onlyCache?: boolean) {\r\n    return this.apiFileManager.downloadMedia({\r\n      media: doc,\r\n      queueId,\r\n      onlyCache\r\n    });\r\n  }\r\n\r\n  public getLottieCachedThumb(docId: DocId, toneIndex: number) {\r\n    const cached = this.stickerCachedThumbs[docId];\r\n    return cached && cached[toneIndex];\r\n  }\r\n\r\n  public saveLottiePreview(docId: DocId, blob: Blob, width: number, height: number, toneIndex: number) {\r\n    const doc = this.getDoc(docId);\r\n    if(!doc) {\r\n      return;\r\n    }\r\n\r\n    const cached = this.stickerCachedThumbs[doc.id] ??= {};\r\n  \r\n    const thumb = cached[toneIndex];\r\n    if(thumb && thumb.w >= width && thumb.h >= height) {\r\n      return;\r\n    }\r\n\r\n    cached[toneIndex] = {\r\n      url: URL.createObjectURL(blob),\r\n      w: width,\r\n      h: height\r\n    };\r\n  }\r\n\r\n  public saveWebPConvertedStrippedThumb(docId: DocId, bytes: Uint8Array) {\r\n    const doc = this.getDoc(docId);\r\n    if(!doc) {\r\n      return;\r\n    }\r\n\r\n    const thumb = doc.thumbs && doc.thumbs.find((thumb) => thumb._ === 'photoStrippedSize') as PhotoSize.photoStrippedSize;\r\n    if(!thumb) {\r\n      return;\r\n    }\r\n\r\n    doc.pFlags.stickerThumbConverted = true;\r\n    thumb.bytes = bytes;\r\n  }\r\n\r\n  public getWallPapers() {\r\n    return this.apiManager.invokeApiHashable({method: 'account.getWallPapers'}).then((accountWallpapers) => {\r\n      const wallPapers = (accountWallpapers as AccountWallPapers.accountWallPapers).wallpapers as WallPaper.wallPaper[];\r\n      wallPapers.forEach((wallPaper) => {\r\n        wallPaper.document = this.saveDoc(wallPaper.document);\r\n      });\r\n\r\n      return wallPapers;\r\n    });\r\n  }\r\n\r\n  public prepareWallPaperUpload(file: File) {\r\n    const id = 'wallpaper-upload-' + ++uploadWallPaperTempId;\r\n\r\n    const thumb = {\r\n      _: 'photoSize',\r\n      h: 0,\r\n      w: 0,\r\n      location: {} as any,\r\n      size: file.size,\r\n      type: 'full',\r\n    } as PhotoSize.photoSize;\r\n    let document: MyDocument = {\r\n      _: 'document',\r\n      access_hash: '',\r\n      attributes: [],\r\n      dc_id: 0,\r\n      file_reference: [],\r\n      id,\r\n      mime_type: file.type,\r\n      size: file.size,\r\n      date: Date.now() / 1000,\r\n      pFlags: {},\r\n      thumbs: [thumb],\r\n      file_name: file.name\r\n    };\r\n\r\n    document = this.saveDoc(document);\r\n\r\n    const cacheContext = this.thumbsStorage.setCacheContextURL(document, undefined, URL.createObjectURL(file), file.size);\r\n\r\n    const wallpaper: WallPaper.wallPaper = {\r\n      _: 'wallPaper',\r\n      access_hash: '',\r\n      document: document,\r\n      id,\r\n      slug: id,\r\n      pFlags: {}\r\n    };\r\n\r\n    this.uploadingWallPapers[id] = {\r\n      cacheContext,\r\n      file,\r\n    };\r\n\r\n    return wallpaper;\r\n  }\r\n\r\n  public uploadWallPaper(id: WallPaperId) {\r\n    const {cacheContext, file} = this.uploadingWallPapers[id];\r\n    delete this.uploadingWallPapers[id];\r\n\r\n    const upload = this.apiFileManager.upload({file, fileName: file.name});\r\n    return upload.then((inputFile) => {\r\n      return this.apiManager.invokeApi('account.uploadWallPaper', {\r\n        file: inputFile,\r\n        mime_type: file.type,\r\n        settings: {\r\n          _: 'wallPaperSettings',\r\n          \r\n        }\r\n      }).then((wallPaper) => {\r\n        assumeType<WallPaper.wallPaper>(wallPaper);\r\n        wallPaper.document = this.saveDoc(wallPaper.document);\r\n        this.thumbsStorage.setCacheContextURL(wallPaper.document, undefined, cacheContext.url, cacheContext.downloaded);\r\n\r\n        return wallPaper;\r\n      });\r\n    });\r\n  }\r\n\r\n  public getGifs() {\r\n    return this.apiManager.invokeApiHashable({\r\n      method: 'messages.getSavedGifs',\r\n      processResult: (res) => {\r\n        assumeType<MessagesSavedGifs.messagesSavedGifs>(res);\r\n        return res.gifs.map((doc) => this.saveDoc(doc));\r\n      }\r\n    });\r\n  }\r\n\r\n  public requestDocPart(docId: DocId, dcId: number, offset: number, limit: number) {\r\n    const doc = this.getDoc(docId);\r\n    return this.apiFileManager.requestFilePart(dcId, getDocumentInput(doc), offset, limit);\r\n  }\r\n}\r\n","/*\r\n * https://github.com/morethanwords/tweb\r\n * Copyright (C) 2019-2021 Eduard Kuzmenko\r\n * https://github.com/morethanwords/tweb/blob/master/LICENSE\r\n */\r\n\r\nimport { FileURLType, getFileURL } from \"../../../../helpers/fileName\";\r\nimport { Document, PhotoSize } from \"../../../../layer\";\r\nimport getDocumentDownloadOptions from \"./getDocumentDownloadOptions\";\r\n\r\nexport default function getDocumentURL(doc: Document.document, download = false, thumb?: PhotoSize.photoSize) {\r\n  let type: FileURLType;\r\n  if(download) {\r\n    type = 'download';\r\n  } else if(thumb) {\r\n    type = 'thumb';\r\n  } else if(doc.supportsStreaming) {\r\n    type = 'stream';\r\n  } else {\r\n    type = 'document';\r\n  }\r\n\r\n  return getFileURL(type, getDocumentDownloadOptions(doc, thumb));\r\n}\r\n","/*\r\n * https://github.com/morethanwords/tweb\r\n * Copyright (C) 2019-2021 Eduard Kuzmenko\r\n * https://github.com/morethanwords/tweb/blob/master/LICENSE\r\n * \r\n * Originally from:\r\n * https://github.com/zhukov/webogram\r\n * Copyright (C) 2014 Igor Zhukov <igor.beatle@gmail.com>\r\n * https://github.com/zhukov/webogram/blob/master/LICENSE\r\n */\r\n\r\nimport { MessageEntity, DraftMessage, MessagesSaveDraft } from \"../../layer\";\r\nimport tsNow from \"../../helpers/tsNow\";\r\nimport stateStorage from \"../stateStorage\";\r\nimport assumeType from \"../../helpers/assumeType\";\r\nimport isObject from \"../../helpers/object/isObject\";\r\nimport deepEqual from \"../../helpers/object/deepEqual\";\r\nimport { AppManager } from \"./manager\";\r\nimport getPeerId from \"./utils/peers/getPeerId\";\r\nimport generateMessageId from \"./utils/messageId/generateMessageId\";\r\nimport getServerMessageId from \"./utils/messageId/getServerMessageId\";\r\n\r\nexport type MyDraftMessage = DraftMessage.draftMessage;\r\n\r\nexport class AppDraftsManager extends AppManager {\r\n  private drafts: {[peerIdAndThreadId: string]: MyDraftMessage} = {};\r\n  private getAllDraftPromise: Promise<void> = null;\r\n\r\n  protected after() {\r\n    this.apiUpdatesManager.addMultipleEventsListeners({\r\n      updateDraftMessage: (update) => {\r\n        const peerId = getPeerId(update.peer);\r\n        this.saveDraft(peerId, update.threadId, update.draft, {notify: true});\r\n      }\r\n    });\r\n\r\n    /* return  */stateStorage.get('drafts').then((drafts) => {\r\n      this.drafts = drafts || {};\r\n    });\r\n  }\r\n\r\n  private getKey(peerId: PeerId, threadId?: number) {\r\n    return '' + peerId + (threadId ? '_' + threadId : '');\r\n  }\r\n\r\n  public getDraft(peerId: PeerId, threadId?: number) {\r\n    return this.drafts[this.getKey(peerId, threadId)];\r\n  }\r\n\r\n  public addMissedDialogs() {\r\n    return this.getAllDrafts().then(() => {\r\n      for(const key in this.drafts) {\r\n        if(key.indexOf('_') !== -1) { // exclude threads\r\n          continue;\r\n        }\r\n\r\n        const peerId = key.toPeerId();\r\n        const dialog = this.appMessagesManager.getDialogOnly(peerId);\r\n        if(!dialog) {\r\n          this.appMessagesManager.reloadConversation(peerId);\r\n          /* const dialog = appMessagesManager.generateDialog(peerId);\r\n          dialog.draft = this.drafts[key];\r\n          appMessagesManager.saveConversation(dialog);\r\n          appMessagesManager.newDialogsToHandle[peerId] = dialog;\r\n          appMessagesManager.scheduleHandleNewDialogs(); */\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  public getAllDrafts() {\r\n    return this.getAllDraftPromise || (\r\n      this.getAllDraftPromise = this.apiManager.invokeApi('messages.getAllDrafts')\r\n      .then((updates) => {\r\n        const p = this.apiUpdatesManager.updatesState.syncLoading || Promise.resolve();\r\n        p.then(() => {\r\n          this.apiUpdatesManager.processUpdateMessage(updates);\r\n        });\r\n      })\r\n    );\r\n  }\r\n\r\n  public saveDraft(peerId: PeerId, threadId: number, apiDraft: DraftMessage, options: Partial<{\r\n    notify: boolean,\r\n    force: boolean\r\n  }> = {}) {\r\n    const draft = this.processApiDraft(apiDraft);\r\n\r\n    const key = this.getKey(peerId, threadId);\r\n    if(draft) {\r\n      this.drafts[key] = draft;\r\n    } else {\r\n      delete this.drafts[key];\r\n    }\r\n\r\n    stateStorage.set({\r\n      drafts: this.drafts\r\n    });\r\n\r\n    if(options.notify) {\r\n      // console.warn(dT(), 'save draft', peerId, apiDraft, options)\r\n      this.rootScope.dispatchEvent('draft_updated', {\r\n        peerId,\r\n        threadId,\r\n        draft,\r\n        force: options.force\r\n      });\r\n    }\r\n\r\n    return draft;\r\n  }\r\n\r\n  private draftsAreEqual(draft1: DraftMessage, draft2: DraftMessage) {\r\n    if(typeof(draft1) !== typeof(draft2)) {\r\n      return false;\r\n    }\r\n\r\n    if(!isObject(draft1)) {\r\n      return true;\r\n    }\r\n\r\n    if(draft1._ !== draft2._) {\r\n      return false;\r\n    }\r\n  \r\n    if(draft1._ === 'draftMessage' && draft2._ === draft1._) {\r\n      if(draft1.reply_to_msg_id !== draft2.reply_to_msg_id) {\r\n        return false;\r\n      }\r\n  \r\n      if(!deepEqual(draft1.entities, draft2.entities)) {\r\n        return false;\r\n      }\r\n  \r\n      if(draft1.message !== draft2.message) {\r\n        return false;\r\n      }\r\n  \r\n      if(draft1.pFlags.no_webpage !== draft2.pFlags.no_webpage) {\r\n        return false;\r\n      }\r\n    }\r\n\r\n    return true;\r\n  }\r\n\r\n  private isEmptyDraft(draft: DraftMessage) {\r\n    if(!draft || draft._ === 'draftMessageEmpty') {\r\n      return true;\r\n    }\r\n    \r\n    if(draft.reply_to_msg_id > 0) {\r\n      return false;\r\n    }\r\n    \r\n    if(!draft.message.length) {\r\n      return true;\r\n    }\r\n    \r\n    return false;\r\n  }\r\n\r\n  private processApiDraft(draft: DraftMessage): MyDraftMessage {\r\n    if(!draft || draft._ !== 'draftMessage') {\r\n      return undefined;\r\n    }\r\n\r\n    if(draft.reply_to_msg_id) {\r\n      draft.reply_to_msg_id = generateMessageId(draft.reply_to_msg_id);\r\n    }\r\n\r\n    return draft;\r\n  }\r\n\r\n  public async syncDraft(peerId: PeerId, threadId: number, localDraft?: DraftMessage, saveOnServer = true, force = false) {\r\n    // console.warn(dT(), 'sync draft', peerID)\r\n    const serverDraft = this.getDraft(peerId, threadId);\r\n    if(this.draftsAreEqual(serverDraft, localDraft)) {\r\n      // console.warn(dT(), 'equal drafts', localDraft, serverDraft)\r\n      return true;\r\n    }\r\n\r\n    // console.warn(dT(), 'changed draft', localDraft, serverDraft)\r\n    let params: MessagesSaveDraft = {\r\n      peer: this.appPeersManager.getInputPeerById(peerId),\r\n      message: ''\r\n    };\r\n\r\n    let draftObj: DraftMessage;\r\n    if(this.isEmptyDraft(localDraft)) {\r\n      draftObj = {_: 'draftMessageEmpty'};\r\n    } else {\r\n      assumeType<DraftMessage.draftMessage>(localDraft);\r\n      let message = localDraft.message;\r\n      let entities: MessageEntity[] = localDraft.entities;\r\n\r\n      if(localDraft.reply_to_msg_id) {\r\n        params.reply_to_msg_id = getServerMessageId(localDraft.reply_to_msg_id);\r\n      }\r\n\r\n      if(entities?.length) {\r\n        params.entities = this.appMessagesManager.getInputEntities(entities);\r\n      }\r\n\r\n      if(localDraft.pFlags.no_webpage) {\r\n        params.no_webpage = localDraft.pFlags.no_webpage;\r\n      }\r\n\r\n      params.message = message;\r\n    }\r\n\r\n    const saveLocalDraft = draftObj || localDraft;\r\n    saveLocalDraft.date = tsNow(true) + this.timeManager.getServerTimeOffset();\r\n\r\n    this.saveDraft(peerId, threadId, saveLocalDraft, {notify: true, force});\r\n\r\n    if(saveOnServer && !threadId) {\r\n      return this.apiManager.invokeApi('messages.saveDraft', params);\r\n    }\r\n\r\n    return true;\r\n  }\r\n\r\n  public clearAllDrafts() {\r\n    return this.apiManager.invokeApi('messages.clearAllDrafts').then((bool) => {\r\n      if(!bool) {\r\n        return;\r\n      }\r\n\r\n      for(const combined in this.drafts) {\r\n        const [peerId, threadId] = combined.split('_');\r\n        this.rootScope.dispatchEvent('draft_updated', {\r\n          peerId: peerId.toPeerId(),\r\n          threadId: threadId ? +threadId : undefined,\r\n          draft: undefined\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  public clearDraft(peerId: PeerId, threadId: number) {\r\n    const emptyDraft: DraftMessage.draftMessageEmpty = {\r\n      _: 'draftMessageEmpty'\r\n    };\r\n\r\n    if(threadId) {\r\n      this.syncDraft(peerId, threadId, emptyDraft as any, false, true);\r\n    } else {\r\n      this.saveDraft(peerId, threadId, emptyDraft, {notify: true, force: true});  \r\n    }\r\n  }\r\n\r\n  public setDraft(peerId: PeerId, threadId: number, message: string, entities?: MessageEntity[]) {\r\n    const draft: DraftMessage.draftMessage = {\r\n      _: 'draftMessage',\r\n      date: Date.now() / 1000 | 0,\r\n      message,\r\n      pFlags: {},\r\n      entities\r\n    };\r\n\r\n    if(threadId) {\r\n      this.syncDraft(peerId, threadId, draft, false, true);\r\n    } else {\r\n      this.saveDraft(peerId, threadId, draft, {notify: true, force: true});  \r\n    }\r\n  }\r\n}\r\n","/*\r\n * https://github.com/morethanwords/tweb\r\n * Copyright (C) 2019-2021 Eduard Kuzmenko\r\n * https://github.com/morethanwords/tweb/blob/master/LICENSE\r\n */\r\n\r\nimport App from \"../../config/app\";\r\nimport indexOfAndSplice from \"../../helpers/array/indexOfAndSplice\";\r\nimport isObject from \"../../helpers/object/isObject\";\r\nimport validateInitObject from \"../../helpers/object/validateInitObject\";\r\nimport I18n from \"../langPack\";\r\nimport fixEmoji from \"../richTextProcessor/fixEmoji\";\r\nimport SearchIndex from \"../searchIndex\";\r\nimport stateStorage from \"../stateStorage\";\r\nimport { AppManager } from \"./manager\";\r\n\r\ntype EmojiLangPack = {\r\n  keywords: {\r\n    [keyword: string]: string[],\r\n  },\r\n  version: number,\r\n  langCode: string\r\n};\r\n\r\nconst EMOJI_LANG_PACK: EmojiLangPack = {\r\n  keywords: {},\r\n  version: 0,\r\n  langCode: App.langPackCode\r\n};\r\n\r\nconst RECENT_MAX_LENGTH = 36;\r\n\r\nexport class AppEmojiManager extends AppManager {\r\n  private static POPULAR_EMOJI = [\"😂\", \"😘\", \"❤️\", \"😍\", \"😊\", \"😁\", \"👍\", \"☺️\", \"😔\", \"😄\", \"😭\", \"💋\", \"😒\", \"😳\", \"😜\", \"🙈\", \"😉\", \"😃\", \"😢\", \"😝\", \"😱\", \"😡\", \"😏\", \"😞\", \"😅\", \"😚\", \"🙊\", \"😌\", \"😀\", \"😋\", \"😆\", \"👌\", \"😐\", \"😕\"];\r\n  private keywordLangPacks: {\r\n    [langCode: string]: EmojiLangPack\r\n  } = {};\r\n\r\n  private index: SearchIndex<EmojiLangPack['keywords'][keyof EmojiLangPack['keywords']]>;\r\n  private indexedLangPacks: {[langCode: string]: boolean} = {};\r\n\r\n  private getKeywordsPromises: {[langCode: string]: Promise<EmojiLangPack>} = {};\r\n\r\n  private recent: string[];\r\n  private getRecentEmojisPromise: Promise<AppEmojiManager['recent']>;\r\n\r\n  /* public getPopularEmoji() {\r\n    return stateStorage.get('emojis_popular').then((popEmojis) => {\r\n      var result = []\r\n      if (popEmojis && popEmojis.length) {\r\n        for (var i = 0, len = popEmojis.length; i < len; i++) {\r\n          result.push({code: popEmojis[i][0], rate: popEmojis[i][1]})\r\n        }\r\n        callback(result)\r\n        return\r\n      }\r\n\r\n      return stateStorage.get('emojis_recent').then((recentEmojis) => {\r\n        recentEmojis = recentEmojis || popular || []\r\n        var shortcut\r\n        var code\r\n        for (var i = 0, len = recentEmojis.length; i < len; i++) {\r\n          shortcut = recentEmojis[i]\r\n          if (Array.isArray(shortcut)) {\r\n            shortcut = shortcut[0]\r\n          }\r\n          if (shortcut && typeof shortcut === 'string') {\r\n            if (shortcut.charAt(0) == ':') {\r\n              shortcut = shortcut.substr(1, shortcut.length - 2)\r\n            }\r\n            if (code = shortcuts[shortcut]) {\r\n              result.push({code: code, rate: 1})\r\n            }\r\n          }\r\n        }\r\n        callback(result)\r\n      });\r\n    });\r\n  }\r\n\r\n  function pushPopularEmoji (code) {\r\n    getPopularEmoji(function (popularEmoji) {\r\n      var exists = false\r\n      var count = popularEmoji.length\r\n      var result = []\r\n      for (var i = 0; i < count; i++) {\r\n        if (popularEmoji[i].code == code) {\r\n          exists = true\r\n          popularEmoji[i].rate++\r\n        }\r\n        result.push([popularEmoji[i].code, popularEmoji[i].rate])\r\n      }\r\n      if (exists) {\r\n        result.sort(function (a, b) {\r\n          return b[1] - a[1]\r\n        })\r\n      } else {\r\n        if (result.length > 41) {\r\n          result = result.slice(0, 41)\r\n        }\r\n        result.push([code, 1])\r\n      }\r\n      ConfigStorage.set({emojis_popular: result})\r\n    })\r\n  } */\r\n\r\n  public getEmojiKeywords(langCode: string = App.langPackCode) {\r\n    const promise = this.getKeywordsPromises[langCode];\r\n    if(promise) {\r\n      return promise;\r\n    }\r\n\r\n    const storageKey: any = 'emojiKeywords_' + langCode;\r\n    return this.getKeywordsPromises[langCode] = stateStorage.get(storageKey).then((pack: EmojiLangPack) => {\r\n      if(!isObject(pack)) {\r\n        pack = {} as any;\r\n      }\r\n\r\n      validateInitObject(EMOJI_LANG_PACK, pack);\r\n\r\n      // important\r\n      pack.langCode = langCode;\r\n      this.keywordLangPacks[langCode] = pack;\r\n\r\n      return this.apiManager.invokeApi('messages.getEmojiKeywordsDifference', {\r\n        lang_code: pack.langCode,\r\n        from_version: pack.version\r\n      }).then((keywordsDifference) => {\r\n        pack.version = keywordsDifference.version;\r\n        \r\n        const packKeywords = pack.keywords;\r\n        const keywords = keywordsDifference.keywords;\r\n        for(let i = 0, length = keywords.length; i < length; ++i) {\r\n          const {keyword, emoticons} = keywords[i];\r\n          packKeywords[keyword] = emoticons;\r\n        }\r\n\r\n        stateStorage.set({\r\n          [storageKey]: pack\r\n        });\r\n\r\n        return pack;\r\n      }, () => {\r\n        return pack;\r\n      });\r\n    });\r\n  }\r\n\r\n  public getBothEmojiKeywords() {\r\n    const promises: Promise<any>[] = [\r\n      this.getEmojiKeywords()\r\n    ];\r\n\r\n    if(I18n.lastRequestedLangCode !== App.langPackCode) {\r\n      promises.push(this.getEmojiKeywords(I18n.lastRequestedLangCode));\r\n    }\r\n\r\n    if(!this.recent) {\r\n      promises.push(this.getRecentEmojis());\r\n    }\r\n\r\n    return Promise.all(promises);\r\n  }\r\n\r\n  private indexEmojis() {\r\n    if(!this.index) {\r\n      this.index = new SearchIndex(undefined, 2);\r\n    }\r\n\r\n    for(const langCode in this.keywordLangPacks) {\r\n      if(this.indexedLangPacks[langCode]) {\r\n        continue;\r\n      }\r\n\r\n      const pack = this.keywordLangPacks[langCode];\r\n      const keywords = pack.keywords;\r\n\r\n      for(const keyword in keywords) {\r\n        const emoticons = keywords[keyword];\r\n        this.index.indexObject(emoticons, keyword);\r\n      }\r\n\r\n      this.indexedLangPacks[langCode] = true;\r\n    }\r\n  }\r\n\r\n  public searchEmojis(q: string) {\r\n    this.indexEmojis();\r\n\r\n    q = q.toLowerCase().replace(/_/g, ' ');\r\n    \r\n    //const perf = performance.now();\r\n    let emojis: Array<string>;\r\n    if(q.trim()) {\r\n      const set = this.index.search(q);\r\n      emojis = Array.from(set).reduce((acc, v) => acc.concat(v), []);\r\n    } else {\r\n      emojis = this.recent.concat(AppEmojiManager.POPULAR_EMOJI).slice(0, RECENT_MAX_LENGTH);\r\n    }\r\n\r\n    emojis = Array.from(new Set(emojis));\r\n    //console.log('searchEmojis', q, 'time', performance.now() - perf);\r\n\r\n    /* for(let i = 0, length = emojis.length; i < length; ++i) {\r\n      if(emojis[i].includes(zeroWidthJoiner) && !emojis[i].includes('\\ufe0f')) {\r\n        emojis[i] += '\\ufe0f';\r\n      }\r\n    } */\r\n\r\n    return emojis;\r\n  }\r\n\r\n  public getRecentEmojis() {\r\n    if(this.getRecentEmojisPromise) return this.getRecentEmojisPromise;\r\n    return this.getRecentEmojisPromise = this.appStateManager.getState().then((state) => {\r\n      return this.recent = Array.isArray(state.recentEmoji) ? state.recentEmoji : [];\r\n    });\r\n  }\r\n\r\n  public pushRecentEmoji(emoji: string) {\r\n    emoji = fixEmoji(emoji);\r\n    this.getRecentEmojis().then((recent) => {\r\n      indexOfAndSplice(recent, emoji);\r\n      recent.unshift(emoji);\r\n      if(recent.length > RECENT_MAX_LENGTH) {\r\n        recent.length = RECENT_MAX_LENGTH;\r\n      }\r\n\r\n      this.appStateManager.pushToState('recentEmoji', recent);\r\n      this.rootScope.dispatchEvent('emoji_recent', emoji);\r\n    });\r\n  }\r\n}\r\n","/*\r\n * https://github.com/morethanwords/tweb\r\n * Copyright (C) 2019-2021 Eduard Kuzmenko\r\n * https://github.com/morethanwords/tweb/blob/master/LICENSE\r\n * \r\n * Originally from:\r\n * https://github.com/evgeny-nadymov/telegram-react\r\n * Copyright (C) 2018 Evgeny Nadymov\r\n * https://github.com/evgeny-nadymov/telegram-react/blob/master/LICENSE\r\n */\r\n\r\nimport type GroupCallConnectionInstance from \"../calls/groupCallConnectionInstance\";\r\nimport safeReplaceObject from \"../../helpers/object/safeReplaceObject\";\r\nimport { nextRandomUint } from \"../../helpers/random\";\r\nimport { DataJSON, GroupCall, GroupCallParticipant, GroupCallParticipantVideoSourceGroup, InputGroupCall, PhoneJoinGroupCall, PhoneJoinGroupCallPresentation, Update, Updates } from \"../../layer\";\r\nimport { logger } from \"../logger\";\r\nimport { NULL_PEER_ID } from \"../mtproto/mtproto_config\";\r\nimport { AppManager } from \"./manager\";\r\nimport getPeerId from \"./utils/peers/getPeerId\";\r\n\r\nexport type GroupCallId = GroupCall['id'];\r\nexport type MyGroupCall = GroupCall | InputGroupCall;\r\n\r\nexport type GroupCallConnectionType = 'main' | 'presentation';\r\n\r\nexport type JoinGroupCallJsonPayload = {\r\n  fingerprints: {\r\n    fingerprint: string;\r\n    setup: string;\r\n    hash: string;\r\n  }[];\r\n  pwd: string;\r\n  ssrc: number;\r\n  'ssrc-groups': GroupCallParticipantVideoSourceGroup.groupCallParticipantVideoSourceGroup[];\r\n  ufrag: string;\r\n};\r\n\r\nconst GET_PARTICIPANTS_LIMIT = 100;\r\n\r\nexport type GroupCallOutputSource = 'main' | 'presentation' | number;\r\n\r\nexport class AppGroupCallsManager extends AppManager {\r\n  private log: ReturnType<typeof logger>;\r\n  \r\n  private groupCalls: Map<GroupCallId, MyGroupCall>;\r\n  private participants: Map<GroupCallId, Map<PeerId, GroupCallParticipant>>;\r\n  private nextOffsets: Map<GroupCallId, string>;\r\n  \r\n  // private doNotDispatchParticipantUpdate: PeerId;\r\n\r\n  protected after() {\r\n    this.log = logger('GROUP-CALLS');\r\n    \r\n    this.groupCalls = new Map();\r\n    this.participants = new Map();\r\n    this.nextOffsets = new Map();\r\n    \r\n    this.apiUpdatesManager.addMultipleEventsListeners({\r\n      updateGroupCall: (update) => {\r\n        this.saveGroupCall(update.call, update.chat_id);\r\n      },\r\n      \r\n      updateGroupCallParticipants: (update) => {\r\n        this.saveGroupCall(update.call);\r\n        \r\n        // this.getGroupCallFull(update.call.id, true); // ! WARNING TEMP\r\n\r\n        const groupCallId = update.call.id;\r\n        this.saveApiParticipants(groupCallId, update.participants);\r\n      }\r\n    });\r\n\r\n    this.rootScope.addEventListener('group_call_update', (groupCall) => {\r\n      if(groupCall._ === 'groupCallDiscarded') {\r\n        this.participants.delete(groupCall.id);\r\n      }\r\n    });\r\n  }\r\n\r\n  public getCachedParticipants(groupCallId: GroupCallId) {\r\n    let participants = this.participants.get(groupCallId);\r\n    if(!participants) {\r\n      this.participants.set(groupCallId, participants = new Map());\r\n    }\r\n\r\n    return participants;\r\n  }\r\n\r\n  private prepareToSavingNextOffset(groupCallId: GroupCallId) {\r\n    const nextOffsetsMap = this.nextOffsets;\r\n\r\n    const setNextOffset = (newNextOffset: string) => {\r\n      if(nextOffsetsMap.get(groupCallId) === nextOffset) {\r\n        nextOffsetsMap.set(groupCallId, newNextOffset);\r\n      }\r\n    };\r\n\r\n    const nextOffset = nextOffsetsMap.get(groupCallId);\r\n    return {\r\n      nextOffset,\r\n      setNextOffset\r\n    };\r\n  }\r\n\r\n  public saveApiParticipant(groupCallId: GroupCallId, participant: GroupCallParticipant, skipCounterUpdating?: boolean) {\r\n    const participants = this.getCachedParticipants(groupCallId);\r\n\r\n    const peerId = getPeerId(participant.peer);\r\n\r\n    const oldParticipant = participants.get(peerId);\r\n    const hasLeft = participant.pFlags.left;\r\n    if(!oldParticipant && hasLeft) {\r\n      return;\r\n    }\r\n\r\n    // * fix missing flag\r\n    if(!participant.pFlags.muted && !participant.pFlags.can_self_unmute) {\r\n      participant.pFlags.can_self_unmute = true;\r\n    }\r\n\r\n    if(oldParticipant) {\r\n      safeReplaceObject(oldParticipant, participant);\r\n      participant = oldParticipant;\r\n    } else {\r\n      participants.set(peerId, participant);\r\n    }\r\n\r\n    // if(!skipCounterUpdating) {\r\n      const groupCall = this.getGroupCall(groupCallId);\r\n      if(groupCall?._ === 'groupCall') {\r\n        let modified = false;\r\n        if(hasLeft) {\r\n          --groupCall.participants_count;\r\n          modified = true;\r\n        } else if(participant.pFlags.just_joined && !oldParticipant && !participant.pFlags.self) {\r\n          ++groupCall.participants_count;\r\n          modified = true;\r\n        }\r\n  \r\n        if(modified) {\r\n          this.rootScope.dispatchEvent('group_call_update', groupCall);\r\n        }\r\n      }\r\n    // }\r\n    \r\n    if(hasLeft) {\r\n      participants.delete(peerId);\r\n    }\r\n\r\n    if(oldParticipant || true/*  && this.doNotDispatchParticipantUpdate !== peerId */) {\r\n      this.rootScope.dispatchEvent('group_call_participant', {\r\n        groupCallId,\r\n        participant\r\n      });\r\n    }\r\n  }\r\n\r\n  public saveApiParticipants(groupCallId: GroupCallId, apiParticipants: GroupCallParticipant[], skipCounterUpdating?: boolean) {\r\n    if((apiParticipants as any).saved) return;\r\n    (apiParticipants as any).saved = true;\r\n    apiParticipants.forEach((p) => this.saveApiParticipant(groupCallId, p, skipCounterUpdating));\r\n  }\r\n\r\n  public async editParticipant(groupCallId: GroupCallId, participant: GroupCallParticipant, options: Partial<{\r\n    muted: boolean,\r\n    volume: number,\r\n    raiseHand: boolean,\r\n    videoStopped: boolean,\r\n    videoPaused: boolean,\r\n    presentationPaused: boolean\r\n  }>) {\r\n    this.saveApiParticipant(groupCallId, participant);\r\n\r\n    const peerId = participant.pFlags.self ? NULL_PEER_ID : getPeerId(participant.peer);\r\n    const updates = await this.apiManager.invokeApiSingle('phone.editGroupCallParticipant', {\r\n      call: this.getGroupCallInput(groupCallId),\r\n      participant: peerId === NULL_PEER_ID ? this.appPeersManager.getInputPeerSelf() : this.appPeersManager.getInputPeerById(peerId),\r\n      muted: options.muted,\r\n      volume: options.volume,\r\n      raise_hand: options.raiseHand,\r\n      video_paused: options.videoPaused,\r\n      video_stopped: options.videoStopped,\r\n      presentation_paused: options.presentationPaused\r\n    });\r\n    \r\n    // do not replace with peerId because it can be null\r\n    // if(!processUpdate) this.doNotDispatchParticipantUpdate = getPeerId(participant.peer);\r\n    this.apiUpdatesManager.processUpdateMessage(updates);\r\n    // if(!processUpdate) this.doNotDispatchParticipantUpdate = undefined;\r\n  }\r\n  \r\n  public getGroupCall(id: GroupCallId) {\r\n    return this.groupCalls.get(id);\r\n  }\r\n\r\n  public async getGroupCallFull(id: GroupCallId, override?: boolean): Promise<GroupCall> {\r\n    const call = this.getGroupCall(id);\r\n    if(call && call._ !== 'inputGroupCall' && !override) {\r\n      return call;\r\n    }\r\n\r\n    const limit = this.getCachedParticipants(id).size ? 0 : GET_PARTICIPANTS_LIMIT;\r\n    return this.apiManager.invokeApiSingleProcess({\r\n      method: 'phone.getGroupCall',\r\n      params: {\r\n        call: this.getGroupCallInput(id),\r\n        limit\r\n      },\r\n      processResult: (groupCall) => {\r\n        // ? maybe I should save group call after participants so I can avoid passing the 'skipCounterUpdating' flag ?\r\n        this.appUsersManager.saveApiUsers(groupCall.users);\r\n        this.appChatsManager.saveApiChats(groupCall.chats);\r\n        this.saveApiParticipants(id, groupCall.participants, true);\r\n        const call = this.saveGroupCall(groupCall.call) as GroupCall;\r\n\r\n        if(limit && this.nextOffsets.get(id) === undefined) {\r\n          this.nextOffsets.set(id, groupCall.participants_next_offset);\r\n        }\r\n\r\n        return call;\r\n      }\r\n    });\r\n  }\r\n  \r\n  public saveGroupCall(call: MyGroupCall, chatId?: ChatId) {\r\n    const oldCall = this.groupCalls.get(call.id);\r\n    const shouldUpdate = call._ !== 'inputGroupCall' && (!oldCall || oldCall._ !== 'groupCallDiscarded');\r\n    if(oldCall) {\r\n      if(shouldUpdate) {\r\n        safeReplaceObject(oldCall, call);\r\n      }\r\n      \r\n      call = oldCall;\r\n    } else {\r\n      this.groupCalls.set(call.id, call);\r\n    }\r\n\r\n    if(shouldUpdate) {\r\n      this.rootScope.dispatchEvent('group_call_update', call as any);\r\n    }\r\n\r\n    return call;\r\n  }\r\n\r\n  public async createGroupCall(chatId: ChatId, scheduleDate?: number, title?: string) {\r\n    const updates = await this.apiManager.invokeApi('phone.createGroupCall', {\r\n      peer: this.appPeersManager.getInputPeerById(chatId.toPeerId(true)),\r\n      random_id: nextRandomUint(32),\r\n      schedule_date: scheduleDate,\r\n      title\r\n    });\r\n\r\n    this.apiUpdatesManager.processUpdateMessage(updates);\r\n\r\n    const update = (updates as Updates.updates).updates.find((update) => update._ === 'updateGroupCall') as Update.updateGroupCall;\r\n    return update.call;\r\n  }\r\n\r\n  public getGroupCallInput(id: GroupCallId): InputGroupCall {\r\n    const groupCall = this.getGroupCall(id);\r\n    return {\r\n      _: 'inputGroupCall',\r\n      id: groupCall.id,\r\n      access_hash: groupCall.access_hash\r\n    };\r\n  }\r\n\r\n  // public generateSelfParticipant(): GroupCallParticipant {\r\n  //   const mainSources = this.currentGroupCall.connections.main.sources;\r\n  //   const presentationSources = this.currentGroupCall.connections.presentation?.sources;\r\n  //   return {\r\n  //     _: 'groupCallParticipant',\r\n  //     pFlags: {\r\n  //       can_self_unmute: true,\r\n  //       self: true\r\n  //     },\r\n  //     source: mainSources.audio.source,\r\n  //     video: this.generateSelfVideo(mainSources.video),\r\n  //     presentation: presentationSources && this.generateSelfVideo(presentationSources.video, presentationSources.audio?.source),\r\n  //     date: tsNow(true),\r\n  //     peer: this.appPeersManager.getOutputPeer(rootScope.myId)\r\n  //   };\r\n  // }\r\n\r\n  public async getGroupCallParticipants(id: GroupCallId) {\r\n    const {nextOffset, setNextOffset} = this.prepareToSavingNextOffset(id);\r\n\r\n    if(nextOffset !== '') {\r\n      await this.apiManager.invokeApiSingleProcess({\r\n        method: 'phone.getGroupParticipants', \r\n        params: {\r\n          call: this.getGroupCallInput(id),\r\n          ids: [],\r\n          sources: [],\r\n          offset: nextOffset || '',\r\n          limit: GET_PARTICIPANTS_LIMIT\r\n        },\r\n        processResult: (groupCallParticipants) => {\r\n          const newNextOffset = groupCallParticipants.count === groupCallParticipants.participants.length ? '' : groupCallParticipants.next_offset;\r\n  \r\n          this.appChatsManager.saveApiChats(groupCallParticipants.chats);\r\n          this.appUsersManager.saveApiUsers(groupCallParticipants.users);\r\n          this.saveApiParticipants(id, groupCallParticipants.participants);\r\n    \r\n          setNextOffset(newNextOffset);\r\n        }\r\n      });\r\n    }\r\n\r\n    return {\r\n      participants: this.getCachedParticipants(id),\r\n      isEnd: this.nextOffsets.get(id) === ''\r\n    };\r\n  }\r\n\r\n  public hangUp(id: GroupCallId, discard?: boolean | number) {\r\n    const groupCallInput = this.getGroupCallInput(id);\r\n    let promise: Promise<Updates>;\r\n    if(typeof(discard) === 'boolean' && discard) {\r\n      promise = this.apiManager.invokeApi('phone.discardGroupCall', {\r\n        call: groupCallInput\r\n      });\r\n    } else if(typeof(discard) === 'number') {\r\n      promise = this.apiManager.invokeApi('phone.leaveGroupCall', {\r\n        call: groupCallInput,\r\n        source: discard\r\n      });\r\n    } else {\r\n      promise = this.apiManager.invokeApi('phone.joinGroupCall', {\r\n        call: groupCallInput,\r\n        join_as: {_: 'inputPeerSelf'},\r\n        muted: true,\r\n        video_stopped: true,\r\n        params: {\r\n          _: 'dataJSON',\r\n          data: ''\r\n        }\r\n      });\r\n    }\r\n\r\n    return promise.then((updates) => {\r\n      this.apiUpdatesManager.processUpdateMessage(updates);\r\n    });\r\n  }\r\n\r\n  public async joinGroupCall(groupCallId: GroupCallId, params: DataJSON, options: GroupCallConnectionInstance['options']) {\r\n    const groupCallInput = this.getGroupCallInput(groupCallId);\r\n    let promise: Promise<Updates>;\r\n    if(options.type === 'main') {\r\n      const request: PhoneJoinGroupCall = {\r\n        call: groupCallInput,\r\n        join_as: {_: 'inputPeerSelf'},\r\n        params,\r\n        muted: options.isMuted,\r\n        video_stopped: !options.joinVideo\r\n      };\r\n\r\n      promise = this.apiManager.invokeApi('phone.joinGroupCall', request);\r\n      this.log(`[api] joinGroupCall id=${groupCallId}`, request);\r\n    } else {\r\n      const request: PhoneJoinGroupCallPresentation = {\r\n        call: groupCallInput,\r\n        params,\r\n      };\r\n\r\n      promise = this.apiManager.invokeApi('phone.joinGroupCallPresentation', request);\r\n      this.log(`[api] joinGroupCallPresentation id=${groupCallId}`, request);\r\n    }\r\n\r\n    const updates = await promise;\r\n    this.apiUpdatesManager.processUpdateMessage(updates);\r\n\r\n    const update = (updates as Updates.updates).updates.find((update) => update._ === 'updateGroupCallConnection') as Update.updateGroupCallConnection;\r\n    return update;\r\n  }\r\n\r\n  public leaveGroupCallPresentation(groupCallId: GroupCallId) {\r\n    return this.apiManager.invokeApi('phone.leaveGroupCallPresentation', {\r\n      call: this.getGroupCallInput(groupCallId)\r\n    }).then((updates) => {\r\n      this.apiUpdatesManager.processUpdateMessage(updates);\r\n    });\r\n  }\r\n}\r\n","/*\r\n * https://github.com/morethanwords/tweb\r\n * Copyright (C) 2019-2021 Eduard Kuzmenko\r\n * https://github.com/morethanwords/tweb/blob/master/LICENSE\r\n */\r\n\r\nimport { InputPhoto } from \"../../../../layer\";\r\nimport { MyPhoto } from \"../../appPhotosManager\";\r\n\r\nexport default function getPhotoInput(photo: MyPhoto): InputPhoto.inputPhoto {\r\n  return {\r\n    _: 'inputPhoto',\r\n    id: photo.id,\r\n    access_hash: photo.access_hash,\r\n    file_reference: photo.file_reference\r\n  };\r\n}\r\n","/*\r\n * https://github.com/morethanwords/tweb\r\n * Copyright (C) 2019-2021 Eduard Kuzmenko\r\n * https://github.com/morethanwords/tweb/blob/master/LICENSE\r\n */\r\n\r\nimport { InputMedia } from \"../../../../layer\";\r\nimport { MyPhoto } from \"../../appPhotosManager\";\r\nimport getPhotoInput from \"./getPhotoInput\";\r\n\r\nexport default function getPhotoMediaInput(photo: MyPhoto): InputMedia.inputMediaPhoto {\r\n  return {\r\n    _: 'inputMediaPhoto',\r\n    id: getPhotoInput(photo),\r\n    ttl_seconds: 0\r\n  };\r\n}\r\n","/*\r\n * https://github.com/morethanwords/tweb\r\n * Copyright (C) 2019-2021 Eduard Kuzmenko\r\n * https://github.com/morethanwords/tweb/blob/master/LICENSE\r\n */\r\n\r\nimport { Document, InputMedia } from \"../../../../layer\";\r\n\r\nexport default function getMediaInput(doc: Document.document): InputMedia.inputMediaDocument {\r\n  return {\r\n    _: 'inputMediaDocument',\r\n    id: {\r\n      _: 'inputDocument',\r\n      id: doc.id,\r\n      access_hash: doc.access_hash,\r\n      file_reference: doc.file_reference\r\n    },\r\n    ttl_seconds: 0\r\n  };\r\n}\r\n","/*\r\n * https://github.com/morethanwords/tweb\r\n * Copyright (C) 2019-2021 Eduard Kuzmenko\r\n * https://github.com/morethanwords/tweb/blob/master/LICENSE\r\n * \r\n * Originally from:\r\n * https://github.com/zhukov/webogram\r\n * Copyright (C) 2014 Igor Zhukov <igor.beatle@gmail.com>\r\n * https://github.com/zhukov/webogram/blob/master/LICENSE\r\n */\r\n\r\nimport type { MyDocument } from \"./appDocsManager\";\r\nimport type { MyPhoto } from \"./appPhotosManager\";\r\nimport type { MyTopPeer } from \"./appUsersManager\";\r\nimport { BotInlineResult, GeoPoint, InputGeoPoint, InputMedia, MessageEntity, MessageMedia, MessagesBotResults, ReplyMarkup } from \"../../layer\";\r\nimport insertInDescendSortedArray from \"../../helpers/array/insertInDescendSortedArray\";\r\nimport { AppManager } from \"./manager\";\r\nimport getPhotoMediaInput from \"./utils/photos/getPhotoMediaInput\";\r\nimport getServerMessageId from \"./utils/messageId/getServerMessageId\";\r\nimport generateQId from \"./utils/inlineBots/generateQId\";\r\nimport getDocumentMediaInput from \"./utils/docs/getDocumentMediaInput\";\r\nimport { AppMessagesManager } from \"./appMessagesManager\";\r\n\r\nexport class AppInlineBotsManager extends AppManager {\r\n  private inlineResults: {[queryAndResultIds: string]: BotInlineResult} = {};\r\n  private setHash: {\r\n    [botId: UserId]: {\r\n      peerId: PeerId, \r\n      time: number\r\n    }\r\n  } = {};\r\n\r\n  public getGeoInput(geo: GeoPoint): InputGeoPoint {\r\n    return geo._ === 'geoPoint' ? {\r\n      _: 'inputGeoPoint',\r\n      lat: geo.lat,\r\n      long: geo.long,\r\n      accuracy_radius: geo.accuracy_radius\r\n    } : {\r\n      _: 'inputGeoPointEmpty'\r\n    };\r\n  }\r\n\r\n  public getInlineResults(peerId: PeerId, botId: BotId, query = '', offset = '', geo?: GeoPoint) {\r\n    return this.apiManager.invokeApi('messages.getInlineBotResults', {\r\n      bot: this.appUsersManager.getUserInput(botId),\r\n      peer: this.appPeersManager.getInputPeerById(peerId),\r\n      query,\r\n      geo_point: geo ? this.getGeoInput(geo) : undefined,\r\n      offset\r\n    }, {/* timeout: 1,  */stopTime: -1, noErrorBox: true}).then((botResults) => {\r\n      const queryId = botResults.query_id;\r\n\r\n      /* if(botResults.switch_pm) {\r\n        botResults.switch_pm.rText = wrapRichText(botResults.switch_pm.text, {noLinebreaks: true, noLinks: true});\r\n      } */\r\n      \r\n      botResults.results.forEach((result) => {\r\n        if(result._ === 'botInlineMediaResult') {\r\n          if(result.document) {\r\n            result.document = this.appDocsManager.saveDoc(result.document);\r\n          }\r\n          \r\n          if(result.photo) {\r\n            result.photo = this.appPhotosManager.savePhoto(result.photo);\r\n          }\r\n        }\r\n        \r\n        this.inlineResults[generateQId(queryId, result.id)] = result;\r\n      });\r\n\r\n      return botResults;\r\n    });\r\n  }\r\n\r\n  private pushPopularBot(botId: BotId) {\r\n    this.appUsersManager.getTopPeers('bots_inline').then((topPeers) => {\r\n      const botPeerId = botId.toPeerId();\r\n      const index = topPeers.findIndex((topPeer) => topPeer.id === botPeerId);\r\n      let topPeer: MyTopPeer;\r\n      if(index !== -1) {\r\n        topPeer = topPeers[index];\r\n      } else {\r\n        topPeer = {\r\n          id: botPeerId,\r\n          rating: 0\r\n        };\r\n      }\r\n\r\n      ++topPeer.rating;\r\n      insertInDescendSortedArray(topPeers, topPeer, 'rating');\r\n\r\n      this.appStateManager.setKeyValueToStorage('topPeersCache');\r\n      \r\n      // rootScope.$broadcast('inline_bots_popular')\r\n    });\r\n  }\r\n\r\n  public switchToPM(fromPeerId: PeerId, botId: BotId, startParam: string) {\r\n    this.setHash[botId] = {peerId: fromPeerId, time: Date.now()};\r\n    return this.appMessagesManager.startBot(botId, undefined, startParam);\r\n  }\r\n  \r\n  /*\r\n  function resolveInlineMention (username) {\r\n    return AppPeersManager.resolveUsername(username).then(function (peerId) {\r\n      if (peerId.isUser()) {\r\n        var bot = AppUsersManager.getUser(peerId)\r\n        if (bot.pFlags.bot && bot.bot_inline_placeholder !== undefined) {\r\n          var resolvedBot = {\r\n            username: username,\r\n            id: peerId,\r\n            placeholder: bot.bot_inline_placeholder\r\n          }\r\n          if (bot.pFlags.bot_inline_geo &&\r\n            GeoLocationManager.isAvailable()) {\r\n              return checkGeoLocationAccess(peerId).then(function () {\r\n                return GeoLocationManager.getPosition().then(function (coords) {\r\n                  resolvedBot.geo = coords\r\n                  return qSync.when(resolvedBot)\r\n                })\r\n              })['catch'](function () {\r\n                return qSync.when(resolvedBot)\r\n              })\r\n            }\r\n            return qSync.when(resolvedBot)\r\n          }\r\n        }\r\n        return $q.reject()\r\n      }, function (error) {\r\n        error.handled = true\r\n        return $q.reject(error)\r\n      })\r\n    }\r\n    \r\n    function regroupWrappedResults (results, rowW, rowH) {\r\n      if (!results ||\r\n        !results[0] ||\r\n        ['photo', 'gif', 'sticker'].indexOf(results[0].type) === -1) {\r\n          return\r\n        }\r\n        var ratios = []\r\n        angular.forEach(results, function (result) {\r\n          var w\r\n          var h, doc\r\n          var photo\r\n          if (result._ === 'botInlineMediaResult') {\r\n            if (doc = result.document) {\r\n              w = result.document.w\r\n              h = result.document.h\r\n            }\r\n            else if (photo = result.photo) {\r\n              var photoSize = (photo.sizes || [])[0]\r\n              w = photoSize && photoSize.w\r\n              h = photoSize && photoSize.h\r\n            }\r\n          }else {\r\n            w = result.w\r\n            h = result.h\r\n          }\r\n          if (!w || !h) {\r\n            w = h = 1\r\n          }\r\n          ratios.push(w / h)\r\n        })\r\n        \r\n        var rows = []\r\n        var curCnt = 0\r\n        var curW = 0\r\n        angular.forEach(ratios, function (ratio) {\r\n          var w = ratio * rowH\r\n          curW += w\r\n          if (!curCnt || curCnt < 4 && curW < (rowW * 1.1)) {\r\n            curCnt++\r\n          } else {\r\n            rows.push(curCnt)\r\n            curCnt = 1\r\n            curW = w\r\n          }\r\n        })\r\n        if (curCnt) {\r\n          rows.push(curCnt)\r\n        }\r\n        \r\n        var i = 0\r\n        var thumbs = []\r\n        var lastRowI = rows.length - 1\r\n        angular.forEach(rows, function (rowCnt, rowI) {\r\n          var lastRow = rowI === lastRowI\r\n          var curRatios = ratios.slice(i, i + rowCnt)\r\n          var sumRatios = 0\r\n          angular.forEach(curRatios, function (ratio) {\r\n            sumRatios += ratio\r\n          })\r\n          angular.forEach(curRatios, function (ratio, j) {\r\n            var thumbH = rowH\r\n            var thumbW = rowW * ratio / sumRatios\r\n            var realW = thumbH * ratio\r\n            if (lastRow && thumbW > realW) {\r\n              thumbW = realW\r\n            }\r\n            var result = results[i + j]\r\n            result.thumbW = Math.floor(thumbW) - 2\r\n            result.thumbH = Math.floor(thumbH) - 2\r\n          })\r\n          \r\n          i += rowCnt\r\n        })\r\n      } */\r\n\r\n  public async checkSwitchReturn(botId: BotId) {\r\n    const bot = this.appUsersManager.getUser(botId);\r\n    if(!bot || !bot.pFlags.bot || !bot.bot_inline_placeholder) {\r\n      return;\r\n    }\r\n\r\n    const peerData = this.setHash[botId];\r\n    if(peerData) {\r\n      delete this.setHash[botId];\r\n      if((Date.now() - peerData.time) < 3600e3) {\r\n        return peerData.peerId;\r\n      }\r\n    }\r\n  }\r\n\r\n  public switchInlineQuery(peerId: PeerId, threadId: number, botId: BotId, query: string) {\r\n    this.appDraftsManager.setDraft(peerId, threadId, '@' + this.appUsersManager.getUser(botId).username + ' ' + query);\r\n  }\r\n\r\n  public callbackButtonClick(peerId: PeerId, mid: number, button: any) {\r\n    return this.apiManager.invokeApi('messages.getBotCallbackAnswer', {\r\n      peer: this.appPeersManager.getInputPeerById(peerId),\r\n      msg_id: getServerMessageId(mid),\r\n      data: button.data\r\n    }, {/* timeout: 1,  */stopTime: -1, noErrorBox: true});\r\n  }\r\n      \r\n  /* function gameButtonClick (id) {\r\n    var message = AppMessagesManager.getMessage(id)\r\n    var peerId = AppMessagesManager.getMessagePeer(message)\r\n    \r\n    return MtpApiManager.invokeApi('messages.getBotCallbackAnswer', {\r\n      peer: AppPeersManager.getInputPeerByID(peerId),\r\n      msg_id: AppMessagesIDsManager.getMessageLocalID(id)\r\n    }, {timeout: 1, stopTime: -1, noErrorBox: true}).then(function (callbackAnswer) {\r\n      if (typeof callbackAnswer.message === 'string' &&\r\n      callbackAnswer.message.length) {\r\n        showCallbackMessage(callbackAnswer.message, callbackAnswer.pFlags.alert)\r\n      }\r\n      else if (typeof callbackAnswer.url === 'string') {\r\n        AppGamesManager.openGame(message.media.game.id, id, callbackAnswer.url)\r\n      }\r\n    })\r\n  } */\r\n\r\n  public sendInlineResult(peerId: PeerId, botId: BotId, queryAndResultIds: string, options: Partial<{\r\n    viaBotId: BotId,\r\n    queryId: string,\r\n    resultId: string,\r\n    replyMarkup: ReplyMarkup,\r\n    entities: MessageEntity[],\r\n    replyToMsgId: number,\r\n    clearDraft: true,\r\n    scheduleDate: number,\r\n    silent: true,\r\n    sendAsPeerId: PeerId,\r\n    geoPoint: GeoPoint\r\n  }> = {}) {\r\n    const inlineResult = this.inlineResults[queryAndResultIds];\r\n    if(!inlineResult) {\r\n      return;\r\n    }\r\n\r\n    this.pushPopularBot(botId);\r\n    const splitted = queryAndResultIds.split('_');\r\n    const queryID = splitted.shift();\r\n    const resultID = splitted.join('_');\r\n    options.viaBotId = botId;\r\n    options.queryId = queryID;\r\n    options.resultId = resultID;\r\n    if(inlineResult.send_message.reply_markup) {\r\n      options.replyMarkup = inlineResult.send_message.reply_markup;\r\n    }\r\n    \r\n    if(inlineResult.send_message._ === 'botInlineMessageText') {\r\n      options.entities = inlineResult.send_message.entities;\r\n      this.appMessagesManager.sendText(peerId, inlineResult.send_message.message, options);\r\n    } else {\r\n      let caption = '';\r\n      let inputMedia: Parameters<AppMessagesManager['sendOther']>[1], messageMedia: MessageMedia;\r\n      const sendMessage = inlineResult.send_message;\r\n      switch(sendMessage._) {\r\n        case 'botInlineMessageMediaAuto': {\r\n          caption = sendMessage.message;\r\n\r\n          if(inlineResult._ === 'botInlineMediaResult') {\r\n            const {document, photo} = inlineResult;\r\n            if(document) {\r\n              inputMedia = getDocumentMediaInput(document as MyDocument);\r\n            } else {\r\n              inputMedia = getPhotoMediaInput(photo as MyPhoto);\r\n            }\r\n          }\r\n\r\n          break;\r\n        }\r\n\r\n        case 'botInlineMessageMediaGeo': {\r\n          inputMedia = {\r\n            _: 'inputMediaGeoPoint',\r\n            geo_point: this.getGeoInput(sendMessage.geo)\r\n          };\r\n\r\n          options.geoPoint = sendMessage.geo;\r\n\r\n          break;\r\n        }\r\n        \r\n        case 'botInlineMessageMediaVenue': {\r\n          inputMedia = {\r\n            _: 'inputMediaVenue',\r\n            geo_point: this.getGeoInput(sendMessage.geo),\r\n            title: sendMessage.title,\r\n            address: sendMessage.address,\r\n            provider: sendMessage.provider,\r\n            venue_id: sendMessage.venue_id,\r\n            venue_type: sendMessage.venue_type\r\n          };\r\n\r\n          options.geoPoint = sendMessage.geo;\r\n\r\n          break;\r\n        }\r\n\r\n        case 'botInlineMessageMediaContact': {\r\n          inputMedia = {\r\n            _: 'inputMediaContact',\r\n            phone_number: sendMessage.phone_number,\r\n            first_name: sendMessage.first_name,\r\n            last_name: sendMessage.last_name,\r\n            vcard: sendMessage.vcard\r\n          };\r\n\r\n          break;\r\n        }\r\n\r\n        case 'botInlineMessageMediaInvoice': {\r\n          // const photo = sendMessage.photo;\r\n          // inputMedia = {\r\n          //   _: 'inputMediaInvoice',\r\n          //   description: sendMessage.description,\r\n          //   title: sendMessage.title,\r\n          //   photo: photo && {\r\n          //     _: 'inputWebDocument',\r\n          //     attributes: photo.attributes,\r\n          //     mime_type: photo.mime_type,\r\n          //     size: photo.size,\r\n          //     url: photo.url\r\n          //   },\r\n          //   invoice: undefined,\r\n          //   payload: undefined,\r\n          //   provider: undefined,\r\n          //   provider_data: undefined,\r\n          //   start_param: undefined\r\n          // };\r\n\r\n          messageMedia = {\r\n            _: 'messageMediaInvoice',\r\n            title: sendMessage.title,\r\n            description: sendMessage.description,\r\n            photo: sendMessage.photo,\r\n            currency: sendMessage.currency,\r\n            total_amount: sendMessage.total_amount,\r\n            pFlags: {\r\n              shipping_address_requested: sendMessage.pFlags.shipping_address_requested,\r\n              test: sendMessage.pFlags.test\r\n            },\r\n            start_param: undefined\r\n          };\r\n\r\n          break;\r\n        }\r\n      }\r\n\r\n      if(!inputMedia && messageMedia) {\r\n        inputMedia = {\r\n          _: 'messageMediaPending',\r\n          messageMedia\r\n        };\r\n      }\r\n\r\n      this.appMessagesManager.sendOther(peerId, inputMedia, options);\r\n    }\r\n  }\r\n  \r\n  /* function checkGeoLocationAccess (botID) {\r\n    var key = 'bot_access_geo' + botID\r\n    return Storage.get(key).then(function (geoAccess) {\r\n      if (geoAccess && geoAccess.granted) {\r\n        return true\r\n      }\r\n      return ErrorService.confirm({\r\n        type: 'BOT_ACCESS_GEO_INLINE'\r\n      }).then(function () {\r\n        var setHash = {}\r\n        setHash[key] = {granted: true, time: tsNow()}\r\n        Storage.set(setHash)\r\n        return true\r\n      }, function () {\r\n        var setHash = {}\r\n        setHash[key] = {denied: true, time: tsNow()}\r\n        Storage.set(setHash)\r\n        return $q.reject()\r\n      })\r\n    })\r\n  } */\r\n}\r\n","/*\r\n * https://github.com/morethanwords/tweb\r\n * Copyright (C) 2019-2021 Eduard Kuzmenko\r\n * https://github.com/morethanwords/tweb/blob/master/LICENSE\r\n */\r\n\r\nimport { MESSAGE_ID_INCREMENT } from \"./utils/messageId\";\r\nimport generateMessageId from \"./utils/messageId/generateMessageId\";\r\n\r\nexport class AppMessagesIdsManager {\r\n  private tempNum = 0;\r\n\r\n  public generateTempMessageId(messageId: number) {\r\n    const num = ++this.tempNum;\r\n    return generateMessageId(messageId) + (num & (MESSAGE_ID_INCREMENT - 1));\r\n  }\r\n}\r\n","/*\r\n * https://github.com/morethanwords/tweb\r\n * Copyright (C) 2019-2021 Eduard Kuzmenko\r\n * https://github.com/morethanwords/tweb/blob/master/LICENSE\r\n * \r\n * Originally from:\r\n * https://github.com/zhukov/webogram\r\n * Copyright (C) 2014 Igor Zhukov <igor.beatle@gmail.com>\r\n * https://github.com/zhukov/webogram/blob/master/LICENSE\r\n */\r\n\r\nimport App from \"../../config/app\";\r\nimport { MOUNT_CLASS_TO } from \"../../config/debug\";\r\nimport Modes from \"../../config/modes\";\r\nimport loadScript from \"../../helpers/dom/loadScript\";\r\nimport tsNow from \"../../helpers/tsNow\";\r\nimport sessionStorage from '../sessionStorage';\r\n\r\nexport class TelegramMeWebManager {\r\n  private disabled = /* false &&  */(Modes.test || App.domains.indexOf(location.hostname) === -1);\r\n\r\n  public setAuthorized(canRedirect: boolean) {\r\n    if(this.disabled) {\r\n      return;\r\n    }\r\n\r\n    return sessionStorage.get('tgme_sync').then((curValue) => {\r\n      const ts = tsNow(true);\r\n      if(\r\n        canRedirect &&\r\n        curValue?.canRedirect === canRedirect &&\r\n        (curValue.ts + 86400) > ts\r\n      ) {\r\n        return;\r\n      }\r\n\r\n      sessionStorage.set({\r\n        tgme_sync: {\r\n          canRedirect, \r\n          ts\r\n        }\r\n      });\r\n\r\n      const path = `_websync_?authed=${canRedirect ? '1' : '0'}&version=${encodeURIComponent(App.version + ' ' + App.suffix)}`;\r\n      const urls = [\r\n        '//telegram.me/' + path,\r\n        '//t.me/' + path\r\n      ];\r\n\r\n      const promises = urls.map((url) => {\r\n        return loadScript(url).then((script) => {\r\n          script.remove();\r\n        });\r\n      });\r\n\r\n      return Promise.all(promises);\r\n    });\r\n  }\r\n}\r\n\r\nconst telegramMeWebManager = new TelegramMeWebManager();\r\nMOUNT_CLASS_TO && (MOUNT_CLASS_TO.telegramMeWebManager = telegramMeWebManager);\r\nexport default telegramMeWebManager;\r\n","export default function splitStringByLength(str: string, maxLength: number) {\r\n  if(str.length < maxLength) return [str];\r\n  let length = 0, lastSliceStartIndex = 0, arrayIndex = 0;\r\n  const delimiter = ' ';//'\\n';\r\n  const out: string[] = [];\r\n\r\n  const cut = (end?: number) => {\r\n    let part = str.slice(lastSliceStartIndex, end);\r\n    const _arrayIndex = arrayIndex++;\r\n    if(part.length > maxLength) {\r\n      let overflowPart = part.slice(maxLength);\r\n      const splitted = splitStringByLength(overflowPart, maxLength);\r\n      splitted.forEach((part) => {\r\n        out[arrayIndex++] = part;\r\n      });\r\n\r\n      part = part.slice(0, maxLength);\r\n    }\r\n\r\n    lastSliceStartIndex = end;\r\n    length = 0;\r\n    out[_arrayIndex] = (out[_arrayIndex] || '') + part;\r\n  };\r\n\r\n  let lastIndex = 0;\r\n  do {\r\n    let index = str.indexOf(delimiter, lastIndex);\r\n    if(index === -1) {\r\n      if(lastIndex !== (str.length - 1)) {\r\n        cut();\r\n      }\r\n\r\n      break;\r\n    }\r\n\r\n    index += delimiter.length;\r\n\r\n    const partLength = index - lastIndex;\r\n    if((length + partLength) > maxLength) {\r\n      cut(length);\r\n    }\r\n    \r\n    lastIndex = index;\r\n    length += partLength;\r\n  } while(true);\r\n\r\n  return out;\r\n}\r\n","/*\r\n * https://github.com/morethanwords/tweb\r\n * Copyright (C) 2019-2021 Eduard Kuzmenko\r\n * https://github.com/morethanwords/tweb/blob/master/LICENSE\r\n */\r\n\r\nimport type { TabState } from \"../mtproto/mtprotoworker\";\r\nimport { MOUNT_CLASS_TO } from \"../../config/debug\";\r\nimport MTProtoMessagePort from \"../mtproto/mtprotoMessagePort\";\r\n\r\ntype Tab = {\r\n  source: MessageEventSource,\r\n  state: TabState\r\n};\r\n\r\nexport class AppTabsManager {\r\n  private tabs: Map<Tab['source'], Tab>;\r\n\r\n  constructor() {\r\n    this.tabs = new Map();\r\n  }\r\n\r\n  public start() {\r\n    const port = MTProtoMessagePort.getInstance<false>();\r\n\r\n    port.addEventListener('tabState', (state, source) => {\r\n      const tab = this.tabs.get(source);\r\n      tab.state = state;\r\n    });\r\n  }\r\n\r\n  public getTabs() {\r\n    return [...this.tabs.values()].filter((tab) => !!tab.state);\r\n  }\r\n\r\n  public addTab(source: MessageEventSource) {\r\n    const tab: Tab = {\r\n      source,\r\n      state: undefined\r\n    };\r\n  \r\n    this.tabs.set(source, tab);\r\n  }\r\n\r\n  public deleteTab(source: MessageEventSource) {\r\n    this.tabs.delete(source);\r\n  }\r\n}\r\n\r\nconst appTabsManager = new AppTabsManager();\r\nMOUNT_CLASS_TO && (MOUNT_CLASS_TO.appTabsManager = appTabsManager);\r\nexport default appTabsManager;\r\n","/*\r\n * https://github.com/morethanwords/tweb\r\n * Copyright (C) 2019-2021 Eduard Kuzmenko\r\n * https://github.com/morethanwords/tweb/blob/master/LICENSE\r\n * \r\n * Originally from:\r\n * https://github.com/zhukov/webogram\r\n * Copyright (C) 2014 Igor Zhukov <igor.beatle@gmail.com>\r\n * https://github.com/zhukov/webogram/blob/master/LICENSE\r\n */\r\n\r\nimport LazyLoadQueueBase from \"../../components/lazyLoadQueueBase\";\r\nimport deferredPromise, { CancellablePromise } from \"../../helpers/cancellablePromise\";\r\nimport tsNow from \"../../helpers/tsNow\";\r\nimport { randomLong } from \"../../helpers/random\";\r\nimport { Chat, ChatFull, Dialog as MTDialog, DialogPeer, DocumentAttribute, InputMedia, InputMessage, InputPeerNotifySettings, InputSingleMedia, Message, MessageAction, MessageEntity, MessageFwdHeader, MessageMedia, MessageReplies, MessageReplyHeader, MessagesDialogs, MessagesFilter, MessagesMessages, MethodDeclMap, NotifyPeer, PeerNotifySettings, PhotoSize, SendMessageAction, Update, Photo, Updates, ReplyMarkup, InputPeer, InputPhoto, InputDocument, InputGeoPoint, WebPage, GeoPoint, ReportReason, MessagesGetDialogs, InputChannel, InputDialogPeer, ReactionCount, MessagePeerReaction, MessagesSearchCounter, Peer, MessageReactions, Document, InputFile } from \"../../layer\";\r\nimport { ArgumentTypes, InvokeApiOptions } from \"../../types\";\r\nimport { logger, LogTypes } from \"../logger\";\r\nimport type { ApiFileManager } from '../mtproto/apiFileManager';\r\nimport { ReferenceContext } from \"../mtproto/referenceDatabase\";\r\nimport { GLOBAL_FOLDER_ID, LOCAL_FOLDER_ID } from \"../storages/dialogs\";\r\nimport { ChatRights } from \"./appChatsManager\";\r\nimport { MyDocument } from \"./appDocsManager\";\r\nimport { MyPhoto } from \"./appPhotosManager\";\r\nimport { getFileNameByLocation } from \"../../helpers/fileName\";\r\nimport DEBUG from \"../../config/debug\";\r\nimport SlicedArray, { Slice, SliceEnd } from \"../../helpers/slicedArray\";\r\nimport { MUTE_UNTIL, NULL_PEER_ID, REPLIES_HIDDEN_CHANNEL_ID, REPLIES_PEER_ID, SERVICE_PEER_ID } from \"../mtproto/mtproto_config\";\r\nimport telegramMeWebManager from \"../mtproto/telegramMeWebManager\";\r\nimport { getMiddleware } from \"../../helpers/middleware\";\r\nimport assumeType from \"../../helpers/assumeType\";\r\nimport copy from \"../../helpers/object/copy\";\r\nimport getObjectKeysAndSort from \"../../helpers/object/getObjectKeysAndSort\";\r\nimport forEachReverse from \"../../helpers/array/forEachReverse\";\r\nimport deepEqual from \"../../helpers/object/deepEqual\";\r\nimport splitStringByLength from \"../../helpers/string/splitStringByLength\";\r\nimport debounce from \"../../helpers/schedulers/debounce\";\r\nimport { AppManager } from \"./manager\";\r\nimport type { MediaSize } from \"../../helpers/mediaSize\";\r\nimport getPhotoMediaInput from \"./utils/photos/getPhotoMediaInput\";\r\nimport getPhotoDownloadOptions from \"./utils/photos/getPhotoDownloadOptions\";\r\nimport fixEmoji from \"../richTextProcessor/fixEmoji\";\r\nimport mergeEntities from \"../richTextProcessor/mergeEntities\";\r\nimport parseEntities from \"../richTextProcessor/parseEntities\";\r\nimport parseMarkdown from \"../richTextProcessor/parseMarkdown\";\r\nimport getServerMessageId from \"./utils/messageId/getServerMessageId\";\r\nimport generateMessageId from \"./utils/messageId/generateMessageId\";\r\nimport getPeerId from \"./utils/peers/getPeerId\";\r\nimport filterMessagesByInputFilter from \"./utils/messages/filterMessagesByInputFilter\";\r\nimport ctx from \"../../environment/ctx\";\r\nimport { getEnvironment } from \"../../environment/utils\";\r\nimport getDialogIndex from \"./utils/dialogs/getDialogIndex\";\r\nimport defineNotNumerableProperties from \"../../helpers/object/defineNotNumerableProperties\";\r\nimport getDocumentMediaInput from \"./utils/docs/getDocumentMediaInput\";\r\nimport getDocumentInputFileName from \"./utils/docs/getDocumentInputFileName\";\r\nimport getFileNameForUpload from \"../../helpers/getFileNameForUpload\";\r\nimport type { Progress } from \"./appDownloadManager\";\r\nimport noop from \"../../helpers/noop\";\r\nimport appTabsManager from \"./appTabsManager\";\r\nimport MTProtoMessagePort from \"../mtproto/mtprotoMessagePort\";\r\nimport getAlbumText from \"./utils/messages/getAlbumText\";\r\nimport pause from \"../../helpers/schedulers/pause\";\r\n\r\n//console.trace('include');\r\n// TODO: если удалить диалог находясь в папке, то он не удалится из папки и будет виден в настройках\r\n\r\nconst APITIMEOUT = 0;\r\nconst DO_NOT_READ_HISTORY = false;\r\n\r\nexport type HistoryStorage = {\r\n  count: number | null,\r\n  history: SlicedArray<number>,\r\n\r\n  maxId?: number,\r\n  readPromise?: Promise<void>,\r\n  readMaxId?: number,\r\n  readOutboxMaxId?: number,\r\n  triedToReadMaxId?: number,\r\n\r\n  maxOutId?: number,\r\n  replyMarkup?: Exclude<ReplyMarkup, ReplyMarkup.replyInlineMarkup>\r\n};\r\n\r\nexport type HistoryResult = {\r\n  count: number,\r\n  history: number[],\r\n  isEnd: ReturnType<Slice<number>['getEnds']>,\r\n  offsetIdOffset?: number,\r\n};\r\n\r\nexport type Dialog = MTDialog.dialog;\r\n\r\nexport type MyMessage = Message.message | Message.messageService;\r\nexport type MyInputMessagesFilter = 'inputMessagesFilterEmpty' \r\n  | 'inputMessagesFilterPhotos' \r\n  | 'inputMessagesFilterPhotoVideo' \r\n  | 'inputMessagesFilterVideo' \r\n  | 'inputMessagesFilterDocument' \r\n  | 'inputMessagesFilterVoice' \r\n  | 'inputMessagesFilterRoundVoice' \r\n  | 'inputMessagesFilterRoundVideo' \r\n  | 'inputMessagesFilterMusic' \r\n  | 'inputMessagesFilterUrl' \r\n  | 'inputMessagesFilterMyMentions'\r\n  | 'inputMessagesFilterChatPhotos'\r\n  | 'inputMessagesFilterPinned';\r\n\r\nexport type PinnedStorage = Partial<{\r\n  promise: Promise<PinnedStorage>,\r\n  count: number,\r\n  maxId: number\r\n}>;\r\nexport type MessagesStorage = Map<number, Message.message | Message.messageService> & {peerId: PeerId, type: MessagesStorageType, key: MessagesStorageKey};\r\nexport type MessagesStorageType = 'scheduled' | 'history' | 'grouped';\r\nexport type MessagesStorageKey = `${PeerId}_${MessagesStorageType}`;\r\n\r\nexport type MyMessageActionType = Message.messageService['action']['_'];\r\n\r\ntype PendingAfterMsg = Partial<InvokeApiOptions & {\r\n  afterMessageId: string,\r\n  messageId: string\r\n}>;\r\n\r\ntype MapValueType<A> = A extends Map<any, infer V> ? V : never;\r\n\r\nexport type BatchUpdates = {\r\n  'messages_reactions': AppMessagesManager['batchUpdateReactions'],\r\n  'messages_views': AppMessagesManager['batchUpdateViews']\r\n};\r\n\r\ntype PendingMessageDetails = {\r\n  peerId: PeerId,\r\n  tempId: number,\r\n  threadId: number,\r\n  storage: MessagesStorage,\r\n  sequential?: boolean\r\n};\r\n\r\nconst processAfter = (cb: () => void) => {\r\n  // setTimeout(cb, 0);\r\n  cb();\r\n};\r\n\r\nexport class AppMessagesManager extends AppManager {\r\n  private messagesStorageByPeerId: {[peerId: string]: MessagesStorage};\r\n  private groupedMessagesStorage: {[groupId: string]: MessagesStorage}; // will be used for albums\r\n  private scheduledMessagesStorage: {[peerId: PeerId]: MessagesStorage};\r\n  private historiesStorage: {\r\n    [peerId: PeerId]: HistoryStorage\r\n  };\r\n  private threadsStorage: {\r\n    [peerId: PeerId]: {\r\n      [threadId: string]: HistoryStorage\r\n    }\r\n  };\r\n  private searchesStorage: {\r\n    [peerId: PeerId]: Partial<{\r\n      [inputFilter in MyInputMessagesFilter]: {\r\n        count?: number,\r\n        history: number[]\r\n      }\r\n    }>\r\n  };\r\n  private pinnedMessages: {[peerId: PeerId]: PinnedStorage};\r\n\r\n  private threadsServiceMessagesIdsStorage: {[peerId_threadId: string]: number};\r\n  private threadsToReplies: {\r\n    [peerId_threadId: string]: string;\r\n  };\r\n\r\n  private pendingByRandomId: {\r\n    [randomId: string]: PendingMessageDetails\r\n  } = {};\r\n  private pendingByMessageId: {[mid: string]: Long} = {};\r\n  private pendingAfterMsgs: {[peerId: PeerId]: PendingAfterMsg} = {};\r\n  public pendingTopMsgs: {[peerId: PeerId]: number} = {};\r\n  private tempFinalizeCallbacks: {\r\n    [tempId: string]: {\r\n      [callbackName: string]: Partial<{\r\n        deferred: CancellablePromise<void>, \r\n        callback: (message: MyMessage) => Promise<any>\r\n      }>\r\n    }\r\n  } = {};\r\n  \r\n  private sendSmthLazyLoadQueue = new LazyLoadQueueBase(10);\r\n\r\n  private needSingleMessages: Map<PeerId, Map<number, CancellablePromise<Message.message | Message.messageService>>> = new Map();\r\n  private fetchSingleMessagesPromise: Promise<void> = null;\r\n\r\n  private maxSeenId = 0;\r\n\r\n  public migratedFromTo: {[peerId: PeerId]: PeerId} = {};\r\n  public migratedToFrom: {[peerId: PeerId]: PeerId} = {};\r\n\r\n  private newDialogsHandlePromise: Promise<any>;\r\n  private newDialogsToHandle: {[peerId: PeerId]: Dialog} = {};\r\n  public newUpdatesAfterReloadToHandle: {[peerId: PeerId]: Set<Update>} = {};\r\n\r\n  private notificationsHandlePromise = 0;\r\n  private notificationsToHandle: {[peerId: PeerId]: {\r\n    fwdCount: number,\r\n    fromId: PeerId,\r\n    topMessage?: MyMessage\r\n  }} = {};\r\n\r\n  private reloadConversationsPromise: Promise<void>;\r\n  private reloadConversationsPeers: Map<PeerId, {inputDialogPeer: InputDialogPeer, promise: CancellablePromise<Dialog>}> = new Map();\r\n\r\n  public log = logger('MESSAGES', LogTypes.Error | LogTypes.Debug | LogTypes.Log | LogTypes.Warn);\r\n\r\n  private groupedTempId = 0;\r\n\r\n  private typings: {[peerId: PeerId]: {action: SendMessageAction, timeout?: number}} = {};\r\n\r\n  private middleware: ReturnType<typeof getMiddleware>;\r\n\r\n  private unreadMentions: {[peerId: PeerId]: SlicedArray<number>} = {};\r\n  private goToNextMentionPromises: {[peerId: PeerId]: Promise<number>} = {};\r\n  \r\n  private batchUpdates: {\r\n    [k in keyof BatchUpdates]?: {\r\n      callback: BatchUpdates[k],\r\n      batch: ArgumentTypes<BatchUpdates[k]>[0]\r\n    }\r\n  } = {};\r\n  private batchUpdatesDebounced: () => Promise<void>;\r\n\r\n  private uploadFilePromises: {[fileName: string]: CancellablePromise<any>};\r\n\r\n  protected after() {\r\n    this.clear(true);\r\n\r\n    this.apiUpdatesManager.addMultipleEventsListeners({\r\n      updateMessageID: this.onUpdateMessageId,\r\n\r\n      updateNewDiscussionMessage: this.onUpdateNewMessage,\r\n      updateNewMessage: this.onUpdateNewMessage,\r\n      updateNewChannelMessage: this.onUpdateNewMessage,\r\n\r\n      updateDialogUnreadMark: this.onUpdateDialogUnreadMark,\r\n\r\n      updateEditMessage: this.onUpdateEditMessage,\r\n      updateEditChannelMessage: this.onUpdateEditMessage,\r\n\r\n      updateMessageReactions: this.onUpdateMessageReactions,\r\n\r\n      updateReadChannelDiscussionInbox: this.onUpdateReadHistory,\r\n      updateReadChannelDiscussionOutbox: this.onUpdateReadHistory,\r\n      updateReadHistoryInbox: this.onUpdateReadHistory,\r\n      updateReadHistoryOutbox: this.onUpdateReadHistory,\r\n      updateReadChannelInbox: this.onUpdateReadHistory,\r\n      updateReadChannelOutbox: this.onUpdateReadHistory,\r\n\r\n      updateChannelReadMessagesContents: this.onUpdateReadMessagesContents,\r\n      updateReadMessagesContents: this.onUpdateReadMessagesContents,\r\n\r\n      updateChannelAvailableMessages: this.onUpdateChannelAvailableMessages,\r\n\r\n      updateDeleteMessages: this.onUpdateDeleteMessages,\r\n      updateDeleteChannelMessages: this.onUpdateDeleteMessages,\r\n\r\n      updateChannel: this.onUpdateChannel,\r\n\r\n      updateChannelReload: this.onUpdateChannelReload,\r\n\r\n      updateChannelMessageViews: this.onUpdateChannelMessageViews,\r\n\r\n      updateServiceNotification: this.onUpdateServiceNotification,\r\n\r\n      updatePinnedMessages: this.onUpdatePinnedMessages,\r\n      updatePinnedChannelMessages: this.onUpdatePinnedMessages,\r\n\r\n      updateNotifySettings: this.onUpdateNotifySettings,\r\n\r\n      updateNewScheduledMessage: this.onUpdateNewScheduledMessage,\r\n\r\n      updateDeleteScheduledMessages: this.onUpdateDeleteScheduledMessages\r\n    });\r\n\r\n    // ! Invalidate notify settings, can optimize though\r\n    this.rootScope.addEventListener('notify_peer_type_settings', ({key, settings}) => {\r\n      const dialogs = this.dialogsStorage.getFolderDialogs(0).concat(this.dialogsStorage.getFolderDialogs(1));\r\n      let filterFunc: (dialog: Dialog) => boolean;\r\n      if(key === 'notifyUsers') filterFunc = (dialog) => dialog.peerId.isUser();\r\n      else if(key === 'notifyBroadcasts') filterFunc = (dialog) => this.appPeersManager.isBroadcast(dialog.peerId);\r\n      else filterFunc = (dialog) => this.appPeersManager.isAnyGroup(dialog.peerId);\r\n\r\n      dialogs\r\n      .filter(filterFunc)\r\n      .forEach((dialog) => {\r\n        this.rootScope.dispatchEvent('dialog_notify_settings', dialog);\r\n      });\r\n    });\r\n\r\n    this.rootScope.addEventListener('webpage_updated', ({id, msgs}) => {\r\n      msgs.forEach(({peerId, mid, isScheduled}) => {\r\n        const storage = isScheduled ? this.getScheduledMessagesStorage(peerId) : this.getHistoryMessagesStorage(peerId);\r\n        const message = this.getMessageFromStorage(storage, mid) as Message.message;\r\n        if(!message) return;\r\n        message.media = {\r\n          _: 'messageMediaWebPage', \r\n          webpage: this.appWebPagesManager.getCachedWebPage(id)\r\n        };\r\n\r\n        this.rootScope.dispatchEvent('message_edit', {\r\n          storageKey: storage.key,\r\n          peerId,\r\n          mid,\r\n          message\r\n        });\r\n      });\r\n    });\r\n\r\n    this.rootScope.addEventListener('draft_updated', ({peerId, threadId, draft}) => {\r\n      if(threadId) return;\r\n\r\n      const dialog = this.getDialogOnly(peerId);\r\n      if(dialog) {\r\n        if(!threadId) {\r\n          dialog.draft = draft;\r\n\r\n          let drop = false;\r\n          if(!draft && !getServerMessageId(dialog.top_message)) {\r\n            this.dialogsStorage.dropDialog(peerId);\r\n            drop = true;\r\n          } else {\r\n            this.dialogsStorage.generateIndexForDialog(dialog);\r\n            this.dialogsStorage.pushDialog(dialog);\r\n          }\r\n\r\n          this.rootScope.dispatchEvent('dialog_draft', {\r\n            peerId,\r\n            dialog,\r\n            drop,\r\n            draft\r\n          });\r\n        }\r\n      } else {\r\n        this.reloadConversation(peerId);\r\n      }\r\n    });\r\n\r\n    this.rootScope.addEventListener('poll_update', ({poll}) => {\r\n      const set = this.appPollsManager.pollToMessages[poll.id];\r\n      if(set) {\r\n        for(const key of set) {\r\n          const [peerId, mid] = key.split('_');\r\n\r\n          const message = this.getMessageByPeer(peerId.toPeerId(), +mid);\r\n          this.setDialogToStateIfMessageIsTop(message);\r\n        }\r\n      }\r\n    });\r\n    \r\n    this.batchUpdatesDebounced = debounce(() => {\r\n      for(const event in this.batchUpdates) {\r\n        const details = this.batchUpdates[event as keyof BatchUpdates];\r\n        delete this.batchUpdates[event as keyof BatchUpdates];\r\n\r\n        // @ts-ignore\r\n        const result = details.callback(details.batch);\r\n        if(result && (!(result instanceof Array) || result.length)) {\r\n          // @ts-ignore\r\n          rootScope.dispatchEvent(event as keyof BatchUpdates, result);\r\n        }\r\n      }\r\n    }, 33, false, true);\r\n\r\n    return this.appStateManager.getState().then((state) => {\r\n      if(state.maxSeenMsgId) {\r\n        this.maxSeenId = state.maxSeenMsgId;\r\n      }\r\n    });\r\n  }\r\n\r\n  public clear = (init?: boolean) => {\r\n    if(this.middleware) {\r\n      this.middleware.clean();\r\n    } else {\r\n      this.middleware = getMiddleware();\r\n      this.uploadFilePromises = {};\r\n    }\r\n\r\n    this.messagesStorageByPeerId = {};\r\n    this.groupedMessagesStorage = {};\r\n    this.scheduledMessagesStorage = {};\r\n    this.historiesStorage = {};\r\n    this.threadsStorage = {};\r\n    this.searchesStorage = {};\r\n    this.pinnedMessages = {};\r\n    this.threadsServiceMessagesIdsStorage = {};\r\n    this.threadsToReplies = {};\r\n\r\n    this.dialogsStorage && this.dialogsStorage.clear(init);\r\n    this.filtersStorage && this.filtersStorage.clear(init);\r\n  };\r\n\r\n  public getInputEntities(entities: MessageEntity[]) {\r\n    const sendEntites = copy(entities);\r\n    sendEntites.forEach((entity) => {\r\n      if(entity._ === 'messageEntityMentionName') {\r\n        (entity as any as MessageEntity.inputMessageEntityMentionName)._ = 'inputMessageEntityMentionName';\r\n        (entity as any as MessageEntity.inputMessageEntityMentionName).user_id = this.appUsersManager.getUserInput(entity.user_id);\r\n      }\r\n    });\r\n    return sendEntites;\r\n  }\r\n\r\n  public invokeAfterMessageIsSent(tempId: number, callbackName: string, callback: (message: MyMessage) => Promise<any>) {\r\n    const finalize = this.tempFinalizeCallbacks[tempId] ?? (this.tempFinalizeCallbacks[tempId] = {});\r\n    const obj = finalize[callbackName] ?? (finalize[callbackName] = {deferred: deferredPromise<void>()});\r\n\r\n    obj.callback = callback;\r\n\r\n    return obj.deferred;\r\n  }\r\n\r\n  public editMessage(message: any, text: string, options: Partial<{\r\n    noWebPage: true,\r\n    newMedia: any,\r\n    scheduleDate: number,\r\n    entities: MessageEntity[]\r\n  }> = {}): Promise<void> {\r\n    /* if(!this.canEditMessage(messageId)) {\r\n      return Promise.reject({type: 'MESSAGE_EDIT_FORBIDDEN'});\r\n    } */\r\n\r\n    const {mid, peerId} = message;\r\n\r\n    if(message.pFlags.is_outgoing) {\r\n      return this.invokeAfterMessageIsSent(mid, 'edit', (message) => {\r\n        //this.log('invoke editMessage callback', message);\r\n        return this.editMessage(message, text, options);\r\n      });\r\n    }\r\n\r\n    let entities = options.entities || [];\r\n    if(text) {\r\n      text = parseMarkdown(text, entities);\r\n    }\r\n\r\n    const schedule_date = options.scheduleDate || (message.pFlags.is_scheduled ? message.date : undefined);\r\n    return this.apiManager.invokeApi('messages.editMessage', {\r\n      peer: this.appPeersManager.getInputPeerById(peerId),\r\n      id: message.id,\r\n      message: text,\r\n      media: options.newMedia,\r\n      entities: entities.length ? this.getInputEntities(entities) : undefined,\r\n      no_webpage: options.noWebPage,\r\n      schedule_date\r\n    }).then((updates) => {\r\n      this.apiUpdatesManager.processUpdateMessage(updates);\r\n    }, (error) => {\r\n      this.log.error('editMessage error:', error);\r\n      \r\n      if(error && error.type === 'MESSAGE_NOT_MODIFIED') {\r\n        error.handled = true;\r\n        return;\r\n      }\r\n      if(error && error.type === 'MESSAGE_EMPTY') {\r\n        error.handled = true;\r\n      }\r\n      return Promise.reject(error);\r\n    });\r\n  }\r\n\r\n  public async sendText(peerId: PeerId, text: string, options: Partial<{\r\n    entities: MessageEntity[],\r\n    replyToMsgId: number,\r\n    threadId: number,\r\n    viaBotId: BotId,\r\n    queryId: string,\r\n    resultId: string,\r\n    noWebPage: true,\r\n    replyMarkup: ReplyMarkup,\r\n    clearDraft: true,\r\n    webPage: WebPage,\r\n    scheduleDate: number,\r\n    silent: true,\r\n    sendAsPeerId: PeerId,\r\n  }> = {}): Promise<void> {\r\n    if(!text.trim()) {\r\n      return;\r\n    }\r\n\r\n    options.entities ??= [];\r\n    \r\n    //this.checkSendOptions(options);\r\n    if(options.threadId && !options.replyToMsgId) {\r\n      options.replyToMsgId = options.threadId;\r\n    }\r\n    \r\n    const config = await this.apiManager.getConfig();\r\n    const MAX_LENGTH = config.message_length_max;\r\n    const splitted = splitStringByLength(text, MAX_LENGTH);\r\n    text = splitted[0];\r\n    if(splitted.length > 1) {\r\n      if(options.webPage?._ === 'webPage' && !text.includes(options.webPage.url)) {\r\n        delete options.webPage;\r\n      }\r\n    }\r\n\r\n    peerId = this.appPeersManager.getPeerMigratedTo(peerId) || peerId;\r\n    \r\n    let entities = options.entities;\r\n    if(!options.viaBotId) {\r\n      text = parseMarkdown(text, entities);\r\n      //entities = mergeEntities(entities, parseEntities(text));\r\n    }\r\n\r\n    let sendEntites = this.getInputEntities(entities);\r\n    if(!sendEntites.length) {\r\n      sendEntites = undefined;\r\n    }\r\n\r\n    const message = this.generateOutgoingMessage(peerId, options);\r\n    message.entities = entities;\r\n    message.message = text;\r\n\r\n    const replyToMsgId = options.replyToMsgId ? getServerMessageId(options.replyToMsgId) : undefined;\r\n    const isChannel = this.appPeersManager.isChannel(peerId);\r\n\r\n    if(options.webPage) {\r\n      message.media = {\r\n        _: 'messageMediaWebPage',\r\n        webpage: options.webPage\r\n      };\r\n    }\r\n\r\n    const toggleError = (on: boolean) => {\r\n      if(on) {\r\n        message.error = true;\r\n      } else {\r\n        delete message.error;\r\n      }\r\n      this.rootScope.dispatchEvent('messages_pending');\r\n    };\r\n\r\n    message.send = () => {\r\n      toggleError(false);\r\n      const sentRequestOptions: PendingAfterMsg = {};\r\n      if(this.pendingAfterMsgs[peerId]) {\r\n        sentRequestOptions.afterMessageId = this.pendingAfterMsgs[peerId].messageId;\r\n      }\r\n\r\n      const sendAs = options.sendAsPeerId ? this.appPeersManager.getInputPeerById(options.sendAsPeerId) : undefined\r\n      let apiPromise: any;\r\n      if(options.viaBotId) {\r\n        apiPromise = this.apiManager.invokeApiAfter('messages.sendInlineBotResult', {\r\n          peer: this.appPeersManager.getInputPeerById(peerId),\r\n          random_id: message.random_id,\r\n          reply_to_msg_id: replyToMsgId || undefined,\r\n          query_id: options.queryId,\r\n          id: options.resultId,\r\n          clear_draft: options.clearDraft,\r\n          send_as: sendAs\r\n        }, sentRequestOptions);\r\n      } else {\r\n        apiPromise = this.apiManager.invokeApiAfter('messages.sendMessage', {\r\n          no_webpage: options.noWebPage,\r\n          peer: this.appPeersManager.getInputPeerById(peerId),\r\n          message: text,\r\n          random_id: message.random_id,\r\n          reply_to_msg_id: replyToMsgId || undefined,\r\n          entities: sendEntites,\r\n          clear_draft: options.clearDraft,\r\n          schedule_date: options.scheduleDate || undefined,\r\n          silent: options.silent,\r\n          send_as: sendAs\r\n        }, sentRequestOptions);\r\n      }\r\n\r\n      /* function is<T>(value: any, condition: boolean): value is T {\r\n        return condition;\r\n      } */\r\n\r\n      //this.log('sendText', message.mid);\r\n      this.pendingAfterMsgs[peerId] = sentRequestOptions;\r\n\r\n      return apiPromise.then((updates: Updates) => {\r\n        //this.log('sendText sent', message.mid);\r\n        //if(is<Updates.updateShortSentMessage>(updates, updates._ === 'updateShortSentMessage')) {\r\n        if(updates._ === 'updateShortSentMessage') {\r\n          //assumeType<Updates.updateShortSentMessage>(updates);\r\n\r\n          // * fix copying object with promise\r\n          const promise = message.promise;\r\n          delete message.promise;\r\n          const newMessage = copy(message);\r\n          defineNotNumerableProperties(message, ['promise']);\r\n          message.promise = promise;\r\n\r\n          newMessage.date = updates.date;\r\n          newMessage.id = updates.id;\r\n          newMessage.media = updates.media;\r\n          newMessage.entities = updates.entities;\r\n          this.wrapMessageEntities(newMessage);\r\n          if(updates.pFlags.out) {\r\n            newMessage.pFlags.out = true;\r\n          }\r\n\r\n          // * override with new updates\r\n          updates = {\r\n            _: 'updates',\r\n            users: [],\r\n            chats: [],\r\n            seq: 0,\r\n            date: undefined,\r\n            updates: [{\r\n              _: 'updateMessageID',\r\n              random_id: message.random_id,\r\n              id: newMessage.id\r\n            }, {\r\n              _: options.scheduleDate ? 'updateNewScheduledMessage' : (isChannel ? 'updateNewChannelMessage' : 'updateNewMessage'),\r\n              message: newMessage,\r\n              pts: updates.pts,\r\n              pts_count: updates.pts_count\r\n            }]\r\n          };\r\n        } else if((updates as Updates.updates).updates) {\r\n          (updates as Updates.updates).updates.forEach((update) => {\r\n            if(update._ === 'updateDraftMessage') {\r\n              update.local = true;\r\n            }\r\n          });\r\n        }\r\n        // Testing bad situations\r\n        // var upd = angular.copy(updates)\r\n        // updates.updates.splice(0, 1)\r\n\r\n        this.apiUpdatesManager.processUpdateMessage(updates);\r\n\r\n        // $timeout(function () {\r\n        // ApiUpdatesManager.processUpdateMessage(upd)\r\n        // }, 5000)\r\n        message.promise.resolve();\r\n      }, (error: any) => {\r\n        toggleError(true);\r\n        message.promise.reject(error);\r\n      }).finally(() => {\r\n        if(this.pendingAfterMsgs[peerId] === sentRequestOptions) {\r\n          delete this.pendingAfterMsgs[peerId];\r\n        }\r\n      });\r\n    };\r\n\r\n    this.beforeMessageSending(message, {\r\n      isScheduled: !!options.scheduleDate || undefined, \r\n      threadId: options.threadId,\r\n      clearDraft: options.clearDraft,\r\n      sequential: true\r\n    });\r\n\r\n    const promises: ReturnType<AppMessagesManager['sendText']>[] = [message.promise];\r\n    for(let i = 1; i < splitted.length; ++i) {\r\n      promises.push(this.sendText(peerId, splitted[i], options));\r\n    }\r\n\r\n    return Promise.all(promises).then(noop);\r\n  }\r\n\r\n  public sendFile(peerId: PeerId, file: File | Blob | MyDocument, options: Partial<{\r\n    isRoundMessage: true,\r\n    isVoiceMessage: true,\r\n    isGroupedItem: true,\r\n    isMedia: true,\r\n\r\n    replyToMsgId: number,\r\n    sendAsPeerId: PeerId,\r\n    threadId: number,\r\n    groupId: string,\r\n    caption: string,\r\n    entities: MessageEntity[],\r\n    width: number,\r\n    height: number,\r\n    objectURL: string,\r\n    thumb: {\r\n      blob: Blob,\r\n      url: string,\r\n      size: MediaSize\r\n    },\r\n    duration: number,\r\n    background: true,\r\n    silent: true,\r\n    clearDraft: true,\r\n    scheduleDate: number,\r\n    noSound: boolean,\r\n\r\n    waveform: Uint8Array,\r\n\r\n    // ! only for internal use\r\n    processAfter?: typeof processAfter\r\n  }> = {}) {\r\n    peerId = this.appPeersManager.getPeerMigratedTo(peerId) || peerId;\r\n\r\n    //this.checkSendOptions(options);\r\n\r\n    const message = this.generateOutgoingMessage(peerId, options);\r\n    const replyToMsgId = options.replyToMsgId ? getServerMessageId(options.replyToMsgId) : undefined;\r\n\r\n    let attachType: 'document' | 'audio' | 'video' | 'voice' | 'photo', apiFileName: string;\r\n\r\n    const fileType = 'mime_type' in file ? file.mime_type : file.type;\r\n    const fileName = file instanceof File ? file.name : '';\r\n    const isDocument = !(file instanceof File) && !(file instanceof Blob);\r\n    let caption = options.caption || '';\r\n\r\n    this.log('sendFile', file, fileType);\r\n\r\n    const entities = options.entities || [];\r\n    if(caption) {\r\n      caption = parseMarkdown(caption, entities);\r\n    }\r\n\r\n    const attributes: DocumentAttribute[] = [];\r\n\r\n    const isPhoto = getEnvironment().IMAGE_MIME_TYPES_SUPPORTED.has(fileType);\r\n\r\n    let photo: MyPhoto, document: MyDocument;\r\n\r\n    let actionName: Extract<SendMessageAction['_'], 'sendMessageUploadAudioAction' | 'sendMessageUploadDocumentAction' | 'sendMessageUploadPhotoAction' | 'sendMessageUploadVideoAction'>;\r\n    if(isDocument) { // maybe it's a sticker or gif\r\n      attachType = 'document';\r\n      apiFileName = '';\r\n    } else if(fileType.indexOf('audio/') === 0 || ['video/ogg'].indexOf(fileType) >= 0) {\r\n      attachType = 'audio';\r\n      apiFileName = 'audio.' + (fileType.split('/')[1] === 'ogg' ? 'ogg' : 'mp3');\r\n      actionName = 'sendMessageUploadAudioAction';\r\n\r\n      if(options.isVoiceMessage) {\r\n        attachType = 'voice';\r\n        message.pFlags.media_unread = true;\r\n      }\r\n\r\n      let attribute: DocumentAttribute.documentAttributeAudio = {\r\n        _: 'documentAttributeAudio',\r\n        pFlags: {\r\n          voice: options.isVoiceMessage\r\n        },\r\n        waveform: options.waveform,\r\n        duration: options.duration || 0\r\n      };\r\n\r\n      attributes.push(attribute);\r\n    } else if(!options.isMedia) {\r\n      attachType = 'document';\r\n      apiFileName = 'document.' + fileType.split('/')[1];\r\n      actionName = 'sendMessageUploadDocumentAction';\r\n    } else if(isPhoto) {\r\n      attachType = 'photo';\r\n      apiFileName = 'photo.' + fileType.split('/')[1];\r\n      actionName = 'sendMessageUploadPhotoAction';\r\n\r\n      const photoSize = {\r\n        _: 'photoSize',\r\n        w: options.width,\r\n        h: options.height,\r\n        type: 'full',\r\n        location: null,\r\n        size: file.size\r\n      } as PhotoSize.photoSize;\r\n\r\n      photo = {\r\n        _: 'photo',\r\n        id: '' + message.id,\r\n        sizes: [photoSize],\r\n        w: options.width,\r\n        h: options.height\r\n      } as any;\r\n\r\n      const cacheContext = this.thumbsStorage.getCacheContext(photo, photoSize.type);\r\n      cacheContext.downloaded = file.size;\r\n      cacheContext.url = options.objectURL || '';\r\n      \r\n      photo = this.appPhotosManager.savePhoto(photo);\r\n    } else if(getEnvironment().VIDEO_MIME_TYPES_SUPPORTED.has(fileType)) {\r\n      attachType = 'video';\r\n      apiFileName = 'video.mp4';\r\n      actionName = 'sendMessageUploadVideoAction';\r\n\r\n      const videoAttribute: DocumentAttribute.documentAttributeVideo = {\r\n        _: 'documentAttributeVideo',\r\n        pFlags: {\r\n          round_message: options.isRoundMessage,\r\n          supports_streaming: true\r\n        }, \r\n        duration: options.duration,\r\n        w: options.width,\r\n        h: options.height\r\n      };\r\n\r\n      attributes.push(videoAttribute);\r\n\r\n      // * must follow after video attribute\r\n      if(options.noSound && \r\n        file.size > (10 * 1024) && \r\n        file.size < (10 * 1024 * 1024)) {\r\n        attributes.push({\r\n          _: 'documentAttributeAnimated'\r\n        });\r\n      }\r\n    } else {\r\n      attachType = 'document';\r\n      apiFileName = 'document.' + fileType.split('/')[1];\r\n      actionName = 'sendMessageUploadDocumentAction';\r\n    }\r\n\r\n    attributes.push({_: 'documentAttributeFilename', file_name: fileName || apiFileName});\r\n\r\n    if((['document', 'video', 'audio', 'voice'] as (typeof attachType)[]).indexOf(attachType) !== -1 && !isDocument) {\r\n      const thumbs: PhotoSize[] = [];\r\n      document = {\r\n        _: 'document',\r\n        id: '' + message.id,\r\n        duration: options.duration,\r\n        attributes,\r\n        w: options.width,\r\n        h: options.height,\r\n        thumbs,\r\n        mime_type: fileType,\r\n        size: file.size\r\n      } as any;\r\n\r\n      if(options.objectURL) {\r\n        const cacheContext = this.thumbsStorage.getCacheContext(document);\r\n        cacheContext.downloaded = file.size;\r\n        cacheContext.url = options.objectURL;\r\n      }\r\n\r\n      let thumb: PhotoSize.photoSize;\r\n      if(isPhoto) {\r\n        attributes.push({\r\n          _: 'documentAttributeImageSize',\r\n          w: options.width,\r\n          h: options.height\r\n        });\r\n\r\n        thumb = {\r\n          _: 'photoSize',\r\n          w: options.width,\r\n          h: options.height,\r\n          type: 'full',\r\n          size: file.size\r\n        };\r\n      } else if(attachType === 'video') {\r\n        if(options.thumb) {\r\n          thumb = {\r\n            _: 'photoSize',\r\n            w: options.thumb.size.width,\r\n            h: options.thumb.size.height,\r\n            type: 'local-thumb',\r\n            size: options.thumb.blob.size\r\n          };\r\n\r\n          const thumbCacheContext = this.thumbsStorage.getCacheContext(document, thumb.type);\r\n          thumbCacheContext.downloaded = thumb.size;\r\n          thumbCacheContext.url = options.thumb.url;\r\n        }\r\n      }\r\n\r\n      if(thumb) {\r\n        thumbs.push(thumb);\r\n      }\r\n\r\n      /* if(thumbs.length) {\r\n        const thumb = thumbs[0] as PhotoSize.photoSize;\r\n        const docThumb = appPhotosManager.getDocumentCachedThumb(document.id);\r\n        docThumb.downloaded = thumb.size;\r\n        docThumb.url = thumb.url;\r\n      } */\r\n      \r\n      document = this.appDocsManager.saveDoc(document);\r\n    }\r\n\r\n    this.log('sendFile', attachType, apiFileName, file.type, options);\r\n\r\n    const sentDeferred = deferredPromise<InputMedia>();\r\n    // sentDeferred.cancel = () => {\r\n    //   const error = new Error('Download canceled');\r\n    //   error.name = 'AbortError';\r\n    //   sentDeferred.reject(error);\r\n\r\n    //   if(uploadPromise?.cancel) {\r\n    //     uploadPromise.cancel();\r\n    //   }\r\n    // };\r\n\r\n    const media: MessageMedia = isDocument ? undefined : {\r\n      _: photo ? 'messageMediaPhoto' : 'messageMediaDocument',\r\n      pFlags: {},\r\n      // preloader,\r\n      photo,\r\n      document\r\n    };\r\n    \r\n    if(media) {\r\n      defineNotNumerableProperties(media as any, ['promise']);\r\n      (media as any).promise = sentDeferred;\r\n    }\r\n    \r\n    message.entities = entities;\r\n    message.message = caption;\r\n    message.media = isDocument ? {\r\n      _: 'messageMediaDocument',\r\n      pFlags: {},\r\n      document: file \r\n    } as MessageMedia.messageMediaDocument : media;\r\n    \r\n    const uploadingFileName = !isDocument ? getFileNameForUpload(file) : undefined;\r\n    message.uploadingFileName = uploadingFileName;\r\n\r\n    if(uploadingFileName) {\r\n      this.uploadFilePromises[uploadingFileName] = sentDeferred;\r\n    }\r\n\r\n    const toggleError = (on: boolean) => {\r\n      if(on) {\r\n        message.error = true;\r\n      } else {\r\n        delete message.error;\r\n      }\r\n\r\n      this.rootScope.dispatchEvent('messages_pending');\r\n    };\r\n\r\n    let uploaded = false,\r\n      uploadPromise: ReturnType<ApiFileManager['upload']> = null;\r\n\r\n    message.send = () => {\r\n      if(isDocument) {\r\n        const {id, access_hash, file_reference} = file as MyDocument;\r\n\r\n        const inputMedia: InputMedia = {\r\n          _: 'inputMediaDocument',\r\n          id: {\r\n            _: 'inputDocument',\r\n            id,\r\n            access_hash,\r\n            file_reference\r\n          }\r\n        };\r\n        \r\n        sentDeferred.resolve(inputMedia);\r\n      } else if(file instanceof File || file instanceof Blob) {\r\n        const load = () => {\r\n          if(!uploaded || message.error) {\r\n            uploaded = false;\r\n\r\n            uploadPromise = this.apiFileManager.upload({file, fileName: uploadingFileName});\r\n            uploadPromise.catch((err) => {\r\n              if(!uploaded) {\r\n                this.log('cancelling upload', media);\r\n      \r\n                this.cancelPendingMessage(message.random_id);\r\n                this.setTyping(peerId, {_: 'sendMessageCancelAction'});\r\n                sentDeferred.reject(err);\r\n              }\r\n            });\r\n\r\n            uploadPromise.addNotifyListener((progress: Progress) => {\r\n              /* if(DEBUG) {\r\n                this.log('upload progress', progress);\r\n              } */\r\n  \r\n              const percents = Math.max(1, Math.floor(100 * progress.done / progress.total));\r\n              if(actionName) {\r\n                this.setTyping(peerId, {_: actionName, progress: percents | 0});\r\n              }\r\n              sentDeferred.notifyAll(progress);\r\n            });\r\n\r\n            sentDeferred.notifyAll({done: 0, total: file.size});\r\n          }\r\n\r\n          let thumbUploadPromise: typeof uploadPromise;\r\n          if(attachType === 'video' && options.objectURL && options.thumb?.blob) {\r\n            thumbUploadPromise = this.apiFileManager.upload({file: options.thumb.blob});\r\n          }\r\n  \r\n          uploadPromise && uploadPromise.then(async(inputFile) => {\r\n            /* if(DEBUG) {\r\n              this.log('appMessagesManager: sendFile uploaded:', inputFile);\r\n            } */\r\n\r\n            inputFile.name = apiFileName;\r\n            uploaded = true;\r\n            let inputMedia: InputMedia;\r\n            switch(attachType) {\r\n              case 'photo':\r\n                inputMedia = {\r\n                  _: 'inputMediaUploadedPhoto', \r\n                  file: inputFile,\r\n                };\r\n                break;\r\n\r\n              default:\r\n                inputMedia = {\r\n                  _: 'inputMediaUploadedDocument', \r\n                  file: inputFile, \r\n                  mime_type: fileType, \r\n                  pFlags: {\r\n                    force_file: actionName === 'sendMessageUploadDocumentAction' ? true : undefined,\r\n                    // nosound_video: options.noSound ? true : undefined\r\n                  },\r\n                  attributes\r\n                };\r\n            }\r\n\r\n            if(thumbUploadPromise) {\r\n              try {\r\n                const inputFile = await thumbUploadPromise;\r\n                (inputMedia as InputMedia.inputMediaUploadedDocument).thumb = inputFile;\r\n              } catch(err) {\r\n                this.log.error('sendFile thumb upload error:', err);\r\n              }\r\n            }\r\n            \r\n            sentDeferred.resolve(inputMedia);\r\n          }, (/* error */) => {\r\n            toggleError(true);\r\n          });\r\n  \r\n          return sentDeferred;\r\n        };\r\n\r\n        if(options.isGroupedItem) {\r\n          load();\r\n        } else {\r\n          this.sendSmthLazyLoadQueue.push({\r\n            load\r\n          });\r\n        }\r\n      }\r\n\r\n      return sentDeferred;\r\n    };\r\n\r\n    this.beforeMessageSending(message, {\r\n      isGroupedItem: options.isGroupedItem, \r\n      isScheduled: !!options.scheduleDate || undefined, \r\n      threadId: options.threadId,\r\n      clearDraft: options.clearDraft,\r\n      processAfter: options.processAfter\r\n    });\r\n\r\n    if(!options.isGroupedItem) {\r\n      sentDeferred.then((inputMedia) => {\r\n        this.setTyping(peerId, {_: 'sendMessageCancelAction'});\r\n\r\n        return this.apiManager.invokeApi('messages.sendMedia', {\r\n          background: options.background,\r\n          peer: this.appPeersManager.getInputPeerById(peerId),\r\n          media: inputMedia,\r\n          message: caption,\r\n          random_id: message.random_id,\r\n          reply_to_msg_id: replyToMsgId,\r\n          schedule_date: options.scheduleDate,\r\n          silent: options.silent,\r\n          entities,\r\n          clear_draft: options.clearDraft,\r\n          send_as: options.sendAsPeerId ? this.appPeersManager.getInputPeerById(options.sendAsPeerId) : undefined\r\n        }).then((updates) => {\r\n          this.apiUpdatesManager.processUpdateMessage(updates);\r\n        }, (error) => {\r\n          if(attachType === 'photo' &&\r\n            error.code === 400 &&\r\n            (error.type === 'PHOTO_INVALID_DIMENSIONS' ||\r\n            error.type === 'PHOTO_SAVE_FILE_INVALID')) {\r\n            error.handled = true;\r\n            attachType = 'document';\r\n            message.send();\r\n            return;\r\n          }\r\n\r\n          toggleError(true);\r\n          throw error;\r\n        });\r\n      });\r\n\r\n      sentDeferred.then(message.promise.resolve, message.promise.reject);\r\n    }\r\n\r\n    const ret: {\r\n      message: typeof message,\r\n      promise: typeof sentDeferred\r\n    } = {\r\n      message\r\n    } as any;\r\n\r\n    defineNotNumerableProperties(ret, ['promise']);\r\n    ret.promise = sentDeferred;\r\n\r\n    return ret;\r\n  }\r\n\r\n  public async sendAlbum(peerId: PeerId, files: File[], options: Partial<{\r\n    isMedia: true,\r\n    entities: MessageEntity[],\r\n    replyToMsgId: number,\r\n    sendAsPeerId: PeerId,\r\n    threadId: number,\r\n    caption: string,\r\n    sendFileDetails: Partial<{\r\n      duration: number,\r\n      width: number,\r\n      height: number,\r\n      objectURL: string,\r\n      thumbBlob: Blob,\r\n      thumbURL: string\r\n    }>[],\r\n    silent: true,\r\n    clearDraft: true,\r\n    scheduleDate: number\r\n  }> = {}) {\r\n    //this.checkSendOptions(options);\r\n\r\n    if(options.threadId && !options.replyToMsgId) {\r\n      options.replyToMsgId = options.threadId;\r\n    }\r\n\r\n    if(files.length === 1) {\r\n      return this.sendFile(peerId, files[0], {...options, ...options.sendFileDetails[0]});\r\n    }\r\n\r\n    peerId = this.appPeersManager.getPeerMigratedTo(peerId) || peerId;\r\n    const replyToMsgId = options.replyToMsgId ? getServerMessageId(options.replyToMsgId) : undefined;\r\n\r\n    let caption = options.caption || '';\r\n    let entities = options.entities || [];\r\n    if(caption) {\r\n      caption = parseMarkdown(caption, entities);\r\n    }\r\n\r\n    this.log('sendAlbum', files, options);\r\n\r\n    const groupId = '' + ++this.groupedTempId;\r\n\r\n    const callbacks: Array<() => void> = [];\r\n    const processAfter = (cb: () => void) => {\r\n      callbacks.push(cb);\r\n    };\r\n\r\n    const messages = files.map((file, idx) => {\r\n      const details = options.sendFileDetails[idx];\r\n      const o: Parameters<AppMessagesManager['sendFile']>[2] = {\r\n        isGroupedItem: true,\r\n        isMedia: options.isMedia,\r\n        scheduleDate: options.scheduleDate,\r\n        silent: options.silent,\r\n        replyToMsgId,\r\n        threadId: options.threadId,\r\n        sendAsPeerId: options.sendAsPeerId,\r\n        groupId,\r\n        processAfter,\r\n        ...details\r\n      };\r\n\r\n      if(idx === 0) {\r\n        o.caption = caption;\r\n        o.entities = entities;\r\n        //o.replyToMsgId = replyToMsgId;\r\n      }\r\n\r\n      return this.sendFile(peerId, file, o).message;\r\n    });\r\n\r\n    if(options.clearDraft) {\r\n      callbacks.push(() => {\r\n        this.appDraftsManager.clearDraft(peerId, options.threadId);\r\n      });\r\n    }\r\n\r\n    callbacks.forEach((callback) => {\r\n      callback();\r\n    });\r\n\r\n    // * test pending\r\n    //return;\r\n\r\n    const toggleError = (message: any, on: boolean) => {\r\n      if(on) {\r\n        message.error = true;\r\n      } else {\r\n        delete message.error;\r\n      }\r\n\r\n      this.rootScope.dispatchEvent('messages_pending');\r\n    };\r\n\r\n    const inputPeer = this.appPeersManager.getInputPeerById(peerId);\r\n    const invoke = (multiMedia: InputSingleMedia[]) => {\r\n      this.setTyping(peerId, {_: 'sendMessageCancelAction'});\r\n\r\n      const deferred = deferredPromise<void>();\r\n      this.sendSmthLazyLoadQueue.push({\r\n        load: () => {\r\n          return this.apiManager.invokeApi('messages.sendMultiMedia', {\r\n            peer: inputPeer,\r\n            multi_media: multiMedia,\r\n            reply_to_msg_id: replyToMsgId,\r\n            schedule_date: options.scheduleDate,\r\n            silent: options.silent,\r\n            clear_draft: options.clearDraft,\r\n            send_as: options.sendAsPeerId ? this.appPeersManager.getInputPeerById(options.sendAsPeerId) : undefined\r\n          }).then((updates) => {\r\n            this.apiUpdatesManager.processUpdateMessage(updates);\r\n            deferred.resolve();\r\n          }, (error) => {\r\n            messages.forEach((message) => toggleError(message, true));\r\n            deferred.reject(error);\r\n          });\r\n        }\r\n      });\r\n\r\n      return deferred;\r\n    };\r\n\r\n    const promises: Promise<InputSingleMedia>[] = messages.map((message) => {\r\n      return (message.send() as Promise<InputMedia>).then((inputMedia) => {\r\n        return this.apiManager.invokeApi('messages.uploadMedia', {\r\n          peer: inputPeer,\r\n          media: inputMedia\r\n        });\r\n      })\r\n      .then((messageMedia) => {\r\n        let inputMedia: InputMedia;\r\n        if(messageMedia._ === 'messageMediaPhoto') {\r\n          const photo = this.appPhotosManager.savePhoto(messageMedia.photo);\r\n          inputMedia = getPhotoMediaInput(photo);\r\n        } else if(messageMedia._ === 'messageMediaDocument') {\r\n          const doc = this.appDocsManager.saveDoc(messageMedia.document);\r\n          inputMedia = getDocumentMediaInput(doc);\r\n        }\r\n\r\n        const inputSingleMedia: InputSingleMedia = {\r\n          _: 'inputSingleMedia',\r\n          media: inputMedia,\r\n          random_id: message.random_id,\r\n          message: caption,\r\n          entities\r\n        };\r\n\r\n        // * only 1 caption for all inputs\r\n        if(caption) {\r\n          caption = '';\r\n          entities = [];\r\n        }\r\n\r\n        return inputSingleMedia;\r\n      }).catch((err: any) => {\r\n        if(err.name === 'AbortError') {\r\n          return null;\r\n        }\r\n\r\n        this.log.error('sendAlbum upload item error:', err, message);\r\n        toggleError(message, true);\r\n        throw err;\r\n      });\r\n    });\r\n\r\n    return Promise.all(promises).then((inputs) => {\r\n      return invoke(inputs.filter(Boolean));\r\n    });\r\n  }\r\n\r\n  public sendContact(peerId: PeerId, contactPeerId: PeerId) {\r\n    return this.sendOther(peerId, this.appUsersManager.getContactMediaInput(contactPeerId));\r\n  }\r\n\r\n  public sendOther(peerId: PeerId, inputMedia: InputMedia | {_: 'messageMediaPending', messageMedia: MessageMedia}, options: Partial<{\r\n    replyToMsgId: number,\r\n    threadId: number,\r\n    viaBotId: BotId,\r\n    replyMarkup: ReplyMarkup,\r\n    clearDraft: true,\r\n    queryId: string\r\n    resultId: string,\r\n    scheduleDate: number,\r\n    silent: true,\r\n    geoPoint: GeoPoint,\r\n    sendAsPeerId: PeerId,\r\n  }> = {}) {\r\n    peerId = this.appPeersManager.getPeerMigratedTo(peerId) || peerId;\r\n\r\n    //this.checkSendOptions(options);\r\n    const message = this.generateOutgoingMessage(peerId, options);\r\n    const replyToMsgId = options.replyToMsgId ? getServerMessageId(options.replyToMsgId) : undefined;\r\n\r\n    let media: MessageMedia;\r\n    switch(inputMedia._) {\r\n      case 'inputMediaPoll': {\r\n        const pollId = '' + message.id;\r\n        inputMedia.poll.id = pollId;\r\n        this.appPollsManager.savePoll(inputMedia.poll, {\r\n          _: 'pollResults',\r\n          flags: 4,\r\n          total_voters: 0,\r\n          pFlags: {},\r\n          recent_voters: []\r\n        });\r\n\r\n        const {poll, results} = this.appPollsManager.getPoll(pollId);\r\n        media = {\r\n          _: 'messageMediaPoll',\r\n          poll,\r\n          results\r\n        };\r\n\r\n        break;\r\n      }\r\n\r\n      case 'inputMediaPhoto': {\r\n        media = {\r\n          _: 'messageMediaPhoto',\r\n          photo: this.appPhotosManager.getPhoto((inputMedia.id as InputPhoto.inputPhoto).id)\r\n        };\r\n        break;\r\n      }\r\n\r\n      case 'inputMediaDocument': {\r\n        const doc = this.appDocsManager.getDoc((inputMedia.id as InputDocument.inputDocument).id);\r\n        /* if(doc.sticker && doc.stickerSetInput) {\r\n          appStickersManager.pushPopularSticker(doc.id);\r\n        } */\r\n        media = {\r\n          _: 'messageMediaDocument',\r\n          document: doc\r\n        };\r\n        break;\r\n      }\r\n\r\n      case 'inputMediaContact': {\r\n        media = {\r\n          _: 'messageMediaContact',\r\n          phone_number: inputMedia.phone_number,\r\n          first_name: inputMedia.first_name,\r\n          last_name: inputMedia.last_name,\r\n          user_id: inputMedia.user_id ?? '0',\r\n          vcard: inputMedia.vcard\r\n        };\r\n        break;\r\n      }\r\n\r\n      case 'inputMediaGeoPoint': {\r\n        media = {\r\n          _: 'messageMediaGeo',\r\n          geo: options.geoPoint\r\n        };\r\n        break;\r\n      }\r\n\r\n      case 'inputMediaVenue': {\r\n        media = {\r\n          _: 'messageMediaVenue',\r\n          geo: options.geoPoint,\r\n          title: inputMedia.title,\r\n          address: inputMedia.address,\r\n          provider: inputMedia.provider,\r\n          venue_id: inputMedia.venue_id,\r\n          venue_type: inputMedia.venue_type\r\n        };\r\n        break;\r\n      }\r\n      \r\n      case 'messageMediaPending': {\r\n        media = (inputMedia as any).messageMedia;\r\n        break;\r\n      }\r\n    }\r\n\r\n    message.media = media;\r\n\r\n    let toggleError = (on: boolean) => {\r\n      /* const historyMessage = this.messagesForHistory[messageId];\r\n      if (on) {\r\n        message.error = true\r\n        if (historyMessage) {\r\n          historyMessage.error = true\r\n        }\r\n      } else {\r\n        delete message.error\r\n        if (historyMessage) {\r\n          delete historyMessage.error\r\n        }\r\n      } */\r\n      this.rootScope.dispatchEvent('messages_pending');\r\n    };\r\n\r\n    message.send = () => {\r\n      const sentRequestOptions: PendingAfterMsg = {};\r\n      if(this.pendingAfterMsgs[peerId]) {\r\n        sentRequestOptions.afterMessageId = this.pendingAfterMsgs[peerId].messageId;\r\n      }\r\n\r\n      const sendAs = options.sendAsPeerId ? this.appPeersManager.getInputPeerById(options.sendAsPeerId) : undefined;\r\n      let apiPromise: Promise<any>;\r\n      if(options.viaBotId) {\r\n        apiPromise = this.apiManager.invokeApiAfter('messages.sendInlineBotResult', {\r\n          peer: this.appPeersManager.getInputPeerById(peerId),\r\n          random_id: message.random_id,\r\n          reply_to_msg_id: replyToMsgId || undefined,\r\n          query_id: options.queryId,\r\n          id: options.resultId,\r\n          clear_draft: options.clearDraft,\r\n          schedule_date: options.scheduleDate,\r\n          silent: options.silent,\r\n          send_as: sendAs\r\n        }, sentRequestOptions);\r\n      } else {\r\n        apiPromise = this.apiManager.invokeApiAfter('messages.sendMedia', {\r\n          peer: this.appPeersManager.getInputPeerById(peerId),\r\n          media: inputMedia as InputMedia,\r\n          random_id: message.random_id,\r\n          reply_to_msg_id: replyToMsgId || undefined,\r\n          message: '',\r\n          clear_draft: options.clearDraft,\r\n          schedule_date: options.scheduleDate,\r\n          silent: options.silent,\r\n          send_as: sendAs\r\n        }, sentRequestOptions);\r\n      }\r\n\r\n      this.pendingAfterMsgs[peerId] = sentRequestOptions;\r\n\r\n      return apiPromise.then((updates) => {\r\n        if(updates.updates) {\r\n          updates.updates.forEach((update: Update) => {\r\n            if(update._ === 'updateDraftMessage') {\r\n              update.local = true;\r\n            }\r\n          });\r\n        }\r\n\r\n        this.apiUpdatesManager.processUpdateMessage(updates);\r\n      }, (error) => {\r\n        toggleError(true);\r\n      }).finally(() => {\r\n        if(this.pendingAfterMsgs[peerId] === sentRequestOptions) {\r\n          delete this.pendingAfterMsgs[peerId];\r\n        }\r\n      });\r\n    };\r\n\r\n    this.beforeMessageSending(message, {\r\n      isScheduled: !!options.scheduleDate || undefined, \r\n      threadId: options.threadId,\r\n      clearDraft: options.clearDraft,\r\n      sequential: true\r\n    });\r\n\r\n    return message.promise;\r\n  }\r\n\r\n  /* private checkSendOptions(options: Partial<{\r\n    scheduleDate: number\r\n  }>) {\r\n    if(options.scheduleDate) {\r\n      const minTimestamp = (Date.now() / 1000 | 0) + 10;\r\n      if(options.scheduleDate <= minTimestamp) {\r\n        delete options.scheduleDate;\r\n      }\r\n    }\r\n  } */\r\n\r\n  private beforeMessageSending(message: Message.message, options: Partial<{\r\n    isGroupedItem: true, \r\n    isScheduled: true, \r\n    threadId: number, \r\n    clearDraft: true,\r\n    sequential: boolean,\r\n    processAfter?: (cb: () => void) => void\r\n  }> = {}) {\r\n    const messageId = message.id;\r\n    const peerId = this.getMessagePeer(message);\r\n    const storage = options.isScheduled ? this.getScheduledMessagesStorage(peerId) : this.getHistoryMessagesStorage(peerId);\r\n    let callbacks: Array<() => void> = [];\r\n    if(options.isScheduled) {\r\n      //if(!options.isGroupedItem) {\r\n      this.saveMessages([message], {storage, isScheduled: true, isOutgoing: true});\r\n      callbacks.push(() => {\r\n        this.rootScope.dispatchEvent('scheduled_new', message);\r\n      });\r\n    } else {\r\n      /* if(options.threadId && this.threadsStorage[peerId]) {\r\n        delete this.threadsStorage[peerId][options.threadId];\r\n      } */\r\n      const storages: HistoryStorage[] = [\r\n        this.getHistoryStorage(peerId),\r\n        options.threadId ? this.getHistoryStorage(peerId, options.threadId) : undefined\r\n      ];\r\n\r\n      for(const storage of storages) {\r\n        if(storage) {\r\n          storage.history.unshift(messageId);\r\n        }\r\n      }\r\n\r\n      this.saveMessages([message], {storage, isOutgoing: true});\r\n      this.setDialogTopMessage(message);\r\n      callbacks.push(() => {\r\n        this.rootScope.dispatchEvent('history_append', {storageKey: storage.key, message});\r\n      });\r\n    }\r\n\r\n    const pending: PendingMessageDetails = this.pendingByRandomId[message.random_id] = {\r\n      peerId, \r\n      tempId: messageId, \r\n      threadId: options.threadId, \r\n      storage,\r\n      sequential: options.sequential\r\n    };\r\n\r\n    if(!options.isGroupedItem && message.send) {\r\n      callbacks.push(() => {\r\n        if(options.clearDraft) {\r\n          this.appDraftsManager.clearDraft(peerId, options.threadId);\r\n        }\r\n\r\n        message.send();\r\n      });\r\n    }\r\n\r\n    if(callbacks.length) {\r\n      (options.processAfter || processAfter)(() => {\r\n        for(const callback of callbacks) {\r\n          callback();\r\n        }\r\n      });\r\n    }\r\n\r\n    return pending;\r\n  }\r\n\r\n  private generateOutgoingMessage(peerId: PeerId, options: Partial<{\r\n    scheduleDate: number,\r\n    replyToMsgId: number,\r\n    sendAsPeerId: PeerId, \r\n    threadId: number,\r\n    viaBotId: BotId,\r\n    groupId: string,\r\n    replyMarkup: ReplyMarkup,\r\n  }>) {\r\n    if(options.threadId && !options.replyToMsgId) {\r\n      options.replyToMsgId = options.threadId;\r\n    }\r\n\r\n    let postAuthor: string;\r\n    const isBroadcast = this.appPeersManager.isBroadcast(peerId);\r\n    if(isBroadcast) {\r\n      const chat = this.appPeersManager.getPeer(peerId) as Chat.channel;\r\n      if(chat.pFlags.signatures) {\r\n        const user = this.appUsersManager.getSelf();\r\n        const fullName = user.first_name + (user.last_name ? ' ' + user.last_name : '');\r\n        postAuthor = fullName;\r\n      }\r\n    }\r\n\r\n    const message: Message.message = {\r\n      _: 'message',\r\n      id: this.generateTempMessageId(peerId),\r\n      from_id: options.sendAsPeerId ? this.appPeersManager.getOutputPeer(options.sendAsPeerId) : this.generateFromId(peerId),\r\n      peer_id: this.appPeersManager.getOutputPeer(peerId),\r\n      post_author: postAuthor, \r\n      pFlags: this.generateFlags(peerId),\r\n      date: options.scheduleDate || (tsNow(true) + this.timeManager.getServerTimeOffset()),\r\n      message: '',\r\n      grouped_id: options.groupId,\r\n      random_id: randomLong(),\r\n      reply_to: this.generateReplyHeader(options.replyToMsgId, options.threadId),\r\n      via_bot_id: options.viaBotId,\r\n      reply_markup: options.replyMarkup,\r\n      replies: this.generateReplies(peerId),\r\n      views: isBroadcast && 1,\r\n      pending: true\r\n    };\r\n\r\n    defineNotNumerableProperties(message, ['send', 'promise']);\r\n    if(options.groupId === undefined) {\r\n      message.promise = deferredPromise();\r\n    }\r\n\r\n    return message;\r\n  }\r\n\r\n  private generateReplyHeader(replyToMsgId: number, replyToTopId?: number) {\r\n    const header = {\r\n      _: 'messageReplyHeader',\r\n      reply_to_msg_id: replyToMsgId || replyToTopId,\r\n    } as MessageReplyHeader;\r\n\r\n    if(replyToTopId && header.reply_to_msg_id !== replyToTopId) {\r\n      header.reply_to_top_id = replyToTopId;\r\n    }\r\n\r\n    return header;\r\n  }\r\n\r\n  private generateReplies(peerId: PeerId) {\r\n    let replies: MessageReplies.messageReplies;\r\n    if(this.appPeersManager.isBroadcast(peerId)) {\r\n      const channelFull = this.appProfileManager.getCachedFullChat(peerId.toChatId()) as ChatFull.channelFull;\r\n      if(channelFull?.linked_chat_id) {\r\n        replies = {\r\n          _: 'messageReplies',\r\n          flags: 1,\r\n          pFlags: {\r\n            comments: true\r\n          },\r\n          channel_id: channelFull.linked_chat_id,\r\n          replies: 0,\r\n          replies_pts: 0\r\n        };\r\n      }\r\n    }\r\n\r\n    return replies;\r\n  }\r\n\r\n  /**\r\n   * Generate correct from_id according to anonymous or broadcast\r\n   */\r\n  private generateFromId(peerId: PeerId) {\r\n    if(this.appPeersManager.isAnyChat(peerId) && (this.appPeersManager.isBroadcast(peerId) || this.isAnonymousSending(peerId))) {\r\n      return undefined;\r\n    } else {\r\n      return this.appPeersManager.getOutputPeer(this.appUsersManager.getSelf().id.toPeerId());\r\n    }\r\n  }\r\n\r\n  private generateFlags(peerId: PeerId) {\r\n    const pFlags: Message.message['pFlags'] = {};\r\n    const fromId = this.appUsersManager.getSelf().id;\r\n    if(peerId !== fromId) {\r\n      pFlags.out = true;\r\n\r\n      if(!this.appPeersManager.isChannel(peerId) && !this.appUsersManager.isBot(peerId)) {\r\n        pFlags.unread = true;\r\n      }\r\n    }\r\n\r\n    if(this.appPeersManager.isBroadcast(peerId)) {\r\n      pFlags.post = true;\r\n    }\r\n\r\n    return pFlags;\r\n  }\r\n\r\n  private generateForwardHeader(peerId: PeerId, originalMessage: Message.message) {\r\n    const myId = this.appUsersManager.getSelf().id.toPeerId();\r\n    const fromId = originalMessage.fromId;\r\n    if(fromId === myId && originalMessage.peerId === myId && !originalMessage.fwd_from) {\r\n      return;\r\n    }\r\n\r\n    const fwdHeader: MessageFwdHeader.messageFwdHeader = {\r\n      _: 'messageFwdHeader',\r\n      flags: 0,\r\n      date: originalMessage.date\r\n    };\r\n\r\n    let isUserHidden = false;\r\n    if(originalMessage.fwd_from) {\r\n      fwdHeader.from_id = originalMessage.fwd_from.from_id;\r\n      fwdHeader.from_name = originalMessage.fwd_from.from_name;\r\n      fwdHeader.post_author = originalMessage.fwd_from.post_author;\r\n    } else {\r\n      fwdHeader.post_author = originalMessage.post_author;\r\n      \r\n      if(fromId.isUser()) {\r\n        const userFull = this.appProfileManager.getCachedFullUser(fromId.toUserId());\r\n        if(userFull?.private_forward_name) {\r\n          fwdHeader.from_name = userFull.private_forward_name;\r\n          isUserHidden = true;\r\n        }\r\n      }\r\n\r\n      if(!isUserHidden) {\r\n        fwdHeader.from_id = this.appPeersManager.getOutputPeer(fromId);\r\n      }\r\n    }\r\n\r\n    if(this.appPeersManager.isBroadcast(originalMessage.peerId)) {\r\n      if(originalMessage.post_author) {\r\n        fwdHeader.post_author = originalMessage.post_author;\r\n      }\r\n\r\n      fwdHeader.channel_post = originalMessage.id;\r\n    }\r\n    \r\n    if(peerId === myId && !isUserHidden) {\r\n      fwdHeader.saved_from_msg_id = originalMessage.id;\r\n      fwdHeader.saved_from_peer = this.appPeersManager.getOutputPeer(originalMessage.peerId);\r\n    }\r\n\r\n    return fwdHeader;\r\n  }\r\n\r\n  public generateFakeAvatarMessage(peerId: PeerId, photo: Photo) {\r\n    const maxId = Number.MAX_SAFE_INTEGER;\r\n    const message: Message.messageService = {\r\n      _: 'messageService',\r\n      pFlags: {},\r\n      action: {\r\n        _: 'messageActionChannelEditPhoto',\r\n        photo\r\n      },\r\n      id: maxId,\r\n      peer_id: this.appPeersManager.getOutputPeer(peerId),\r\n      mid: maxId,\r\n      peerId,\r\n      date: (photo as Photo.photo).date,\r\n      fromId: peerId\r\n    };\r\n\r\n    this.getHistoryMessagesStorage(peerId).set(maxId, message);\r\n    return message;\r\n  }\r\n\r\n  public getUploadPromise(uploadFileName: string) {\r\n    return this.uploadFilePromises[uploadFileName];\r\n  }\r\n\r\n  public isAnonymousSending(peerId: PeerId): boolean {\r\n    return peerId.isAnyChat() && this.appPeersManager.getPeer(peerId).admin_rights?.pFlags?.anonymous;\r\n  }\r\n\r\n  public setDialogTopMessage(message: MyMessage, dialog: MTDialog.dialog = this.getDialogOnly(message.peerId)) {\r\n    if(dialog) {\r\n      dialog.top_message = message.mid;\r\n      \r\n      const historyStorage = this.getHistoryStorage(message.peerId);\r\n      historyStorage.maxId = message.mid;\r\n\r\n      this.dialogsStorage.generateIndexForDialog(dialog, false, message);\r\n\r\n      this.scheduleHandleNewDialogs(message.peerId, dialog);\r\n    }\r\n  }\r\n\r\n  public cancelPendingMessage(randomId: string) {\r\n    const pendingData = this.pendingByRandomId[randomId];\r\n\r\n    /* if(DEBUG) {\r\n      this.log('cancelPendingMessage', randomId, pendingData);\r\n    } */\r\n\r\n    if(pendingData) {\r\n      const {peerId, tempId, storage} = pendingData;\r\n      const historyStorage = this.getHistoryStorage(peerId);\r\n\r\n      this.apiUpdatesManager.processLocalUpdate({\r\n        _: 'updateDeleteMessages',\r\n        messages: [tempId],\r\n        pts: undefined,\r\n        pts_count: undefined\r\n      });\r\n\r\n      historyStorage.history.delete(tempId);\r\n\r\n      delete this.pendingByRandomId[randomId];\r\n      storage.delete(tempId);\r\n\r\n      return true;\r\n    }\r\n\r\n    return false;\r\n  }\r\n\r\n  /* public async refreshConversations() {\r\n    const limit = 200, outDialogs: Dialog[] = [];\r\n    for(let folderId = 0; folderId < 2; ++folderId) {\r\n      let offsetDate = 0;\r\n      for(;;) {\r\n        const {dialogs, isEnd} = await this.getTopMessages(limit, folderId, offsetDate);\r\n  \r\n        if(dialogs.length) {\r\n          outDialogs.push(...dialogs as Dialog[]);\r\n          const dialog = dialogs[dialogs.length - 1];\r\n\r\n          // * get peerId and mid manually, because dialog can be migrated peer and it won't be saved\r\n          const peerId = getPeerId(dialog.peer);\r\n          const mid = generateMessageId(dialog.top_message);\r\n          offsetDate = this.getMessageByPeer(peerId, mid).date;\r\n\r\n          if(!offsetDate) {\r\n            console.error('refreshConversations: got no offsetDate', dialog);\r\n            break;\r\n          }\r\n        }\r\n        \r\n        if(isEnd) {\r\n          break;\r\n        }\r\n      }\r\n    }\r\n\r\n    let obj: {[peerId: string]: Dialog} = {};\r\n    outDialogs.forEach((dialog) => {\r\n      obj[dialog.peerId] = dialog;\r\n    });\r\n    rootScope.dispatchEvent('dialogs_multiupdate', obj);\r\n\r\n    return outDialogs;\r\n  } */\r\n\r\n  public async fillConversations(): Promise<void> {\r\n    const middleware = this.middleware.get();\r\n    while(!this.dialogsStorage.isDialogsLoaded(GLOBAL_FOLDER_ID)) {\r\n      const result = await this.getTopMessages(100, GLOBAL_FOLDER_ID);\r\n      if(!middleware() || result.isEnd) {\r\n        break;\r\n      }\r\n    }\r\n  }\r\n\r\n  /* public async getConversationsAll(query = '', folderId = 0) {\r\n    const limit = 200, outDialogs: Dialog[] = [];\r\n    for(; folderId < 2; ++folderId) {\r\n      let offsetIndex = 0;\r\n      for(;;) {\r\n        const {dialogs} = await appMessagesManager.getConversations(query, offsetIndex, limit, folderId).promise;\r\n  \r\n        if(dialogs.length) {\r\n          outDialogs.push(...dialogs);\r\n          offsetIndex = dialogs[dialogs.length - 1].index || 0;\r\n        } else {\r\n          break;\r\n        }\r\n      }\r\n    }\r\n\r\n    return outDialogs;\r\n  } */\r\n\r\n  public getConversations(query = '', offsetIndex?: number, limit?: number, folderId = 0, skipMigrated?: boolean) {\r\n    return this.dialogsStorage.getDialogs(query, offsetIndex, limit, folderId, skipMigrated);\r\n  }\r\n\r\n  public getReadMaxIdIfUnread(peerId: PeerId, threadId?: number) {\r\n    const historyStorage = this.getHistoryStorage(peerId, threadId);\r\n    if(threadId) {\r\n      const chatHistoryStorage = this.getHistoryStorage(peerId);\r\n      const readMaxId = Math.max(chatHistoryStorage.readMaxId ?? 0, historyStorage.readMaxId);\r\n      const message = this.getMessageByPeer(peerId, historyStorage.maxId); // usually message is missing, so pFlags.out won't be there anyway\r\n      return !message?.pFlags?.out && readMaxId < historyStorage.maxId ? readMaxId : 0;\r\n    } else {\r\n      const message = this.getMessageByPeer(peerId, historyStorage.maxId);\r\n      const readMaxId = peerId.isUser() ? Math.max(historyStorage.readMaxId, historyStorage.readOutboxMaxId) : historyStorage.readMaxId;\r\n      return !message?.pFlags?.out && readMaxId < historyStorage.maxId ? readMaxId : 0;\r\n    }\r\n  }\r\n\r\n  // public lolSet = new Set();\r\n  public getTopMessages(limit: number, folderId: LOCAL_FOLDER_ID, offsetDate?: number) {\r\n    //const dialogs = this.dialogsStorage.getFolder(folderId);\r\n    let offsetId = 0;\r\n    let offsetPeerId: PeerId;\r\n    let offsetIndex = 0;\r\n\r\n    if(offsetDate === undefined) {\r\n      offsetDate = this.dialogsStorage.getOffsetDate(folderId);\r\n    }\r\n\r\n    if(offsetDate) {\r\n      offsetIndex = offsetDate * 0x10000;\r\n      offsetDate += this.timeManager.getServerTimeOffset();\r\n    }\r\n\r\n    const useLimit = 100;\r\n    const middleware = this.middleware.get();\r\n\r\n    // ! ВНИМАНИЕ: ОЧЕНЬ СЛОЖНАЯ ЛОГИКА:\r\n    // ! если делать запрос сначала по папке 0, потом по папке 1, по индексу 0 в массиве будет один и тот же диалог, с dialog.pFlags.pinned, ЛОЛ???\r\n    // ! т.е., с запросом folder_id: 1, и exclude_pinned: 0, в результате будут ещё и закреплённые с папки 0\r\n    const params: MessagesGetDialogs = {\r\n      folder_id: folderId,\r\n      offset_date: offsetDate,\r\n      offset_id: offsetId,\r\n      offset_peer: this.appPeersManager.getInputPeerById(offsetPeerId),\r\n      limit: useLimit,\r\n      hash: '0'\r\n    };\r\n\r\n    return this.apiManager.invokeApiSingle('messages.getDialogs', params, {\r\n      //timeout: APITIMEOUT,\r\n      noErrorBox: true\r\n    }).then((dialogsResult) => {\r\n      if(!middleware() || dialogsResult._ === 'messages.dialogsNotModified') return null;\r\n\r\n      if(DEBUG) {\r\n        this.log('messages.getDialogs result:', dialogsResult.dialogs, {...dialogsResult.dialogs[0]});\r\n      }\r\n\r\n      /* if(!offsetDate) {\r\n        telegramMeWebService.setAuthorized(true);\r\n      } */\r\n\r\n      // can reset pinned order here\r\n      if(!offsetId && !offsetDate && !offsetPeerId && folderId !== GLOBAL_FOLDER_ID) {\r\n        this.dialogsStorage.resetPinnedOrder(folderId);\r\n      }\r\n\r\n      if(!offsetDate) {\r\n        telegramMeWebManager.setAuthorized(true);\r\n        this.appDraftsManager.addMissedDialogs();\r\n      }\r\n\r\n      this.appUsersManager.saveApiUsers(dialogsResult.users);\r\n      this.appChatsManager.saveApiChats(dialogsResult.chats);\r\n      this.saveMessages(dialogsResult.messages);\r\n\r\n      let maxSeenIdIncremented = offsetDate ? true : false;\r\n      let hasPrepend = false;\r\n      const noIdsDialogs: {[peerId: PeerId]: Dialog} = {};\r\n      const setFolderId: LOCAL_FOLDER_ID = folderId === GLOBAL_FOLDER_ID ? 0 : folderId;\r\n      const saveGlobalOffset = folderId === GLOBAL_FOLDER_ID;\r\n      forEachReverse((dialogsResult.dialogs as Dialog[]), (dialog) => {\r\n        //const d = Object.assign({}, dialog);\r\n        // ! нужно передавать folderId, так как по папке !== 0 нет свойства folder_id\r\n        if(dialog.folder_id === undefined) {\r\n          dialog.folder_id = setFolderId;\r\n        }\r\n\r\n        this.dialogsStorage.saveDialog(dialog, undefined, true, saveGlobalOffset);\r\n\r\n        if(!maxSeenIdIncremented &&\r\n          !this.appPeersManager.isChannel(dialog.peerId || getPeerId(dialog.peer))) {\r\n          this.incrementMaxSeenId(dialog.top_message);\r\n          maxSeenIdIncremented = true;\r\n        }\r\n\r\n        if(dialog.peerId === undefined) {\r\n          return;\r\n        }\r\n\r\n        // if(!folderId && !dialog.folder_id) {\r\n        //   this.lolSet.add(dialog.peerId);\r\n        // }\r\n\r\n        if(offsetIndex && getDialogIndex(dialog) > offsetIndex) {\r\n          this.scheduleHandleNewDialogs(dialog.peerId, dialog);\r\n          hasPrepend = true;\r\n        }\r\n\r\n        // ! это может случиться, если запрос идёт не по папке 0, а по 1. почему-то read'ов нет\r\n        // ! в итоге, чтобы получить 1 диалог, делается первый запрос по папке 0, потом запрос для архивных по папке 1, и потом ещё перезагрузка архивного диалога\r\n        if(!getServerMessageId(dialog.read_inbox_max_id) && !getServerMessageId(dialog.read_outbox_max_id)) {\r\n          noIdsDialogs[dialog.peerId] = dialog;\r\n\r\n          this.log.error('noIdsDialogs', dialog, params);\r\n        }\r\n      });\r\n\r\n      const keys = Object.keys(noIdsDialogs);\r\n      if(keys.length) {\r\n        //setTimeout(() => { // test bad situation\r\n          const peerIds = keys.map((key) => key.toPeerId());\r\n          const promises = peerIds.map((peerId) => this.reloadConversation(peerId));\r\n          Promise.all(promises).then(() => {\r\n            this.rootScope.dispatchEvent('dialogs_multiupdate', noIdsDialogs);\r\n  \r\n            for(let i = 0; i < peerIds.length; ++i) {\r\n              const peerId = peerIds[i];\r\n              this.rootScope.dispatchEvent('dialog_unread', {\r\n                peerId, \r\n                dialog: this.getDialogOnly(peerId)\r\n              });\r\n            }\r\n          });\r\n        //}, 10e3);\r\n      }\r\n\r\n      const count = (dialogsResult as MessagesDialogs.messagesDialogsSlice).count;\r\n\r\n      // exclude empty draft dialogs\r\n      const folderDialogs = this.dialogsStorage.getFolderDialogs(folderId, false);\r\n      let dialogsLength = 0;\r\n      for(let i = 0, length = folderDialogs.length; i < length; ++i) {\r\n        if(getServerMessageId(folderDialogs[i].top_message)) {\r\n          ++dialogsLength;\r\n        }\r\n      }\r\n\r\n      const isEnd = /* limit > dialogsResult.dialogs.length || */ \r\n        !count || \r\n        dialogsLength >= count ||\r\n        !dialogsResult.dialogs.length;\r\n      if(isEnd) {\r\n        this.dialogsStorage.setDialogsLoaded(folderId, true);\r\n      }\r\n\r\n      if(hasPrepend) {\r\n        this.scheduleHandleNewDialogs();\r\n      } else {\r\n        this.rootScope.dispatchEvent('dialogs_multiupdate', {});\r\n      }\r\n\r\n      const dialogs = (dialogsResult as MessagesDialogs.messagesDialogsSlice).dialogs;\r\n      const slicedDialogs = limit === useLimit ? dialogs : dialogs.slice(0, limit);\r\n      return {\r\n        isEnd: isEnd && slicedDialogs[slicedDialogs.length - 1] === dialogs[dialogs.length - 1], \r\n        count, \r\n        dialogs: slicedDialogs\r\n      };\r\n    });\r\n  }\r\n\r\n  public async forwardMessages(peerId: PeerId, fromPeerId: PeerId, mids: number[], options: Partial<{\r\n    withMyScore: true,\r\n    silent: true,\r\n    scheduleDate: number,\r\n    dropAuthor: boolean,\r\n    dropCaptions: boolean,\r\n    sendAsPeerId: PeerId,\r\n  }> = {}) {\r\n    peerId = this.appPeersManager.getPeerMigratedTo(peerId) || peerId;\r\n    mids = mids.slice().sort((a, b) => a - b);\r\n\r\n    for(let i = 0, length = mids.length; i < length; ++i) {\r\n      const mid = mids[i];\r\n      const originalMessage = this.getMessageByPeer(fromPeerId, mid) as Message.message;\r\n      if(originalMessage.pFlags.is_outgoing) { // this can happen when forwarding a changelog\r\n        this.sendText(peerId, originalMessage.message, {\r\n          entities: originalMessage.entities,\r\n          scheduleDate: options.scheduleDate,\r\n          silent: options.silent\r\n        });\r\n\r\n        mids.splice(i--, 1);\r\n        --length;\r\n      }\r\n    }\r\n\r\n    if(!mids.length) {\r\n      return Promise.resolve();\r\n    }\r\n\r\n    const config = await this.apiManager.getConfig();\r\n    const overflowMids = mids.splice(config.forwarded_count_max, mids.length - config.forwarded_count_max);\r\n\r\n    if(options.dropCaptions) {\r\n      options.dropAuthor = true;\r\n    }\r\n\r\n    const groups: {\r\n      [groupId: string]: {\r\n        tempId: string,\r\n        messages: Message.message[]\r\n      }\r\n    } = {};\r\n\r\n    const newMids: number[] = [];\r\n    const newMessages = mids.map((mid) => {\r\n      const originalMessage = this.getMessageByPeer(fromPeerId, mid) as Message.message;\r\n      const message: Message.message = this.generateOutgoingMessage(peerId, options);\r\n      newMids.push(message.id);\r\n\r\n      const keys: Array<keyof Message.message> = [\r\n        'entities', \r\n        'media', \r\n        // 'reply_markup'\r\n      ];\r\n\r\n      if(!options.dropAuthor) {\r\n        message.fwd_from = this.generateForwardHeader(peerId, originalMessage);\r\n        keys.push('views', 'forwards');\r\n\r\n        if(message.fwd_from?.from_name && peerId === this.appPeersManager.peerId) {\r\n          delete message.from_id;\r\n        }\r\n      }\r\n\r\n      if(!options.dropCaptions || !originalMessage.media) {\r\n        keys.push('message');\r\n      }\r\n\r\n      const replyToMid = originalMessage.reply_to?.reply_to_msg_id;\r\n      const replyToMessageIdx = mids.indexOf(replyToMid);\r\n      if(replyToMid && replyToMessageIdx !== -1) {\r\n        const newReplyToMid = newMids[replyToMessageIdx];\r\n        message.reply_to = {\r\n          _: 'messageReplyHeader',\r\n          reply_to_msg_id: newReplyToMid\r\n        };\r\n\r\n        /* this.invokeAfterMessageIsSent(newReplyToMid, 'reply', async(originalMessage) => {\r\n          message.reply_to.reply_to_msg_id = originalMessage.mid;\r\n        }); */\r\n      }\r\n\r\n      keys.forEach((key) => {\r\n        // @ts-ignore\r\n        message[key] = originalMessage[key];\r\n      });\r\n\r\n      const document = (message.media as MessageMedia.messageMediaDocument)?.document as MyDocument;\r\n      if(document) {\r\n        const types: MyDocument['type'][] = ['round', 'voice'];\r\n        if(types.includes(document.type)) {\r\n          (message as MyMessage).pFlags.media_unread = true;\r\n        }\r\n      }\r\n\r\n      if(originalMessage.grouped_id) {\r\n        const group = groups[originalMessage.grouped_id] ?? (groups[originalMessage.grouped_id] = {tempId: '' + ++this.groupedTempId, messages: []});\r\n        group.messages.push(message);\r\n      }\r\n\r\n      return message;\r\n    });\r\n\r\n    for(const groupId in groups) {\r\n      const group = groups[groupId];\r\n      if(group.messages.length > 1) {\r\n        group.messages.forEach((message) => {\r\n          message.grouped_id = group.tempId;\r\n        });\r\n      }\r\n    }\r\n\r\n    newMessages.forEach((message) => {\r\n      this.beforeMessageSending(message, {\r\n        isScheduled: !!options.scheduleDate || undefined,\r\n        sequential: true\r\n      });\r\n    });\r\n\r\n    const sentRequestOptions: PendingAfterMsg = {};\r\n    if(this.pendingAfterMsgs[peerId]) {\r\n      sentRequestOptions.afterMessageId = this.pendingAfterMsgs[peerId].messageId;\r\n    }\r\n\r\n    const promise = /* true ? Promise.resolve() :  */this.apiManager.invokeApiAfter('messages.forwardMessages', {\r\n      from_peer: this.appPeersManager.getInputPeerById(fromPeerId),\r\n      id: mids.map((mid) => getServerMessageId(mid)),\r\n      random_id: newMessages.map((message) => message.random_id),\r\n      to_peer: this.appPeersManager.getInputPeerById(peerId),\r\n      with_my_score: options.withMyScore,\r\n      silent: options.silent,\r\n      schedule_date: options.scheduleDate,\r\n      drop_author: options.dropAuthor,\r\n      drop_media_captions: options.dropCaptions,\r\n      send_as: options.sendAsPeerId ? this.appPeersManager.getInputPeerById(options.sendAsPeerId) : undefined\r\n    }, sentRequestOptions).then((updates) => {\r\n      this.log('forwardMessages updates:', updates);\r\n      this.apiUpdatesManager.processUpdateMessage(updates);\r\n    }).finally(() => {\r\n      if(this.pendingAfterMsgs[peerId] === sentRequestOptions) {\r\n        delete this.pendingAfterMsgs[peerId];\r\n      }\r\n    });\r\n\r\n    this.pendingAfterMsgs[peerId] = sentRequestOptions;\r\n\r\n    const promises: (typeof promise)[] = [promise];\r\n    if(overflowMids.length) {\r\n      promises.push(this.forwardMessages(peerId, fromPeerId, overflowMids, options));\r\n    }\r\n    \r\n    return Promise.all(promises).then(noop);\r\n  }\r\n\r\n  public generateEmptyMessage(mid: number): Message.message | Message.messageService {\r\n    return undefined;\r\n    // return {\r\n    //   _: 'messageEmpty',\r\n    //   id: getServerMessageId(mid),\r\n    //   mid,\r\n    //   deleted: true,\r\n    //   pFlags: {}\r\n    // };\r\n  }\r\n  \r\n  public getMessagesStorageByKey(key: MessagesStorageKey) {\r\n    const s = key.split('_');\r\n    const peerId: PeerId = +s[0];\r\n    const type: MessagesStorageType = s[1] as any;\r\n    return type === 'scheduled' ? this.getScheduledMessagesStorage(peerId) : this.getHistoryMessagesStorage(peerId);\r\n  }\r\n\r\n  public getMessageFromStorage(storage: MessagesStorage | MessagesStorageKey, mid: number) {\r\n    if(typeof(storage) === 'string') {\r\n      storage = this.getMessagesStorageByKey(storage);\r\n    }\r\n    \r\n    return storage && storage.get(mid)/*  || this.generateEmptyMessage(mid) */;\r\n  }\r\n\r\n  private createMessageStorage(peerId: PeerId, type: MessagesStorageType) {\r\n    const storage: MessagesStorage = new Map() as any;\r\n    storage.peerId = peerId;\r\n    storage.type = type;\r\n    storage.key = `${peerId}_${type}`;\r\n    \r\n    /* let num = 0;\r\n    Object.defineProperty(storage, 'num', {\r\n      get: () => ++num,\r\n      set: (_num: number) => num = _num, \r\n      enumerable: false\r\n    });\r\n\r\n    Object.defineProperty(storage, 'generateIndex', {\r\n      value: (message: any) => {\r\n        if(message.index === undefined) {\r\n          message.index = (message.date * 0x10000) + (storage.num & 0xFFFF);\r\n        }\r\n      },\r\n      enumerable: false\r\n    }); */\r\n\r\n    return storage;\r\n  }\r\n\r\n  public getHistoryMessagesStorage(peerId: PeerId) {\r\n    return this.messagesStorageByPeerId[peerId] ?? (this.messagesStorageByPeerId[peerId] = this.createMessageStorage(peerId, 'history'));\r\n  }\r\n\r\n  public getMessagesStorage(key: MessagesStorageKey | MessagesStorage): MessagesStorage {\r\n    if(typeof(key) === 'object') {\r\n      return key;\r\n    } else {\r\n      return this.getMessagesStorageByKey(key);\r\n    }\r\n  }\r\n\r\n  public getMessageById(messageId: number) {\r\n    for(const peerId in this.messagesStorageByPeerId) {\r\n      if(this.appPeersManager.isChannel(peerId.toPeerId())) {\r\n        continue;\r\n      }\r\n\r\n      const message = this.messagesStorageByPeerId[peerId].get(messageId);\r\n      if(message) {\r\n        return message;\r\n      }\r\n    }\r\n\r\n    return this.getMessageFromStorage(null, messageId);\r\n  }\r\n\r\n  public getMessageByPeer(peerId: PeerId, messageId: number) {\r\n    if(!peerId) {\r\n      return this.getMessageById(messageId);\r\n    }\r\n\r\n    return this.getMessageFromStorage(this.getHistoryMessagesStorage(peerId), messageId);\r\n  }\r\n\r\n  public getMessagePeer(message: any): PeerId {\r\n    const toId = message.peer_id && getPeerId(message.peer_id) || NULL_PEER_ID;\r\n\r\n    return toId;\r\n  }\r\n\r\n  public getDialogByPeerId(peerId: PeerId): [Dialog, number] | [] {\r\n    return this.dialogsStorage.getDialog(peerId);\r\n  }\r\n\r\n  public getDialogOnly(peerId: PeerId) {\r\n    return this.dialogsStorage.getDialogOnly(peerId);\r\n  }\r\n\r\n  public cantForwardDeleteMids(storageKey: MessagesStorageKey, mids: number[]) {\r\n    const storage = this.getMessagesStorage(storageKey);\r\n    let cantForward = !mids.length, cantDelete = !mids.length;\r\n    for(const mid of mids) {\r\n      const message = this.getMessageFromStorage(storage, mid);\r\n      if(!cantForward) {\r\n        cantForward = !this.canForward(message);\r\n      }\r\n      \r\n      if(!cantDelete) {\r\n        cantDelete = !this.canDeleteMessage(message);\r\n      }\r\n\r\n      if(cantForward && cantDelete) break;\r\n    }\r\n\r\n    return {cantForward, cantDelete};\r\n  }\r\n\r\n  public reloadConversation(inputPeer?: PeerId | InputPeer): CancellablePromise<Dialog>;\r\n  public reloadConversation(inputPeer: PeerId | InputPeer) {\r\n    let promise: CancellablePromise<Dialog>;\r\n    if(inputPeer !== undefined) {\r\n      const peerId = getPeerId(inputPeer);\r\n      let obj = this.reloadConversationsPeers.get(peerId);\r\n      if(obj) {\r\n        promise = obj.promise;\r\n      }\r\n\r\n      if(promise) {\r\n        return promise;\r\n      }\r\n\r\n      promise = deferredPromise();\r\n      this.reloadConversationsPeers.set(peerId, obj = {\r\n        inputDialogPeer: this.appPeersManager.getInputDialogPeerById(inputPeer),\r\n        promise\r\n      });\r\n    }\r\n\r\n    if(this.reloadConversationsPromise) {\r\n      return promise || this.reloadConversationsPromise;\r\n    }\r\n\r\n    this.reloadConversationsPromise = pause(0).then(() => {\r\n      const inputDialogPeers: InputDialogPeer[] = [];\r\n      const promises: {[peerId: string]: typeof promise} = {};\r\n      for(const [peerId, {inputDialogPeer, promise}] of this.reloadConversationsPeers) {\r\n        inputDialogPeers.push(inputDialogPeer);\r\n        promises[peerId] = promise;\r\n      }\r\n\r\n      this.reloadConversationsPeers.clear();\r\n\r\n      const fullfillLeft = () => {\r\n        for(const peerId in promises) {\r\n          promises[peerId].resolve(undefined);\r\n        }\r\n      };\r\n\r\n      return this.apiManager.invokeApi('messages.getPeerDialogs', {peers: inputDialogPeers}).then((result) => {\r\n        this.dialogsStorage.applyDialogs(result);\r\n\r\n        result.dialogs.forEach((dialog) => {\r\n          const peerId = dialog.peerId;\r\n          if(peerId) {\r\n            promises[peerId].resolve(dialog as Dialog);\r\n            delete promises[peerId];\r\n          }\r\n        });\r\n\r\n        // fullfillLeft();\r\n        // resolve();\r\n      }, (err) => {\r\n        // fullfillLeft();\r\n        // resolve();\r\n        // reject(err);\r\n      }).then(() => {\r\n        fullfillLeft();\r\n        \r\n        this.reloadConversationsPromise = null;\r\n        if(this.reloadConversationsPeers.size) {\r\n          this.reloadConversation();\r\n        }\r\n      });\r\n    });\r\n\r\n    return promise || this.reloadConversationsPromise;\r\n  }\r\n\r\n  private doFlushHistory(peer: InputPeer, just_clear?: boolean, revoke?: boolean): Promise<true> {\r\n    return this.apiManager.invokeApiSingle('messages.deleteHistory', {\r\n      just_clear,\r\n      revoke,\r\n      peer,\r\n      max_id: 0\r\n    }).then((affectedHistory) => {\r\n      this.apiUpdatesManager.processUpdateMessage({\r\n        _: 'updateShort',\r\n        update: {\r\n          _: 'updatePts',\r\n          pts: affectedHistory.pts,\r\n          pts_count: affectedHistory.pts_count\r\n        }\r\n      });\r\n\r\n      if(!affectedHistory.offset) {\r\n        return true;\r\n      }\r\n\r\n      return this.doFlushHistory(peer, just_clear, revoke);\r\n    });\r\n  }\r\n\r\n  public async flushHistory(peerId: PeerId, justClear?: boolean, revoke?: boolean) {\r\n    if(this.appPeersManager.isChannel(peerId)) {\r\n      const promise = this.getHistory(peerId, 0, 1);\r\n\r\n      const historyResult = await promise;\r\n\r\n      const channelId = peerId.toChatId();\r\n      const maxId = historyResult.history[0] || 0;\r\n      return this.apiManager.invokeApiSingle('channels.deleteHistory', {\r\n        channel: this.appChatsManager.getChannelInput(channelId),\r\n        max_id: getServerMessageId(maxId)\r\n      }).then((bool) => {\r\n        if(bool) {\r\n          this.apiUpdatesManager.processLocalUpdate({\r\n            _: 'updateChannelAvailableMessages',\r\n            channel_id: channelId,\r\n            available_min_id: maxId\r\n          });\r\n        }\r\n\r\n        return bool;\r\n      });\r\n    }\r\n\r\n    return this.doFlushHistory(this.appPeersManager.getInputPeerById(peerId), justClear, revoke).then(() => {\r\n      [\r\n        this.historiesStorage, \r\n        this.threadsStorage, \r\n        this.searchesStorage, \r\n        this.pinnedMessages,\r\n        this.pendingAfterMsgs,\r\n        this.pendingTopMsgs\r\n      ].forEach((s) => {\r\n        delete s[peerId];\r\n      });\r\n\r\n      const m = this.needSingleMessages.get(peerId);\r\n      if(m) {\r\n        m.clear();\r\n      }\r\n\r\n      [\r\n        this.messagesStorageByPeerId,\r\n        this.scheduledMessagesStorage\r\n      ].forEach((s) => {\r\n        const ss = s[peerId];\r\n        if(ss) {\r\n          ss.clear();\r\n        }\r\n      });\r\n      \r\n      if(justClear) {\r\n        this.rootScope.dispatchEvent('dialog_flush', {peerId, dialog: this.getDialogOnly(peerId)});\r\n      } else {\r\n        delete this.notificationsToHandle[peerId];\r\n        delete this.typings[peerId];\r\n        \r\n        const c = this.reloadConversationsPeers.get(peerId);\r\n        if(c) {\r\n          this.reloadConversationsPeers.delete(peerId);\r\n          c.promise.resolve(undefined);\r\n        }\r\n\r\n        this.dialogsStorage.dropDialogOnDeletion(peerId);\r\n      }\r\n    });\r\n  }\r\n\r\n  public hidePinnedMessages(peerId: PeerId) {\r\n    return Promise.all([\r\n      this.appStateManager.getState(),\r\n      this.getPinnedMessage(peerId)\r\n    ])\r\n    .then(([state, pinned]) => {\r\n      state.hiddenPinnedMessages[peerId] = pinned.maxId;\r\n      this.rootScope.dispatchEvent('peer_pinned_hidden', {peerId, maxId: pinned.maxId});\r\n    });\r\n  }\r\n\r\n  public getPinnedMessage(peerId: PeerId) {\r\n    const p = this.pinnedMessages[peerId] ?? (this.pinnedMessages[peerId] = {});\r\n    if(p.promise) return p.promise;\r\n    else if(p.maxId) return Promise.resolve(p);\r\n\r\n    return p.promise = this.getSearch({\r\n      peerId, \r\n      inputFilter: {_: 'inputMessagesFilterPinned'},\r\n      maxId: 0,\r\n      limit: 1\r\n    }).then((result) => {\r\n      p.count = result.count;\r\n      p.maxId = result.history[0]?.mid;\r\n      return p;\r\n    }).finally(() => {\r\n      delete p.promise;\r\n    });\r\n  }\r\n\r\n  public getPinnedMessagesCount(peerId: PeerId) {\r\n    return this.pinnedMessages[peerId]?.count;\r\n  }\r\n\r\n  public getPinnedMessagesMaxId(peerId: PeerId) {\r\n    return this.pinnedMessages[peerId]?.maxId;\r\n  }\r\n\r\n  public updatePinnedMessage(peerId: PeerId, mid: number, unpin?: boolean, silent?: boolean, pm_oneside?: boolean) {\r\n    return this.apiManager.invokeApi('messages.updatePinnedMessage', {\r\n      peer: this.appPeersManager.getInputPeerById(peerId),\r\n      unpin,\r\n      silent,\r\n      pm_oneside,\r\n      id: getServerMessageId(mid)\r\n    }).then((updates) => {\r\n      //this.log('pinned updates:', updates);\r\n      this.apiUpdatesManager.processUpdateMessage(updates);\r\n    });\r\n  }\r\n\r\n  public unpinAllMessages(peerId: PeerId): Promise<boolean> {\r\n    return this.apiManager.invokeApiSingle('messages.unpinAllMessages', {\r\n      peer: this.appPeersManager.getInputPeerById(peerId)\r\n    }).then((affectedHistory) => {\r\n      this.apiUpdatesManager.processUpdateMessage({\r\n        _: 'updateShort',\r\n        update: {\r\n          _: 'updatePts',\r\n          pts: affectedHistory.pts,\r\n          pts_count: affectedHistory.pts_count\r\n        }\r\n      });\r\n\r\n      if(!affectedHistory.offset) {\r\n        const storage = this.getHistoryMessagesStorage(peerId);\r\n        storage.forEach((message) => {\r\n          if((message as Message.message).pFlags.pinned) {\r\n            delete (message as Message.message).pFlags.pinned;\r\n          }\r\n        });\r\n\r\n        this.rootScope.dispatchEvent('peer_pinned_messages', {peerId, unpinAll: true});\r\n        delete this.pinnedMessages[peerId];\r\n\r\n        return true;\r\n      }\r\n\r\n      return this.unpinAllMessages(peerId);\r\n    });\r\n  }\r\n\r\n  public getAlbumText(grouped_id: string) {\r\n    const group = this.groupedMessagesStorage[grouped_id];\r\n    return getAlbumText(Array.from(group.values()) as Message.message[]);\r\n  }\r\n\r\n  public getGroupsFirstMessage(message: Message.message) {\r\n    if(!message?.grouped_id) return message;\r\n\r\n    const storage = this.groupedMessagesStorage[message.grouped_id];\r\n    let minMid = Number.MAX_SAFE_INTEGER;\r\n    for(const [mid, message] of storage) {\r\n      if(message.mid < minMid) {\r\n        minMid = message.mid;\r\n      }\r\n    }\r\n\r\n    return this.getMessageFromStorage(storage, minMid) as Message.message;\r\n  }\r\n\r\n  public getMidsByAlbum(groupedId: string, sort: 'asc' | 'desc' = 'asc') {\r\n    return getObjectKeysAndSort(this.groupedMessagesStorage[groupedId], sort);\r\n  }\r\n\r\n  public getMessagesByAlbum(groupedId: string) {\r\n    const mids = this.getMidsByAlbum(groupedId, 'asc');\r\n    const storage = this.groupedMessagesStorage[groupedId];\r\n    return mids.map((mid) => this.getMessageFromStorage(storage, mid) as Message.message);\r\n  }\r\n\r\n  public getMidsByMessage(message: Message) {\r\n    if(!message) return [];\r\n    else if((message as Message.message).grouped_id) return this.getMidsByAlbum((message as Message.message).grouped_id);\r\n    else return [message.mid];\r\n  }\r\n\r\n  public filterMessages(message: MyMessage, verify: (message: MyMessage) => boolean) {\r\n    const out: MyMessage[] = [];\r\n    if((message as Message.message).grouped_id) {\r\n      const storage = this.groupedMessagesStorage[(message as Message.message).grouped_id];\r\n      for(const [mid, message] of storage) {\r\n        if(verify(message)) {\r\n          out.push(message);\r\n        }\r\n      }\r\n    } else {\r\n      if(verify(message)) {\r\n        out.push(message);\r\n      }\r\n    }\r\n\r\n    return out;\r\n  }\r\n\r\n  public generateTempMessageId(peerId: PeerId) {\r\n    const dialog = this.getDialogOnly(peerId);\r\n    return this.appMessagesIdsManager.generateTempMessageId(dialog?.top_message || 0);\r\n  }\r\n\r\n  public saveMessage(message: Message, options: Partial<{\r\n    storage: MessagesStorage,\r\n    isScheduled: true,\r\n    isOutgoing: true,\r\n    //isNew: boolean, // * new - from update\r\n  }> = {}) {\r\n    if(!message || message._ === 'messageEmpty') {\r\n      return;\r\n    }\r\n\r\n    if(message.pFlags === undefined) {\r\n      message.pFlags = {};\r\n    }\r\n\r\n    // * exclude from state\r\n    // defineNotNumerableProperties(message, ['rReply', 'mid', 'savedFrom', 'fwdFromId', 'fromId', 'peerId', 'reply_to_mid', 'viaBotId']);\r\n\r\n    const peerId = this.getMessagePeer(message);\r\n    const storage = options.storage || this.getHistoryMessagesStorage(peerId);\r\n    const isChannel = message.peer_id._ === 'peerChannel';\r\n    const isBroadcast = isChannel && this.appChatsManager.isBroadcast(peerId.toChatId());\r\n    const isMessage = message._ === 'message';\r\n\r\n    if(options.isOutgoing) {\r\n      message.pFlags.is_outgoing = true;\r\n    }\r\n    \r\n    const mid = generateMessageId(message.id);\r\n    message.mid = mid;\r\n\r\n    if(isMessage) {\r\n      if(options.isScheduled) {\r\n        message.pFlags.is_scheduled = true;\r\n      }\r\n\r\n      if(message.grouped_id) {\r\n        const storage = this.groupedMessagesStorage[message.grouped_id] ?? (this.groupedMessagesStorage[message.grouped_id] = this.createMessageStorage(peerId, 'grouped'));\r\n        storage.set(mid, message);\r\n      }\r\n\r\n      if(message.via_bot_id) {\r\n        // ! WARNING\r\n        message.viaBotId = message.via_bot_id as any;\r\n      }\r\n    }\r\n\r\n    const dialog = this.getDialogOnly(peerId);\r\n    if(dialog && mid) {\r\n      if(mid > dialog[message.pFlags.out\r\n        ? 'read_outbox_max_id'\r\n        : 'read_inbox_max_id']) {\r\n        message.pFlags.unread = true;\r\n      }\r\n    }\r\n    // this.log(dT(), 'msg unread', mid, apiMessage.pFlags.out, dialog && dialog[apiMessage.pFlags.out ? 'read_outbox_max_id' : 'read_inbox_max_id'])\r\n\r\n    if(message.reply_to) {\r\n      if(message.reply_to.reply_to_msg_id) {\r\n        message.reply_to.reply_to_msg_id = message.reply_to_mid = generateMessageId(message.reply_to.reply_to_msg_id);\r\n      } \r\n\r\n      if(message.reply_to.reply_to_top_id) {\r\n        message.reply_to.reply_to_top_id = generateMessageId(message.reply_to.reply_to_top_id);\r\n      }\r\n    }\r\n\r\n    const replies = isMessage && message.replies;\r\n    if(replies) {\r\n      if(replies.max_id) replies.max_id = generateMessageId(replies.max_id);\r\n      if(replies.read_max_id) replies.read_max_id = generateMessageId(replies.read_max_id);\r\n    }\r\n\r\n    const overwriting = !!peerId;\r\n    if(!overwriting) {\r\n      message.date -= this.timeManager.getServerTimeOffset();\r\n    }\r\n    \r\n    //storage.generateIndex(message);\r\n    const myId = this.appPeersManager.peerId;\r\n\r\n    const fwdHeader = isMessage && (message as Message.message).fwd_from;\r\n\r\n    message.peerId = peerId;\r\n    if(peerId === myId/*  && !message.from_id && !message.fwd_from */) {\r\n      message.fromId = fwdHeader ? (fwdHeader.from_id ? getPeerId(fwdHeader.from_id) : NULL_PEER_ID) : myId;\r\n    } else {\r\n      //message.fromId = message.pFlags.post || (!message.pFlags.out && !message.from_id) ? peerId : appPeersManager.getPeerId(message.from_id);\r\n      message.fromId = message.pFlags.post || !message.from_id ? peerId : getPeerId(message.from_id);\r\n    }\r\n\r\n    if(fwdHeader) {\r\n      //if(peerId === myID) {\r\n        if(fwdHeader.saved_from_msg_id) fwdHeader.saved_from_msg_id = generateMessageId(fwdHeader.saved_from_msg_id);\r\n        if(fwdHeader.channel_post) fwdHeader.channel_post = generateMessageId(fwdHeader.channel_post);\r\n\r\n        const peer = fwdHeader.saved_from_peer || fwdHeader.from_id;\r\n        const msgId = fwdHeader.saved_from_msg_id || fwdHeader.channel_post;\r\n        if(peer && msgId) {\r\n          const savedFromPeerId = getPeerId(peer);\r\n          const savedFromMid = generateMessageId(msgId);\r\n          message.savedFrom = savedFromPeerId + '_' + savedFromMid;\r\n        }\r\n\r\n        /* if(peerId.isAnyChat() || peerId === myID) {\r\n          message.fromId = appPeersManager.getPeerID(!message.from_id || deepEqual(message.from_id, fwdHeader.from_id) ? fwdHeader.from_id : message.from_id);\r\n        } */\r\n      /* } else {\r\n        apiMessage.fwdPostID = fwdHeader.channel_post;\r\n      } */\r\n\r\n      message.fwdFromId = getPeerId(fwdHeader.from_id);\r\n\r\n      if(!overwriting) {\r\n        fwdHeader.date -= this.timeManager.getServerTimeOffset();\r\n      }\r\n    }\r\n\r\n    const mediaContext: ReferenceContext = {\r\n      type: 'message',\r\n      peerId,\r\n      messageId: mid\r\n    };\r\n\r\n    /* if(isMessage) {\r\n      const entities = message.entities;\r\n      if(entities && entities.find((entity) => entity._ === 'messageEntitySpoiler')) {\r\n        message.media = {_: 'messageMediaUnsupported'};\r\n      }\r\n    } */\r\n\r\n    if(isMessage && message.media) {\r\n      let unsupported = false;\r\n      switch(message.media._) {\r\n        case 'messageMediaEmpty': {\r\n          delete message.media;\r\n          break;\r\n        }\r\n\r\n        case 'messageMediaPhoto': {\r\n          if(message.media.ttl_seconds) {\r\n            unsupported = true;\r\n          } else {\r\n            message.media.photo = this.appPhotosManager.savePhoto(message.media.photo, mediaContext);\r\n          }\r\n\r\n          if(!(message.media as MessageMedia.messageMediaPhoto).photo) { // * found this bug on test DC\r\n            delete message.media;\r\n          }\r\n          \r\n          break;\r\n        }\r\n          \r\n        case 'messageMediaPoll': {\r\n          const result = this.appPollsManager.savePoll(message.media.poll, message.media.results, message);\r\n          message.media.poll = result.poll;\r\n          message.media.results = result.results;\r\n          break;\r\n        }\r\n          \r\n        case 'messageMediaDocument': {\r\n          if(message.media.ttl_seconds) {\r\n            unsupported = true;\r\n          } else {\r\n            const originalDoc = message.media.document;\r\n            message.media.document = this.appDocsManager.saveDoc(originalDoc, mediaContext); // 11.04.2020 warning\r\n\r\n            if(!message.media.document && originalDoc._ !== 'documentEmpty') {\r\n              unsupported = true;\r\n            }\r\n          }\r\n\r\n          break;\r\n        }\r\n          \r\n        case 'messageMediaWebPage': {\r\n          const messageKey = this.appWebPagesManager.getMessageKeyForPendingWebPage(peerId, mid, options.isScheduled);\r\n          message.media.webpage = this.appWebPagesManager.saveWebPage(message.media.webpage, messageKey, mediaContext);\r\n          break;\r\n        }\r\n          \r\n        /*case 'messageMediaGame':\r\n          AppGamesManager.saveGame(apiMessage.media.game, apiMessage.mid, mediaContext);\r\n          apiMessage.media.handleMessage = true;\r\n          break; */\r\n\r\n        case 'messageMediaInvoice': {\r\n          message.media.photo = this.appWebDocsManager.saveWebDocument(message.media.photo);\r\n          break;\r\n        }\r\n\r\n        case 'messageMediaUnsupported': {\r\n          unsupported = true;\r\n          break;\r\n        }\r\n      }\r\n\r\n      if(unsupported) {\r\n        message.media = {_: 'messageMediaUnsupported'};\r\n        message.message = '';\r\n        delete message.entities;\r\n        delete message.totalEntities;\r\n      }\r\n    }\r\n\r\n    if(!isMessage && message.action) {\r\n      const action = message.action as MessageAction;\r\n      let migrateFrom: PeerId;\r\n      let migrateTo: PeerId;\r\n      const suffix = message.fromId === this.appUsersManager.getSelf().id ? 'You' : '';\r\n\r\n      if((action as MessageAction.messageActionChatEditPhoto).photo) {\r\n        (action as MessageAction.messageActionChatEditPhoto).photo = this.appPhotosManager.savePhoto((action as MessageAction.messageActionChatEditPhoto).photo, mediaContext);\r\n      }\r\n\r\n      if((action as any).document) {\r\n        (action as any).document = this.appDocsManager.saveDoc((action as any).photo, mediaContext);\r\n      }\r\n\r\n      switch(action._) {\r\n        //case 'messageActionChannelEditPhoto':\r\n        case 'messageActionChatEditPhoto':\r\n          // action.photo = appPhotosManager.savePhoto(action.photo, mediaContext);\r\n          if((action.photo as Photo.photo)?.video_sizes) {\r\n            // @ts-ignore\r\n            action._ = isBroadcast ? 'messageActionChannelEditVideo' : 'messageActionChatEditVideo';\r\n          } else {\r\n            if(isBroadcast) { // ! messageActionChannelEditPhoto не существует в принципе, это используется для перевода.\r\n              // @ts-ignore\r\n              action._ = 'messageActionChannelEditPhoto';\r\n            }\r\n          }\r\n          break;\r\n        \r\n        case 'messageActionGroupCall': {\r\n          //assumeType<MessageAction.messageActionGroupCall>(action);\r\n\r\n          this.appGroupCallsManager.saveGroupCall(action.call);\r\n\r\n          let type: string;\r\n          if(action.duration === undefined) {\r\n            type = 'started';\r\n          } else {\r\n            type = 'ended'\r\n          }\r\n\r\n          if(!isBroadcast) {\r\n            type += '_by' + suffix;\r\n          }\r\n\r\n          // @ts-ignore\r\n          action.type = type;\r\n\r\n          break;\r\n        }\r\n\r\n        case 'messageActionChatEditTitle':\r\n          /* if(options.isNew) {\r\n            const chat = appChatsManager.getChat(peerId.toChatId());\r\n            chat.title = action.title;\r\n            appChatsManager.saveApiChat(chat, true);\r\n          } */\r\n          \r\n          if(isBroadcast) {\r\n            // @ts-ignore\r\n            action._ = 'messageActionChannelEditTitle';\r\n          }\r\n          break;\r\n\r\n        case 'messageActionChatDeletePhoto':\r\n          if(isBroadcast) {\r\n            // @ts-ignore\r\n            action._ = 'messageActionChannelDeletePhoto';\r\n          }\r\n          break;\r\n\r\n        case 'messageActionChatAddUser':\r\n          if(action.users.length === 1) {\r\n            // @ts-ignore\r\n            action.user_id = action.users[0];\r\n            // @ts-ignore\r\n            if(message.fromId === action.user_id) {\r\n              if(isChannel) {\r\n                // @ts-ignore\r\n                action._ = 'messageActionChatJoined' + suffix;\r\n              } else {\r\n                // @ts-ignore\r\n                action._ = 'messageActionChatReturn' + suffix;\r\n              }\r\n            }\r\n          } else if(action.users.length > 1) {\r\n            // @ts-ignore\r\n            action._ = 'messageActionChatAddUsers';\r\n          }\r\n          break;\r\n\r\n        case 'messageActionChatDeleteUser':\r\n          if(message.fromId === action.user_id) {\r\n            // @ts-ignore\r\n            action._ = 'messageActionChatLeave' + suffix;\r\n          }\r\n          break;\r\n\r\n        case 'messageActionChannelMigrateFrom':\r\n          migrateFrom = action.chat_id.toPeerId(true);\r\n          migrateTo = peerId;\r\n          break\r\n\r\n        case 'messageActionChatMigrateTo':\r\n          migrateFrom = peerId;\r\n          migrateTo = action.channel_id.toPeerId(true);\r\n          break;\r\n\r\n        case 'messageActionHistoryClear':\r\n          //apiMessage.deleted = true;\r\n          message.clear_history = true;\r\n          delete message.pFlags.out;\r\n          delete message.pFlags.unread;\r\n          break;\r\n\r\n        case 'messageActionPhoneCall':\r\n          // @ts-ignore\r\n          action.type = \r\n            (action.pFlags.video ? 'video_' : '') +\r\n            (action.duration !== undefined ? (message.pFlags.out ? 'out_' : 'in_') : '') +\r\n            (\r\n              action.duration !== undefined ? 'ok' : (\r\n                action.reason._ === 'phoneCallDiscardReasonMissed'\r\n                  ? 'missed'\r\n                  : 'cancelled'\r\n              )\r\n            );\r\n          break;\r\n      }\r\n      \r\n      if(migrateFrom &&\r\n          migrateTo &&\r\n          !this.migratedFromTo[migrateFrom] &&\r\n          !this.migratedToFrom[migrateTo]) {\r\n        this.migrateChecks(migrateFrom, migrateTo);\r\n      }\r\n    }\r\n\r\n    /* if(message.grouped_id) {\r\n      if(!groups) {\r\n        groups = new Set();\r\n      }\r\n\r\n      groups.add(message.grouped_id);\r\n    } else {\r\n      message.rReply = this.getRichReplyText(message);\r\n    } */\r\n\r\n    if(isMessage && message.message.length && !message.totalEntities) {\r\n      this.wrapMessageEntities(message);  \r\n    }\r\n\r\n    storage.set(mid, message);\r\n\r\n    return message;\r\n  }\r\n\r\n  public saveMessages(messages: any[], options: Partial<{\r\n    storage: MessagesStorage,\r\n    isScheduled: true,\r\n    isOutgoing: true,\r\n    //isNew: boolean, // * new - from update\r\n  }> = {}): (Message.message | Message.messageService)[] {\r\n    if((messages as any).saved) return messages;\r\n    (messages as any).saved = true;\r\n    messages.forEach((message, idx, arr) => {\r\n      arr[idx] = this.saveMessage(message, options);\r\n    });\r\n\r\n    return messages;\r\n  }\r\n\r\n  public async getFirstMessageToEdit(peerId: PeerId, threadId?: number) {\r\n    const historyStorage = this.getHistoryStorage(peerId, threadId);\r\n    const slice = historyStorage.history.slice;\r\n    if(slice.isEnd(SliceEnd.Bottom) && slice.length) {\r\n      let goodMessage: Message.message | Message.messageService;\r\n      const myPeerId = this.appPeersManager.peerId;\r\n      for(const mid of slice) {\r\n        const message = this.getMessageByPeer(peerId, mid);\r\n        const good = myPeerId === peerId ? message.fromId === myPeerId : message.pFlags.out;\r\n\r\n        if(good) {\r\n          if(await this.canEditMessage(message, 'text')) {\r\n            goodMessage = message;\r\n            break;\r\n          }\r\n\r\n          // * this check will allow editing only last message\r\n          //break;\r\n        }\r\n      }\r\n\r\n      return goodMessage;\r\n    }\r\n  }\r\n\r\n  private wrapMessageEntities(message: Message.message) {\r\n    const apiEntities = message.entities ? message.entities.slice() : [];\r\n    message.message = fixEmoji(message.message, apiEntities);\r\n\r\n    const myEntities = parseEntities(message.message);\r\n    message.totalEntities = mergeEntities(apiEntities, myEntities); // ! only in this order, otherwise bold and emoji formatting won't work\r\n  }\r\n\r\n  public reportMessages(peerId: PeerId, mids: number[], reason: ReportReason['_'], message?: string) {\r\n    return this.apiManager.invokeApiSingle('messages.report', {\r\n      peer: this.appPeersManager.getInputPeerById(peerId),\r\n      id: mids.map((mid) => getServerMessageId(mid)),\r\n      reason: {\r\n        _: reason\r\n      },\r\n      message\r\n    });\r\n  }\r\n\r\n  public startBot(botId: BotId, chatId?: ChatId, startParam?: string) {\r\n    const peerId = chatId ? chatId.toPeerId(true) : botId.toPeerId();\r\n    if(startParam) {\r\n      const randomId = randomLong();\r\n\r\n      return this.apiManager.invokeApi('messages.startBot', {\r\n        bot: this.appUsersManager.getUserInput(botId),\r\n        peer: this.appPeersManager.getInputPeerById(peerId),\r\n        random_id: randomId,\r\n        start_param: startParam\r\n      }).then((updates) => {\r\n        this.apiUpdatesManager.processUpdateMessage(updates);\r\n      });\r\n    }\r\n\r\n    const str = '/start';\r\n    if(chatId) {\r\n      let promise: Promise<void>;\r\n      if(this.appChatsManager.isChannel(chatId)) {\r\n        promise = this.appChatsManager.inviteToChannel(chatId, [botId]);\r\n      } else {\r\n        promise = this.appChatsManager.addChatUser(chatId, botId, 0);\r\n      }\r\n\r\n      return promise.catch((error) => {\r\n        if(error && error.type == 'USER_ALREADY_PARTICIPANT') {\r\n          error.handled = true;\r\n          return;\r\n        }\r\n\r\n        throw error;\r\n      }).then(() => {\r\n        const bot = this.appUsersManager.getUser(botId);\r\n        return this.sendText(peerId, str + '@' + bot.username);\r\n      });\r\n    }\r\n\r\n    return this.sendText(peerId, str);\r\n  }\r\n\r\n  public editPeerFolders(peerIds: PeerId[], folderId: number) {\r\n    this.apiManager.invokeApi('folders.editPeerFolders', {\r\n      folder_peers: peerIds.map((peerId) => {\r\n        return {\r\n          _: 'inputFolderPeer',\r\n          peer: this.appPeersManager.getInputPeerById(peerId),\r\n          folder_id: folderId\r\n        };\r\n      })\r\n    }).then((updates) => {\r\n      //this.log('editPeerFolders updates:', updates);\r\n      this.apiUpdatesManager.processUpdateMessage(updates); // WARNING! возможно тут нужно добавлять channelId, и вызывать апдейт для каждого канала отдельно\r\n    });\r\n  }\r\n\r\n  public getFilter(filterId: number) {\r\n    return this.filtersStorage.getFilter(filterId);\r\n  }\r\n\r\n  public async toggleDialogPin(peerId: PeerId, filterId?: number) {\r\n    if(filterId > 1) {\r\n      return this.filtersStorage.toggleDialogPin(peerId, filterId);\r\n    }\r\n\r\n    const dialog = this.getDialogOnly(peerId);\r\n    if(!dialog) return Promise.reject();\r\n\r\n    const pinned = dialog.pFlags?.pinned ? undefined : true;\r\n\r\n    if(pinned) {\r\n      const appConfig = await this.apiManager.getAppConfig();\r\n      const max = filterId === 1 ? \r\n        (this.rootScope.premium ? appConfig.dialogs_folder_pinned_limit_premium : appConfig.dialogs_folder_pinned_limit_default) : \r\n        (this.rootScope.premium ? appConfig.dialogs_pinned_limit_premium : appConfig.dialogs_pinned_limit_default);\r\n      if(this.dialogsStorage.getPinnedOrders(filterId).length >= max) {\r\n        return Promise.reject({type: 'PINNED_DIALOGS_TOO_MUCH'});\r\n      }\r\n    }\r\n\r\n    return this.apiManager.invokeApi('messages.toggleDialogPin', {\r\n      peer: this.appPeersManager.getInputDialogPeerById(peerId),\r\n      pinned\r\n    }).then((bool) => {\r\n      if(bool) {\r\n        const pFlags: Update.updateDialogPinned['pFlags'] = pinned ? {pinned} : {};\r\n        this.apiUpdatesManager.saveUpdate({\r\n          _: 'updateDialogPinned',\r\n          peer: this.appPeersManager.getDialogPeer(peerId),\r\n          folder_id: filterId,\r\n          pFlags\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  public markDialogUnread(peerId: PeerId, read?: true) {\r\n    const dialog = this.getDialogOnly(peerId);\r\n    if(!dialog) return Promise.reject();\r\n\r\n    const unread = read || dialog.pFlags?.unread_mark ? undefined : true;\r\n    return this.apiManager.invokeApi('messages.markDialogUnread', {\r\n      peer: this.appPeersManager.getInputDialogPeerById(peerId),\r\n      unread\r\n    }).then((bool) => {\r\n      if(bool) {\r\n        const pFlags: Update.updateDialogUnreadMark['pFlags'] = unread ? {unread} : {};\r\n        this.onUpdateDialogUnreadMark({\r\n          _: 'updateDialogUnreadMark',\r\n          peer: this.appPeersManager.getDialogPeer(peerId),\r\n          pFlags\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  public migrateChecks(migrateFrom: PeerId, migrateTo: PeerId) {\r\n    if(!this.migratedFromTo[migrateFrom] &&\r\n      !this.migratedToFrom[migrateTo] &&\r\n      this.appChatsManager.hasChat(migrateTo.toChatId())) {\r\n      const fromChat: Chat.chat = this.appChatsManager.getChat(migrateFrom.toChatId());\r\n      if(fromChat?.migrated_to && (fromChat.migrated_to as InputChannel.inputChannel).channel_id === migrateTo.toChatId()) {\r\n        this.migratedFromTo[migrateFrom] = migrateTo;\r\n        this.migratedToFrom[migrateTo] = migrateFrom;\r\n\r\n        this.rootScope.dispatchEvent('dialog_migrate', {migrateFrom, migrateTo});\r\n\r\n        this.dialogsStorage.dropDialogWithEvent(migrateFrom);\r\n      }\r\n    }\r\n  }\r\n\r\n  private canMessageBeEdited(message: Message, kind: 'text' | 'poll') {\r\n    if((message as Message.message)?.pFlags?.is_outgoing) {\r\n      return false;\r\n    }\r\n\r\n    const goodMedias = [\r\n      'messageMediaPhoto',\r\n      'messageMediaDocument',\r\n      'messageMediaWebPage'\r\n    ];\r\n\r\n    if(kind === 'poll') {\r\n      goodMedias.push('messageMediaPoll');\r\n    }\r\n\r\n    if(!message || \r\n        message._ !== 'message' || \r\n        message.deleted ||\r\n        message.fwd_from ||\r\n        message.via_bot_id ||\r\n        message.media && goodMedias.indexOf(message.media._) === -1 ||\r\n        message.fromId && this.appUsersManager.isBot(message.fromId)) {\r\n      return false;\r\n    }\r\n    \r\n    if(message.media?._ === 'messageMediaDocument' &&\r\n        ((message.media.document as Document.document).sticker || (message.media.document as Document.document).type === 'round')) {\r\n      return false;\r\n    }\r\n\r\n    return true;\r\n  }\r\n\r\n  public async canEditMessage(message: Message.message | Message.messageService, kind: 'text' | 'poll' = 'text') {\r\n    if(!message || !this.canMessageBeEdited(message, kind)) {\r\n      return false;\r\n    }\r\n\r\n    // * second rule for saved messages, because there is no 'out' flag\r\n    if(/* message.pFlags.out ||  */this.getMessagePeer(message) === this.appUsersManager.getSelf().id) {\r\n      return true;\r\n    }\r\n\r\n    if(!message.pFlags.out || (\r\n        message.peer_id._ !== 'peerChannel' &&  \r\n        message.date < (tsNow(true) - (await this.apiManager.getConfig()).edit_time_limit) && \r\n        (message as Message.message).media?._ !== 'messageMediaPoll'\r\n      )\r\n    ) {\r\n      return false;\r\n    }\r\n\r\n    return true;\r\n  }\r\n\r\n  public canDeleteMessage(message: MyMessage) {\r\n    return message && (\r\n      message.peerId.isUser() \r\n      || message.pFlags.out \r\n      || this.appChatsManager.getChat(message.peerId.toChatId())._ === 'chat' \r\n      || this.appChatsManager.hasRights(message.peerId.toChatId(), 'delete_messages')\r\n    ) && !message.pFlags.is_outgoing;\r\n  }\r\n\r\n  public getReplyKeyboard(peerId: PeerId) {\r\n    return this.getHistoryStorage(peerId).replyMarkup;\r\n  }\r\n\r\n  public mergeReplyKeyboard(historyStorage: HistoryStorage, message: Message.messageService | Message.message) {\r\n    // this.log('merge', message.mid, message.reply_markup, historyStorage.reply_markup)\r\n    if(!message) {\r\n      return false;\r\n    }\r\n\r\n    let messageReplyMarkup = (message as Message.message).reply_markup;\r\n    if(!messageReplyMarkup &&\r\n      !message.pFlags?.out &&\r\n      !(message as Message.messageService).action) {\r\n      return false;\r\n    }\r\n\r\n    if(messageReplyMarkup?._ === 'replyInlineMarkup') {\r\n      return false;\r\n    }\r\n\r\n    const lastReplyMarkup = historyStorage.replyMarkup;\r\n    if(messageReplyMarkup) {\r\n      if(lastReplyMarkup && lastReplyMarkup.mid >= message.mid) {\r\n        return false;\r\n      }\r\n\r\n      if(messageReplyMarkup.pFlags.selective) {\r\n        return false;\r\n      }\r\n\r\n      if(historyStorage.maxOutId &&\r\n        message.mid < historyStorage.maxOutId &&\r\n        (messageReplyMarkup as ReplyMarkup.replyKeyboardMarkup | ReplyMarkup.replyKeyboardForceReply).pFlags.single_use) {\r\n        (messageReplyMarkup as ReplyMarkup.replyKeyboardMarkup | ReplyMarkup.replyKeyboardForceReply).pFlags.hidden = true;\r\n      }\r\n\r\n      messageReplyMarkup.mid = message.mid;\r\n      /* messageReplyMarkup = Object.assign({\r\n        mid: message.mid\r\n      }, messageReplyMarkup); */\r\n\r\n      if(messageReplyMarkup._ !== 'replyKeyboardHide') {\r\n        messageReplyMarkup.fromId = getPeerId(message.from_id);\r\n      }\r\n\r\n      historyStorage.replyMarkup = messageReplyMarkup;\r\n      // this.log('set', historyStorage.reply_markup)\r\n      return true;\r\n    }\r\n\r\n    if(message.pFlags.out) {\r\n      if(lastReplyMarkup) {\r\n        assumeType<ReplyMarkup.replyKeyboardMarkup>(lastReplyMarkup);\r\n        if(lastReplyMarkup.pFlags.single_use &&\r\n          !lastReplyMarkup.pFlags.hidden &&\r\n          (message.mid > lastReplyMarkup.mid || message.pFlags.is_outgoing) &&\r\n          (message as Message.message).message) {\r\n          lastReplyMarkup.pFlags.hidden = true;\r\n          // this.log('set', historyStorage.reply_markup)\r\n          return true;\r\n        }\r\n      } else if(!historyStorage.maxOutId ||\r\n        message.mid > historyStorage.maxOutId) {\r\n        historyStorage.maxOutId = message.mid;\r\n      }\r\n    }\r\n\r\n    assumeType<Message.messageService>(message);\r\n    if(message.action?._ === 'messageActionChatDeleteUser' &&\r\n      (lastReplyMarkup\r\n        ? message.action.user_id === (lastReplyMarkup as ReplyMarkup.replyKeyboardMarkup).fromId\r\n        : this.appUsersManager.isBot(message.action.user_id)\r\n      )\r\n    ) {\r\n      historyStorage.replyMarkup = {\r\n        _: 'replyKeyboardHide',\r\n        mid: message.mid,\r\n        pFlags: {}\r\n      };\r\n      // this.log('set', historyStorage.reply_markup)\r\n      return true;\r\n    }\r\n\r\n    return false;\r\n  }\r\n\r\n  public getSearchStorage(peerId: PeerId, inputFilter: MyInputMessagesFilter) {\r\n    if(!this.searchesStorage[peerId]) this.searchesStorage[peerId] = {};\r\n    if(!this.searchesStorage[peerId][inputFilter]) this.searchesStorage[peerId][inputFilter] = {history: []};\r\n    return this.searchesStorage[peerId][inputFilter];\r\n  }\r\n\r\n  public getSearchCounters(peerId: PeerId, filters: MessagesFilter[], canCache = true): Promise<MessagesSearchCounter[]> {\r\n    if(this.appPeersManager.isRestricted(peerId)) {\r\n      return Promise.resolve(filters.map((filter) => {\r\n        return {\r\n          _: 'messages.searchCounter',\r\n          pFlags: {},\r\n          filter: filter,\r\n          count: 0\r\n        };\r\n      }));\r\n    }\r\n\r\n    const func = (canCache ? this.apiManager.invokeApiCacheable : this.apiManager.invokeApi).bind(this.apiManager);\r\n    return func('messages.getSearchCounters', {\r\n      peer: this.appPeersManager.getInputPeerById(peerId),\r\n      filters\r\n    });\r\n  }\r\n\r\n  public filterMessagesByInputFilterFromStorage(inputFilter: MyInputMessagesFilter, history: number[], storage: MessagesStorage | MessagesStorageKey, limit: number) {\r\n    const _storage = this.getMessagesStorage(storage);\r\n    return filterMessagesByInputFilter(inputFilter, history.map((mid) => _storage.get(mid)), limit);\r\n  }\r\n\r\n  public getSearch({peerId, query, inputFilter, maxId, limit, nextRate, backLimit, threadId, folderId, minDate, maxDate}: {\r\n    peerId?: PeerId,\r\n    maxId?: number,\r\n    limit?: number,\r\n    nextRate?: number,\r\n    backLimit?: number,\r\n    threadId?: number,\r\n    folderId?: number,\r\n    query?: string,\r\n    inputFilter?: {\r\n      _: MyInputMessagesFilter\r\n    },\r\n    minDate?: number,\r\n    maxDate?: number\r\n  }): Promise<{\r\n    count: number,\r\n    next_rate: number,\r\n    offset_id_offset: number,\r\n    history: MyMessage[]\r\n  }> {\r\n    if(this.appPeersManager.isRestricted(peerId)/*  || true */) {\r\n      return Promise.resolve({\r\n        count: 0,\r\n        offset_id_offset: 0,\r\n        next_rate: undefined,\r\n        history: []\r\n      });\r\n    }\r\n\r\n    if(!query) query = '';\r\n    if(!inputFilter) inputFilter = {_: 'inputMessagesFilterEmpty'};\r\n    if(limit === undefined) limit = 20;\r\n    if(!nextRate) nextRate = 0;\r\n    if(!backLimit) backLimit = 0;\r\n\r\n    minDate = minDate ? minDate / 1000 | 0 : 0;\r\n    maxDate = maxDate ? maxDate / 1000 | 0 : 0;\r\n\r\n    let foundMsgs: MyMessage[] = [];\r\n\r\n    //this.log('search', maxId);\r\n\r\n    if(backLimit) {\r\n      limit += backLimit;\r\n    }\r\n\r\n    //const beta = inputFilter._ === 'inputMessagesFilterPinned' && !backLimit;\r\n    const beta = false;\r\n\r\n    let storage: {\r\n      count?: number;\r\n      history: SlicedArray<number>;\r\n    };\r\n\r\n    // * костыль для limit 1, если нужно и получить сообщение, и узнать количество сообщений\r\n    if(peerId && !backLimit && !maxId && !query && limit !== 1 && !threadId/*  && inputFilter._ !== 'inputMessagesFilterPinned' */) {\r\n      storage = beta ? \r\n        this.getSearchStorage(peerId, inputFilter._) as any : \r\n        this.getHistoryStorage(peerId);\r\n      foundMsgs = this.filterMessagesByInputFilterFromStorage(inputFilter._, storage.history.slice, this.getHistoryMessagesStorage(peerId), limit);\r\n    }\r\n\r\n    if(foundMsgs.length) {\r\n      if(foundMsgs.length < limit && (beta ? storage.count !== storage.history.length : true)) {\r\n        maxId = foundMsgs[foundMsgs.length - 1].mid;\r\n        limit = limit - foundMsgs.length;\r\n      } else {\r\n        return Promise.resolve({\r\n          count: beta ? storage.count : 0,\r\n          next_rate: 0,\r\n          offset_id_offset: 0,\r\n          history: foundMsgs\r\n        });\r\n      }\r\n    } else if(beta && storage?.count) {\r\n      return Promise.resolve({\r\n        count: storage.count,\r\n        next_rate: 0,\r\n        offset_id_offset: 0,\r\n        history: []\r\n      });\r\n    }\r\n\r\n    const canCache = false && (['inputMessagesFilterChatPhotos', 'inputMessagesFilterPinned'] as MyInputMessagesFilter[]).includes(inputFilter._);\r\n    const method = (canCache ? this.apiManager.invokeApiCacheable : this.apiManager.invokeApi).bind(this.apiManager);\r\n\r\n    let apiPromise: Promise<any>;\r\n    if(peerId && !nextRate && folderId === undefined/*  || !query */) {\r\n      apiPromise = method('messages.search', {\r\n        peer: this.appPeersManager.getInputPeerById(peerId),\r\n        q: query || '',\r\n        filter: inputFilter as any as MessagesFilter,\r\n        min_date: minDate,\r\n        max_date: maxDate,\r\n        limit,\r\n        offset_id: getServerMessageId(maxId) || 0,\r\n        add_offset: backLimit ? -backLimit : 0,\r\n        max_id: 0,\r\n        min_id: 0,\r\n        hash: '',\r\n        top_msg_id: getServerMessageId(threadId) || 0\r\n      }, {\r\n        //timeout: APITIMEOUT,\r\n        noErrorBox: true\r\n      });\r\n    } else {\r\n      //var offsetDate = 0;\r\n      let offsetPeerId: PeerId;\r\n      let offsetId = 0;\r\n      let offsetMessage = maxId && this.getMessageByPeer(peerId, maxId);\r\n\r\n      if(offsetMessage && offsetMessage.date) {\r\n        //offsetDate = offsetMessage.date + timeManager.getServerTimeOffset();\r\n        offsetId = offsetMessage.id;\r\n        offsetPeerId = this.getMessagePeer(offsetMessage);\r\n      }\r\n\r\n      apiPromise = method('messages.searchGlobal', {\r\n        q: query,\r\n        filter: inputFilter as any as MessagesFilter,\r\n        min_date: minDate,\r\n        max_date: maxDate,\r\n        offset_rate: nextRate,\r\n        offset_peer: this.appPeersManager.getInputPeerById(offsetPeerId),\r\n        offset_id: offsetId,\r\n        limit,\r\n        folder_id: folderId\r\n      }, {\r\n        //timeout: APITIMEOUT,\r\n        noErrorBox: true\r\n      });\r\n    }\r\n\r\n    return apiPromise.then((searchResult: any) => {\r\n      this.appUsersManager.saveApiUsers(searchResult.users);\r\n      this.appChatsManager.saveApiChats(searchResult.chats);\r\n      this.saveMessages(searchResult.messages);\r\n\r\n      /* if(beta && storage && (!maxId || storage.history[storage.history.length - 1] === maxId)) {\r\n        const storage = this.getSearchStorage(peerId, inputFilter._);\r\n        const add = (searchResult.messages.map((m: any) => m.mid) as number[]).filter((mid) => storage.history.indexOf(mid) === -1);\r\n        storage.history.push(...add);\r\n        storage.history.sort((a, b) => b - a);\r\n        storage.count = searchResult.count;\r\n      } */\r\n\r\n      if(DEBUG) {\r\n        this.log('getSearch result:', inputFilter, searchResult);\r\n      }\r\n\r\n      const foundCount: number = searchResult.count || (foundMsgs.length + searchResult.messages.length);\r\n\r\n      searchResult.messages.forEach((message: MyMessage) => {\r\n        const peerId = this.getMessagePeer(message);\r\n        if(peerId.isAnyChat()) {\r\n          const chat: Chat.chat = this.appChatsManager.getChat(peerId.toChatId());\r\n          if(chat.migrated_to) {\r\n            this.migrateChecks(peerId, (chat.migrated_to as InputChannel.inputChannel).channel_id.toPeerId(true));\r\n          }\r\n        }\r\n\r\n        foundMsgs.push(message);\r\n      });\r\n\r\n      return {\r\n        count: foundCount,\r\n        offset_id_offset: searchResult.offset_id_offset || 0,\r\n        next_rate: searchResult.next_rate,\r\n        history: foundMsgs\r\n      };\r\n    });\r\n  }\r\n\r\n  public subscribeRepliesThread(peerId: PeerId, mid: number) {\r\n    const repliesKey = peerId + '_' + mid;\r\n    for(const threadKey in this.threadsToReplies) {\r\n      if(this.threadsToReplies[threadKey] === repliesKey) return;\r\n    }\r\n\r\n    this.getDiscussionMessage(peerId, mid);\r\n  }\r\n\r\n  public generateThreadServiceStartMessage(message: Message.message | Message.messageService) {\r\n    const threadKey = message.peerId + '_' + message.mid;\r\n    if(this.threadsServiceMessagesIdsStorage[threadKey]) return;\r\n\r\n    const maxMessageId = getServerMessageId(Math.max(...this.getMidsByMessage(message)));\r\n    const serviceStartMessage: Message.messageService = {\r\n      _: 'messageService',\r\n      pFlags: {\r\n        is_single: true\r\n      },\r\n      id: this.appMessagesIdsManager.generateTempMessageId(maxMessageId),\r\n      date: message.date,\r\n      from_id: {_: 'peerUser', user_id: NULL_PEER_ID}/* message.from_id */,\r\n      peer_id: message.peer_id,\r\n      action: {\r\n        _: 'messageActionDiscussionStarted'\r\n      },\r\n      reply_to: this.generateReplyHeader(message.id)\r\n    };\r\n\r\n    this.saveMessages([serviceStartMessage], {isOutgoing: true});\r\n    this.threadsServiceMessagesIdsStorage[threadKey] = serviceStartMessage.mid;\r\n  }\r\n\r\n  public getThreadServiceMessageId(peerId: PeerId, threadId: number) {\r\n    return this.threadsServiceMessagesIdsStorage[peerId + '_' + threadId];\r\n  }\r\n\r\n  public getDiscussionMessage(peerId: PeerId, mid: number) {\r\n    return this.apiManager.invokeApiSingle('messages.getDiscussionMessage', {\r\n      peer: this.appPeersManager.getInputPeerById(peerId),\r\n      msg_id: getServerMessageId(mid)\r\n    }).then((result) => {\r\n      this.appChatsManager.saveApiChats(result.chats);\r\n      this.appUsersManager.saveApiUsers(result.users);\r\n      this.saveMessages(result.messages);\r\n\r\n      const message = this.getMessageWithReplies(result.messages[0] as Message.message);\r\n      const threadKey = message.peerId + '_' + message.mid;\r\n\r\n      this.generateThreadServiceStartMessage(message);\r\n      \r\n      const historyStorage = this.getHistoryStorage(message.peerId, message.mid);\r\n      result.max_id = historyStorage.maxId = generateMessageId(result.max_id) || 0;\r\n      result.read_inbox_max_id = historyStorage.readMaxId = generateMessageId(result.read_inbox_max_id ?? message.mid);\r\n      result.read_outbox_max_id = historyStorage.readOutboxMaxId = generateMessageId(result.read_outbox_max_id) || 0;\r\n\r\n      this.threadsToReplies[threadKey] = peerId + '_' + mid;\r\n\r\n      return message;\r\n    });\r\n  }\r\n\r\n  private handleNewMessage(message: MyMessage) {\r\n    this.rootScope.dispatchEvent('history_multiappend', message);\r\n  }\r\n\r\n  private handleNewDialogs = () => {\r\n    let newMaxSeenId = 0;\r\n    const obj = this.newDialogsToHandle;\r\n    for(const peerId in obj) {\r\n      const dialog = obj[peerId];\r\n      if(!dialog) {\r\n        this.reloadConversation(peerId.toPeerId());\r\n        delete obj[peerId];\r\n      } else {\r\n        this.dialogsStorage.pushDialog(dialog);\r\n        if(!this.appPeersManager.isChannel(peerId.toPeerId())) {\r\n          newMaxSeenId = Math.max(newMaxSeenId, dialog.top_message || 0);\r\n        }\r\n      }\r\n    }\r\n\r\n    //this.log('after order:', this.dialogsStorage[0].map((d) => d.peerId));\r\n\r\n    if(newMaxSeenId !== 0) {\r\n      this.incrementMaxSeenId(newMaxSeenId);\r\n    }\r\n\r\n    this.rootScope.dispatchEvent('dialogs_multiupdate', obj);\r\n    this.newDialogsToHandle = {};\r\n  };\r\n\r\n  public scheduleHandleNewDialogs(peerId?: PeerId, dialog?: Dialog) {\r\n    if(peerId !== undefined) {\r\n      this.newDialogsToHandle[peerId] = dialog;\r\n    }\r\n\r\n    if(this.newDialogsHandlePromise) return this.newDialogsHandlePromise;\r\n    return this.newDialogsHandlePromise = pause(0).then(() => {\r\n      this.newDialogsHandlePromise = undefined;\r\n      this.handleNewDialogs();\r\n    });\r\n  }\r\n\r\n  public async deleteMessages(peerId: PeerId, mids: number[], revoke?: boolean) {\r\n    let promise: Promise<any>;\r\n\r\n    const config = await this.apiManager.getConfig();\r\n    const overflowMids = mids.splice(config.forwarded_count_max, mids.length - config.forwarded_count_max);\r\n\r\n    const localMessageIds = mids.map((mid) => getServerMessageId(mid));\r\n\r\n    if(peerId.isAnyChat() && this.appPeersManager.isChannel(peerId)) {\r\n      const channelId = peerId.toChatId();\r\n      const channel: Chat.channel = this.appChatsManager.getChat(channelId);\r\n      if(!channel.pFlags.creator && !channel.admin_rights?.pFlags?.delete_messages) {\r\n        mids = mids.filter((mid) => {\r\n          const message = this.getMessageByPeer(peerId, mid);\r\n          return !!message.pFlags.out;\r\n        });\r\n\r\n        if(!mids.length) {\r\n          return;\r\n        }\r\n      }\r\n\r\n      promise = this.apiManager.invokeApi('channels.deleteMessages', {\r\n        channel: this.appChatsManager.getChannelInput(channelId),\r\n        id: localMessageIds\r\n      }).then((affectedMessages) => {\r\n        this.apiUpdatesManager.processLocalUpdate({\r\n          _: 'updateDeleteChannelMessages',\r\n          channel_id: channelId,\r\n          messages: mids,\r\n          pts: affectedMessages.pts,\r\n          pts_count: affectedMessages.pts_count\r\n        });\r\n      });\r\n    } else {\r\n      promise = this.apiManager.invokeApi('messages.deleteMessages', {\r\n        revoke,\r\n        id: localMessageIds\r\n      }).then((affectedMessages) => {\r\n        this.apiUpdatesManager.processLocalUpdate({\r\n          _: 'updateDeleteMessages',\r\n          messages: mids,\r\n          pts: affectedMessages.pts,\r\n          pts_count: affectedMessages.pts_count\r\n        });\r\n      });\r\n    }\r\n\r\n    const promises: (typeof promise)[] = [promise];\r\n    if(overflowMids.length) {\r\n      promises.push(this.deleteMessages(peerId, overflowMids, revoke));\r\n    }\r\n    \r\n    return Promise.all(promises).then(noop);\r\n  }\r\n\r\n  public readHistory(peerId: PeerId, maxId = 0, threadId?: number, force = false) {\r\n    if(DO_NOT_READ_HISTORY) {\r\n      return Promise.resolve();\r\n    }\r\n\r\n    // console.trace('start read')\r\n    this.log('readHistory:', peerId, maxId, threadId);\r\n    if(!this.getReadMaxIdIfUnread(peerId, threadId)) {\r\n      if(!force && !threadId) {\r\n        const dialog = this.getDialogOnly(peerId);\r\n        if(dialog && this.isDialogUnread(dialog)) {\r\n          force = true;\r\n        }\r\n      }\r\n\r\n      if(!force) {\r\n        this.log('readHistory: isn\\'t unread');\r\n        return Promise.resolve();\r\n      }\r\n    }\r\n\r\n    const historyStorage = this.getHistoryStorage(peerId, threadId);\r\n\r\n    if(historyStorage.triedToReadMaxId >= maxId) {\r\n      return Promise.resolve();\r\n    }\r\n\r\n    let apiPromise: Promise<any>;\r\n    if(threadId) {\r\n      if(!historyStorage.readPromise) {\r\n        apiPromise = this.apiManager.invokeApi('messages.readDiscussion', {\r\n          peer: this.appPeersManager.getInputPeerById(peerId),\r\n          msg_id: getServerMessageId(threadId),\r\n          read_max_id: getServerMessageId(maxId)\r\n        });\r\n      }\r\n\r\n      this.apiUpdatesManager.processLocalUpdate({\r\n        _: 'updateReadChannelDiscussionInbox',\r\n        channel_id: peerId.toChatId(),\r\n        top_msg_id: threadId,\r\n        read_max_id: maxId\r\n      });\r\n    } else if(this.appPeersManager.isChannel(peerId)) {\r\n      if(!historyStorage.readPromise) {\r\n        apiPromise = this.apiManager.invokeApi('channels.readHistory', {\r\n          channel: this.appChatsManager.getChannelInput(peerId.toChatId()),\r\n          max_id: getServerMessageId(maxId)\r\n        });\r\n      }\r\n\r\n      this.apiUpdatesManager.processLocalUpdate({\r\n        _: 'updateReadChannelInbox',\r\n        max_id: maxId,\r\n        channel_id: peerId.toChatId(),\r\n        still_unread_count: undefined,\r\n        pts: undefined\r\n      });\r\n    } else {\r\n      if(!historyStorage.readPromise) {\r\n        apiPromise = this.apiManager.invokeApi('messages.readHistory', {\r\n          peer: this.appPeersManager.getInputPeerById(peerId),\r\n          max_id: getServerMessageId(maxId)\r\n        }).then((affectedMessages) => {\r\n          this.apiUpdatesManager.processUpdateMessage({\r\n            _: 'updateShort',\r\n            update: {\r\n              _: 'updatePts',\r\n              pts: affectedMessages.pts,\r\n              pts_count: affectedMessages.pts_count\r\n            }\r\n          });\r\n        });\r\n      }\r\n\r\n      this.apiUpdatesManager.processLocalUpdate({\r\n        _: 'updateReadHistoryInbox',\r\n        max_id: maxId,\r\n        peer: this.appPeersManager.getOutputPeer(peerId),\r\n        still_unread_count: undefined,\r\n        pts: undefined,\r\n        pts_count: undefined\r\n      });\r\n    }\r\n\r\n    this.rootScope.dispatchEvent('notification_reset', this.appPeersManager.getPeerString(peerId));\r\n\r\n    if(historyStorage.readPromise) {\r\n      return historyStorage.readPromise;\r\n    }\r\n\r\n    historyStorage.triedToReadMaxId = maxId;\r\n\r\n    apiPromise.finally(() => {\r\n      delete historyStorage.readPromise;\r\n\r\n      const {readMaxId} = historyStorage;\r\n      this.log('readHistory: promise finally', maxId, readMaxId);\r\n\r\n      if(readMaxId > maxId) {\r\n        this.readHistory(peerId, readMaxId, threadId, true);\r\n      }\r\n    });\r\n\r\n    return historyStorage.readPromise = apiPromise;\r\n  }\r\n\r\n  public readAllHistory(peerId: PeerId, threadId?: number, force = false) {\r\n    const historyStorage = this.getHistoryStorage(peerId, threadId);\r\n    if(historyStorage.maxId) {\r\n      this.readHistory(peerId, historyStorage.maxId, threadId, force); // lol\r\n    }\r\n  }\r\n\r\n  public fixDialogUnreadMentionsIfNoMessage(peerId: PeerId) {\r\n    const dialog = this.getDialogOnly(peerId);\r\n    if(dialog?.unread_mentions_count) {\r\n      this.reloadConversation(peerId);\r\n    }\r\n  }\r\n\r\n  public modifyCachedMentions(peerId: PeerId, mid: number, add: boolean) {\r\n    const slicedArray = this.unreadMentions[peerId];\r\n    if(!slicedArray) return;\r\n\r\n    if(add) {\r\n      if(slicedArray.first.isEnd(SliceEnd.Top)) {\r\n        slicedArray.insertSlice([mid]);\r\n      }\r\n    } else {\r\n      slicedArray.delete(mid);\r\n    }\r\n  }\r\n\r\n  private fixUnreadMentionsCountIfNeeded(peerId: PeerId, slicedArray: SlicedArray<number>) {\r\n    const dialog = this.getDialogOnly(peerId);\r\n    if(!slicedArray.length && dialog?.unread_mentions_count) {\r\n      this.reloadConversation(peerId);\r\n    }\r\n  }\r\n\r\n  public goToNextMention(peerId: PeerId) {\r\n    /* this.getUnreadMentions(peerId, 1, 2, 0).then((messages) => {\r\n      console.log(messages);\r\n    }); */\r\n\r\n    const promise = this.goToNextMentionPromises[peerId];\r\n    if(promise) {\r\n      return promise;\r\n    }\r\n\r\n    const slicedArray = this.unreadMentions[peerId] ?? (this.unreadMentions[peerId] = new SlicedArray());\r\n    const length = slicedArray.length;\r\n    const isTopEnd = slicedArray.first.isEnd(SliceEnd.Top);\r\n    if(!length && isTopEnd) {\r\n      this.fixUnreadMentionsCountIfNeeded(peerId, slicedArray);\r\n      return Promise.resolve();\r\n    }\r\n\r\n    let loadNextPromise = Promise.resolve();\r\n    if(!isTopEnd && length < 25) {\r\n      loadNextPromise = this.loadNextMentions(peerId);\r\n    }\r\n\r\n    return this.goToNextMentionPromises[peerId] = loadNextPromise.then(() => {\r\n      const last = slicedArray.last;\r\n      const mid = last && last[last.length - 1];\r\n      if(mid) {\r\n        slicedArray.delete(mid);\r\n        return mid;\r\n      } else {\r\n        this.fixUnreadMentionsCountIfNeeded(peerId, slicedArray);\r\n      }\r\n    }).finally(() => {\r\n      delete this.goToNextMentionPromises[peerId];\r\n    });\r\n  }\r\n\r\n  public loadNextMentions(peerId: PeerId) {\r\n    const slicedArray = this.unreadMentions[peerId];\r\n    const maxId = slicedArray.first[0] || 1;\r\n\r\n    const backLimit = 50;\r\n    const add_offset = -backLimit;\r\n    const limit = backLimit;\r\n    return this.getUnreadMentions(peerId, maxId, add_offset, limit).then((messages) => {\r\n      this.mergeHistoryResult(slicedArray, messages, maxId === 1 ? 0 : maxId, limit, add_offset);\r\n    });\r\n  }\r\n\r\n  public getUnreadMentions(peerId: PeerId, offsetId: number, add_offset: number, limit: number, maxId = 0, minId = 0) {\r\n    return this.apiManager.invokeApiSingle('messages.getUnreadMentions', {\r\n      peer: this.appPeersManager.getInputPeerById(peerId),\r\n      offset_id: getServerMessageId(offsetId),\r\n      add_offset,\r\n      limit,\r\n      max_id: getServerMessageId(maxId),\r\n      min_id: getServerMessageId(minId)\r\n    }).then((messagesMessages) => {\r\n      assumeType<Exclude<MessagesMessages, MessagesMessages.messagesMessagesNotModified>>(messagesMessages);\r\n      this.appUsersManager.saveApiUsers(messagesMessages.users);\r\n      this.appChatsManager.saveApiChats(messagesMessages.chats);\r\n      this.saveMessages(messagesMessages.messages);\r\n\r\n      return messagesMessages;\r\n    });\r\n  }\r\n\r\n  public readMessages(peerId: PeerId, msgIds: number[]) {\r\n    if(DO_NOT_READ_HISTORY) {\r\n      return Promise.resolve();\r\n    }\r\n\r\n    if(!msgIds.length) {\r\n      return Promise.resolve();\r\n    }\r\n\r\n    msgIds = msgIds.map((mid) => getServerMessageId(mid));\r\n    let promise: Promise<any>, update: Update.updateChannelReadMessagesContents | Update.updateReadMessagesContents;\r\n    if(peerId.isAnyChat() && this.appPeersManager.isChannel(peerId)) {\r\n      const channelId = peerId.toChatId();\r\n\r\n      update = {\r\n        _: 'updateChannelReadMessagesContents',\r\n        channel_id: channelId,\r\n        messages: msgIds\r\n      };\r\n\r\n      promise = this.apiManager.invokeApi('channels.readMessageContents', {\r\n        channel: this.appChatsManager.getChannelInput(channelId),\r\n        id: msgIds\r\n      });\r\n    } else {\r\n      update = {\r\n        _: 'updateReadMessagesContents',\r\n        messages: msgIds,\r\n        pts: undefined,\r\n        pts_count: undefined\r\n      };\r\n\r\n      promise = this.apiManager.invokeApi('messages.readMessageContents', {\r\n        id: msgIds\r\n      }).then((affectedMessages) => {\r\n        (update as Update.updateReadMessagesContents).pts = affectedMessages.pts;\r\n        (update as Update.updateReadMessagesContents).pts_count = affectedMessages.pts_count;\r\n        this.apiUpdatesManager.processLocalUpdate(update);\r\n      });\r\n    }\r\n\r\n    this.apiUpdatesManager.processLocalUpdate(update);\r\n\r\n    return promise;\r\n  }\r\n\r\n  public getHistoryStorage(peerId: PeerId, threadId?: number) {\r\n    if(threadId) {\r\n      //threadId = this.getLocalMessageId(threadId);\r\n      if(!this.threadsStorage[peerId]) this.threadsStorage[peerId] = {};\r\n      return this.threadsStorage[peerId][threadId] ?? (this.threadsStorage[peerId][threadId] = {count: null, history: new SlicedArray()});\r\n    }\r\n\r\n    return this.historiesStorage[peerId] ?? (this.historiesStorage[peerId] = {count: null, history: new SlicedArray()});\r\n  }\r\n\r\n  public getHistoryStorageTransferable(peerId: PeerId, threadId?: number) {\r\n    const historyStorage = this.getHistoryStorage(peerId, threadId);\r\n    const {\r\n      count,\r\n      history,\r\n      maxId,\r\n      readMaxId,\r\n      readOutboxMaxId,\r\n      maxOutId,\r\n      replyMarkup\r\n    } = historyStorage;\r\n\r\n    return {\r\n      count,\r\n      history: undefined as HistoryStorage,\r\n      historySerialized: history.toJSON(),\r\n      maxId,\r\n      readMaxId,\r\n      readOutboxMaxId,\r\n      maxOutId,\r\n      replyMarkup\r\n    };\r\n  }\r\n\r\n  private getNotifyPeerSettings(peerId: PeerId) {\r\n    return Promise.all([\r\n      this.appNotificationsManager.getNotifyPeerTypeSettings(),\r\n      this.appNotificationsManager.getNotifySettings(this.appPeersManager.getInputNotifyPeerById(peerId, true))\r\n    ]).then(([_, peerTypeNotifySettings]) => {\r\n      return {\r\n        muted: this.appNotificationsManager.isPeerLocalMuted(peerId, true),\r\n        peerTypeNotifySettings\r\n      };\r\n    });\r\n  }\r\n\r\n  private handleNotifications = () => {\r\n    ctx.clearTimeout(this.notificationsHandlePromise);\r\n    this.notificationsHandlePromise = 0;\r\n\r\n    //var timeout = $rootScope.idle.isIDLE && StatusManager.isOtherDeviceActive() ? 30000 : 1000;\r\n    //const timeout = 1000;\r\n\r\n    for(const _peerId in this.notificationsToHandle) {\r\n      const peerId = _peerId.toPeerId();\r\n      // if(rootScope.peerId === peerId && !rootScope.idle.isIDLE) {\r\n        // continue;\r\n      // }\r\n\r\n      const notifyPeerToHandle = this.notificationsToHandle[peerId];\r\n      this.getNotifyPeerSettings(peerId).then(({muted, peerTypeNotifySettings}) => {\r\n        const topMessage = notifyPeerToHandle.topMessage;\r\n        if((muted && !topMessage.pFlags.mentioned) || !topMessage.pFlags.unread) {\r\n          return;\r\n        }\r\n\r\n        //setTimeout(() => {\r\n          if(topMessage.pFlags.unread) {\r\n            this.notifyAboutMessage(topMessage, {\r\n              fwdCount: notifyPeerToHandle.fwdCount,\r\n              peerTypeNotifySettings\r\n            });\r\n          }\r\n        //}, timeout);\r\n      });\r\n    }\r\n\r\n    this.notificationsToHandle = {};\r\n  };\r\n\r\n  private onUpdateMessageId = (update: Update.updateMessageID) => {\r\n    const randomId = update.random_id;\r\n    const pendingData = this.pendingByRandomId[randomId];\r\n    //this.log('AMM updateMessageID:', update, pendingData);\r\n    if(pendingData) {\r\n      const {peerId, tempId, threadId, storage} = pendingData;\r\n      const mid = generateMessageId(update.id);\r\n      const message = this.getMessageFromStorage(storage, mid);\r\n      if(message) {\r\n        [this.getHistoryStorage(peerId), threadId ? this.getHistoryStorage(peerId, threadId) : undefined]\r\n        .filter(Boolean)\r\n        .forEach((storage) => {\r\n          storage.history.delete(tempId);\r\n        });\r\n\r\n        this.finalizePendingMessageCallbacks(storage, tempId, message);\r\n      } else {\r\n        this.pendingByMessageId[mid] = randomId;\r\n      }\r\n    }\r\n  };\r\n\r\n  private onUpdateNewMessage = (update: Update.updateNewDiscussionMessage | Update.updateNewMessage | Update.updateNewChannelMessage) => {\r\n    const message = update.message as MyMessage;\r\n    const peerId = this.getMessagePeer(message);\r\n    const storage = this.getHistoryMessagesStorage(peerId);\r\n    const dialog = this.getDialogOnly(peerId);\r\n\r\n    // * local update\r\n    const isLocalThreadUpdate = update._ === 'updateNewDiscussionMessage';\r\n\r\n    // * temporary save the message for info (peerId, reply mids...)\r\n    this.saveMessages([message], {storage: this.createMessageStorage(peerId, 'history')});\r\n\r\n    const threadKey = this.getThreadKey(message);\r\n    const threadId = threadKey ? +threadKey.split('_')[1] : undefined;\r\n    if(threadId && !isLocalThreadUpdate && this.threadsStorage[peerId] && this.threadsStorage[peerId][threadId]) {\r\n      const update = {\r\n        _: 'updateNewDiscussionMessage',\r\n        message\r\n      } as Update.updateNewDiscussionMessage;\r\n\r\n      this.onUpdateNewMessage(update);\r\n    }\r\n\r\n    if(message._ === 'messageService' && message.action._ === 'messageActionPaymentSent') {\r\n      this.rootScope.dispatchEvent('payment_sent', {\r\n        peerId: message.reply_to.reply_to_peer_id ? getPeerId(message.reply_to.reply_to_peer_id) : message.peerId,\r\n        mid: message.reply_to_mid,\r\n        receiptMessage: message\r\n      });\r\n    }\r\n\r\n    if(!dialog && !isLocalThreadUpdate) {\r\n      let good = true;\r\n      if(peerId.isAnyChat()) {\r\n        good = this.appChatsManager.isInChat(peerId.toChatId());\r\n      }\r\n\r\n      if(good) {\r\n        const set = this.newUpdatesAfterReloadToHandle[peerId] ?? (this.newUpdatesAfterReloadToHandle[peerId] = new Set());\r\n        if(set.has(update)) {\r\n          this.log.error('here we go again', peerId);\r\n          return;\r\n        }\r\n\r\n        (update as any).ignoreExisting = true;\r\n        set.add(update);\r\n        this.scheduleHandleNewDialogs(peerId);\r\n      }\r\n\r\n      return;\r\n    }\r\n\r\n    /* if(update._ === 'updateNewChannelMessage') {\r\n      const chat = appChatsManager.getChat(peerId.toChatId());\r\n      if(chat.pFlags && (chat.pFlags.left || chat.pFlags.kicked)) {\r\n        return;\r\n      }\r\n    } */\r\n\r\n    this.saveMessages([message], {storage});\r\n    // this.log.warn(dT(), 'message unread', message.mid, message.pFlags.unread)\r\n\r\n    /* if((message as Message.message).grouped_id) {\r\n      this.log('updateNewMessage', message);\r\n    } */\r\n\r\n    const pendingMessage = this.checkPendingMessage(message);\r\n    const historyStorage = this.getHistoryStorage(peerId, isLocalThreadUpdate ? threadId : undefined);\r\n\r\n    if(!isLocalThreadUpdate) {\r\n      this.updateMessageRepliesIfNeeded(message);\r\n    }\r\n\r\n    // * so message can exist if reloadConversation came back earlier with mid\r\n    const ignoreExisting: boolean = (update as any).ignoreExisting;\r\n    const isExisting = !!historyStorage.history.findSlice(message.mid);\r\n    if(isExisting) {\r\n      if(!ignoreExisting) {\r\n        return false;\r\n      }\r\n    } else {\r\n      // * catch situation with disconnect. if message's id is lower than we already have (in bottom end slice), will sort it\r\n      const firstSlice = historyStorage.history.first;\r\n      if(firstSlice.isEnd(SliceEnd.Bottom)) {\r\n        let i = 0;\r\n        for(const length = firstSlice.length; i < length; ++i) {\r\n          if(message.mid > firstSlice[i]) {\r\n            break;\r\n          }\r\n        }\r\n\r\n        firstSlice.splice(i, 0, message.mid);\r\n      } else {\r\n        historyStorage.history.unshift(message.mid);\r\n      }\r\n\r\n      if(historyStorage.count !== null) {\r\n        historyStorage.count++;\r\n      }\r\n    }\r\n\r\n    if(this.mergeReplyKeyboard(historyStorage, message)) {\r\n      this.rootScope.dispatchEvent('history_reply_markup', {peerId});\r\n    }\r\n\r\n    const fromId = message.fromId;\r\n    if(fromId.isUser() && !message.pFlags.out && message.from_id) {\r\n      this.appUsersManager.forceUserOnline(fromId, message.date);\r\n\r\n      const action: SendMessageAction = {\r\n        _: 'sendMessageCancelAction'\r\n      };\r\n\r\n      let update: Update.updateUserTyping | Update.updateChatUserTyping | Update.updateChannelUserTyping;\r\n      if(peerId.isUser()) {\r\n        update = {\r\n          _: 'updateUserTyping',\r\n          action,\r\n          user_id: fromId\r\n        };\r\n      } else if(this.appPeersManager.isChannel(peerId)) {\r\n        update = {\r\n          _: 'updateChannelUserTyping',\r\n          action,\r\n          channel_id: peerId.toChatId(),\r\n          from_id: this.appPeersManager.getOutputPeer(fromId),\r\n          top_msg_id: threadId ? getServerMessageId(threadId) : undefined\r\n        };\r\n      } else {\r\n        update = {\r\n          _: 'updateChatUserTyping',\r\n          action,\r\n          chat_id: peerId.toChatId(),\r\n          from_id: this.appPeersManager.getOutputPeer(fromId)\r\n        };\r\n      }\r\n\r\n      this.apiUpdatesManager.processLocalUpdate(update);\r\n    }\r\n\r\n    // commented to render the message if it's been sent faster than history_append came to main thread\r\n    // if(!pendingMessage) {\r\n      this.handleNewMessage(message);\r\n    // }\r\n\r\n    if(isLocalThreadUpdate) {\r\n      return;\r\n    }\r\n    \r\n    const inboxUnread = !message.pFlags.out && message.pFlags.unread;\r\n    if(dialog) {\r\n      if(inboxUnread && message.mid > dialog.top_message) {\r\n        const releaseUnreadCount = this.dialogsStorage.prepareDialogUnreadCountModifying(dialog);\r\n\r\n        ++dialog.unread_count;\r\n        if(message.pFlags.mentioned) {\r\n          ++dialog.unread_mentions_count;\r\n          this.modifyCachedMentions(peerId, message.mid, true);\r\n        }\r\n\r\n        releaseUnreadCount();\r\n      }\r\n\r\n      if(message.mid >= dialog.top_message) {\r\n        this.setDialogTopMessage(message, dialog);\r\n      }\r\n    }\r\n\r\n    if(inboxUnread/*  && ($rootScope.selectedPeerID != peerID || $rootScope.idle.isIDLE) */) {\r\n      const notifyPeer = peerId;\r\n      let notifyPeerToHandle = this.notificationsToHandle[notifyPeer];\r\n      if(notifyPeerToHandle === undefined) {\r\n        notifyPeerToHandle = this.notificationsToHandle[notifyPeer] = {\r\n          fwdCount: 0,\r\n          fromId: NULL_PEER_ID\r\n        };\r\n      }\r\n\r\n      if(notifyPeerToHandle.fromId !== fromId) {\r\n        notifyPeerToHandle.fromId = fromId;\r\n        notifyPeerToHandle.fwdCount = 0;\r\n      }\r\n\r\n      if((message as Message.message).fwd_from) {\r\n        ++notifyPeerToHandle.fwdCount;\r\n      }\r\n\r\n      notifyPeerToHandle.topMessage = message;\r\n\r\n      if(!this.notificationsHandlePromise) {\r\n        this.notificationsHandlePromise = ctx.setTimeout(this.handleNotifications, 0);\r\n      }\r\n    }\r\n  };\r\n\r\n  private onUpdateMessageReactions = (update: Update.updateMessageReactions) => {\r\n    const {peer, msg_id, reactions} = update;\r\n    const mid = generateMessageId(msg_id);\r\n    const peerId = getPeerId(peer);\r\n    const message: MyMessage = this.getMessageByPeer(peerId, mid);\r\n\r\n    if(message?._ !== 'message') {\r\n      return;\r\n    }\r\n\r\n    const recentReactions = reactions?.recent_reactions;\r\n    if(recentReactions?.length && message.pFlags.out) {\r\n      const recentReaction = recentReactions[recentReactions.length - 1];\r\n      const previousReactions = message.reactions;\r\n      const previousRecentReactions = previousReactions?.recent_reactions;\r\n      if(\r\n        getPeerId(recentReaction.peer_id) !== this.appPeersManager.peerId && (\r\n          !previousRecentReactions ||\r\n          previousRecentReactions.length <= recentReactions.length\r\n        ) && (\r\n          !previousRecentReactions || \r\n          !deepEqual(recentReaction, previousRecentReactions[previousRecentReactions.length - 1])\r\n        )\r\n      ) {\r\n        this.getNotifyPeerSettings(peerId).then(({muted, peerTypeNotifySettings}) => {\r\n          if(/* muted ||  */!peerTypeNotifySettings.show_previews) return;\r\n          this.notifyAboutMessage(message, {\r\n            peerReaction: recentReaction,\r\n            peerTypeNotifySettings\r\n          });\r\n        });\r\n      }\r\n    }\r\n    \r\n    const key = message.peerId + '_' + message.mid;\r\n    this.pushBatchUpdate('messages_reactions', this.batchUpdateReactions, key, () => copy(message.reactions));\r\n\r\n    message.reactions = reactions;\r\n\r\n    if(!update.local) {\r\n      this.setDialogToStateIfMessageIsTop(message);\r\n    }\r\n  };\r\n\r\n  private onUpdateDialogUnreadMark = (update: Update.updateDialogUnreadMark) => {\r\n    //this.log('updateDialogUnreadMark', update);\r\n    const peerId = getPeerId((update.peer as DialogPeer.dialogPeer).peer);\r\n    const dialog = this.getDialogOnly(peerId);\r\n\r\n    if(!dialog) {\r\n      this.scheduleHandleNewDialogs(peerId);\r\n    } else {\r\n      const releaseUnreadCount = this.dialogsStorage.prepareDialogUnreadCountModifying(dialog);\r\n\r\n      if(!update.pFlags.unread) {\r\n        delete dialog.pFlags.unread_mark;\r\n      } else {\r\n        dialog.pFlags.unread_mark = true;\r\n      }\r\n\r\n      releaseUnreadCount();\r\n      this.dialogsStorage.setDialogToState(dialog);\r\n      this.rootScope.dispatchEvent('dialogs_multiupdate', {[peerId]: dialog});\r\n    }\r\n  };\r\n\r\n  private onUpdateEditMessage = (update: Update.updateEditMessage | Update.updateEditChannelMessage) => {\r\n    const message = update.message as MyMessage;\r\n    const peerId = this.getMessagePeer(message);\r\n    const mid = generateMessageId(message.id);\r\n    const storage = this.getHistoryMessagesStorage(peerId);\r\n    if(!storage.has(mid)) {\r\n      // this.fixDialogUnreadMentionsIfNoMessage(peerId);\r\n      return;\r\n    }\r\n\r\n    // console.trace(dT(), 'edit message', message)\r\n    \r\n    const oldMessage: Message = this.getMessageFromStorage(storage, mid);\r\n    this.saveMessages([message], {storage});\r\n    const newMessage: Message = this.getMessageFromStorage(storage, mid);\r\n\r\n    this.handleEditedMessage(oldMessage, newMessage, storage);\r\n\r\n    const dialog = this.getDialogOnly(peerId);\r\n\r\n    // if sender erased mention\r\n    /* if(dialog.unread_mentions_count && (oldMessage as Message.message)?.pFlags?.mentioned && !message.pFlags.mentioned) {\r\n      --dialog.unread_mentions_count;\r\n      this.modifyCachedMentions(peerId, mid, false);\r\n    } */\r\n\r\n    const isTopMessage = dialog && dialog.top_message === mid;\r\n    if((message as Message.messageService).clear_history) {\r\n      if(isTopMessage) {\r\n        this.rootScope.dispatchEvent('dialog_flush', {peerId, dialog});\r\n      }\r\n    } else {\r\n      // no sense in dispatching message_edit since only reactions have changed\r\n      if(oldMessage?._ === 'message' && !deepEqual(oldMessage.reactions, (newMessage as Message.message).reactions)) {\r\n        const newReactions = (newMessage as Message.message).reactions;\r\n        (newMessage as Message.message).reactions = oldMessage.reactions;\r\n        this.apiUpdatesManager.processLocalUpdate({\r\n          _: 'updateMessageReactions',\r\n          peer: this.appPeersManager.getOutputPeer(peerId),\r\n          msg_id: message.id,\r\n          reactions: newReactions\r\n        });\r\n\r\n        return;\r\n      }\r\n\r\n      this.rootScope.dispatchEvent('message_edit', {\r\n        storageKey: storage.key,\r\n        peerId,\r\n        mid,\r\n        message\r\n      });\r\n\r\n      if(isTopMessage || (message as Message.message).grouped_id) {\r\n        const updatedDialogs: {[peerId: PeerId]: Dialog} = {};\r\n        updatedDialogs[peerId] = dialog;\r\n        this.dialogsStorage.setDialogToState(dialog);\r\n        this.rootScope.dispatchEvent('dialogs_multiupdate', updatedDialogs);\r\n      }\r\n    }\r\n  };\r\n\r\n  private onUpdateReadHistory = (update: Update.updateReadChannelDiscussionInbox | Update.updateReadChannelDiscussionOutbox \r\n    | Update.updateReadHistoryInbox | Update.updateReadHistoryOutbox \r\n    | Update.updateReadChannelInbox | Update.updateReadChannelOutbox) => {\r\n    const channelId = (update as Update.updateReadChannelInbox).channel_id;\r\n    const maxId = generateMessageId((update as Update.updateReadChannelInbox).max_id || (update as Update.updateReadChannelDiscussionInbox).read_max_id);\r\n    const threadId = generateMessageId((update as Update.updateReadChannelDiscussionInbox).top_msg_id);\r\n    const peerId = channelId ? channelId.toPeerId(true) : getPeerId((update as Update.updateReadHistoryInbox).peer);\r\n\r\n    const isOut = update._ === 'updateReadHistoryOutbox' || update._ === 'updateReadChannelOutbox' || update._ === 'updateReadChannelDiscussionOutbox' ? true : undefined;\r\n\r\n    const storage = this.getHistoryMessagesStorage(peerId);\r\n    const history = getObjectKeysAndSort(storage, 'desc');\r\n    const foundDialog = this.getDialogOnly(peerId);\r\n    const stillUnreadCount = (update as Update.updateReadChannelInbox).still_unread_count;\r\n    let newUnreadCount = 0;\r\n    let newUnreadMentionsCount = 0;\r\n    let foundAffected = false;\r\n\r\n    //this.log.warn(dT(), 'read', peerId, isOut ? 'out' : 'in', maxId)\r\n\r\n    const historyStorage = this.getHistoryStorage(peerId, threadId);\r\n\r\n    if(peerId.isUser() && isOut) {\r\n      this.appUsersManager.forceUserOnline(peerId);\r\n    }\r\n\r\n    if(threadId) {\r\n      const repliesKey = this.threadsToReplies[peerId + '_' + threadId];\r\n      if(repliesKey) {\r\n        const [peerId, mid] = repliesKey.split('_');\r\n        this.updateMessage(peerId.toPeerId(), +mid, 'replies_updated');\r\n      }\r\n    }\r\n\r\n    const releaseUnreadCount = !threadId && foundDialog && this.dialogsStorage.prepareDialogUnreadCountModifying(foundDialog);\r\n\r\n    for(let i = 0, length = history.length; i < length; i++) {\r\n      const mid = history[i];\r\n      if(mid > maxId) {\r\n        continue;\r\n      }\r\n      \r\n      const message: MyMessage = storage.get(mid);\r\n\r\n      if(message.pFlags.out !== isOut) {\r\n        continue;\r\n      }\r\n\r\n      if(!message.pFlags.unread) {\r\n        break;\r\n      }\r\n\r\n      if(threadId) {\r\n        const replyTo = message.reply_to;\r\n        if(!replyTo || (replyTo.reply_to_top_id || replyTo.reply_to_msg_id) !== threadId) {\r\n          continue;\r\n        }\r\n      }\r\n      \r\n      // this.log.warn('read', messageId, message.pFlags.unread, message)\r\n      if(message.pFlags.unread) {\r\n        delete message.pFlags.unread;\r\n        if(!foundAffected) {\r\n          foundAffected = true;\r\n        }\r\n\r\n        if(!message.pFlags.out && !threadId && foundDialog) {\r\n          if(stillUnreadCount === undefined) {\r\n            newUnreadCount = --foundDialog.unread_count;\r\n          }\r\n\r\n          if(message.pFlags.mentioned) {\r\n            newUnreadMentionsCount = --foundDialog.unread_mentions_count;\r\n            this.modifyCachedMentions(peerId, message.mid, false);\r\n          }\r\n        }\r\n        \r\n        this.rootScope.dispatchEvent('notification_cancel', 'msg' + mid);\r\n      }\r\n    }\r\n\r\n    if(isOut) historyStorage.readOutboxMaxId = maxId;\r\n    else historyStorage.readMaxId = maxId;\r\n\r\n    if(!threadId && foundDialog) {\r\n      if(isOut) foundDialog.read_outbox_max_id = maxId;\r\n      else foundDialog.read_inbox_max_id = maxId;\r\n\r\n      if(!isOut) {\r\n        let setCount: number;\r\n        if(stillUnreadCount !== undefined) {\r\n          setCount = stillUnreadCount;\r\n        } else if(newUnreadCount < 0 || !this.getReadMaxIdIfUnread(peerId)) {\r\n          setCount = 0;\r\n        } else if(newUnreadCount && foundDialog.top_message > maxId) {\r\n          setCount = newUnreadCount;\r\n        }\r\n\r\n        if(setCount !== undefined) {\r\n          foundDialog.unread_count = setCount;\r\n        }\r\n\r\n        if(newUnreadMentionsCount < 0 || !foundDialog.unread_count) {\r\n          foundDialog.unread_mentions_count = 0;\r\n        }\r\n      }\r\n\r\n      if(releaseUnreadCount) {\r\n        releaseUnreadCount();\r\n      }\r\n\r\n      this.dialogsStorage.processDialogForFilters(foundDialog);\r\n      \r\n      this.rootScope.dispatchEvent('dialog_unread', {peerId, dialog: foundDialog});\r\n      this.dialogsStorage.setDialogToState(foundDialog);\r\n    }\r\n\r\n    if(foundAffected) {\r\n      this.rootScope.dispatchEvent('messages_read');\r\n    }\r\n\r\n    if(!threadId && channelId) {\r\n      const threadKeyPart = peerId + '_';\r\n      for(const threadKey in this.threadsToReplies) {\r\n        if(threadKey.indexOf(threadKeyPart) === 0) {\r\n          const [peerId, mid] = this.threadsToReplies[threadKey].split('_');\r\n          this.rootScope.dispatchEvent('replies_updated', this.getMessageByPeer(peerId.toPeerId(), +mid) as Message.message);\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  private onUpdateReadMessagesContents = (update: Update.updateChannelReadMessagesContents | Update.updateReadMessagesContents) => {\r\n    const channelId = (update as Update.updateChannelReadMessagesContents).channel_id;\r\n    const mids = (update as Update.updateReadMessagesContents).messages.map((id) => generateMessageId(id));\r\n    const peerId = channelId ? channelId.toPeerId(true) : this.findPeerIdByMids(mids);\r\n    for(let i = 0, length = mids.length; i < length; ++i) {\r\n      const mid = mids[i];\r\n      const message: MyMessage = this.getMessageByPeer(peerId, mid);\r\n      if(message) {\r\n        if(message.pFlags.media_unread) {\r\n          delete message.pFlags.media_unread;\r\n          this.setDialogToStateIfMessageIsTop(message);\r\n  \r\n          if(!message.pFlags.out && message.pFlags.mentioned) {\r\n            this.modifyCachedMentions(peerId, mid, false);\r\n          }\r\n        }\r\n      } else {\r\n        this.fixDialogUnreadMentionsIfNoMessage(peerId);\r\n      }\r\n    }\r\n\r\n    this.rootScope.dispatchEvent('messages_media_read', {peerId, mids});\r\n  };\r\n\r\n  private onUpdateChannelAvailableMessages = (update: Update.updateChannelAvailableMessages) => {\r\n    const peerId = update.channel_id.toPeerId(true);\r\n    const history = this.getHistoryStorage(peerId).history.slice;\r\n    const availableMinId = generateMessageId(update.available_min_id);\r\n    const messages = history.filter((mid) => mid <= availableMinId);\r\n\r\n    (update as any as Update.updateDeleteChannelMessages).messages = messages;\r\n    this.onUpdateDeleteMessages(update as any as Update.updateDeleteChannelMessages);\r\n  };\r\n\r\n  private onUpdateDeleteMessages = (update: Update.updateDeleteMessages | Update.updateDeleteChannelMessages) => {\r\n    const channelId = (update as Update.updateDeleteChannelMessages).channel_id;\r\n    //const messages = (update as any as Update.updateDeleteChannelMessages).messages;\r\n    const messages = (update as any as Update.updateDeleteChannelMessages).messages.map((id) => generateMessageId(id));\r\n    const peerId: PeerId = channelId ? channelId.toPeerId(true) : this.findPeerIdByMids(messages);\r\n    \r\n    if(!peerId) {\r\n      return;\r\n    }\r\n\r\n    this.apiManager.clearCache('messages.getSearchCounters', (params) => {\r\n      return getPeerId(params.peer) === peerId;\r\n    });\r\n\r\n    const threadKeys: Set<string> = new Set();\r\n    for(const mid of messages) {\r\n      const message = this.getMessageByPeer(peerId, mid);\r\n      const threadKey = this.getThreadKey(message);\r\n      if(threadKey && this.threadsStorage[peerId] && this.threadsStorage[peerId][+threadKey.split('_')[1]]) {\r\n        threadKeys.add(threadKey);\r\n      }\r\n    }\r\n    \r\n    const historyUpdated = this.handleDeletedMessages(peerId, this.getHistoryMessagesStorage(peerId), messages);\r\n\r\n    const threadsStorages = Array.from(threadKeys).map((threadKey) => {\r\n      const [peerId, mid] = threadKey.split('_');\r\n      return this.getHistoryStorage(peerId.toPeerId(), +mid);\r\n    });\r\n\r\n    const historyStorage = this.getHistoryStorage(peerId);\r\n    [historyStorage].concat(threadsStorages).forEach((historyStorage) => {\r\n      for(const mid of historyUpdated.msgs) {\r\n        historyStorage.history.delete(mid);\r\n      }\r\n      \r\n      if(historyUpdated.count && historyStorage.count) {\r\n        historyStorage.count = Math.max(0, historyStorage.count - historyUpdated.count);\r\n      }\r\n    });\r\n\r\n    this.rootScope.dispatchEvent('history_delete', {peerId, msgs: historyUpdated.msgs});\r\n\r\n    const foundDialog = this.getDialogOnly(peerId);\r\n    if(foundDialog) {\r\n      const affected = historyUpdated.unreadMentions || historyUpdated.unread;\r\n      const releaseUnreadCount = affected && this.dialogsStorage.prepareDialogUnreadCountModifying(foundDialog);\r\n      \r\n      if(historyUpdated.unread) {\r\n        foundDialog.unread_count = Math.max(0, foundDialog.unread_count - historyUpdated.unread);\r\n      }\r\n\r\n      if(historyUpdated.unreadMentions) {\r\n        foundDialog.unread_mentions_count = !foundDialog.unread_count ? 0 : Math.max(0, foundDialog.unread_mentions_count - historyUpdated.unreadMentions);\r\n      }\r\n\r\n      if(affected) {\r\n        releaseUnreadCount();\r\n        this.rootScope.dispatchEvent('dialog_unread', {peerId, dialog: foundDialog});\r\n      }\r\n\r\n      if(historyUpdated.msgs.has(foundDialog.top_message)) {\r\n        const slice = historyStorage.history.first;\r\n        if(slice.isEnd(SliceEnd.Bottom) && slice.length) {\r\n          const mid = slice[0];\r\n          const message = this.getMessageByPeer(peerId, mid);\r\n          this.setDialogTopMessage(message, foundDialog);\r\n        } else {\r\n          this.reloadConversation(peerId);\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  private onUpdateChannel = (update: Update.updateChannel) => {\r\n    const channelId = update.channel_id;\r\n    const peerId = channelId.toPeerId(true);\r\n    const channel: Chat.channel = this.appChatsManager.getChat(channelId);\r\n\r\n    const needDialog = this.appChatsManager.isInChat(channelId);\r\n    \r\n    const canViewHistory = !!channel.username || !channel.pFlags.left;\r\n    const hasHistory = this.historiesStorage[peerId] !== undefined;\r\n    \r\n    if(canViewHistory !== hasHistory) {\r\n      delete this.historiesStorage[peerId];\r\n      this.rootScope.dispatchEvent('history_forbidden', peerId);\r\n    }\r\n    \r\n    const dialog = this.getDialogOnly(peerId);\r\n    if(!!dialog !== needDialog) {\r\n      if(needDialog) {\r\n        this.reloadConversation(peerId);\r\n      } else {\r\n        this.dialogsStorage.dropDialogOnDeletion(peerId);\r\n      }\r\n    }\r\n\r\n    this.rootScope.dispatchEvent('channel_update', channelId);\r\n  };\r\n\r\n  private onUpdateChannelReload = (update: Update.updateChannelReload) => {\r\n    const peerId = update.channel_id.toPeerId(true);\r\n\r\n    this.dialogsStorage.dropDialog(peerId);\r\n\r\n    delete this.historiesStorage[peerId];\r\n    this.reloadConversation(peerId).then(() => {\r\n      this.rootScope.dispatchEvent('history_reload', peerId);\r\n    });\r\n  };\r\n  \r\n  private onUpdateChannelMessageViews = (update: Update.updateChannelMessageViews) => {\r\n    const views = update.views;\r\n    const peerId = update.channel_id.toPeerId(true);\r\n    const mid = generateMessageId(update.id);\r\n    const message = this.getMessageByPeer(peerId, mid) as Message.message;\r\n    if(message?.views !== undefined && message.views < views) {\r\n      message.views = views;\r\n      this.pushBatchUpdate('messages_views', this.batchUpdateViews, message.peerId + '_' + message.mid);\r\n      this.setDialogToStateIfMessageIsTop(message);\r\n    }\r\n  };\r\n\r\n  private onUpdateServiceNotification = (update: Update.updateServiceNotification) => {\r\n    //this.log('updateServiceNotification', update);\r\n    if(update.pFlags?.popup) {\r\n      this.rootScope.dispatchEvent('service_notification', update);\r\n      return;\r\n    }\r\n    \r\n    const fromId = SERVICE_PEER_ID;\r\n    const peerId = fromId;\r\n    const messageId = this.generateTempMessageId(peerId);\r\n    const message: Message.message = {\r\n      _: 'message',\r\n      id: messageId,\r\n      from_id: this.appPeersManager.getOutputPeer(fromId),\r\n      peer_id: this.appPeersManager.getOutputPeer(peerId),\r\n      pFlags: {unread: true},\r\n      date: (update.inbox_date || tsNow(true)) + this.timeManager.getServerTimeOffset(),\r\n      message: update.message,\r\n      media: update.media,\r\n      entities: update.entities\r\n    };\r\n    if(!this.appUsersManager.hasUser(fromId)) {\r\n      this.appUsersManager.saveApiUsers([{\r\n        _: 'user',\r\n        id: fromId,\r\n        pFlags: {verified: true},\r\n        access_hash: '0',\r\n        first_name: 'Telegram',\r\n        phone: '42777'\r\n      }]);\r\n    }\r\n    this.saveMessages([message], {isOutgoing: true});\r\n\r\n    if(update.inbox_date) {\r\n      this.pendingTopMsgs[peerId] = messageId;\r\n      this.onUpdateNewMessage({\r\n        _: 'updateNewMessage',\r\n        message,\r\n        pts: undefined,\r\n        pts_count: undefined\r\n      });\r\n    }\r\n  };\r\n\r\n  private onUpdatePinnedMessages = (update: Update.updatePinnedMessages | Update.updatePinnedChannelMessages) => {\r\n    const channelId = update._ === 'updatePinnedChannelMessages' ? update.channel_id : undefined;\r\n    const peerId = channelId ? channelId.toPeerId(true) : getPeerId((update as Update.updatePinnedMessages).peer);\r\n\r\n    /* const storage = this.getSearchStorage(peerId, 'inputMessagesFilterPinned');\r\n    if(storage.count !== storage.history.length) {\r\n      if(storage.count !== undefined) {\r\n        delete this.searchesStorage[peerId]['inputMessagesFilterPinned'];  \r\n      }\r\n\r\n      rootScope.broadcast('peer_pinned_messages', peerId);\r\n      break;\r\n    } */\r\n\r\n    const messages = update.messages.map((id) => generateMessageId(id)); \r\n\r\n    const storage = this.getHistoryMessagesStorage(peerId);\r\n    const missingMessages = messages.filter((mid) => !storage.has(mid));\r\n    const getMissingPromise = missingMessages.length ? Promise.all(missingMessages.map((mid) => this.wrapSingleMessage(peerId, mid))) : Promise.resolve();\r\n    getMissingPromise.finally(() => {\r\n      const werePinned = update.pFlags?.pinned;\r\n      if(werePinned) {\r\n        for(const mid of messages) {\r\n          //storage.history.push(mid);\r\n          const message = storage.get(mid) as Message.message;\r\n          message.pFlags.pinned = true;\r\n        }\r\n\r\n        /* if(this.pinnedMessages[peerId]?.maxId) {\r\n          const maxMid = Math.max(...messages);\r\n          this.pinnedMessages\r\n        } */\r\n\r\n        //storage.history.sort((a, b) => b - a);\r\n      } else {\r\n        for(const mid of messages) {\r\n          //storage.history.findAndSplice((_mid) => _mid === mid);\r\n          const message = storage.get(mid) as Message.message;\r\n          delete message.pFlags.pinned;\r\n        }\r\n      }\r\n\r\n      /* const info = this.pinnedMessages[peerId];\r\n      if(info) {\r\n        info.count += messages.length * (werePinned ? 1 : -1);\r\n      } */\r\n  \r\n      delete this.pinnedMessages[peerId];\r\n      this.appStateManager.getState().then((state) => {\r\n        delete state.hiddenPinnedMessages[peerId];\r\n        this.rootScope.dispatchEvent('peer_pinned_messages', {peerId, mids: messages, pinned: werePinned});\r\n      });\r\n    });\r\n  };\r\n\r\n  private onUpdateNotifySettings = (update: Update.updateNotifySettings) => {\r\n    const {peer, notify_settings} = update;\r\n    if(peer._ === 'notifyPeer') {\r\n      const peerId = getPeerId((peer as NotifyPeer.notifyPeer).peer);\r\n    \r\n      const dialog = this.getDialogOnly(peerId);\r\n      if(dialog) {\r\n        dialog.notify_settings = notify_settings;\r\n        this.rootScope.dispatchEvent('dialog_notify_settings', dialog);\r\n        this.dialogsStorage.setDialogToState(dialog);\r\n      }\r\n    }\r\n  };\r\n\r\n  private onUpdateNewScheduledMessage = (update: Update.updateNewScheduledMessage) => {\r\n    const message = update.message as MyMessage;\r\n    const peerId = this.getMessagePeer(message);\r\n\r\n    const storage = this.scheduledMessagesStorage[peerId];\r\n    if(!storage) {\r\n      return;\r\n    }\r\n\r\n    const mid = generateMessageId(message.id);\r\n\r\n    const oldMessage = this.getMessageFromStorage(storage, mid);\r\n    this.saveMessages([message], {storage, isScheduled: true});\r\n    const newMessage = this.getMessageFromStorage(storage, mid);\r\n\r\n    if(oldMessage) {\r\n      this.handleEditedMessage(oldMessage, newMessage, storage);\r\n      this.rootScope.dispatchEvent('message_edit', {storageKey: storage.key, peerId, mid: message.mid, message});\r\n    } else {\r\n      const pendingMessage = this.checkPendingMessage(message);\r\n      if(!pendingMessage) {\r\n        this.rootScope.dispatchEvent('scheduled_new', message as Message.message);\r\n      }\r\n    }\r\n  };\r\n\r\n  private onUpdateDeleteScheduledMessages = (update: Update.updateDeleteScheduledMessages) => {\r\n    const peerId = getPeerId(update.peer);\r\n\r\n    const storage = this.scheduledMessagesStorage[peerId];\r\n    if(storage) {\r\n      const mids = update.messages.map((id) => generateMessageId(id));\r\n      this.handleDeletedMessages(peerId, storage, mids);\r\n\r\n      this.rootScope.dispatchEvent('scheduled_delete', {peerId, mids});\r\n    }\r\n  };\r\n\r\n  public setDialogToStateIfMessageIsTop(message: MyMessage) {\r\n    if(this.isMessageIsTopMessage(message)) {\r\n      this.dialogsStorage.setDialogToState(this.getDialogOnly(message.peerId));\r\n    }\r\n  }\r\n\r\n  public isMessageIsTopMessage(message: MyMessage) {\r\n    const dialog = this.getDialogOnly(message.peerId);\r\n    return dialog && dialog.top_message === message.mid;\r\n  }\r\n\r\n  private updateMessageRepliesIfNeeded(threadMessage: MyMessage) {\r\n    try { // * на всякий случай, скорее всего это не понадобится\r\n      const threadKey = this.getThreadKey(threadMessage);\r\n      if(threadKey) {\r\n        const repliesKey = this.threadsToReplies[threadKey];\r\n        if(repliesKey) {\r\n          const [peerId, mid] = repliesKey.split('_');\r\n\r\n          this.updateMessage(peerId.toPeerId(), +mid, 'replies_updated');\r\n        }\r\n      }\r\n    } catch(err) {\r\n      this.log.error('incrementMessageReplies err', err, threadMessage);\r\n    }\r\n  }\r\n\r\n  private getThreadKey(threadMessage: MyMessage) {\r\n    let threadKey = '';\r\n    if(threadMessage?.reply_to && threadMessage.peerId?.isAnyChat()) {\r\n      const threadId = threadMessage.reply_to.reply_to_top_id || threadMessage.reply_to.reply_to_msg_id;\r\n      threadKey = threadMessage.peerId + '_' + threadId;\r\n    }\r\n\r\n    return threadKey;\r\n  }\r\n\r\n  public updateMessage(peerId: PeerId, mid: number, broadcastEventName?: 'replies_updated'): Promise<Message.message> {\r\n    const promise: Promise<Message.message> = this.wrapSingleMessage(peerId, mid, true).then(() => {\r\n      const message = this.getMessageByPeer(peerId, mid) as Message.message;\r\n      if(!message) {\r\n        return;\r\n      }\r\n\r\n      if(broadcastEventName) {\r\n        this.rootScope.dispatchEvent(broadcastEventName, message);\r\n      }\r\n\r\n      return message;\r\n    });\r\n    \r\n    return promise;\r\n  }\r\n\r\n  private checkPendingMessage(message: MyMessage) {\r\n    const randomId = this.pendingByMessageId[message.mid];\r\n    let pendingMessage: ReturnType<AppMessagesManager['finalizePendingMessage']>;\r\n    if(randomId) {\r\n      const pendingData = this.pendingByRandomId[randomId];\r\n      if(pendingMessage = this.finalizePendingMessage(randomId, message)) {\r\n        this.rootScope.dispatchEvent('history_update', {storageKey: pendingData.storage.key, message, sequential: pendingData.sequential});\r\n      }\r\n\r\n      delete this.pendingByMessageId[message.mid];\r\n    }\r\n\r\n    return pendingMessage;\r\n  }\r\n\r\n  public mutePeer(peerId: PeerId, muteUntil: number) {\r\n    const settings: InputPeerNotifySettings = {\r\n      _: 'inputPeerNotifySettings'\r\n    };\r\n\r\n    settings.mute_until = muteUntil;\r\n\r\n    return this.appNotificationsManager.updateNotifySettings({\r\n      _: 'inputNotifyPeer',\r\n      peer: this.appPeersManager.getInputPeerById(peerId)\r\n    }, settings);\r\n  }\r\n\r\n  public togglePeerMute(peerId: PeerId, mute?: boolean) {\r\n    if(mute === undefined) {\r\n      mute = !this.appNotificationsManager.isPeerLocalMuted(peerId, false);\r\n    }\r\n\r\n    return this.mutePeer(peerId, mute ? MUTE_UNTIL : 0);\r\n  }\r\n\r\n  private findPeerIdByMids(mids: number[]) {\r\n    for(let length = mids.length, i = length - 1; i >= 0; --i) {\r\n      const mid = mids[i];\r\n      const message = this.getMessageById(mid);\r\n      if(message) {\r\n        return message.peerId;\r\n      }\r\n    }\r\n  }\r\n\r\n  public canSendToPeer(peerId: PeerId, threadId?: number, action: ChatRights = 'send_messages') {\r\n    if(this.appPeersManager.isRestricted(peerId)) {\r\n      return false;\r\n    }\r\n    \r\n    if(peerId.isAnyChat()) {\r\n      //const isChannel = appPeersManager.isChannel(peerId);\r\n      const chat: Chat.chat = this.appChatsManager.getChat(peerId.toChatId());\r\n      const hasRights = /* isChannel &&  */this.appChatsManager.hasRights(peerId.toChatId(), action, undefined, !!threadId); \r\n      return /* !isChannel ||  */hasRights && (!chat.pFlags.left || !!threadId);\r\n    } else {\r\n      return this.appUsersManager.canSendToUser(peerId);\r\n    }\r\n  }\r\n\r\n  public finalizePendingMessage(randomId: Long, finalMessage: MyMessage) {\r\n    const pendingData = this.pendingByRandomId[randomId];\r\n    // this.log('pdata', randomID, pendingData)\r\n\r\n    if(pendingData) {\r\n      const {peerId, tempId, threadId, storage} = pendingData;\r\n\r\n      [this.getHistoryStorage(peerId), threadId ? this.getHistoryStorage(peerId, threadId) : undefined]\r\n      .filter(Boolean)\r\n      .forEach((storage) => {\r\n        storage.history.delete(tempId);\r\n      });\r\n\r\n      // this.log('pending', randomID, historyStorage.pending)\r\n\r\n      const tempMessage: MyMessage = this.getMessageFromStorage(storage, tempId);\r\n      if(tempMessage) {\r\n        delete finalMessage.pFlags.is_outgoing;\r\n        delete finalMessage.pending;\r\n        delete finalMessage.error;\r\n        delete finalMessage.random_id;\r\n        delete finalMessage.send;\r\n      }\r\n\r\n      this.rootScope.dispatchEvent('messages_pending');\r\n      \r\n      delete this.pendingByRandomId[randomId];\r\n\r\n      this.finalizePendingMessageCallbacks(storage, tempId, finalMessage);\r\n\r\n      return tempMessage;\r\n    }\r\n  }\r\n\r\n  public finalizePendingMessageCallbacks(storage: MessagesStorage, tempId: number, message: MyMessage) {\r\n    const callbacks = this.tempFinalizeCallbacks[tempId];\r\n    //this.log.warn(callbacks, tempId);\r\n    if(callbacks !== undefined) {\r\n      for(const name in callbacks) {\r\n        const {deferred, callback} = callbacks[name];\r\n        //this.log(`finalizePendingMessageCallbacks: will invoke ${name} callback`);\r\n        callback(message).then(deferred.resolve, deferred.reject);\r\n      }\r\n\r\n      delete this.tempFinalizeCallbacks[tempId];\r\n    }\r\n\r\n    // set cached url to media\r\n    if((message as Message.message).media) {\r\n      assumeType<Message.message>(message);\r\n      const {photo: newPhoto, document: newDoc} = message.media as any;\r\n      if(newPhoto) {\r\n        const photo = this.appPhotosManager.getPhoto('' + tempId);\r\n        if(/* photo._ !== 'photoEmpty' */photo) {\r\n          const newPhotoSize = newPhoto.sizes[newPhoto.sizes.length - 1];\r\n          const cacheContext = this.thumbsStorage.getCacheContext(newPhoto, newPhotoSize.type);\r\n          const oldCacheContext = this.thumbsStorage.getCacheContext(photo, 'full');\r\n          Object.assign(cacheContext, oldCacheContext);\r\n\r\n          const photoSize = newPhoto.sizes[newPhoto.sizes.length - 1] as PhotoSize.photoSize;\r\n\r\n          const downloadOptions = getPhotoDownloadOptions(newPhoto, photoSize);\r\n          const fileName = getFileNameByLocation(downloadOptions.location);\r\n          // this.appDownloadManager.fakeDownload(fileName, oldCacheContext.url);\r\n        }\r\n      } else if(newDoc) {\r\n        const oldDoc = this.appDocsManager.getDoc('' + tempId);\r\n        if(oldDoc) {\r\n          const oldCacheContext = this.thumbsStorage.getCacheContext(oldDoc);\r\n          if(\r\n            /* doc._ !== 'documentEmpty' &&  */\r\n            oldDoc.type && \r\n            oldDoc.type !== 'sticker' && \r\n            oldDoc.mime_type !== 'image/gif' && \r\n            oldCacheContext.url\r\n          ) {\r\n            const cacheContext = this.thumbsStorage.getCacheContext(newDoc);\r\n            Object.assign(cacheContext, oldCacheContext);\r\n\r\n            const fileName = getDocumentInputFileName(newDoc);\r\n            // this.appDownloadManager.fakeDownload(fileName, oldCacheContext.url);\r\n          }\r\n        }\r\n      } else if((message.media as MessageMedia.messageMediaPoll).poll) {\r\n        delete this.appPollsManager.polls[tempId];\r\n        delete this.appPollsManager.results[tempId];\r\n      }\r\n    }\r\n\r\n    const tempMessage = this.getMessageFromStorage(storage, tempId);\r\n    storage.delete(tempId);\r\n\r\n    if(!(tempMessage as Message.message).reply_markup && (message as Message.message).reply_markup) {\r\n      setTimeout(() => { // TODO: refactor it to normal buttons adding\r\n        if(!this.getMessageFromStorage(storage, message.mid)) {\r\n          return;\r\n        }\r\n\r\n        this.rootScope.dispatchEvent('message_edit', {storageKey: storage.key, peerId: message.peerId, mid: message.mid, message});\r\n      }, 0);\r\n    }\r\n    \r\n    this.handleReleasingMessage(tempMessage, storage);\r\n\r\n    this.rootScope.dispatchEvent('message_sent', {storageKey: storage.key, tempId, tempMessage, mid: message.mid, message});\r\n  }\r\n\r\n  public incrementMaxSeenId(maxId: number) {\r\n    if(!maxId || !(!this.maxSeenId || maxId > this.maxSeenId)) {\r\n      return false;\r\n    }\r\n\r\n    this.maxSeenId = maxId;\r\n    this.appStateManager.pushToState('maxSeenMsgId', maxId);\r\n\r\n    this.apiManager.invokeApi('messages.receivedMessages', {\r\n      max_id: getServerMessageId(maxId)\r\n    });\r\n  }\r\n\r\n  public async getMessageReactionsListAndReadParticipants(\r\n    message: Message.message, \r\n    limit?: number, \r\n    reaction?: string, \r\n    offset?: string,\r\n    skipReadParticipants?: boolean,\r\n    skipReactionsList?: boolean\r\n  ) {\r\n    const emptyMessageReactionsList = {\r\n      reactions: [] as MessagePeerReaction[],\r\n      count: 0,\r\n      next_offset: undefined as string\r\n    };\r\n\r\n    const canViewMessageReadParticipants = await this.canViewMessageReadParticipants(message);\r\n    if(canViewMessageReadParticipants && limit === undefined) {\r\n      limit = 100;\r\n    } else if(limit === undefined) {\r\n      limit = 50;\r\n    }\r\n\r\n    return Promise.all([\r\n      canViewMessageReadParticipants && !reaction && !skipReadParticipants ? this.getMessageReadParticipants(message.peerId, message.mid).catch(() => [] as UserId[]) : [] as UserId[],\r\n\r\n      message.reactions?.recent_reactions?.length && !skipReactionsList ? this.appReactionsManager.getMessageReactionsList(message.peerId, message.mid, limit, reaction, offset).catch((err) => emptyMessageReactionsList) : emptyMessageReactionsList\r\n    ]).then(([userIds, messageReactionsList]) => {\r\n      const readParticipantsPeerIds = userIds.map((userId) => userId.toPeerId());\r\n      \r\n      const filteredReadParticipants = readParticipantsPeerIds.slice();\r\n      forEachReverse(filteredReadParticipants, (peerId, idx, arr) => {\r\n        if(messageReactionsList.reactions.some((reaction) => getPeerId(reaction.peer_id) === peerId)) {\r\n          arr.splice(idx, 1);\r\n        }\r\n      });\r\n\r\n      let combined: {peerId: PeerId, reaction?: string}[] = messageReactionsList.reactions.map((reaction) => ({peerId: getPeerId(reaction.peer_id), reaction: reaction.reaction}));\r\n      combined = combined.concat(filteredReadParticipants.map((readPeerId) => ({peerId: readPeerId})));\r\n      \r\n      return {\r\n        reactions: messageReactionsList.reactions,\r\n        reactionsCount: messageReactionsList.count,\r\n        readParticipants: readParticipantsPeerIds,\r\n        combined: combined,\r\n        nextOffset: messageReactionsList.next_offset\r\n      };\r\n    });\r\n  }\r\n\r\n  public getMessageReadParticipants(peerId: PeerId, mid: number): Promise<UserId[]> {\r\n    return this.apiManager.invokeApiSingle('messages.getMessageReadParticipants', {\r\n      peer: this.appPeersManager.getInputPeerById(peerId),\r\n      msg_id: getServerMessageId(mid)\r\n    }).then((userIds) => { // ! convert long to number\r\n      return userIds.map((userId) => userId.toUserId());\r\n    });\r\n  }\r\n\r\n  public async canViewMessageReadParticipants(message: Message) {\r\n    if(\r\n      message?._ !== 'message' || \r\n      message.pFlags.is_outgoing || \r\n      !message.pFlags.out || \r\n      !this.appPeersManager.isAnyGroup(message.peerId)\r\n    ) {\r\n      return false;\r\n    }\r\n\r\n    const chat: Chat.chat | Chat.channel = this.appChatsManager.getChat(message.peerId.toChatId());\r\n    const appConfig = await this.apiManager.getAppConfig(); \r\n    return chat.participants_count <= appConfig.chat_read_mark_size_threshold && \r\n      (tsNow(true) - message.date) < appConfig.chat_read_mark_expire_period;\r\n  }\r\n\r\n  public incrementMessageViews(peerId: PeerId, mids: number[]) {\r\n    if(!mids.length) {\r\n      return;\r\n    }\r\n\r\n    return this.apiManager.invokeApiSingle('messages.getMessagesViews', {\r\n      peer: this.appPeersManager.getInputPeerById(peerId),\r\n      id: mids.map((mid) => getServerMessageId(mid)),\r\n      increment: true\r\n    }).then((views) => {\r\n      const updates: Update[] = new Array(mids.length);\r\n      const channelId = peerId.toChatId();\r\n      for(let i = 0, length = mids.length; i < length; ++i) {\r\n        updates[i] = {\r\n          _: 'updateChannelMessageViews',\r\n          channel_id: channelId,\r\n          id: mids[i],\r\n          views: views.views[i].views\r\n        };\r\n      }\r\n\r\n      this.apiUpdatesManager.processUpdateMessage({\r\n        _: 'updates',\r\n        updates,\r\n        chats: views.chats,\r\n        users: views.users\r\n      });\r\n    });\r\n  }\r\n\r\n  private notifyAboutMessage(message: MyMessage, options: Partial<{\r\n    fwdCount: number,\r\n    peerReaction: MessagePeerReaction,\r\n    peerTypeNotifySettings: PeerNotifySettings\r\n  }> = {}) {\r\n    const peerId = this.getMessagePeer(message);\r\n\r\n    if(this.appPeersManager.isRestricted(peerId)) {\r\n      return;\r\n    }\r\n\r\n    const tabs = appTabsManager.getTabs();\r\n    let tab = tabs.find((tab) => {\r\n      const {chatPeerIds} = tab.state;\r\n      return chatPeerIds[chatPeerIds.length - 1] === peerId;\r\n    });\r\n\r\n    if(!tab) {\r\n      tabs.sort((a, b) => a.state.idleStartTime - b.state.idleStartTime);\r\n      tab = !tabs[0].state.idleStartTime ? tabs[0] : tabs[tabs.length - 1];\r\n    }\r\n\r\n    const port = MTProtoMessagePort.getInstance<false>();\r\n    port.invokeVoid('notificationBuild', {\r\n      message,\r\n      ...options\r\n    }, tab.source);\r\n  }\r\n\r\n  public getScheduledMessagesStorage(peerId: PeerId) {\r\n    return this.scheduledMessagesStorage[peerId] ?? (this.scheduledMessagesStorage[peerId] = this.createMessageStorage(peerId, 'scheduled'));\r\n  }\r\n\r\n  public getScheduledMessageByPeer(peerId: PeerId, mid: number) {\r\n    return this.getMessageFromStorage(this.getScheduledMessagesStorage(peerId), mid);\r\n  }\r\n\r\n  public getScheduledMessages(peerId: PeerId) {\r\n    if(!this.canSendToPeer(peerId)) return;\r\n\r\n    const storage = this.getScheduledMessagesStorage(peerId);\r\n    if(storage.size) {\r\n      return [...storage.keys()];\r\n    }\r\n\r\n    return this.apiManager.invokeApiSingle('messages.getScheduledHistory', {\r\n      peer: this.appPeersManager.getInputPeerById(peerId),\r\n      hash: ''\r\n    }).then((historyResult) => {\r\n      if(historyResult._ !== 'messages.messagesNotModified') {\r\n        this.appUsersManager.saveApiUsers(historyResult.users);\r\n        this.appChatsManager.saveApiChats(historyResult.chats);\r\n        \r\n        const storage = this.getScheduledMessagesStorage(peerId);\r\n        this.saveMessages(historyResult.messages, {storage, isScheduled: true});\r\n        return [...storage.keys()];\r\n      }\r\n      \r\n      return [];\r\n    });\r\n  }\r\n\r\n  public sendScheduledMessages(peerId: PeerId, mids: number[]) {\r\n    return this.apiManager.invokeApi('messages.sendScheduledMessages', {\r\n      peer: this.appPeersManager.getInputPeerById(peerId),\r\n      id: mids.map((mid) => getServerMessageId(mid))\r\n    }).then((updates) => {\r\n      this.apiUpdatesManager.processUpdateMessage(updates);\r\n    });\r\n  }\r\n\r\n  public deleteScheduledMessages(peerId: PeerId, mids: number[]) {\r\n    return this.apiManager.invokeApi('messages.deleteScheduledMessages', {\r\n      peer: this.appPeersManager.getInputPeerById(peerId),\r\n      id: mids.map((mid) => getServerMessageId(mid))\r\n    }).then((updates) => {\r\n      this.apiUpdatesManager.processUpdateMessage(updates);\r\n    });\r\n  }\r\n\r\n  public getMessageWithReplies(message: Message.message) {\r\n    return this.filterMessages(message, (message) => !!(message as Message.message).replies)[0] as any;\r\n  }\r\n\r\n  public getMessageWithCommentReplies(message: Message.message) {\r\n    if(message.peerId !== REPLIES_PEER_ID) {\r\n      message = this.getMessageWithReplies(message);\r\n      const replies = message?.replies;\r\n      if(!(replies && replies.pFlags.comments && replies.channel_id.toChatId() !== REPLIES_HIDDEN_CHANNEL_ID)) {\r\n        return;\r\n      }\r\n    }\r\n\r\n    return message;\r\n  }\r\n\r\n  public isFetchIntervalNeeded(peerId: PeerId) {\r\n    return peerId.isAnyChat() && !this.appChatsManager.isInChat(peerId.toChatId());\r\n  }\r\n\r\n  public async getNewHistory(peerId: PeerId, threadId?: number) {\r\n    if(!this.isFetchIntervalNeeded(peerId)) {\r\n      return;\r\n    }\r\n\r\n    const historyStorage = this.getHistoryStorage(peerId, threadId);\r\n    const slice = historyStorage.history.slice;\r\n    if(!slice.isEnd(SliceEnd.Bottom)) {\r\n      return;\r\n    }\r\n\r\n    delete historyStorage.maxId;\r\n    slice.unsetEnd(SliceEnd.Bottom);\r\n\r\n    // if there is no id - then request by first id because cannot request by id 0 with backLimit\r\n    const historyResult = await this.getHistory(peerId, slice[0] ?? 1, 0, 50, threadId);\r\n    for(let i = 0, length = historyResult.history.length; i < length; ++i) {\r\n      this.handleNewMessage(this.getMessageByPeer(peerId, historyResult.history[i]));\r\n    }\r\n\r\n    return {isBottomEnd: historyStorage.history.slice.isEnd(SliceEnd.Bottom)};\r\n  }\r\n\r\n  /**\r\n   * * https://core.telegram.org/api/offsets, offset_id is inclusive\r\n   */\r\n  // public getHistory(peerId: PeerId, maxId?: number, limit?: number, backLimit?: number, threadId?: number, onlyCache?: false): Promise<HistoryResult> | HistoryResult;\r\n  // public getHistory(peerId: PeerId, maxId?: number, limit?: number, backLimit?: number, threadId?: number, onlyCache?: true): HistoryResult;\r\n  public getHistory(peerId: PeerId, maxId: number = 0, limit?: number, backLimit?: number, threadId?: number/* , onlyCache?: boolean */): Promise<HistoryResult> | HistoryResult {\r\n    const historyStorage = this.getHistoryStorage(peerId, threadId);\r\n\r\n    if(this.appPeersManager.isRestricted(peerId)) {\r\n      const first = historyStorage.history.first;\r\n      first.setEnd(SliceEnd.Both);\r\n\r\n      const slice = first.slice(0, 0);\r\n      slice.setEnd(SliceEnd.Both);\r\n      \r\n      return {\r\n        count: 0,\r\n        history: Array.from(slice),\r\n        isEnd: slice.getEnds(),\r\n        offsetIdOffset: 0\r\n      };\r\n    }\r\n\r\n    let offset = 0;\r\n    /* \r\n    let offsetFound = true;\r\n\r\n    if(maxId) {\r\n      offsetFound = false;\r\n      for(; offset < historyStorage.history.length; offset++) {\r\n        if(maxId > historyStorage.history.slice[offset]) {\r\n          offsetFound = true;\r\n          break;\r\n        }\r\n      }\r\n    }\r\n\r\n    if(offsetFound && (\r\n      historyStorage.count !== null && historyStorage.history.length === historyStorage.count ||\r\n      historyStorage.history.length >= offset + limit\r\n      )) {\r\n      if(backLimit) {\r\n        backLimit = Math.min(offset, backLimit);\r\n        offset = Math.max(0, offset - backLimit);\r\n        limit += backLimit;\r\n      } else {\r\n        limit = limit;\r\n      }\r\n\r\n      const history = historyStorage.history.slice.slice(offset, offset + limit);\r\n      return {\r\n        count: historyStorage.count,\r\n        history: history,\r\n        offsetIdOffset: offset\r\n      };\r\n    }\r\n\r\n    if(offsetFound) {\r\n      offset = 0;\r\n    } */\r\n\r\n    if(backLimit) {\r\n      offset = -backLimit;\r\n      limit += backLimit;\r\n\r\n      /* return this.requestHistory(reqPeerId, maxId, limit, offset, undefined, threadId).then((historyResult) => {\r\n        historyStorage.count = (historyResult as MessagesMessages.messagesMessagesSlice).count || historyResult.messages.length;\r\n\r\n        const history = (historyResult.messages as MyMessage[]).map((message) => message.mid);\r\n        return {\r\n          count: historyStorage.count,\r\n          history,\r\n          offsetIdOffset: (historyResult as MessagesMessages.messagesMessagesSlice).offset_id_offset || 0\r\n        };\r\n      }); */\r\n    }\r\n\r\n    const haveSlice = historyStorage.history.sliceMe(maxId, offset, limit);\r\n    if(haveSlice && (haveSlice.slice.length === limit || (haveSlice.fulfilled & SliceEnd.Both) === SliceEnd.Both)) {\r\n      return {\r\n        count: historyStorage.count,\r\n        history: Array.from(haveSlice.slice),\r\n        isEnd: haveSlice.slice.getEnds(),\r\n        offsetIdOffset: haveSlice.offsetIdOffset\r\n      }; \r\n    }\r\n\r\n    // if(onlyCache) {\r\n    //   return;\r\n    // }\r\n\r\n    return this.fillHistoryStorage(peerId, maxId, limit, offset, historyStorage, threadId).then(() => {\r\n      const slice = historyStorage.history.sliceMe(maxId, offset, limit);\r\n      const f = slice?.slice || historyStorage.history.constructSlice();\r\n      return {\r\n        count: historyStorage.count,\r\n        history: Array.from(f),\r\n        isEnd: f.getEnds(),\r\n        offsetIdOffset: slice?.offsetIdOffset || historyStorage.count\r\n      };\r\n    });\r\n  }\r\n\r\n  public isHistoryResultEnd(historyResult: Exclude<MessagesMessages, MessagesMessages.messagesMessagesNotModified>, limit: number, add_offset: number) {\r\n    const {offset_id_offset, messages} = historyResult as MessagesMessages.messagesMessagesSlice;\r\n\r\n    const count = (historyResult as MessagesMessages.messagesMessagesSlice).count || messages.length;\r\n    const offsetIdOffset = offset_id_offset || 0;\r\n\r\n    const topWasMeantToLoad = add_offset < 0 ? limit + add_offset : limit;\r\n\r\n    const isTopEnd = offsetIdOffset >= (count - topWasMeantToLoad) || count < topWasMeantToLoad;\r\n    const isBottomEnd = !offsetIdOffset || (add_offset < 0 && (offsetIdOffset + add_offset) <= 0);\r\n\r\n    return {count, offsetIdOffset, isTopEnd, isBottomEnd};\r\n  }\r\n\r\n  public mergeHistoryResult(slicedArray: SlicedArray<number>, \r\n    historyResult: Parameters<AppMessagesManager['isHistoryResultEnd']>[0], \r\n    offset_id: number, \r\n    limit: number, \r\n    add_offset: number) {\r\n    const {messages} = historyResult as MessagesMessages.messagesMessagesSlice;\r\n    const isEnd = this.isHistoryResultEnd(historyResult, limit, add_offset);\r\n    const {count, offsetIdOffset, isTopEnd, isBottomEnd} = isEnd;\r\n    const mids = messages.map((message) => {\r\n      return (message as MyMessage).mid;\r\n    });\r\n\r\n    // * add bound manually. \r\n    // * offset_id will be inclusive only if there is 'add_offset' <= -1 (-1 - will only include the 'offset_id')\r\n    // * check that offset_id is not 0\r\n    if(offset_id && getServerMessageId(offset_id) && !mids.includes(offset_id) && offsetIdOffset < count) {\r\n      let i = 0;\r\n      for(const length = mids.length; i < length; ++i) {\r\n        if(offset_id > mids[i]) {\r\n          break;\r\n        }\r\n      }\r\n\r\n      mids.splice(i, 0, offset_id);\r\n    }\r\n\r\n    const slice = slicedArray.insertSlice(mids) || slicedArray.slice;\r\n    if(isTopEnd) {\r\n      slice.setEnd(SliceEnd.Top);\r\n    }\r\n  \r\n    if(isBottomEnd) {\r\n      slice.setEnd(SliceEnd.Bottom);\r\n    }\r\n\r\n    return {slice, mids, messages, ...isEnd};\r\n  }\r\n\r\n  public fillHistoryStorage(peerId: PeerId, offset_id: number, limit: number, add_offset: number, historyStorage: HistoryStorage, threadId?: number): Promise<void> {\r\n    const wasMaxId = historyStorage.maxId;\r\n    return this.requestHistory(peerId, offset_id, limit, add_offset, undefined, threadId).then((historyResult) => {\r\n      const {count, isBottomEnd, slice, messages} = this.mergeHistoryResult(historyStorage.history, historyResult, offset_id, limit, add_offset);\r\n\r\n      historyStorage.count = count;\r\n\r\n      /* if(!maxId && historyResult.messages.length) {\r\n        maxId = this.incrementMessageId((historyResult.messages[0] as MyMessage).mid, 1);\r\n      }\r\n\r\n      const wasTotalCount = historyStorage.history.length; */\r\n\r\n      for(let i = 0, length = messages.length; i < length; ++i) {\r\n        const message = messages[i] as MyMessage;\r\n        if(this.mergeReplyKeyboard(historyStorage, message)) {\r\n          this.rootScope.dispatchEvent('history_reply_markup', {peerId});\r\n        }\r\n      }\r\n\r\n      if(isBottomEnd) {\r\n        const newMaxId = slice[0];\r\n\r\n        if(historyStorage.maxId === wasMaxId) {\r\n          const first = historyStorage.history.first;\r\n          if(first !== slice) {\r\n            historyStorage.history.deleteSlice(first);\r\n          }\r\n\r\n          if(historyStorage.maxId !== newMaxId) {\r\n            historyStorage.maxId = slice[0]; // ! WARNING\r\n\r\n            this.reloadConversation(peerId); // when top_message is deleted but cached\r\n          }\r\n        }\r\n      }\r\n      \r\n      /* const isBackLimit = offset < 0 && -offset !== fullLimit;\r\n      if(isBackLimit) {\r\n        return;\r\n      }\r\n\r\n      const totalCount = historyStorage.history.length;\r\n      fullLimit -= (totalCount - wasTotalCount);\r\n\r\n      const migratedNextPeer = this.migratedFromTo[peerId];\r\n      const migratedPrevPeer = this.migratedToFrom[peerId]\r\n      const isMigrated = migratedNextPeer !== undefined || migratedPrevPeer !== undefined;\r\n\r\n      if(isMigrated) {\r\n        historyStorage.count = Math.max(historyStorage.count, totalCount) + 1;\r\n      }\r\n\r\n      if(fullLimit > 0) {\r\n        maxId = historyStorage.history.slice[totalCount - 1];\r\n        if(isMigrated) {\r\n          if(!historyResult.messages.length) {\r\n            if(migratedPrevPeer) {\r\n              maxId = 0;\r\n              peerId = migratedPrevPeer;\r\n            } else {\r\n              historyStorage.count = totalCount;\r\n              return true;\r\n            }\r\n          }\r\n\r\n          return this.fillHistoryStorage(peerId, maxId, fullLimit, historyStorage, threadId);\r\n        } else if(totalCount < historyStorage.count) {\r\n          return this.fillHistoryStorage(peerId, maxId, fullLimit, offset, historyStorage, threadId);\r\n        }\r\n      } */\r\n    });\r\n  }\r\n\r\n  public requestHistory(peerId: PeerId, maxId: number, limit = 0, offset = 0, offsetDate = 0, threadId = 0): Promise<Exclude<MessagesMessages, MessagesMessages.messagesMessagesNotModified>> {\r\n    //console.trace('requestHistory', peerId, maxId, limit, offset);\r\n\r\n    //rootScope.broadcast('history_request');\r\n\r\n    const options: any = {\r\n      peer: this.appPeersManager.getInputPeerById(peerId),\r\n      offset_id: getServerMessageId(maxId) || 0,\r\n      offset_date: offsetDate,\r\n      add_offset: offset,\r\n      limit,\r\n      max_id: 0,\r\n      min_id: 0,\r\n      hash: 0\r\n    };\r\n\r\n    if(threadId) {\r\n      options.msg_id = getServerMessageId(threadId) || 0;\r\n    }\r\n\r\n    const promise: ReturnType<AppMessagesManager['requestHistory']> = this.apiManager.invokeApiSingle(threadId ? 'messages.getReplies' : 'messages.getHistory', options, {\r\n      //timeout: APITIMEOUT,\r\n      noErrorBox: true\r\n    }) as any;\r\n\r\n    return promise.then((historyResult) => {\r\n      if(DEBUG) {\r\n        this.log('requestHistory result:', peerId, historyResult, maxId, limit, offset);\r\n      }\r\n\r\n      this.appUsersManager.saveApiUsers(historyResult.users);\r\n      this.appChatsManager.saveApiChats(historyResult.chats);\r\n      this.saveMessages(historyResult.messages);\r\n\r\n      if(this.appPeersManager.isChannel(peerId)) {\r\n        this.apiUpdatesManager.addChannelState(peerId.toChatId(), (historyResult as MessagesMessages.messagesChannelMessages).pts);\r\n      }\r\n\r\n      let length = historyResult.messages.length, count = (historyResult as MessagesMessages.messagesMessagesSlice).count;\r\n      if(length && !historyResult.messages[length - 1]) {\r\n        historyResult.messages.splice(length - 1, 1);\r\n        length--;\r\n        count--;\r\n      }\r\n\r\n      // will load more history if last message is album grouped (because it can be not last item)\r\n      // historyResult.messages: desc sorted\r\n      const historyStorage = this.getHistoryStorage(peerId, threadId);\r\n      const oldestMessage: Message.message = historyResult.messages[length - 1] as any;\r\n      if(length && oldestMessage.grouped_id) {\r\n        const foundSlice = historyStorage.history.findSlice(oldestMessage.mid);\r\n        if(foundSlice && (foundSlice.slice.length + historyResult.messages.length) < count) {\r\n          return this.requestHistory(peerId, oldestMessage.mid, 10, 0, offsetDate, threadId).then((_historyResult) => {\r\n            return historyResult;\r\n          });\r\n        }\r\n      }\r\n\r\n      return historyResult;\r\n    }, (error) => {\r\n      switch (error.type) {\r\n        case 'CHANNEL_PRIVATE':\r\n          let channel = this.appChatsManager.getChat(peerId.toChatId());\r\n          channel = {_: 'channelForbidden', access_hash: channel.access_hash, title: channel.title};\r\n          this.apiUpdatesManager.processUpdateMessage({\r\n            _: 'updates',\r\n            updates: [{\r\n              _: 'updateChannel',\r\n              channel_id: peerId.toChatId()\r\n            }],\r\n            chats: [channel],\r\n            users: []\r\n          });\r\n          break;\r\n      }\r\n\r\n      throw error;\r\n    });\r\n  }\r\n\r\n  public fetchSingleMessages() {\r\n    if(this.fetchSingleMessagesPromise) {\r\n      return this.fetchSingleMessagesPromise;\r\n    }\r\n\r\n    return this.fetchSingleMessagesPromise = pause(0).then(() => {\r\n      const requestPromises: Promise<void>[] = [];\r\n      \r\n      for(const [peerId, map] of this.needSingleMessages) {\r\n        const mids = [...map.keys()];\r\n        const msgIds: InputMessage[] = mids.map((mid) => {\r\n          return {\r\n            _: 'inputMessageID',\r\n            id: getServerMessageId(mid)\r\n          };\r\n        });\r\n  \r\n        let promise: Promise<MethodDeclMap['channels.getMessages']['res'] | MethodDeclMap['messages.getMessages']['res']>;\r\n        if(peerId.isAnyChat() && this.appPeersManager.isChannel(peerId)) {\r\n          promise = this.apiManager.invokeApiSingle('channels.getMessages', {\r\n            channel: this.appChatsManager.getChannelInput(peerId.toChatId()),\r\n            id: msgIds\r\n          });\r\n        } else {\r\n          promise = this.apiManager.invokeApiSingle('messages.getMessages', {\r\n            id: msgIds\r\n          });\r\n        }\r\n\r\n        const after = promise.then((getMessagesResult) => {\r\n          assumeType<Exclude<MessagesMessages.messagesMessages, MessagesMessages.messagesMessagesNotModified>>(getMessagesResult);\r\n\r\n          this.appUsersManager.saveApiUsers(getMessagesResult.users);\r\n          this.appChatsManager.saveApiChats(getMessagesResult.chats);\r\n          const messages = this.saveMessages(getMessagesResult.messages);\r\n\r\n          for(let i = 0; i < messages.length; ++i) {\r\n            const message = messages[i];\r\n            if(!message) {\r\n              continue;\r\n            }\r\n\r\n            const mid = generateMessageId(message.id);\r\n            const promise = map.get(mid);\r\n            promise.resolve(message);\r\n            map.delete(mid);\r\n          }\r\n\r\n          if(map.size) {\r\n            for(const [mid, promise] of map) {\r\n              promise.resolve(this.generateEmptyMessage(mid));\r\n            }\r\n          }\r\n        }).finally(() => {\r\n          this.rootScope.dispatchEvent('messages_downloaded', {peerId, mids});\r\n        });\r\n  \r\n        requestPromises.push(after);\r\n      }\r\n\r\n      this.needSingleMessages.clear();\r\n\r\n      return Promise.all(requestPromises).then(noop, noop).then(() => {\r\n        this.fetchSingleMessagesPromise = null;\r\n        if(this.needSingleMessages.size) this.fetchSingleMessages();\r\n      });\r\n    });\r\n  }\r\n\r\n  public wrapSingleMessage(peerId: PeerId, mid: number, overwrite = false) {\r\n    const message = this.getMessageByPeer(peerId, mid);\r\n    if(message && !overwrite) {\r\n      this.rootScope.dispatchEvent('messages_downloaded', {peerId, mids: [mid]});\r\n      return Promise.resolve(message);\r\n    } else {\r\n      let map = this.needSingleMessages.get(peerId);\r\n      if(!map) {\r\n        this.needSingleMessages.set(peerId, map = new Map());\r\n      }\r\n\r\n      let promise = map.get(mid);\r\n      if(promise) {\r\n        return promise;\r\n      }\r\n\r\n      promise = deferredPromise();\r\n      map.set(mid, promise);\r\n      this.fetchSingleMessages();\r\n      return promise;\r\n    }\r\n  }\r\n\r\n  public fetchMessageReplyTo(message: MyMessage) {\r\n    if(!message.reply_to_mid) return Promise.resolve(this.generateEmptyMessage(0));\r\n    const replyToPeerId = message.reply_to.reply_to_peer_id ? getPeerId(message.reply_to.reply_to_peer_id) : message.peerId;\r\n    return this.wrapSingleMessage(replyToPeerId, message.reply_to_mid).then((originalMessage) => {\r\n      if(!originalMessage) { // ! break the infinite loop\r\n        message = this.getMessageByPeer(message.peerId, message.mid); // message can come from other thread\r\n        delete message.reply_to_mid; // ! WARNING!\r\n      }\r\n\r\n      if(message._ === 'messageService') {\r\n        const peerId = message.peerId;\r\n        this.rootScope.dispatchEvent('message_edit', {\r\n          storageKey: `${peerId}_history`,\r\n          peerId: peerId,\r\n          mid: message.mid,\r\n          message\r\n        });\r\n\r\n        if(this.isMessageIsTopMessage(message)) {\r\n          this.rootScope.dispatchEvent('dialogs_multiupdate', {\r\n            [peerId]: this.getDialogOnly(peerId)\r\n          });\r\n        }\r\n      }\r\n\r\n      return originalMessage;\r\n    });\r\n  }\r\n\r\n  public setTyping(peerId: PeerId, action: SendMessageAction, force?: boolean): Promise<boolean> {\r\n    let typing = this.typings[peerId];\r\n    if(\r\n      !peerId || \r\n      !this.canSendToPeer(peerId) || \r\n      peerId === this.appPeersManager.peerId ||\r\n      // (!force && deepEqual(typing?.action, action))\r\n      (!force && typing?.action?._ === action._)\r\n    ) {\r\n      return Promise.resolve(false);\r\n    }\r\n\r\n    if(typing?.timeout) {\r\n      clearTimeout(typing.timeout);\r\n    }\r\n\r\n    typing = this.typings[peerId] = {\r\n      action\r\n    };\r\n\r\n    return this.apiManager.invokeApi('messages.setTyping', {\r\n      peer: this.appPeersManager.getInputPeerById(peerId),\r\n      action\r\n    }).finally(() => {\r\n      if(typing === this.typings[peerId]) {\r\n        typing.timeout = ctx.setTimeout(() => {\r\n          delete this.typings[peerId];\r\n        }, 6000);\r\n      }\r\n    });\r\n  }\r\n\r\n  private handleReleasingMessage(message: MyMessage, storage: MessagesStorage) {\r\n    const media = (message as Message.message).media;\r\n    if(media) {\r\n      const c = (media as MessageMedia.messageMediaWebPage).webpage as WebPage.webPage || media as MessageMedia.messageMediaPhoto | MessageMedia.messageMediaDocument;\r\n      const smth: Photo.photo | MyDocument = (c as MessageMedia.messageMediaPhoto).photo as any || (c as MessageMedia.messageMediaDocument).document as any;\r\n\r\n      if(smth?.file_reference) {\r\n        this.referenceDatabase.deleteContext(smth.file_reference, {type: 'message', peerId: message.peerId, messageId: message.mid});\r\n      }\r\n\r\n      if('webpage' in media && media.webpage) {\r\n        const isScheduled = this.getScheduledMessagesStorage(message.peerId) === storage;\r\n        const messageKey = this.appWebPagesManager.getMessageKeyForPendingWebPage(message.peerId, message.mid, isScheduled);\r\n        this.appWebPagesManager.deleteWebPageFromPending(media.webpage, messageKey);\r\n      }\r\n\r\n      if((media as MessageMedia.messageMediaPoll).poll) {\r\n        this.appPollsManager.updatePollToMessage(message as Message.message, false);\r\n      }\r\n    }\r\n  }\r\n\r\n  private handleDeletedMessages(peerId: PeerId, storage: MessagesStorage, messages: number[]) {\r\n    const history: {\r\n      count: number, \r\n      unread: number, \r\n      unreadMentions: number, \r\n      msgs: Set<number>,\r\n      albums?: {[groupId: string]: Set<number>},\r\n    } = {\r\n      count: 0, \r\n      unread: 0, \r\n      unreadMentions: 0, \r\n      msgs: new Set()\r\n    };\r\n\r\n    for(const mid of messages) {\r\n      const message: MyMessage = this.getMessageFromStorage(storage, mid);\r\n      if(!message) {\r\n        this.fixDialogUnreadMentionsIfNoMessage(peerId);\r\n        continue;\r\n      }\r\n\r\n      this.handleReleasingMessage(message, storage);\r\n\r\n      this.updateMessageRepliesIfNeeded(message);\r\n\r\n      if(!message.pFlags.out && !message.pFlags.is_outgoing && message.pFlags.unread) {\r\n        ++history.unread;\r\n        this.rootScope.dispatchEvent('notification_cancel', 'msg' + mid);\r\n\r\n        if(message.pFlags.mentioned) {\r\n          ++history.unreadMentions;\r\n          this.modifyCachedMentions(peerId, mid, false);\r\n        }\r\n      }\r\n\r\n      ++history.count;\r\n      history.msgs.add(mid);\r\n\r\n      message.deleted = true;\r\n\r\n      const groupedId = (message as Message.message).grouped_id;\r\n      if(groupedId) {\r\n        const groupedStorage = this.groupedMessagesStorage[groupedId];\r\n        if(groupedStorage) {\r\n          groupedStorage.delete(mid);\r\n\r\n          if(!history.albums) history.albums = {};\r\n          (history.albums[groupedId] || (history.albums[groupedId] = new Set())).add(mid);\r\n\r\n          if(!groupedStorage.size) {\r\n            delete history.albums;\r\n            delete this.groupedMessagesStorage[groupedId];\r\n          }\r\n        }\r\n      }\r\n\r\n      storage.delete(mid);\r\n    }\r\n\r\n    if(history.albums) {\r\n      for(const groupedId in history.albums) {\r\n        this.dispatchAlbumEdit(groupedId, storage, [...history.albums[groupedId]]);\r\n        /* const mids = this.getMidsByAlbum(groupId);\r\n        if(mids.length) {\r\n          const mid = Math.max(...mids);\r\n          rootScope.$broadcast('message_edit', {peerId, mid, justMedia: false});\r\n        } */\r\n      }\r\n    }\r\n\r\n    return history;\r\n  }\r\n  \r\n  private handleEditedMessage(oldMessage: Message, newMessage: Message, storage: MessagesStorage) {\r\n    if(oldMessage._ === 'message') {\r\n      if((oldMessage.media as MessageMedia.messageMediaWebPage)?.webpage) {\r\n        const messageKey = this.appWebPagesManager.getMessageKeyForPendingWebPage(oldMessage.peerId, oldMessage.mid, !!oldMessage.pFlags.is_scheduled);\r\n        this.appWebPagesManager.deleteWebPageFromPending((oldMessage.media as MessageMedia.messageMediaWebPage).webpage, messageKey);\r\n      }\r\n\r\n      const groupedId = oldMessage.grouped_id;\r\n      if(groupedId) {\r\n        this.dispatchAlbumEdit(groupedId, storage, []);\r\n      }\r\n    }\r\n  }\r\n\r\n  private dispatchAlbumEdit(groupedId: string, storage: MessagesStorage, deletedMids?: number[]) {\r\n    const mids = this.getMidsByAlbum(groupedId);\r\n    const messages = mids.map((mid) => this.getMessageFromStorage(storage, mid)) as Message.message[];\r\n    this.rootScope.dispatchEvent('album_edit', {peerId: messages[0].peerId, groupId: groupedId, deletedMids: deletedMids || [], messages});\r\n  }\r\n\r\n  public getDialogUnreadCount(dialog: Dialog) {\r\n    return dialog.unread_count || +!!dialog.pFlags.unread_mark;\r\n  }\r\n\r\n  public isDialogUnread(dialog: Dialog) {\r\n    return !!this.getDialogUnreadCount(dialog);\r\n  }\r\n\r\n  public canForward(message: Message.message | Message.messageService) {\r\n    return message?._ === 'message' && !(message as Message.message).pFlags.noforwards && !this.appPeersManager.noForwards(message.peerId);\r\n  }\r\n\r\n  private pushBatchUpdate<E extends keyof BatchUpdates, C extends BatchUpdates[E]>(\r\n    event: E, \r\n    callback: C, \r\n    key: string, \r\n    getElementCallback?: () => MapValueType<ArgumentTypes<C>[0]>\r\n  ) {\r\n    let details = this.batchUpdates[event];\r\n    if(!details) {\r\n      // @ts-ignore\r\n      details = this.batchUpdates[event] = {\r\n        callback,\r\n        batch: new Map()\r\n      };\r\n    }\r\n\r\n    if(!details.batch.has(key)) {\r\n      // @ts-ignore\r\n      details.batch.set(key, getElementCallback ? getElementCallback() : undefined);\r\n      this.batchUpdatesDebounced();\r\n    }\r\n  }\r\n\r\n  private getMessagesFromMap<T extends Map<any, any>>(map: T) {\r\n    const newMap: Map<Message.message, MapValueType<T>> = new Map();\r\n    for(const [key, value] of map) {\r\n      const [peerIdStr, mid] = key.split('_');\r\n      const message = this.getMessageByPeer(peerIdStr.toPeerId(), +mid) as Message.message;\r\n      if(!message) {\r\n        continue;\r\n      }\r\n\r\n      newMap.set(message, value);\r\n    }\r\n\r\n    return newMap;\r\n  }\r\n\r\n  private batchUpdateViews = (batch: Map<string, undefined>) => {\r\n    const toDispatch: {peerId: PeerId, mid: number, views: number}[] = [];\r\n\r\n    const map = this.getMessagesFromMap(batch);\r\n    for(const [message] of map) {\r\n      toDispatch.push({\r\n        peerId: message.peerId,\r\n        mid: message.mid,\r\n        views: message.views\r\n      })\r\n    }\r\n\r\n    return toDispatch;\r\n  };\r\n\r\n  private batchUpdateReactions = (batch: Map<string, MessageReactions>) => {\r\n    const toDispatch: {message: Message.message, changedResults: ReactionCount.reactionCount[]}[] = [];\r\n\r\n    const map = this.getMessagesFromMap(batch);\r\n    for(const [message, previousReactions] of map) {\r\n      const results = message.reactions?.results ?? [];\r\n      const previousResults = previousReactions?.results ?? [];\r\n      const changedResults = results.filter((reactionCount) => {\r\n        const previousReactionCount = previousResults.find((_reactionCount) => _reactionCount.reaction === reactionCount.reaction);\r\n        return (\r\n          message.pFlags.out && (\r\n            !previousReactionCount || \r\n            reactionCount.count > previousReactionCount.count\r\n          )\r\n        ) || (\r\n          reactionCount.pFlags.chosen && (\r\n            !previousReactionCount || \r\n            !previousReactionCount.pFlags.chosen\r\n          )\r\n        );\r\n      });\r\n\r\n      toDispatch.push({message, changedResults});\r\n    }\r\n\r\n    return toDispatch;\r\n  };\r\n\r\n  public saveDefaultSendAs(peerId: PeerId, sendAsPeerId: PeerId) {\r\n    const channelFull = this.appProfileManager.getCachedFullChat(peerId.toChatId()) as ChatFull.channelFull;\r\n    channelFull.default_send_as = this.appPeersManager.getOutputPeer(sendAsPeerId);\r\n    return this.apiManager.invokeApi('messages.saveDefaultSendAs', {\r\n      peer: this.appPeersManager.getInputPeerById(peerId),\r\n      send_as: this.appPeersManager.getInputPeerById(sendAsPeerId)\r\n    });\r\n  }\r\n}\r\n","/*\r\n * https://github.com/morethanwords/tweb\r\n * Copyright (C) 2019-2021 Eduard Kuzmenko\r\n * https://github.com/morethanwords/tweb/blob/master/LICENSE\r\n */\r\n\r\nimport { getFileNameByLocation } from \"../../../../helpers/fileName\";\r\nimport { Document } from \"../../../../layer\";\r\nimport getDocumentInput from \"./getDocumentInput\";\r\n\r\nexport default function getDocumentInputFileName(doc: Document.document, thumbSize?: string) {\r\n  return getFileNameByLocation(getDocumentInput(doc, thumbSize), {fileName: doc.file_name});\r\n}\r\n","export default function convertInputKeyToKey<T extends string>(inputKey: string) {\r\n  const str = inputKey.replace('input', '');\r\n  return (str[0].toLowerCase() + str.slice(1)) as T;\r\n}\r\n","/*\r\n * https://github.com/morethanwords/tweb\r\n * Copyright (C) 2019-2021 Eduard Kuzmenko\r\n * https://github.com/morethanwords/tweb/blob/master/LICENSE\r\n * \r\n * Originally from:\r\n * https://github.com/zhukov/webogram\r\n * Copyright (C) 2014 Igor Zhukov <igor.beatle@gmail.com>\r\n * https://github.com/zhukov/webogram/blob/master/LICENSE\r\n */\r\n\r\nimport tsNow from \"../../helpers/tsNow\";\r\nimport { InputNotifyPeer, InputPeerNotifySettings, NotifyPeer, PeerNotifySettings, Update } from \"../../layer\";\r\nimport { MUTE_UNTIL } from \"../mtproto/mtproto_config\";\r\nimport throttle from \"../../helpers/schedulers/throttle\";\r\nimport convertInputKeyToKey from \"../../helpers/string/convertInputKeyToKey\";\r\nimport { AppManager } from \"./manager\";\r\nimport getPeerId from \"./utils/peers/getPeerId\";\r\nimport ctx from \"../../environment/ctx\";\r\nimport assumeType from \"../../helpers/assumeType\";\r\n\r\ntype ImSadAboutIt = Promise<PeerNotifySettings> | PeerNotifySettings;\r\nexport class AppNotificationsManager extends AppManager {\r\n  private peerSettings = {\r\n    notifyPeer: {} as {[peerId: PeerId]: ImSadAboutIt},\r\n    notifyUsers: null as ImSadAboutIt,\r\n    notifyChats: null as ImSadAboutIt,\r\n    notifyBroadcasts: null as ImSadAboutIt\r\n  };\r\n  //private exceptions: {[peerId: string]: PeerNotifySettings} = {};\r\n  \r\n  private getNotifyPeerTypePromise: Promise<any>;\r\n\r\n  private checkMuteUntilTimeout: number;\r\n  private checkMuteUntilThrottled: () => void;\r\n\r\n  private notifyContactsSignUp: Promise<boolean>;\r\n\r\n  protected after() {\r\n    this.checkMuteUntilThrottled = throttle(this.checkMuteUntil, 1000, false);\r\n\r\n    this.apiUpdatesManager.addMultipleEventsListeners({\r\n      updateNotifySettings: (update) => {\r\n        const peerId = update.peer._ === 'notifyPeer' && getPeerId(update.peer.peer);\r\n        const key = update.peer._ !== 'notifyPeer' ? update.peer._ : undefined;\r\n        this.savePeerSettings({\r\n          key,\r\n          peerId, \r\n          settings: update.notify_settings\r\n        });\r\n        this.rootScope.dispatchEvent('notify_settings', update);\r\n      }\r\n    });\r\n\r\n    return this.appStateManager.getState().then((state) => {\r\n      if(state.notifySettings) {\r\n        for(const key in state.notifySettings) {\r\n          assumeType<Exclude<NotifyPeer['_'], 'notifyPeer'>>(key);\r\n          this.savePeerSettings({\r\n            key,\r\n            settings: state.notifySettings[key]\r\n          });\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  public getNotifySettings(peer: InputNotifyPeer): ImSadAboutIt {\r\n    let key: any = convertInputKeyToKey(peer._);\r\n    let obj: any = this.peerSettings[key as NotifyPeer['_']];\r\n\r\n    let peerId: PeerId;\r\n    if(peer._ === 'inputNotifyPeer') {\r\n      peerId = key = getPeerId(peer.peer);\r\n      obj = obj[key];\r\n    }\r\n\r\n    if(obj) {\r\n      return obj;\r\n    }\r\n\r\n    return (obj || this.peerSettings)[key] = this.apiManager.invokeApi('account.getNotifySettings', {peer})\r\n    .then((settings) => {\r\n      this.savePeerSettings({\r\n        key,\r\n        peerId, \r\n        settings\r\n      });\r\n      \r\n      return settings;\r\n    });\r\n  }\r\n\r\n  public getNotifyPeerTypeSettings() {\r\n    if(this.getNotifyPeerTypePromise) return this.getNotifyPeerTypePromise;\r\n\r\n    const promises = (['inputNotifyBroadcasts', 'inputNotifyUsers', 'inputNotifyChats'] as Exclude<InputNotifyPeer['_'], 'inputNotifyPeer'>[])\r\n    .map((inputKey) => {\r\n      return this.getNotifySettings({_: inputKey});\r\n    });\r\n\r\n    return this.getNotifyPeerTypePromise = Promise.all(promises);\r\n  }\r\n\r\n  public updateNotifySettings(peer: InputNotifyPeer, settings: InputPeerNotifySettings) {\r\n    //this.savePeerSettings(peerId, settings);\r\n\r\n    /* const inputSettings: InputPeerNotifySettings = copy(settings) as any;\r\n    inputSettings._ = 'inputPeerNotifySettings'; */\r\n\r\n    return this.apiManager.invokeApi('account.updateNotifySettings', {\r\n      peer,\r\n      settings\r\n    }).then((value) => {\r\n      if(value) {\r\n        this.apiUpdatesManager.processLocalUpdate({\r\n          _: 'updateNotifySettings', \r\n          peer: {\r\n            ...peer as any,\r\n            _: convertInputKeyToKey(peer._)\r\n          }, \r\n          notify_settings: { // ! WOW, IT WORKS !\r\n            ...settings,\r\n            _: 'peerNotifySettings',\r\n          }\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  // public getNotifyExceptions() {\r\n  //   apiManager.invokeApi('account.getNotifyExceptions', {compare_sound: true})\r\n  //   .then((updates) => {\r\n  //     apiUpdatesManager.processUpdateMessage(updates);\r\n  //   });\r\n  // }\r\n\r\n  public getContactSignUpNotification() {\r\n    if(this.notifyContactsSignUp) return this.notifyContactsSignUp;\r\n    return this.notifyContactsSignUp = this.apiManager.invokeApi('account.getContactSignUpNotification');\r\n  }\r\n\r\n  public setContactSignUpNotification(silent: boolean) {\r\n    this.apiManager.invokeApi('account.setContactSignUpNotification', {silent})\r\n    .then((value) => {\r\n      this.notifyContactsSignUp = Promise.resolve(!silent);\r\n    });\r\n  }\r\n\r\n  private checkMuteUntil = () => {\r\n    if(this.checkMuteUntilTimeout !== undefined) {\r\n      clearTimeout(this.checkMuteUntilTimeout);\r\n      this.checkMuteUntilTimeout = undefined;\r\n    }\r\n\r\n    const timestamp = tsNow(true);\r\n    let closestMuteUntil = MUTE_UNTIL;\r\n    for(const peerId in this.peerSettings.notifyPeer) {\r\n      const peerNotifySettings = this.peerSettings.notifyPeer[peerId];\r\n      if(peerNotifySettings instanceof Promise) {\r\n        continue;\r\n      }\r\n\r\n      const muteUntil = peerNotifySettings.mute_until;\r\n      if(!muteUntil) {\r\n        continue;\r\n      }\r\n\r\n      if(muteUntil <= timestamp) {\r\n        // ! do not delete it because peer's unique settings will be overwritten in getPeerLocalSettings with type's settings\r\n        peerNotifySettings.mute_until = 0;\r\n\r\n        this.apiUpdatesManager.saveUpdate({\r\n          _: 'updateNotifySettings',\r\n          peer: {\r\n            _: 'notifyPeer',\r\n            peer: this.appPeersManager.getOutputPeer(peerId.toPeerId())\r\n          },\r\n          notify_settings: peerNotifySettings\r\n        });\r\n      } else if(muteUntil < closestMuteUntil) {\r\n        closestMuteUntil = muteUntil;\r\n      }\r\n    }\r\n\r\n    const timeout = Math.min(1800e3, (closestMuteUntil - timestamp) * 1000);\r\n    this.checkMuteUntilTimeout = ctx.setTimeout(this.checkMuteUntil, timeout);\r\n  };\r\n\r\n  public savePeerSettings({key, peerId, settings}: {\r\n    key?: Exclude<NotifyPeer['_'], 'notifyPeer'>,\r\n    peerId?: PeerId, \r\n    settings: PeerNotifySettings\r\n  }) {\r\n    let obj: any;\r\n    if(peerId) {\r\n      key = peerId as any;\r\n      obj = this.peerSettings['notifyPeer'];\r\n    }\r\n    \r\n    (obj || this.peerSettings)[key] = settings;\r\n\r\n    if(!peerId) {\r\n      this.rootScope.dispatchEvent('notify_peer_type_settings', {key, settings});\r\n      this.appStateManager.getState().then((state) => {\r\n        const notifySettings = state.notifySettings;\r\n        notifySettings[key] = settings;\r\n        this.appStateManager.pushToState('notifySettings', notifySettings);\r\n      });\r\n    } else {\r\n      this.checkMuteUntilThrottled();\r\n    }\r\n\r\n    //rootScope.broadcast('notify_settings', {peerId: peerId});\r\n  }\r\n\r\n  public isMuted(peerNotifySettings: PeerNotifySettings) {\r\n    return peerNotifySettings._ === 'peerNotifySettings' &&\r\n      (peerNotifySettings.silent || (peerNotifySettings.mute_until !== undefined && (peerNotifySettings.mute_until * 1000) > tsNow()));\r\n  }\r\n\r\n  private getPeerMuted(peerId: PeerId) {\r\n    const ret = this.getNotifySettings({_: 'inputNotifyPeer', peer: this.appPeersManager.getInputPeerById(peerId)});\r\n    return (ret instanceof Promise ? ret : Promise.resolve(ret))\r\n    .then((peerNotifySettings) => this.isMuted(peerNotifySettings));\r\n  }\r\n\r\n  private getPeerLocalSettings(peerId: PeerId, respectType = true): PeerNotifySettings {\r\n    const n: PeerNotifySettings = {\r\n      _: 'peerNotifySettings'\r\n    };\r\n\r\n    const notifySettings = this.peerSettings['notifyPeer'][peerId];\r\n    //if(!notifySettings || (notifySettings instanceof Promise)) return false;\r\n    if(notifySettings && !(notifySettings instanceof Promise)) {\r\n      Object.assign(n, notifySettings);\r\n    }\r\n\r\n    if(respectType) {\r\n      const inputNotify = this.appPeersManager.getInputNotifyPeerById(peerId, true);\r\n      const key = convertInputKeyToKey(inputNotify._);\r\n      const typeNotifySettings = this.peerSettings[key as NotifyPeer['_']];\r\n      if(typeNotifySettings && !(typeNotifySettings instanceof Promise)) {\r\n        for(let i in typeNotifySettings) {\r\n          // @ts-ignore\r\n          if(n[i] === undefined) {\r\n            // @ts-ignore\r\n            n[i] = typeNotifySettings[i];\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    return n;\r\n  }\r\n\r\n  public isPeerLocalMuted(peerId: PeerId, respectType = true) {\r\n    if(peerId === this.appPeersManager.peerId) return false;\r\n\r\n    const notifySettings = this.getPeerLocalSettings(peerId, respectType);\r\n    return this.isMuted(notifySettings);\r\n  }\r\n}\r\n","/*\r\n * https://github.com/morethanwords/tweb\r\n * Copyright (C) 2019-2021 Eduard Kuzmenko\r\n * https://github.com/morethanwords/tweb/blob/master/LICENSE\r\n * \r\n * Originally from:\r\n * https://github.com/zhukov/webogram\r\n * Copyright (C) 2014 Igor Zhukov <igor.beatle@gmail.com>\r\n * https://github.com/zhukov/webogram/blob/master/LICENSE\r\n */\r\n\r\nimport type { Chat, ChatPhoto, DialogPeer, InputChannel, InputDialogPeer, InputNotifyPeer, InputPeer, Peer, Update, User, UserProfilePhoto } from \"../../layer\";\r\nimport type { LangPackKey } from \"../langPack\";\r\nimport { getRestrictionReason } from \"../../helpers/restrictions\";\r\nimport isObject from \"../../helpers/object/isObject\";\r\nimport { AppManager } from \"./manager\";\r\nimport getPeerId from \"./utils/peers/getPeerId\";\r\nimport isUser from \"./utils/peers/isUser\";\r\nimport isAnyChat from \"./utils/peers/isAnyChat\";\r\n\r\nexport type PeerType = 'channel' | 'chat' | 'megagroup' | 'group' | 'saved';\r\nexport class AppPeersManager extends AppManager {\r\n  public get peerId() {\r\n    return this.appUsersManager.userId.toPeerId();\r\n  }\r\n  /* public savePeerInstance(peerId: PeerId, instance: any) {\r\n    if(peerId < 0) appChatsManager.saveApiChat(instance);\r\n    else appUsersManager.saveApiUser(instance);\r\n  } */\r\n\r\n  public canPinMessage(peerId: PeerId) {\r\n    return peerId.isUser() || this.appChatsManager.hasRights(peerId.toChatId(), 'pin_messages');\r\n  }\r\n\r\n  public getPeerPhoto(peerId: PeerId): UserProfilePhoto.userProfilePhoto | ChatPhoto.chatPhoto {\r\n    if(this.isRestricted(peerId)) {\r\n      return;\r\n    }\r\n\r\n    const photo = peerId.isUser() \r\n      ? this.appUsersManager.getUserPhoto(peerId.toUserId())\r\n      : this.appChatsManager.getChatPhoto(peerId.toChatId());\r\n\r\n    return photo._ !== 'chatPhotoEmpty' && photo._ !== 'userProfilePhotoEmpty' ? photo : undefined;\r\n  }\r\n\r\n  public getPeerMigratedTo(peerId: PeerId) {\r\n    if(peerId.isUser()) {\r\n      return false;\r\n    }\r\n\r\n    const chat: Chat.chat = this.appChatsManager.getChat(peerId.toChatId());\r\n    if(chat && chat.migrated_to && chat.pFlags.deactivated) {\r\n      return getPeerId(chat.migrated_to as InputChannel.inputChannel);\r\n    }\r\n    \r\n    return false;\r\n  }\r\n\r\n  public getOutputPeer(peerId: PeerId): Peer {\r\n    if(peerId.isUser()) {\r\n      return {_: 'peerUser', user_id: peerId.toUserId()};\r\n    }\r\n\r\n    const chatId = peerId.toChatId();\r\n    if(this.appChatsManager.isChannel(chatId)) {\r\n      return {_: 'peerChannel', channel_id: chatId};\r\n    }\r\n\r\n    return {_: 'peerChat', chat_id: chatId};\r\n  }\r\n\r\n  public getPeerString(peerId: PeerId) {\r\n    if(peerId.isUser()) {\r\n      return this.appUsersManager.getUserString(peerId.toUserId());\r\n    }\r\n    return this.appChatsManager.getChatString(peerId.toChatId());\r\n  }\r\n\r\n  public getPeerUsername(peerId: PeerId): string {\r\n    return this.getPeer(peerId).username || '';\r\n  }\r\n\r\n  public getPeer(peerId: PeerId) {\r\n    return peerId.isUser()\r\n      ? this.appUsersManager.getUser(peerId.toUserId())\r\n      : this.appChatsManager.getChat(peerId.toChatId());\r\n  }\r\n\r\n  public getDialogPeer(peerId: PeerId): DialogPeer {\r\n    return {\r\n      _: 'dialogPeer',\r\n      peer: this.getOutputPeer(peerId)\r\n    };\r\n  }\r\n\r\n  public isChannel(peerId: PeerId): boolean {\r\n    return !peerId.isUser() && this.appChatsManager.isChannel(peerId.toChatId());\r\n  }\r\n\r\n  public isMegagroup(peerId: PeerId) {\r\n    return !peerId.isUser() && this.appChatsManager.isMegagroup(peerId.toChatId());\r\n  }\r\n\r\n  public isAnyGroup(peerId: PeerId): boolean {\r\n    return !peerId.isUser() && !this.appChatsManager.isBroadcast(peerId.toChatId());\r\n  }\r\n\r\n  public isBroadcast(peerId: PeerId): boolean {\r\n    return this.isChannel(peerId) && !this.isMegagroup(peerId);\r\n  }\r\n\r\n  public isBot(peerId: PeerId): boolean {\r\n    return peerId.isUser() && this.appUsersManager.isBot(peerId.toUserId());\r\n  }\r\n\r\n  public isContact(peerId: PeerId): boolean {\r\n    return peerId.isUser() && this.appUsersManager.isContact(peerId.toUserId());\r\n  }\r\n\r\n  public isUser(peerId: PeerId)/* : peerId is UserId */ {\r\n    return isUser(peerId);\r\n  }\r\n  \r\n  public isAnyChat(peerId: PeerId) {\r\n    return isAnyChat(peerId);\r\n  }\r\n\r\n  public isRestricted(peerId: PeerId) {\r\n    return peerId.isUser() ? this.appUsersManager.isRestricted(peerId.toUserId()) : this.appChatsManager.isRestricted(peerId.toChatId());\r\n  }\r\n\r\n  public getRestrictionReasonText(peerId: PeerId) {\r\n    const peer: Chat.channel | User.user = this.getPeer(peerId);\r\n    const reason = peer.restriction_reason ? getRestrictionReason(peer.restriction_reason) : undefined;\r\n    if(reason) {\r\n      return reason.text;\r\n    } else {\r\n      return peerId.isUser() ? 'This user is restricted' : 'This chat is restricted';\r\n    }\r\n  }\r\n\r\n  /* public getInputPeer(peerString: string): InputPeer {\r\n    var firstChar = peerString.charAt(0);\r\n    var peerParams = peerString.substr(1).split('_');\r\n    let id = +peerParams[0];\r\n\r\n    if(firstChar === 'u') {\r\n      //appUsersManager.saveUserAccess(id, peerParams[1]);\r\n\r\n      return {\r\n        _: 'inputPeerUser',\r\n        user_id: id,\r\n        access_hash: peerParams[1]\r\n      };\r\n    } else if(firstChar === 'c' || firstChar === 's') {\r\n      //appChatsManager.saveChannelAccess(id, peerParams[1]);\r\n      if(firstChar === 's') {\r\n        appChatsManager.saveIsMegagroup(id);\r\n      }\r\n\r\n      return {\r\n        _: 'inputPeerChannel',\r\n        channel_id: id,\r\n        access_hash: peerParams[1] || '0'\r\n      };\r\n    } else {\r\n      return {\r\n        _: 'inputPeerChat',\r\n        chat_id: id\r\n      };\r\n    }\r\n  } */\r\n\r\n  public getInputNotifyPeerById(peerId: PeerId, ignorePeerId: true): Exclude<InputNotifyPeer, InputNotifyPeer.inputNotifyPeer>;\r\n  public getInputNotifyPeerById(peerId: PeerId, ignorePeerId?: false): InputNotifyPeer.inputNotifyPeer;\r\n  public getInputNotifyPeerById(peerId: PeerId, ignorePeerId?: boolean): InputNotifyPeer {\r\n    if(ignorePeerId) {\r\n      if(peerId.isUser()) {\r\n        return {_: 'inputNotifyUsers'};\r\n      } else {\r\n        if(this.isBroadcast(peerId)) {\r\n          return {_: 'inputNotifyBroadcasts'};\r\n        } else {\r\n          return {_: 'inputNotifyChats'};\r\n        }\r\n      }\r\n    } else {\r\n      return {\r\n        _: 'inputNotifyPeer', \r\n        peer: this.getInputPeerById(peerId)\r\n      };\r\n    }\r\n  }\r\n\r\n  public getInputPeerById(peerId: PeerId): InputPeer {\r\n    if(!peerId) {\r\n      return {_: 'inputPeerEmpty'};\r\n    }\r\n\r\n    if(!peerId.isUser()) {\r\n      const chatId = peerId.toChatId();\r\n      return this.appChatsManager.getInputPeer(chatId);\r\n    }\r\n\r\n    const userId = peerId.toUserId();\r\n    return this.appUsersManager.getUserInputPeer(userId);\r\n  }\r\n\r\n  public getInputPeerSelf(): InputPeer.inputPeerSelf {\r\n    return {_: 'inputPeerSelf'};\r\n  }\r\n\r\n  public getInputDialogPeerById(peerId: PeerId | InputPeer): InputDialogPeer {\r\n    return {\r\n      _: 'inputDialogPeer',\r\n      peer: isObject<InputPeer>(peerId) ? peerId : this.getInputPeerById(peerId)\r\n    };\r\n  }\r\n\r\n  public getPeerSearchText(peerId: PeerId) {\r\n    let text: string;\r\n    if(this.isUser(peerId)) {\r\n      text = '%pu ' + this.appUsersManager.getUserSearchText(peerId.toUserId());\r\n    } else {\r\n      const chat = this.appChatsManager.getChat(peerId.toChatId());\r\n      text = '%pg ' + (chat.title || '');\r\n    }\r\n\r\n    return text;\r\n  }\r\n\r\n  public getDialogType(peerId: PeerId): PeerType {\r\n    if(this.isMegagroup(peerId)) {\r\n      return 'megagroup';\r\n    } else if(this.isChannel(peerId)) {\r\n      return 'channel';\r\n    } else if(!this.isUser(peerId)) {\r\n      return 'group';\r\n    } else {\r\n      return peerId === this.peerId ? 'saved' : 'chat';\r\n    }\r\n  }\r\n\r\n  public getDeleteButtonText(peerId: PeerId): Extract<LangPackKey, 'ChannelDelete' | 'ChatList.Context.LeaveChannel' | 'DeleteMega' | 'ChatList.Context.LeaveGroup' | 'ChatList.Context.DeleteChat'> {\r\n    switch(this.getDialogType(peerId)) {\r\n      case 'channel':\r\n        return this.appChatsManager.hasRights(peerId.toChatId(), 'delete_chat') ? 'ChannelDelete' : 'ChatList.Context.LeaveChannel';\r\n\r\n      case 'megagroup':\r\n      case 'group':\r\n        return this.appChatsManager.hasRights(peerId.toChatId(), 'delete_chat') ? 'DeleteMega' : 'ChatList.Context.LeaveGroup';\r\n      \r\n      default:\r\n        return 'ChatList.Context.DeleteChat';\r\n    }\r\n  }\r\n\r\n  public noForwards(peerId: PeerId) {\r\n    if(peerId.isUser()) return false;\r\n    else {\r\n      const chat = this.appChatsManager.getChatTyped(peerId.toChatId());\r\n      return !!(chat as Chat.chat).pFlags?.noforwards;\r\n    }\r\n  }\r\n}\r\n\r\nexport type IsPeerType = 'isChannel' | 'isMegagroup' | 'isAnyGroup' | 'isBroadcast' | 'isBot' | 'isContact' | 'isUser' | 'isAnyChat';\r\n","/*\r\n * https://github.com/morethanwords/tweb\r\n * Copyright (C) 2019-2021 Eduard Kuzmenko\r\n * https://github.com/morethanwords/tweb/blob/master/LICENSE\r\n * \r\n * Originally from:\r\n * https://github.com/zhukov/webogram\r\n * Copyright (C) 2014 Igor Zhukov <igor.beatle@gmail.com>\r\n * https://github.com/zhukov/webogram/blob/master/LICENSE\r\n */\r\n\r\nimport { Photo, PhotoSize, PhotosPhotos } from \"../../layer\";\r\nimport { ReferenceContext } from \"../mtproto/referenceDatabase\";\r\nimport isObject from \"../../helpers/object/isObject\";\r\nimport safeReplaceArrayInObject from \"../../helpers/object/safeReplaceArrayInObject\";\r\nimport { AppManager } from \"./manager\";\r\n\r\nexport type MyPhoto = Photo.photo;\r\n\r\n// TIMES = 2 DUE TO SIDEBAR AND CHAT\r\n//let TEST_FILE_REFERENCE = \"5440692274120994569\", TEST_FILE_REFERENCE_TIMES = 2;\r\n\r\nexport class AppPhotosManager extends AppManager {\r\n  private photos: {\r\n    [id: string]: MyPhoto\r\n  } = {};\r\n\r\n  public savePhoto(photo: Photo, context?: ReferenceContext) {\r\n    if(photo._ === 'photoEmpty') return undefined;\r\n\r\n    /* if(photo.id === TEST_FILE_REFERENCE) {\r\n      console.warn('Testing FILE_REFERENCE_EXPIRED');\r\n      const bytes = [2, 67, 175, 43, 190, 0, 0, 20, 62, 95, 111, 33, 45, 99, 220, 116, 218, 11, 167, 127, 213, 18, 127, 32, 243, 202, 117, 80, 30];\r\n      //photo.file_reference = new Uint8Array(bytes);\r\n      photo.file_reference = bytes;\r\n      if(!--TEST_FILE_REFERENCE_TIMES) {\r\n        TEST_FILE_REFERENCE = '';\r\n      }\r\n    } */\r\n\r\n    const oldPhoto = this.photos[photo.id];\r\n    if(photo.file_reference) { // * because we can have a new object w/o the file_reference while sending\r\n      safeReplaceArrayInObject('file_reference', oldPhoto, photo);\r\n      this.referenceDatabase.saveContext(photo.file_reference, context);\r\n    }\r\n\r\n    if(photo.sizes?.length) {\r\n      const size = photo.sizes[photo.sizes.length - 1];\r\n      if(size._ === 'photoSizeProgressive') {\r\n        size.size = size.sizes[size.sizes.length - 1];\r\n      }\r\n    }\r\n\r\n    if(oldPhoto) {\r\n      return Object.assign(oldPhoto, photo);\r\n    }\r\n\r\n    return this.photos[photo.id] = photo;\r\n  }\r\n  \r\n  public getUserPhotos(userId: UserId, maxId: Photo.photo['id'] = '0', limit: number = 20) {\r\n    const inputUser = this.appUsersManager.getUserInput(userId);\r\n    return this.apiManager.invokeApiCacheable('photos.getUserPhotos', {\r\n      user_id: inputUser,\r\n      offset: 0,\r\n      limit,\r\n      max_id: maxId\r\n    }, {cacheSeconds: 60}).then((photosResult) => {\r\n      this.appUsersManager.saveApiUsers(photosResult.users);\r\n      const photoIds = photosResult.photos.map((photo, idx) => {\r\n        photosResult.photos[idx] = this.savePhoto(photo, {type: 'profilePhoto', peerId: userId.toPeerId()});\r\n        return photo.id;\r\n      });\r\n\r\n      // ! WARNING !\r\n      if(maxId !== '0' && maxId) {\r\n        const idx = photoIds.indexOf(maxId);\r\n        if(idx !== -1) {\r\n          photoIds.splice(idx, 1);\r\n        }\r\n      }\r\n      \r\n      return {\r\n        count: (photosResult as PhotosPhotos.photosPhotosSlice).count || photoIds.length,\r\n        photos: photoIds\r\n      };\r\n    });\r\n  }\r\n\r\n  /* public getPhotoURL(photo: MTPhoto | MTMyDocument, photoSize: MTPhotoSize) {\r\n    const downloadOptions = this.getPhotoDownloadOptions(photo, photoSize);\r\n\r\n    return {url: getFileURL('photo', downloadOptions), location: downloadOptions.location};\r\n  } */\r\n\r\n  /* public isDownloaded(media: any) {\r\n    const isPhoto = media._ === 'photo';\r\n    const photo = isPhoto ? this.getPhoto(media.id) : null;\r\n    let isDownloaded: boolean;\r\n    if(photo) {\r\n      isDownloaded = photo.downloaded > 0;\r\n    } else {\r\n      const cachedThumb = this.getDocumentCachedThumb(media.id);\r\n      isDownloaded = cachedThumb?.downloaded > 0;\r\n    }\r\n\r\n    return isDownloaded;\r\n  } */\r\n  \r\n  public getPhoto(photoId: any/* MyPhoto | string */): MyPhoto {\r\n    return isObject(photoId) ? photoId as MyPhoto : this.photos[photoId as any as string];\r\n  }\r\n}\r\n","/*\r\n * https://github.com/morethanwords/tweb\r\n * Copyright (C) 2019-2021 Eduard Kuzmenko\r\n * https://github.com/morethanwords/tweb/blob/master/LICENSE\r\n */\r\n\r\nimport copy from \"../../helpers/object/copy\";\r\nimport { InputMedia, Message, MessageEntity, MessageMedia, Poll, PollResults } from \"../../layer\";\r\nimport { logger, LogTypes } from \"../logger\";\r\nimport parseMarkdown from \"../richTextProcessor/parseMarkdown\";\r\nimport { AppManager } from \"./manager\";\r\nimport getServerMessageId from \"./utils/messageId/getServerMessageId\";\r\n\r\nexport class AppPollsManager extends AppManager {\r\n  public polls: {[id: string]: Poll} = {};\r\n  public results: {[id: string]: PollResults} = {};\r\n  public pollToMessages: {[id: string]: Set<string>} = {};\r\n\r\n  private log = logger('POLLS', LogTypes.Error);\r\n\r\n  protected after() {\r\n    this.apiUpdatesManager.addMultipleEventsListeners({\r\n      updateMessagePoll: (update) => {\r\n        this.log('updateMessagePoll:', update);\r\n\r\n        let poll: Poll = update.poll || this.polls[update.poll_id];\r\n        if(!poll) {\r\n          return;\r\n        }\r\n\r\n        let results = update.results;\r\n        const ret = this.savePoll(poll, results as any);\r\n        poll = ret.poll;\r\n        results = ret.results;\r\n        \r\n        this.rootScope.dispatchEvent('poll_update', {poll, results: results as any});\r\n      }\r\n    });\r\n  }\r\n\r\n  public savePoll(poll: Poll, results: PollResults, message?: Message.message) {\r\n    if(message) {\r\n      this.updatePollToMessage(message, true);\r\n    }\r\n\r\n    const id = poll.id;\r\n    if(this.polls[id]) {\r\n      poll = Object.assign(this.polls[id], poll);\r\n      results = this.saveResults(poll, results);\r\n    } else {\r\n      this.polls[id] = poll;\r\n\r\n      poll.chosenIndexes = [];\r\n      results = this.saveResults(poll, results);\r\n    }\r\n\r\n    return {poll, results};\r\n  }\r\n\r\n  public saveResults(poll: Poll, results: PollResults) {\r\n    if(this.results[poll.id]) {\r\n      results = Object.assign(this.results[poll.id], results);\r\n    } else {\r\n      this.results[poll.id] = results;\r\n    }\r\n\r\n    if(!results.pFlags.min) { // ! https://core.telegram.org/constructor/pollResults - min\r\n      poll.chosenIndexes.length = 0;\r\n      if(results?.results?.length) {\r\n        results.results.forEach((answer, idx) => {\r\n          if(answer.pFlags?.chosen) {\r\n            poll.chosenIndexes.push(idx);\r\n          }\r\n        });\r\n      }\r\n    }\r\n\r\n    return results;\r\n  }\r\n\r\n  public getPoll(pollId: string): {poll: Poll, results: PollResults} {\r\n    return {\r\n      poll: this.polls[pollId], \r\n      results: this.results[pollId]\r\n    };\r\n  }\r\n\r\n  public getInputMediaPoll(poll: Poll, correctAnswers?: Uint8Array[], solution?: string, solutionEntities?: MessageEntity[]): InputMedia.inputMediaPoll {\r\n    if(solution) {\r\n      if(!solutionEntities) {\r\n        solutionEntities = [];\r\n      }\r\n\r\n      solution = parseMarkdown(solution, solutionEntities);\r\n    } else {\r\n      solution = undefined; // can be string here\r\n    }\r\n\r\n    return {\r\n      _: 'inputMediaPoll',\r\n      poll,\r\n      correct_answers: correctAnswers,\r\n      solution,\r\n      solution_entities: solution ? solutionEntities : undefined\r\n    };\r\n  }\r\n\r\n  public updatePollToMessage(message: Message.message, add: boolean) {\r\n    const {id} = (message.media as MessageMedia.messageMediaPoll).poll;\r\n    let set = this.pollToMessages[id];\r\n    \r\n    if(!add && !set) {\r\n      return;\r\n    }\r\n\r\n    if(!set) {\r\n      set = this.pollToMessages[id] = new Set();\r\n    }\r\n\r\n    const key = message.peerId + '_' + message.mid;\r\n    if(add) set.add(key);\r\n    else set.delete(key);\r\n\r\n    if(!add && !set.size) {\r\n      delete this.polls[id];\r\n      delete this.results[id];\r\n      delete this.pollToMessages[id];\r\n    }\r\n  }\r\n\r\n  public sendVote(message: any, optionIds: number[]): Promise<void> {\r\n    const poll: Poll = message.media.poll;\r\n\r\n    const options: Uint8Array[] = optionIds.map((index) => {\r\n      return poll.answers[index].option;\r\n    });\r\n    \r\n    const messageId = message.mid;\r\n    const peerId = message.peerId;\r\n    const inputPeer = this.appPeersManager.getInputPeerById(peerId);\r\n\r\n    if(message.pFlags.is_outgoing) {\r\n      return this.appMessagesManager.invokeAfterMessageIsSent(messageId, 'sendVote', (message) => {\r\n        this.log('invoke sendVote callback');\r\n        return this.sendVote(message, optionIds);\r\n      });\r\n    }\r\n\r\n    return this.apiManager.invokeApi('messages.sendVote', {\r\n      peer: inputPeer,\r\n      msg_id: getServerMessageId(message.mid),\r\n      options\r\n    }).then((updates) => {\r\n      this.log('sendVote updates:', updates);\r\n      this.apiUpdatesManager.processUpdateMessage(updates);\r\n    });\r\n  }\r\n\r\n  public getResults(message: any) {\r\n    const inputPeer = this.appPeersManager.getInputPeerById(message.peerId);\r\n\r\n    return this.apiManager.invokeApi('messages.getPollResults', {\r\n      peer: inputPeer,\r\n      msg_id: getServerMessageId(message.mid)\r\n    }).then((updates) => {\r\n      this.apiUpdatesManager.processUpdateMessage(updates);\r\n      this.log('getResults updates:', updates);\r\n    });\r\n  }\r\n\r\n  public getVotes(message: any, option?: Uint8Array, offset?: string, limit = 20) {\r\n    return this.apiManager.invokeApi('messages.getPollVotes', {\r\n      peer: this.appPeersManager.getInputPeerById(message.peerId),\r\n      id: getServerMessageId(message.mid),\r\n      option,\r\n      offset,\r\n      limit\r\n    }).then((votesList) => {\r\n      this.log('getPollVotes messages:', votesList);\r\n\r\n      this.appUsersManager.saveApiUsers(votesList.users);\r\n\r\n      return votesList;\r\n    });\r\n  }\r\n\r\n  public stopPoll(message: any) {\r\n    const poll: Poll = message.media.poll;\r\n    \r\n    if(poll.pFlags.closed) return Promise.resolve();\r\n\r\n    const newPoll = copy(poll);\r\n    newPoll.pFlags.closed = true;\r\n    return this.appMessagesManager.editMessage(message, undefined, {\r\n      newMedia: this.getInputMediaPoll(newPoll)\r\n    }).then(() => {\r\n      //console.log('stopped poll');\r\n    }, err => {\r\n      this.log.error('stopPoll error:', err);\r\n    });\r\n  }\r\n}\r\n","/*\r\n * https://github.com/morethanwords/tweb\r\n * Copyright (C) 2019-2021 Eduard Kuzmenko\r\n * https://github.com/morethanwords/tweb/blob/master/LICENSE\r\n */\r\n\r\nimport { InputPrivacyKey, InputPrivacyRule, PrivacyRule, PrivacyKey } from \"../../layer\";\r\nimport convertInputKeyToKey from \"../../helpers/string/convertInputKeyToKey\";\r\nimport { AppManager } from \"./manager\";\r\n\r\nexport class AppPrivacyManager extends AppManager {\r\n  private privacy: Partial<{\r\n    [key in PrivacyKey['_']]: PrivacyRule[] | Promise<PrivacyRule[]>\r\n  }> = {};\r\n\r\n  protected after() {\r\n    this.apiUpdatesManager.addMultipleEventsListeners({\r\n      updatePrivacy: (update) => {\r\n        const key = update.key._;\r\n        this.privacy[key] = update.rules;\r\n        this.rootScope.dispatchEvent('privacy_update', update);\r\n      }\r\n    });\r\n  }\r\n\r\n  public setPrivacy(inputKey: InputPrivacyKey['_'], rules: InputPrivacyRule[]) {\r\n    return this.apiManager.invokeApi('account.setPrivacy', {\r\n      key: {\r\n        _: inputKey\r\n      },\r\n      rules\r\n    }).then((privacyRules) => {\r\n      this.appUsersManager.saveApiUsers(privacyRules.users);\r\n      this.appChatsManager.saveApiChats(privacyRules.chats);\r\n\r\n      this.apiUpdatesManager.processLocalUpdate({\r\n        _: 'updatePrivacy',\r\n        key: {\r\n          _: convertInputKeyToKey(inputKey)\r\n        },\r\n        rules: rules.map((inputRule) => {\r\n          const rule: PrivacyRule = {} as any;\r\n          Object.assign(rule, inputRule);\r\n          rule._ = convertInputKeyToKey(rule._) as any;\r\n          return rule;\r\n        })\r\n      });\r\n\r\n      //console.log('privacy rules', inputKey, privacyRules, privacyRules.rules);\r\n\r\n      return privacyRules.rules;\r\n    });\r\n  }\r\n\r\n  public getPrivacy(inputKey: InputPrivacyKey['_']) {\r\n    const privacyKey: PrivacyKey['_'] = convertInputKeyToKey(inputKey) as any;\r\n    const rules = this.privacy[privacyKey];\r\n    if(rules) {\r\n      return Promise.resolve(rules);\r\n    }\r\n    \r\n    return this.privacy[privacyKey] = this.apiManager.invokeApi('account.getPrivacy', {\r\n      key: {\r\n        _: inputKey\r\n      }\r\n    }).then((privacyRules) => {\r\n      this.appUsersManager.saveApiUsers(privacyRules.users);\r\n      this.appChatsManager.saveApiChats(privacyRules.chats);\r\n\r\n      //console.log('privacy rules', inputKey, privacyRules, privacyRules.rules);\r\n\r\n      return this.privacy[privacyKey] = privacyRules.rules;\r\n    });\r\n  }\r\n}\r\n","/*\r\n * https://github.com/morethanwords/tweb\r\n * Copyright (C) 2019-2021 Eduard Kuzmenko\r\n * https://github.com/morethanwords/tweb/blob/master/LICENSE\r\n * \r\n * Originally from:\r\n * https://github.com/zhukov/webogram\r\n * Copyright (C) 2014 Igor Zhukov <igor.beatle@gmail.com>\r\n * https://github.com/zhukov/webogram/blob/master/LICENSE\r\n */\r\n\r\nimport type { MyTopPeer } from \"./appUsersManager\";\r\nimport tsNow from \"../../helpers/tsNow\";\r\nimport { ChannelParticipantsFilter, ChannelsChannelParticipants, ChannelParticipant, Chat, ChatFull, ChatParticipants, ChatPhoto, ExportedChatInvite, InputChannel, InputFile, SendMessageAction, Update, UserFull, Photo, PhotoSize, Updates } from \"../../layer\";\r\nimport SearchIndex from \"../searchIndex\";\r\nimport { AppManager } from \"./manager\";\r\nimport getServerMessageId from \"./utils/messageId/getServerMessageId\";\r\nimport getPeerId from \"./utils/peers/getPeerId\";\r\nimport getPhotoInput from \"./utils/photos/getPhotoInput\";\r\nimport getParticipantPeerId from \"./utils/chats/getParticipantPeerId\";\r\nimport ctx from \"../../environment/ctx\";\r\n\r\nexport type UserTyping = Partial<{userId: UserId, action: SendMessageAction, timeout: number}>;\r\n\r\nexport class AppProfileManager extends AppManager {\r\n  //private botInfos: any = {};\r\n  private usersFull: {[id: UserId]: UserFull.userFull} = {};\r\n  private chatsFull: {[id: ChatId]: ChatFull} = {};\r\n  private typingsInPeer: {[peerId: PeerId]: UserTyping[]};\r\n\r\n  protected after() {\r\n    this.apiUpdatesManager.addMultipleEventsListeners({\r\n      updateChatParticipants: (update) => {\r\n        const participants = update.participants;\r\n        if(participants._ === 'chatParticipants') {\r\n          const chatId = participants.chat_id;\r\n          const chatFull = this.chatsFull[chatId] as ChatFull.chatFull;\r\n          if(chatFull !== undefined) {\r\n            chatFull.participants = participants;\r\n            this.rootScope.dispatchEvent('chat_full_update', chatId);\r\n          }\r\n        }\r\n      },\r\n\r\n      updateChatParticipantAdd: (update) => {\r\n        const chatFull = this.chatsFull[update.chat_id] as ChatFull.chatFull;\r\n        if(chatFull !== undefined) {\r\n          const _participants = chatFull.participants as ChatParticipants.chatParticipants;\r\n          const participants = _participants.participants || [];\r\n          for(let i = 0, length = participants.length; i < length; i++) {\r\n            if(participants[i].user_id === update.user_id) {\r\n              return;\r\n            }\r\n          }\r\n\r\n          participants.push({\r\n            _: 'chatParticipant',\r\n            user_id: update.user_id,\r\n            inviter_id: update.inviter_id,\r\n            date: tsNow(true)\r\n          });\r\n\r\n          _participants.version = update.version;\r\n          this.rootScope.dispatchEvent('chat_full_update', update.chat_id);\r\n        }\r\n      },\r\n\r\n      updateChatParticipantDelete: (update) => {\r\n        const chatFull = this.chatsFull[update.chat_id] as ChatFull.chatFull;\r\n        if(chatFull !== undefined) {\r\n          const _participants = chatFull.participants as ChatParticipants.chatParticipants;\r\n          const participants = _participants.participants || [];\r\n          for(let i = 0, length = participants.length; i < length; i++) {\r\n            if(participants[i].user_id === update.user_id) {\r\n              participants.splice(i, 1);\r\n              _participants.version = update.version;\r\n              this.rootScope.dispatchEvent('chat_full_update', update.chat_id);\r\n              return;\r\n            }\r\n          }\r\n        }\r\n      },\r\n\r\n      updateUserTyping: this.onUpdateUserTyping,\r\n      updateChatUserTyping: this.onUpdateUserTyping,\r\n      updateChannelUserTyping: this.onUpdateUserTyping,\r\n\r\n      updatePeerBlocked: this.onUpdatePeerBlocked\r\n    });\r\n\r\n    this.rootScope.addEventListener('chat_update', (chatId) => {\r\n      const fullChat = this.chatsFull[chatId];\r\n      const chat: Chat.chat | Chat.channel | Chat.chatForbidden | Chat.channelForbidden = this.appChatsManager.getChat(chatId);\r\n      if(!fullChat || !chat) {\r\n        return;\r\n      }\r\n\r\n      let updated = false;\r\n      if(!!fullChat.call !== !!(chat as Chat.chat).pFlags?.call_active) {\r\n        updated = true;\r\n      }\r\n\r\n      const {photo} = chat as Chat.chat;\r\n      if(photo) {\r\n        const hasChatPhoto = photo._ !== 'chatPhotoEmpty';\r\n        const hasFullChatPhoto = !!(fullChat.chat_photo && fullChat.chat_photo._ !== 'photoEmpty'); // chat_photo can be missing\r\n        if(\r\n          hasChatPhoto !== hasFullChatPhoto || (\r\n            hasChatPhoto && \r\n            photo.photo_id !== fullChat.chat_photo?.id\r\n          )\r\n        ) {\r\n          updated = true;\r\n        }\r\n      }\r\n\r\n      if(updated) {\r\n        this.refreshFullPeer(chatId.toPeerId(true));\r\n      }\r\n    });\r\n\r\n    this.rootScope.addEventListener('channel_update', (chatId) => {\r\n      this.refreshFullPeer(chatId.toPeerId(true));\r\n    });\r\n\r\n    // * genius\r\n    this.rootScope.addEventListener('chat_full_update', (chatId) => {\r\n      this.rootScope.dispatchEvent('peer_full_update', chatId.toPeerId(true));\r\n    });\r\n    \r\n    // * genius\r\n    this.rootScope.addEventListener('user_full_update', (userId) => {\r\n      this.rootScope.dispatchEvent('peer_full_update', userId.toPeerId(false));\r\n    });\r\n\r\n    this.rootScope.addEventListener('invalidate_participants', (chatId) => {\r\n      this.invalidateChannelParticipants(chatId);\r\n    });\r\n\r\n    this.typingsInPeer = {};\r\n  }\r\n\r\n  /* public saveBotInfo(botInfo: any) {\r\n    const botId = botInfo && botInfo.user_id;\r\n    if(!botId) {\r\n      return null;\r\n    }\r\n\r\n    const commands: any = {};\r\n    botInfo.commands.forEach((botCommand: any) => {\r\n      commands[botCommand.command] = botCommand.description;\r\n    });\r\n\r\n    return this.botInfos[botId] = {\r\n      id: botId,\r\n      version: botInfo.version,\r\n      shareText: botInfo.share_text,\r\n      description: botInfo.description,\r\n      commands: commands\r\n    };\r\n  } */\r\n\r\n  public getProfile(id: UserId, override?: true) {\r\n    if(this.usersFull[id] && !override) {\r\n      return this.usersFull[id];\r\n    }\r\n\r\n    return this.apiManager.invokeApiSingleProcess({\r\n      method: 'users.getFullUser', \r\n      params: {\r\n        id: this.appUsersManager.getUserInput(id)\r\n      },\r\n      processResult: (usersUserFull) => {\r\n        this.appChatsManager.saveApiChats(usersUserFull.chats, true);\r\n        this.appUsersManager.saveApiUsers(usersUserFull.users);\r\n\r\n        const userFull = usersUserFull.full_user;\r\n        const peerId = id.toPeerId(false);\r\n        if(userFull.profile_photo) {\r\n          userFull.profile_photo = this.appPhotosManager.savePhoto(userFull.profile_photo, {type: 'profilePhoto', peerId});\r\n        }\r\n\r\n        this.appNotificationsManager.savePeerSettings({\r\n          peerId, \r\n          settings: userFull.notify_settings\r\n        });\r\n\r\n        this.usersFull[id] = userFull;\r\n\r\n        /* if(userFull.bot_info) {\r\n          userFull.bot_info = this.saveBotInfo(userFull.bot_info) as any;\r\n        } */\r\n\r\n        //appMessagesManager.savePinnedMessage(id, userFull.pinned_msg_id);\r\n\r\n        this.rootScope.dispatchEvent('user_full_update', id);\r\n        return userFull;\r\n      }\r\n    });\r\n  }\r\n\r\n  public getProfileByPeerId(peerId: PeerId, override?: true) {\r\n    if(this.appPeersManager.isAnyChat(peerId)) return this.getChatFull(peerId.toChatId(), override);\r\n    else return this.getProfile(peerId.toUserId(), override);\r\n  }\r\n\r\n  public getCachedFullChat(chatId: ChatId) {\r\n    return this.chatsFull[chatId];\r\n  }\r\n\r\n  public getCachedFullUser(userId: UserId) {\r\n    return this.usersFull[userId];\r\n  }\r\n\r\n  public getCachedProfileByPeerId(peerId: PeerId) {\r\n    return peerId.isUser() ? this.getCachedFullUser(peerId.toUserId()) : this.getCachedFullChat(peerId.toChatId());\r\n  }\r\n\r\n  public async getFullPhoto(peerId: PeerId) {\r\n    const profile = await this.getProfileByPeerId(peerId);\r\n    switch(profile._) {\r\n      case 'userFull':\r\n        return profile.profile_photo;\r\n      case 'channelFull':\r\n      case 'chatFull':\r\n        return profile.chat_photo;\r\n    }\r\n  }\r\n\r\n  /* public getPeerBots(peerId: PeerId) {\r\n    var peerBots: any[] = [];\r\n    if(peerId >= 0 && !appUsersManager.isBot(peerId) ||\r\n      (appPeersManager.isChannel(peerId) && !appPeersManager.isMegagroup(peerId))) {\r\n      return Promise.resolve(peerBots);\r\n    }\r\n    if(peerId >= 0) {\r\n      return this.getProfile(peerId).then((userFull: any) => {\r\n        var botInfo = userFull.bot_info;\r\n        if(botInfo && botInfo._ !== 'botInfoEmpty') {\r\n          peerBots.push(botInfo);\r\n        }\r\n        return peerBots;\r\n      });\r\n    }\r\n\r\n    return this.getChatFull(peerId.toChatId()).then((chatFull: any) => {\r\n      chatFull.bot_info.forEach((botInfo: any) => {\r\n        peerBots.push(this.saveBotInfo(botInfo))\r\n      });\r\n      return peerBots;\r\n    });\r\n  } */\r\n\r\n  public getChatFull(id: ChatId, override?: true) {\r\n    if(this.appChatsManager.isChannel(id)) {\r\n      return this.getChannelFull(id, override);\r\n    }\r\n\r\n    const fullChat = this.chatsFull[id] as ChatFull.chatFull;\r\n    if(fullChat && !override) {\r\n      const chat = this.appChatsManager.getChat(id);\r\n      if(chat.version === (fullChat.participants as ChatParticipants.chatParticipants).version ||\r\n        chat.pFlags.left) {\r\n        return fullChat as ChatFull;\r\n      }\r\n    }\r\n    \r\n    return this.apiManager.invokeApiSingleProcess({\r\n      method: 'messages.getFullChat', \r\n      params: {\r\n        chat_id: id\r\n      },\r\n      processResult: (result) => {\r\n        this.appChatsManager.saveApiChats(result.chats, true);\r\n        this.appUsersManager.saveApiUsers(result.users);\r\n        const chatFull = result.full_chat as ChatFull.chatFull;\r\n        const peerId = id.toPeerId(true);\r\n        if(chatFull && chatFull.chat_photo && chatFull.chat_photo.id) {\r\n          chatFull.chat_photo = this.appPhotosManager.savePhoto(chatFull.chat_photo, {type: 'profilePhoto', peerId});\r\n        }\r\n\r\n        if(chatFull.call) {\r\n          this.appGroupCallsManager.saveGroupCall(chatFull.call, id);\r\n        }\r\n\r\n        //appMessagesManager.savePinnedMessage(peerId, fullChat.pinned_msg_id);\r\n        this.appNotificationsManager.savePeerSettings({\r\n          peerId, \r\n          settings: chatFull.notify_settings\r\n        });\r\n        \r\n        this.chatsFull[id] = chatFull;\r\n        this.rootScope.dispatchEvent('chat_full_update', id);\r\n\r\n        return chatFull;\r\n      }\r\n    });\r\n  }\r\n\r\n  public async getChatInviteLink(id: ChatId, force?: boolean) {\r\n    const chatFull = await this.getChatFull(id);\r\n    if(!force &&\r\n      chatFull.exported_invite &&\r\n      chatFull.exported_invite._ == 'chatInviteExported') {\r\n      return chatFull.exported_invite.link;\r\n    }\r\n    \r\n    return this.apiManager.invokeApi('messages.exportChatInvite', {\r\n      peer: this.appPeersManager.getInputPeerById(id.toPeerId(true))\r\n    }).then((exportedInvite) => {\r\n      if(this.chatsFull[id] !== undefined) {\r\n        this.chatsFull[id].exported_invite = exportedInvite;\r\n      }\r\n\r\n      return (exportedInvite as ExportedChatInvite.chatInviteExported).link;\r\n    });\r\n  }\r\n\r\n  public getChannelParticipants(id: ChatId, filter: ChannelParticipantsFilter = {_: 'channelParticipantsRecent'}, limit = 200, offset = 0) {\r\n    if(filter._ === 'channelParticipantsRecent') {\r\n      const chat = this.appChatsManager.getChat(id);\r\n      if(chat &&\r\n          chat.pFlags && (\r\n            // chat.pFlags.kicked ||\r\n            chat.pFlags.broadcast && !chat.pFlags.creator && !chat.admin_rights\r\n          )) {\r\n        return Promise.reject();\r\n      }\r\n    }\r\n\r\n    return this.apiManager.invokeApiCacheable('channels.getParticipants', {\r\n      channel: this.appChatsManager.getChannelInput(id),\r\n      filter,\r\n      offset,\r\n      limit,\r\n      hash: '0'\r\n    }, {cacheSeconds: 60}).then((result) => {\r\n      this.appUsersManager.saveApiUsers((result as ChannelsChannelParticipants.channelsChannelParticipants).users);\r\n      return result as ChannelsChannelParticipants.channelsChannelParticipants;\r\n    });\r\n    /* let maybeAddSelf = (participants: any[]) => {\r\n      let chat = appChatsManager.getChat(id);\r\n      let selfMustBeFirst = filter._ === 'channelParticipantsRecent' &&\r\n                            !offset &&\r\n                            !chat.pFlags.kicked &&\r\n                            !chat.pFlags.left;\r\n\r\n      if(selfMustBeFirst) {\r\n        participants = copy(participants);\r\n        let myID = appUsersManager.getSelf().id;\r\n        let myIndex = participants.findIndex((p) => p.user_id === myID);\r\n        let myParticipant;\r\n\r\n        if(myIndex !== -1) {\r\n          myParticipant = participants[myIndex];\r\n          participants.splice(myIndex, 1);\r\n        } else {\r\n          myParticipant = {_: 'channelParticipantSelf', user_id: myID};\r\n        }\r\n\r\n        participants.unshift(myParticipant);\r\n      }\r\n\r\n      return participants;\r\n    } */\r\n  }\r\n\r\n  public getChannelParticipant(id: ChatId, peerId: PeerId) {\r\n    return this.apiManager.invokeApiSingle('channels.getParticipant', {\r\n      channel: this.appChatsManager.getChannelInput(id),\r\n      participant: this.appPeersManager.getInputPeerById(peerId),\r\n    }).then((channelParticipant) => {\r\n      this.appUsersManager.saveApiUsers(channelParticipant.users);\r\n      return channelParticipant.participant;\r\n    });\r\n  }\r\n\r\n  public getChannelFull(id: ChatId, override?: true) {\r\n    if(this.chatsFull[id] !== undefined && !override) {\r\n      return this.chatsFull[id] as ChatFull.channelFull;\r\n    }\r\n\r\n    return this.apiManager.invokeApiSingleProcess({\r\n      method: 'channels.getFullChannel', \r\n      params: {\r\n        channel: this.appChatsManager.getChannelInput(id)\r\n      }, \r\n      processResult: (result) => {\r\n        const peerId = id.toPeerId(true);\r\n        this.appChatsManager.saveApiChats(result.chats, true);\r\n        this.appUsersManager.saveApiUsers(result.users);\r\n        const fullChannel = result.full_chat as ChatFull.channelFull;\r\n        if(fullChannel && fullChannel.chat_photo.id) {\r\n          fullChannel.chat_photo = this.appPhotosManager.savePhoto(fullChannel.chat_photo, {type: 'profilePhoto', peerId});\r\n          //appPhotosManager.savePhoto(fullChannel.chat_photo);\r\n        }\r\n\r\n        if(fullChannel.call) {\r\n          this.appGroupCallsManager.saveGroupCall(fullChannel.call, id);\r\n        }\r\n\r\n        this.appNotificationsManager.savePeerSettings({\r\n          peerId, \r\n          settings: fullChannel.notify_settings\r\n        });\r\n\r\n        this.chatsFull[id] = fullChannel;\r\n        this.rootScope.dispatchEvent('chat_full_update', id);\r\n\r\n        return fullChannel;\r\n      }, \r\n      processError: (error) => {\r\n        switch(error.type) {\r\n          case 'CHANNEL_PRIVATE':\r\n            const channel: Chat.channel | Chat.channelForbidden = this.appChatsManager.getChat(id);\r\n            this.apiUpdatesManager.processUpdateMessage({\r\n              _: 'updates',\r\n              updates: [{\r\n                _: 'updateChannel',\r\n                channel_id: id\r\n              }],\r\n              chats: [{\r\n                _: 'channelForbidden',\r\n                id,\r\n                access_hash: channel.access_hash,\r\n                title: channel.title,\r\n                pFlags: channel.pFlags\r\n              }],\r\n              users: []\r\n            } as Updates.updates);\r\n            break;\r\n        }\r\n\r\n        throw error;\r\n      }\r\n    });\r\n  }\r\n\r\n  public getMentions(chatId: ChatId, query: string, threadId?: number): Promise<PeerId[]> {\r\n    const processUserIds = (topPeers: MyTopPeer[]) => {\r\n      const startsWithAt = query.charAt(0) === '@';\r\n      if(startsWithAt) query = query.slice(1);\r\n      /* const startsWithAt = query.charAt(0) === '@';\r\n      if(startsWithAt) query = query.slice(1);\r\n      \r\n      const index = new SearchIndex<number>(!startsWithAt, !startsWithAt); */\r\n      const index = new SearchIndex<PeerId>({\r\n        ignoreCase: true\r\n      });\r\n\r\n      const ratingMap: Map<PeerId, number> = new Map();\r\n      topPeers.forEach((peer) => {\r\n        index.indexObject(peer.id, this.appUsersManager.getUserSearchText(peer.id));\r\n        ratingMap.set(peer.id, peer.rating);\r\n      });\r\n\r\n      const peerIds = Array.from(index.search(query));\r\n      peerIds.sort((a, b) => ratingMap.get(b) - ratingMap.get(a));\r\n      return peerIds;\r\n    };\r\n\r\n    let promise: Promise<PeerId[]>;\r\n    if(this.appChatsManager.isChannel(chatId)) {\r\n      promise = this.getChannelParticipants(chatId, {\r\n        _: 'channelParticipantsMentions',\r\n        q: query,\r\n        top_msg_id: getServerMessageId(threadId)\r\n      }, 50, 0).then((cP) => {\r\n        return cP.participants.map((p) => getParticipantPeerId(p));\r\n      });\r\n    } else if(chatId) {\r\n      promise = Promise.resolve(this.getChatFull(chatId)).then((chatFull) => {\r\n        return ((chatFull as ChatFull.chatFull).participants as ChatParticipants.chatParticipants).participants.map((p) => p.user_id.toPeerId());\r\n      });\r\n    } else {\r\n      promise = Promise.resolve([]);\r\n    }\r\n\r\n    return Promise.all([\r\n      // [],\r\n      this.appUsersManager.getTopPeers('bots_inline').catch(() => [] as MyTopPeer[]), \r\n      promise\r\n    ]).then((results) => {\r\n      const peers = results[0].concat(results[1].map((peerId) => ({id: peerId, rating: 0})));\r\n\r\n      return processUserIds(peers);\r\n    });\r\n  }\r\n\r\n  private invalidateChannelParticipants(id: ChatId) {\r\n    this.apiManager.clearCache('channels.getParticipants', (params) => (params.channel as InputChannel.inputChannel).channel_id === id);\r\n    this.refreshFullPeer(id.toPeerId(true));\r\n  }\r\n\r\n  private refreshFullPeer(peerId: PeerId) {\r\n    if(peerId.isUser()) {\r\n      const userId = peerId.toUserId();\r\n      delete this.usersFull[userId];\r\n      this.rootScope.dispatchEvent('user_full_update', userId);\r\n    } else {\r\n      const chatId = peerId.toChatId();\r\n      delete this.chatsFull[chatId];\r\n      this.rootScope.dispatchEvent('chat_full_update', chatId);\r\n    }\r\n\r\n    // ! эта строчка будет создавать race condition:\r\n    // ! запрос вернёт chat с установленным флагом call_not_empty, хотя сам апдейт уже будет применён\r\n    // this.getProfileByPeerId(peerId, true);\r\n  }\r\n\r\n  public updateProfile(first_name?: string, last_name?: string, about?: string) {\r\n    return this.apiManager.invokeApi('account.updateProfile', {\r\n      first_name,\r\n      last_name,\r\n      about\r\n    }).then((user) => {\r\n      this.appUsersManager.saveApiUser(user);\r\n\r\n      if(about !== undefined) {\r\n        const peerId = user.id.toPeerId();\r\n        const userFull = this.usersFull[user.id];\r\n        if(userFull) {\r\n          userFull.about = about;\r\n        }\r\n  \r\n        this.rootScope.dispatchEvent('peer_bio_edit', peerId);\r\n      }\r\n      \r\n      return this.getProfile(this.appPeersManager.peerId, true);\r\n    });\r\n  }\r\n\r\n  public uploadProfilePhoto(inputFile: InputFile) {\r\n    return this.apiManager.invokeApi('photos.uploadProfilePhoto', {\r\n      file: inputFile\r\n    }).then((updateResult) => {\r\n      // ! sometimes can have no user in users\r\n      const photo = updateResult.photo as Photo.photo;\r\n      if(!updateResult.users.length) {\r\n        const strippedThumb = photo.sizes.find((size) => size._ === 'photoStrippedSize') as PhotoSize.photoStrippedSize;\r\n        updateResult.users.push({\r\n          ...this.appUsersManager.getSelf(), \r\n          photo: {\r\n            _: 'userProfilePhoto',\r\n            dc_id: photo.dc_id,\r\n            photo_id: photo.id,\r\n            stripped_thumb: strippedThumb?.bytes,\r\n            pFlags: {\r\n\r\n            }\r\n          }\r\n        });\r\n      }\r\n      this.appUsersManager.saveApiUsers(updateResult.users);\r\n\r\n      const myId = this.appPeersManager.peerId;\r\n      this.appPhotosManager.savePhoto(updateResult.photo, {\r\n        type: 'profilePhoto',\r\n        peerId: myId\r\n      });\r\n\r\n      const userId = myId.toUserId();\r\n      this.apiUpdatesManager.processLocalUpdate({\r\n        _: 'updateUserPhoto',\r\n        user_id: userId,\r\n        date: tsNow(true),\r\n        photo: this.appUsersManager.getUser(userId).photo,\r\n        previous: true\r\n      });\r\n    });\r\n  }\r\n\r\n  public deletePhotos(photoIds: string[]) {\r\n    return this.apiManager.invokeApiSingle('photos.deletePhotos', {\r\n      id: photoIds.map((photoId) => {\r\n        const photo = this.appPhotosManager.getPhoto(photoId);\r\n        return getPhotoInput(photo);\r\n      })\r\n    }).then((deletedList) => {\r\n      \r\n    });\r\n  }\r\n\r\n  private verifyParticipantForOnlineCount(participant: {user_id: UserId}) {\r\n    const user = this.appUsersManager.getUser(participant.user_id);\r\n    return !!(user && user.status && user.status._ === 'userStatusOnline');\r\n  }\r\n\r\n  private reduceParticipantsForOnlineCount(participants: {user_id: UserId}[]) {\r\n    return participants.reduce((acc, participant) => {\r\n      return acc + +this.verifyParticipantForOnlineCount(participant);\r\n    }, 0);\r\n  }\r\n\r\n  public async getOnlines(id: ChatId): Promise<number> {\r\n    const minOnline = 1;\r\n    if(this.appChatsManager.isBroadcast(id)) {\r\n      return minOnline;\r\n    }\r\n    \r\n    const chatInfo = await this.getChatFull(id);\r\n    if(this.appChatsManager.isMegagroup(id)) {\r\n      if((chatInfo as ChatFull.channelFull).participants_count <= 100) {\r\n        const channelParticipants = await this.getChannelParticipants(id, {_: 'channelParticipantsRecent'}, 100);\r\n        return this.reduceParticipantsForOnlineCount(channelParticipants.participants as ChannelParticipant.channelParticipant[]);\r\n      }\r\n\r\n      const res = await this.apiManager.invokeApiCacheable('messages.getOnlines', {\r\n        peer: this.appChatsManager.getChannelInputPeer(id)\r\n      }, {cacheSeconds: 60});\r\n\r\n      const onlines = res.onlines ?? minOnline;\r\n      return onlines;\r\n    }\r\n\r\n    const _participants = (chatInfo as ChatFull.chatFull).participants as ChatParticipants.chatParticipants;\r\n    if(_participants?.participants) {\r\n      return this.reduceParticipantsForOnlineCount(_participants.participants);\r\n    } else {\r\n      return minOnline;\r\n    }\r\n  }\r\n\r\n  private onUpdateUserTyping = (update: Update.updateUserTyping | Update.updateChatUserTyping | Update.updateChannelUserTyping) => {\r\n    const fromId = (update as Update.updateUserTyping).user_id ? \r\n      (update as Update.updateUserTyping).user_id.toPeerId() : \r\n      getPeerId((update as Update.updateChatUserTyping).from_id);\r\n    if(this.appPeersManager.peerId === fromId || update.action._ === 'speakingInGroupCallAction') {\r\n      return;\r\n    }\r\n    \r\n    const peerId = getPeerId(update);\r\n    const typings = this.typingsInPeer[peerId] ?? (this.typingsInPeer[peerId] = []);\r\n    let typing = typings.find((t) => t.userId === fromId);\r\n\r\n    const cancelAction = () => {\r\n      delete typing.timeout;\r\n      //typings.findAndSplice((t) => t === typing);\r\n      const idx = typings.indexOf(typing);\r\n      if(idx !== -1) {\r\n        typings.splice(idx, 1);\r\n      }\r\n\r\n      this.rootScope.dispatchEvent('peer_typings', {peerId, typings});\r\n\r\n      if(!typings.length) {\r\n        delete this.typingsInPeer[peerId];\r\n      }\r\n    };\r\n\r\n    if(typing && typing.timeout !== undefined) {\r\n      clearTimeout(typing.timeout);\r\n    }\r\n\r\n    if(update.action._ === 'sendMessageCancelAction') {\r\n      if(!typing) {\r\n        return;\r\n      }\r\n\r\n      cancelAction();\r\n      return;\r\n    }\r\n\r\n    if(!typing) {\r\n      typing = {\r\n        userId: fromId\r\n      };\r\n\r\n      typings.push(typing);\r\n    }\r\n\r\n    //console.log('updateChatUserTyping', update, typings);\r\n    \r\n    typing.action = update.action;\r\n    \r\n    const hasUser = this.appUsersManager.hasUser(fromId);\r\n    if(!hasUser) {\r\n      // let's load user here\r\n      if(update._ === 'updateChatUserTyping') {\r\n        if(update.chat_id && this.appChatsManager.hasChat(update.chat_id) && !this.appChatsManager.isChannel(update.chat_id)) {\r\n          Promise.resolve(this.getChatFull(update.chat_id)).then(() => {\r\n            if(typing.timeout !== undefined && this.appUsersManager.hasUser(fromId)) {\r\n              this.rootScope.dispatchEvent('peer_typings', {peerId, typings});\r\n            }\r\n          });\r\n        }\r\n      }\r\n      \r\n      //return;\r\n    } else {\r\n      this.appUsersManager.forceUserOnline(fromId);\r\n    }\r\n\r\n    typing.timeout = ctx.setTimeout(cancelAction, 6000);\r\n    if(hasUser) {\r\n      this.rootScope.dispatchEvent('peer_typings', {peerId, typings});\r\n    }\r\n  };\r\n\r\n  private onUpdatePeerBlocked = (update: Update.updatePeerBlocked) => {\r\n    const peerId = getPeerId(update.peer_id);\r\n    if(this.appPeersManager.isUser(peerId)) {\r\n      const userId = peerId.toUserId();\r\n      const userFull = this.usersFull[userId];\r\n      if(userFull) {\r\n        if(update.blocked) userFull.pFlags.blocked = true;\r\n        else delete userFull.pFlags.blocked;\r\n      }\r\n\r\n      this.rootScope.dispatchEvent('user_full_update', userId);\r\n    }\r\n\r\n    this.rootScope.dispatchEvent('peer_block', {peerId, blocked: update.blocked});\r\n  };\r\n\r\n  public getPeerTypings(peerId: PeerId) {\r\n    return this.typingsInPeer[peerId];\r\n  }\r\n}\r\n","/*\r\n * https://github.com/morethanwords/tweb\r\n * Copyright (C) 2019-2021 Eduard Kuzmenko\r\n * https://github.com/morethanwords/tweb/blob/master/LICENSE\r\n */\r\n\r\nimport { Awaited } from '../types';\r\n\r\nexport default function callbackifyAll<T extends readonly unknown[] | [], R extends any>(\r\n  values: T, \r\n  callback: (result: { -readonly [P in keyof T]: Awaited<T[P]> }) => R\r\n): PromiseLike<R> | R {\r\n  if(values.some((value) => value instanceof Promise)) {\r\n    return Promise.all(values).then(callback as any);\r\n  } else {\r\n    return callback(values as any);\r\n  }\r\n}\r\n","/*\r\n * https://github.com/morethanwords/tweb\r\n * Copyright (C) 2019-2021 Eduard Kuzmenko\r\n * https://github.com/morethanwords/tweb/blob/master/LICENSE\r\n */\r\n\r\nimport findAndSplice from \"../../helpers/array/findAndSplice\";\r\nimport assumeType from \"../../helpers/assumeType\";\r\nimport callbackify from \"../../helpers/callbackify\";\r\nimport callbackifyAll from \"../../helpers/callbackifyAll\";\r\nimport copy from \"../../helpers/object/copy\";\r\nimport { AvailableReaction, Message, MessagePeerReaction, MessagesAvailableReactions, Update, Updates } from \"../../layer\";\r\nimport { ReferenceContext } from \"../mtproto/referenceDatabase\";\r\nimport { AppManager } from \"./manager\";\r\nimport getServerMessageId from \"./utils/messageId/getServerMessageId\";\r\nimport getPeerId from \"./utils/peers/getPeerId\";\r\n\r\nconst SAVE_DOC_KEYS = [\r\n  'static_icon' as const,\r\n  'appear_animation' as const,\r\n  'select_animation' as const,\r\n  'activate_animation' as const,\r\n  'effect_animation' as const,\r\n  'around_animation' as const,\r\n  'center_icon' as const\r\n];\r\n\r\nconst REFERENCE_CONTEXT: ReferenceContext = {\r\n  type: 'reactions'\r\n};\r\n\r\nexport class AppReactionsManager extends AppManager {\r\n  private availableReactions: AvailableReaction[];\r\n  private sendReactionPromises: Map<string, Promise<any>>;\r\n  private lastSendingTimes: Map<string, number>;\r\n\r\n  protected after() {\r\n    this.rootScope.addEventListener('language_change', () => {\r\n      this.availableReactions = undefined;\r\n      this.getAvailableReactions();\r\n    });\r\n\r\n    this.sendReactionPromises = new Map();\r\n    this.lastSendingTimes = new Map();\r\n\r\n    this.rootScope.addEventListener('user_auth', () => {\r\n      setTimeout(() => {\r\n        Promise.resolve(this.getAvailableReactions()).then(async(availableReactions) => {\r\n          for(const availableReaction of availableReactions) {\r\n            await Promise.all([\r\n              availableReaction.around_animation && this.apiFileManager.downloadMedia({media: availableReaction.around_animation}),\r\n              availableReaction.static_icon && this.apiFileManager.downloadMedia({media: availableReaction.static_icon}),\r\n              availableReaction.appear_animation && this.apiFileManager.downloadMedia({media: availableReaction.appear_animation}),\r\n              availableReaction.center_icon && this.apiFileManager.downloadMedia({media: availableReaction.center_icon})\r\n            ]);\r\n          }\r\n        });\r\n      }, 7.5e3);\r\n    });\r\n  }\r\n\r\n  public getAvailableReactions() {\r\n    if(this.availableReactions) return this.availableReactions;\r\n    return this.apiManager.invokeApiSingleProcess({\r\n      method: 'messages.getAvailableReactions',\r\n      processResult: (messagesAvailableReactions) => {\r\n        assumeType<MessagesAvailableReactions.messagesAvailableReactions>(messagesAvailableReactions);\r\n\r\n        const availableReactions = this.availableReactions = messagesAvailableReactions.reactions;\r\n        for(const reaction of availableReactions) {\r\n          for(const key of SAVE_DOC_KEYS) {\r\n            if(!reaction[key]) {\r\n              continue;\r\n            }\r\n            \r\n            reaction[key] = this.appDocsManager.saveDoc(reaction[key], REFERENCE_CONTEXT);\r\n          }\r\n        }\r\n\r\n        return availableReactions;\r\n      },\r\n      params: {\r\n        hash: 0\r\n      }\r\n    });\r\n  }\r\n\r\n  public getActiveAvailableReactions() {\r\n    return callbackify(this.getAvailableReactions(), (availableReactions) => {\r\n      return availableReactions.filter((availableReaction) => !availableReaction.pFlags.inactive);\r\n    });\r\n  }\r\n\r\n  public getAvailableReactionsForPeer(peerId: PeerId) {\r\n    const activeAvailableReactions = this.getActiveAvailableReactions();\r\n    if(peerId.isUser()) {\r\n      return this.unshiftQuickReaction(activeAvailableReactions);\r\n    }\r\n\r\n    const chatFull = this.appProfileManager.getChatFull(peerId.toChatId());\r\n    return callbackifyAll([activeAvailableReactions, chatFull, this.getQuickReaction()], ([activeAvailableReactions, chatFull, quickReaction]) => {\r\n      const chatAvailableReactions = chatFull.available_reactions ?? [];\r\n\r\n      const filteredChatAvailableReactions = chatAvailableReactions.map((reaction) => {\r\n        return activeAvailableReactions.find((availableReaction) => availableReaction.reaction === reaction);\r\n      }).filter(Boolean);\r\n\r\n      return this.unshiftQuickReactionInner(filteredChatAvailableReactions, quickReaction);\r\n    });\r\n  }\r\n\r\n  private unshiftQuickReactionInner(availableReactions: AvailableReaction.availableReaction[], quickReaction: AvailableReaction.availableReaction) {\r\n    const availableReaction = findAndSplice(availableReactions, availableReaction => availableReaction.reaction === quickReaction.reaction);\r\n    if(availableReaction) {\r\n      availableReactions.unshift(availableReaction);\r\n    }\r\n\r\n    return availableReactions;\r\n  }\r\n\r\n  private unshiftQuickReaction(\r\n    availableReactions: AvailableReaction.availableReaction[] | PromiseLike<AvailableReaction.availableReaction[]>, \r\n    quickReaction: ReturnType<AppReactionsManager['getQuickReaction']> = this.getQuickReaction()\r\n  ) {\r\n    return callbackifyAll([\r\n      availableReactions,\r\n      quickReaction\r\n    ], ([availableReactions, quickReaction]) => {\r\n      return this.unshiftQuickReactionInner(availableReactions, quickReaction);\r\n    });\r\n  }\r\n\r\n  public getAvailableReactionsByMessage(message: Message.message) {\r\n    if(!message) return [];\r\n    const peerId = (message.fwd_from?.channel_post && this.appPeersManager.isMegagroup(message.peerId) && message.fwdFromId) || message.peerId;\r\n    return this.getAvailableReactionsForPeer(peerId);\r\n  }\r\n\r\n  public isReactionActive(reaction: string) {\r\n    if(!this.availableReactions) return false;\r\n    return !!this.availableReactions.find((availableReaction) => availableReaction.reaction === reaction);\r\n  }\r\n\r\n  public getQuickReaction() {\r\n    return callbackifyAll([\r\n      this.apiManager.getAppConfig(),\r\n      this.getAvailableReactions()\r\n    ], ([appConfig, availableReactions]) => {\r\n      return availableReactions.find((reaction) => reaction.reaction === appConfig.reactions_default);\r\n    });\r\n  }\r\n\r\n  public getReactionCached(reaction: string) {\r\n    return this.availableReactions.find((availableReaction) => availableReaction.reaction === reaction);\r\n  }\r\n\r\n  public getReaction(reaction: string) {\r\n    return callbackify(this.getAvailableReactions(), () => {\r\n      return this.getReactionCached(reaction);\r\n    });\r\n  }\r\n\r\n  public getMessagesReactions(peerId: PeerId, mids: number[]) {\r\n    return this.apiManager.invokeApiSingleProcess({\r\n      method: 'messages.getMessagesReactions',\r\n      params: {\r\n        id: mids.map((mid) => getServerMessageId(mid)),\r\n        peer: this.appPeersManager.getInputPeerById(peerId)\r\n      },\r\n      processResult: (updates) => {\r\n        this.apiUpdatesManager.processUpdateMessage(updates);\r\n\r\n        // const update = (updates as Updates.updates).updates.find((update) => update._ === 'updateMessageReactions') as Update.updateMessageReactions;\r\n        // return update.reactions;\r\n      }\r\n    });\r\n  }\r\n\r\n  public getMessageReactionsList(peerId: PeerId, mid: number, limit: number, reaction?: string, offset?: string) {\r\n    return this.apiManager.invokeApiSingleProcess({\r\n      method: 'messages.getMessageReactionsList',\r\n      params: {\r\n        peer: this.appPeersManager.getInputPeerById(peerId),\r\n        id: getServerMessageId(mid),\r\n        limit,\r\n        reaction,\r\n        offset\r\n      },\r\n      processResult: (messageReactionsList) => {\r\n        this.appUsersManager.saveApiUsers(messageReactionsList.users);\r\n        return messageReactionsList;\r\n      }\r\n    });\r\n  }\r\n\r\n  public setDefaultReaction(reaction: string) {\r\n    return this.apiManager.invokeApi('messages.setDefaultReaction', {reaction}).then(async(value) => {\r\n      if(value) {\r\n        const appConfig = await this.apiManager.getAppConfig();\r\n        if(appConfig) {\r\n          appConfig.reactions_default = reaction;\r\n        }/*  else { // if no config or loading it - overwrite\r\n          this.apiManager.getAppConfig(true);\r\n        } */\r\n\r\n        this.rootScope.dispatchEvent('quick_reaction', reaction);\r\n      }\r\n\r\n      return value;\r\n    });\r\n  }\r\n\r\n  public sendReaction(message: Message.message, reaction?: string, onlyLocal?: boolean) {\r\n    const lastSendingTimeKey = message.peerId + '_' + message.mid;\r\n    const lastSendingTime = this.lastSendingTimes.get(lastSendingTimeKey);\r\n    if(lastSendingTime) {\r\n      return;\r\n    } else {\r\n      this.lastSendingTimes.set(lastSendingTimeKey, Date.now());\r\n      setTimeout(() => {\r\n        this.lastSendingTimes.delete(lastSendingTimeKey);\r\n      }, 333);\r\n    }\r\n\r\n    const {peerId, mid} = message;\r\n    const myPeerId = this.appPeersManager.peerId;\r\n\r\n    let reactions = onlyLocal ? message.reactions : copy(message.reactions);\r\n    let chosenReactionIdx = reactions ? reactions.results.findIndex((reactionCount) => reactionCount.pFlags.chosen) : -1;\r\n    let chosenReaction = chosenReactionIdx !== -1 && reactions.results[chosenReactionIdx];\r\n    if(chosenReaction) { // clear current reaction\r\n      --chosenReaction.count;\r\n      delete chosenReaction.pFlags.chosen;\r\n\r\n      if(reaction === chosenReaction.reaction) {\r\n        reaction = undefined;\r\n      }\r\n\r\n      if(!chosenReaction.count) {\r\n        reactions.results.splice(chosenReactionIdx, 1);\r\n      }/*  else {\r\n        insertInDescendSortedArray(reactions.results, chosenReaction, 'count', chosenReactionIdx);\r\n      } */\r\n\r\n      if(reactions.recent_reactions) {\r\n        findAndSplice(reactions.recent_reactions, (recentReaction) => getPeerId(recentReaction.peer_id) === myPeerId);\r\n      }\r\n\r\n      if(!reactions.results.length) {\r\n        reactions = undefined;\r\n      }\r\n    }\r\n\r\n    if(reaction) {\r\n      if(!reactions) {\r\n        reactions/*  = message.reactions */ = {\r\n          _: 'messageReactions',\r\n          results: [],\r\n          pFlags: {}\r\n        };\r\n\r\n        if(!this.appPeersManager.isBroadcast(message.peerId)) {\r\n          reactions.pFlags.can_see_list = true;\r\n        }\r\n      }\r\n\r\n      let reactionCountIdx = reactions.results.findIndex((reactionCount) => reactionCount.reaction === reaction);\r\n      let reactionCount = reactionCountIdx !== -1 && reactions.results[reactionCountIdx];\r\n      if(!reactionCount) {\r\n        reactionCount = {\r\n          _: 'reactionCount',\r\n          count: 0,\r\n          reaction,\r\n          pFlags: {}\r\n        };\r\n\r\n        reactionCountIdx = reactions.results.push(reactionCount) - 1;\r\n      }\r\n\r\n      ++reactionCount.count;\r\n      reactionCount.pFlags.chosen = true;\r\n\r\n      if(!reactions.recent_reactions && reactions.pFlags.can_see_list) {\r\n        reactions.recent_reactions = [];\r\n      }\r\n\r\n      if(reactions.recent_reactions) {\r\n        const userReaction: MessagePeerReaction = {\r\n          _: 'messagePeerReaction',\r\n          reaction,\r\n          peer_id: this.appPeersManager.getOutputPeer(myPeerId)\r\n        };\r\n\r\n        if(!this.appPeersManager.isMegagroup(peerId)) {\r\n          reactions.recent_reactions.push(userReaction);\r\n          reactions.recent_reactions = reactions.recent_reactions.slice(-3);\r\n        } else {\r\n          reactions.recent_reactions.unshift(userReaction);\r\n          reactions.recent_reactions = reactions.recent_reactions.slice(0, 3);\r\n        }\r\n      }\r\n\r\n      // insertInDescendSortedArray(reactions.results, reactionCount, 'count', reactionCountIdx);\r\n    }\r\n\r\n    const availableReactions = this.availableReactions;\r\n    if(reactions && availableReactions?.length) {\r\n      const indexes: Map<string, number> = new Map();\r\n      availableReactions.forEach((availableReaction, idx) => {\r\n        indexes.set(availableReaction.reaction, idx);\r\n      });\r\n\r\n      reactions.results.sort((a, b) => {\r\n        return (b.count - a.count) || (indexes.get(a.reaction) - indexes.get(b.reaction));\r\n      });\r\n    }\r\n\r\n    if(onlyLocal) {\r\n      message.reactions = reactions;\r\n      this.rootScope.dispatchEvent('messages_reactions', [{message, changedResults: []}]);\r\n      return Promise.resolve();\r\n    }\r\n\r\n    this.apiUpdatesManager.processLocalUpdate({\r\n      _: 'updateMessageReactions',\r\n      peer: message.peer_id,\r\n      msg_id: message.id,\r\n      reactions: reactions,\r\n      local: true\r\n    });\r\n\r\n    const promiseKey = [peerId, mid].join('-');\r\n    const msgId = getServerMessageId(mid);\r\n    const promise = this.apiManager.invokeApi('messages.sendReaction', {\r\n      peer: this.appPeersManager.getInputPeerById(peerId),\r\n      msg_id: msgId,\r\n      reaction\r\n    }).then((updates) => {\r\n      assumeType<Updates.updates>(updates);\r\n      \r\n      const editMessageUpdateIdx = updates.updates.findIndex((update) => update._ === 'updateEditMessage' || update._ === 'updateEditChannelMessage');\r\n      if(editMessageUpdateIdx !== -1) {\r\n        const editMessageUpdate = updates.updates[editMessageUpdateIdx] as Update.updateEditMessage | Update.updateEditChannelMessage;\r\n        updates.updates[editMessageUpdateIdx] = {\r\n          _: 'updateMessageReactions',\r\n          msg_id: msgId,\r\n          peer: this.appPeersManager.getOutputPeer(peerId),\r\n          reactions: (editMessageUpdate.message as Message.message).reactions,\r\n          pts: editMessageUpdate.pts,\r\n          pts_count: editMessageUpdate.pts_count\r\n        };\r\n      }\r\n\r\n      this.apiUpdatesManager.processUpdateMessage(updates);\r\n    }).catch((err) => {\r\n      if(err.type === 'REACTION_INVALID' && this.sendReactionPromises.get(promiseKey) === promise) {\r\n        this.sendReaction(message, chosenReaction?.reaction, true);\r\n      }\r\n    }).finally(() => {\r\n      if(this.sendReactionPromises.get(promiseKey) === promise) {\r\n        this.sendReactionPromises.delete(promiseKey);\r\n      }\r\n    });\r\n    \r\n    this.sendReactionPromises.set(promiseKey, promise);\r\n    return promise;\r\n  }\r\n}\r\n","/*\r\n * https://github.com/morethanwords/tweb\r\n * Copyright (C) 2019-2021 Eduard Kuzmenko\r\n * https://github.com/morethanwords/tweb/blob/master/LICENSE\r\n */\r\n\r\nimport type { MyDocument } from './appDocsManager';\r\nimport { Document, InputFileLocation, InputStickerSet, MessagesAllStickers, MessagesFeaturedStickers, MessagesFoundStickerSets, MessagesRecentStickers, MessagesStickers, MessagesStickerSet, PhotoSize, StickerPack, StickerSet, StickerSetCovered } from '../../layer';\r\nimport { Modify } from '../../types';\r\nimport AppStorage from '../storage';\r\nimport DATABASE_STATE from '../../config/databases/state';\r\nimport assumeType from '../../helpers/assumeType';\r\nimport fixBase64String from '../../helpers/fixBase64String';\r\nimport forEachReverse from '../../helpers/array/forEachReverse';\r\nimport findAndSplice from '../../helpers/array/findAndSplice';\r\nimport { AppManager } from './manager';\r\nimport fixEmoji from '../richTextProcessor/fixEmoji';\r\nimport ctx from '../../environment/ctx';\r\nimport { getEnvironment } from '../../environment/utils';\r\n\r\nconst CACHE_TIME = 3600e3;\r\n\r\nconst EMOJI_SET_LOCAL_ID = 'emoji';\r\nconst EMOJI_ANIMATIONS_SET_LOCAL_ID = 'emojiAnimations';\r\nconst LOCAL_IDS_SET = new Set([\r\n  EMOJI_SET_LOCAL_ID,\r\n  EMOJI_ANIMATIONS_SET_LOCAL_ID\r\n]);\r\n\r\n// let TEST_FILE_REFERENCE_REFRESH = true;\r\n\r\nexport type MyStickerSetInput = {\r\n  id: StickerSet.stickerSet['id'],\r\n  access_hash?: StickerSet.stickerSet['access_hash']\r\n};\r\n\r\nexport type MyMessagesStickerSet = MessagesStickerSet.messagesStickerSet;\r\n\r\nexport class AppStickersManager extends AppManager {\r\n  private storage = new AppStorage<Record<Long, MyMessagesStickerSet>, typeof DATABASE_STATE>(DATABASE_STATE, 'stickerSets');\r\n\r\n  private getStickerSetPromises: {[setId: Long]: Promise<MyMessagesStickerSet>};\r\n  private getStickersByEmoticonsPromises: {[emoticon: string]: Promise<Document[]>};\r\n\r\n  private greetingStickers: Document.document[];\r\n  private getGreetingStickersTimeout: number;\r\n  private getGreetingStickersPromise: Promise<void>;\r\n\r\n  private sounds: Record<string, MyDocument>;\r\n  private getAnimatedEmojiSoundsPromise: Promise<void>;\r\n  \r\n  protected after() {\r\n    this.getStickerSetPromises = {};\r\n    this.getStickersByEmoticonsPromises = {};\r\n    this.sounds = {};\r\n\r\n    this.rootScope.addEventListener('user_auth', () => {\r\n      setTimeout(() => {\r\n        this.getAnimatedEmojiStickerSet();\r\n      }, 1000);\r\n\r\n      if(!this.getGreetingStickersPromise && this.getGreetingStickersTimeout === undefined) {\r\n        this.getGreetingStickersTimeout = ctx.setTimeout(() => {\r\n          this.getGreetingStickersTimeout = undefined;\r\n          this.getGreetingSticker(true);\r\n        }, 5000);\r\n      }\r\n    });\r\n\r\n    this.apiUpdatesManager.addMultipleEventsListeners({\r\n      updateNewStickerSet: (update) => {\r\n        const stickerSet = update.stickerset as MyMessagesStickerSet;\r\n        this.saveStickerSet(stickerSet, stickerSet.set.id);\r\n        this.rootScope.dispatchEvent('stickers_installed', stickerSet.set);\r\n      },\r\n\r\n      updateRecentStickers: () => {\r\n        this.getRecentStickers().then(({stickers}) => {\r\n          this.rootScope.dispatchEvent('stickers_recent', stickers as MyDocument[]);\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  public getGreetingSticker(justPreload = false) {\r\n    if(this.getGreetingStickersTimeout) {\r\n      clearTimeout(this.getGreetingStickersTimeout);\r\n      this.getGreetingStickersTimeout = undefined;\r\n    }\r\n\r\n    if(!this.getGreetingStickersPromise) {\r\n      this.getGreetingStickersPromise = this.getStickersByEmoticon('👋⭐️', false).then((docs) => {\r\n        if(!docs.length) throw 'NO_STICKERS';\r\n        this.greetingStickers = docs.slice() as Document.document[];\r\n        this.greetingStickers.sort((a, b) => Math.random() - Math.random());\r\n      });\r\n    }\r\n    \r\n    return this.getGreetingStickersPromise.then(() => {\r\n      let doc: Document.document;\r\n      if(!justPreload) {\r\n        doc = this.greetingStickers.shift();\r\n        this.greetingStickers.push(doc);\r\n      }\r\n\r\n      this.apiFileManager.downloadMedia({media: this.greetingStickers[0]}); // preload next sticker\r\n\r\n      return doc;\r\n    });\r\n  }\r\n\r\n  private saveStickers(docs: Document[]) {\r\n    forEachReverse(docs, (doc, idx) => {\r\n      doc = this.appDocsManager.saveDoc(doc);\r\n\r\n      if(!doc) docs.splice(idx, 1);\r\n      else docs[idx] = doc;\r\n    });\r\n  }\r\n\r\n  public async getStickerSet(set: MyStickerSetInput, params: Partial<{\r\n    overwrite: boolean,\r\n    useCache: boolean,\r\n    saveById: boolean\r\n  }> = {}): Promise<MyMessagesStickerSet> {\r\n    const id = set.id;\r\n    if(this.getStickerSetPromises[id]) {\r\n      return this.getStickerSetPromises[id];\r\n    }\r\n\r\n    return this.getStickerSetPromises[id] = new Promise(async(resolve) => {\r\n      if(!params.overwrite) {\r\n        // const perf = performance.now();\r\n        const cachedSet = await this.storage.get(id);\r\n        if(cachedSet && cachedSet.documents?.length && ((Date.now() - cachedSet.refreshTime) < CACHE_TIME || params.useCache)) {\r\n          this.saveStickers(cachedSet.documents);\r\n          resolve(cachedSet);\r\n          delete this.getStickerSetPromises[id];\r\n          // console.log('get sticker set from cache time', id, performance.now() - perf);\r\n          return;\r\n        }\r\n      }\r\n\r\n      try {\r\n        const stickerSet = await this.apiManager.invokeApi('messages.getStickerSet', {\r\n          stickerset: this.getStickerSetInput(set),\r\n          hash: 0\r\n        }) as MyMessagesStickerSet;\r\n  \r\n        const saveById = params.saveById ? id : stickerSet.set.id;\r\n        this.saveStickerSet(stickerSet, saveById);\r\n  \r\n        resolve(stickerSet);\r\n      } catch(err) {\r\n        resolve(null);\r\n      }\r\n      \r\n      delete this.getStickerSetPromises[id];\r\n    });\r\n  }\r\n\r\n  public getAnimatedEmojiStickerSet() {\r\n    return Promise.all([\r\n      this.getStickerSet({id: EMOJI_SET_LOCAL_ID}, {saveById: true}),\r\n      this.getStickerSet({id: EMOJI_ANIMATIONS_SET_LOCAL_ID}, {saveById: true}),\r\n      this.getAnimatedEmojiSounds()\r\n    ]).then(([emoji, animations]) => {\r\n      return {emoji, animations};\r\n    });\r\n  }\r\n\r\n  public getAnimatedEmojiSounds(overwrite?: boolean) {\r\n    if(this.getAnimatedEmojiSoundsPromise && !overwrite) return this.getAnimatedEmojiSoundsPromise;\r\n    const promise = this.getAnimatedEmojiSoundsPromise = Promise.all([\r\n      this.apiManager.getAppConfig(overwrite),\r\n      this.apiManager.getConfig()\r\n    ]).then(([appConfig, config]) => {\r\n      if(this.getAnimatedEmojiSoundsPromise !== promise) {\r\n        return;\r\n      }\r\n\r\n      for(const emoji in appConfig.emojies_sounds) {\r\n        const sound = appConfig.emojies_sounds[emoji];\r\n        const bytesStr = atob(fixBase64String(sound.file_reference_base64, false));\r\n        const bytes = new Uint8Array(bytesStr.length);\r\n        for(let i = 0, length = bytes.length; i < length; ++i) {\r\n          bytes[i] = bytesStr[i].charCodeAt(0);\r\n        }\r\n\r\n        // if(TEST_FILE_REFERENCE_REFRESH) {\r\n        //   bytes[0] = bytes[1] = bytes[2] = bytes[3] = bytes[4] = 0;\r\n        //   sound.access_hash += '999';\r\n        // }\r\n        \r\n        const doc = this.appDocsManager.saveDoc({\r\n          _: 'document',\r\n          pFlags: {},\r\n          flags: 0,\r\n          id: sound.id,\r\n          access_hash: sound.access_hash,\r\n          attributes: [{\r\n            _: 'documentAttributeAudio',\r\n            duration: 1,\r\n            pFlags: {\r\n              voice: true\r\n            }\r\n          }],\r\n          date: 0,\r\n          dc_id: config.this_dc,\r\n          file_reference: bytes,\r\n          mime_type: 'audio/ogg',\r\n          // size: 101010 // test loading everytime\r\n        }, {\r\n          type: 'emojiesSounds'\r\n        });\r\n\r\n        this.sounds[emoji] = doc;\r\n      }\r\n\r\n      // if(TEST_FILE_REFERENCE_REFRESH) {\r\n      //   TEST_FILE_REFERENCE_REFRESH = false;\r\n      // }\r\n    });\r\n\r\n    return promise;\r\n  }\r\n\r\n  public async getRecentStickers(): Promise<Modify<MessagesRecentStickers.messagesRecentStickers, {\r\n    stickers: Document[]\r\n  }>> {\r\n    const res = await this.apiManager.invokeApiHashable({\r\n      method: 'messages.getRecentStickers',\r\n      processResult: (res) => {\r\n        assumeType<MessagesRecentStickers.messagesRecentStickers>(res);\r\n\r\n        this.saveStickers(res.stickers);\r\n        return res;\r\n      }\r\n    });\r\n\r\n    return res;\r\n  }\r\n\r\n  private cleanEmoji(emoji: string) {\r\n    return emoji.replace(/\\ufe0f/g, '').replace(/🏻|🏼|🏽|🏾|🏿/g, '');\r\n  }\r\n\r\n  public getAnimatedEmojiSticker(emoji: string, isAnimation?: boolean) {\r\n    const id = isAnimation ? EMOJI_ANIMATIONS_SET_LOCAL_ID : EMOJI_SET_LOCAL_ID;\r\n    const stickerSet = this.storage.getFromCache(id);\r\n    // const stickerSet = await this.getStickerSet({id});\r\n    if(!stickerSet || !stickerSet.documents) return;\r\n\r\n    if(isAnimation) {\r\n      if(['🧡', '💛', '💚', '💙', '💜', '🖤', '🤍', '🤎'].includes(emoji)) {\r\n        emoji = '❤️';\r\n      }\r\n    }\r\n\r\n    emoji = this.cleanEmoji(emoji);\r\n    const pack = stickerSet.packs.find((p) => p.emoticon === emoji);\r\n    return pack ? this.appDocsManager.getDoc(pack.documents[0]) : undefined;\r\n  }\r\n\r\n  public getAnimatedEmojiSoundDocument(emoji: string) {\r\n    return this.sounds[this.cleanEmoji(emoji)];\r\n  }\r\n\r\n  public preloadAnimatedEmojiSticker(emoji: string) {\r\n    const preloadEmojiPromise = this.getAnimatedEmojiStickerSet().then(() => {\r\n      return this.getAnimatedEmojiSticker(emoji);\r\n    });\r\n    \r\n    return Promise.all([\r\n      preloadEmojiPromise,\r\n      this.preloadAnimatedEmojiStickerAnimation(emoji)\r\n    ]).then(([doc, a]) => {\r\n      return {\r\n        doc: doc,\r\n        animation: a?.doc,\r\n        sound: a?.sound\r\n      };\r\n    });\r\n  }\r\n\r\n  public preloadAnimatedEmojiStickerAnimation(emoji: string) {\r\n    return this.getAnimatedEmojiStickerSet().then(() => {\r\n      return this.getAnimatedEmojiSticker(emoji, true);\r\n    }).then((doc) => {\r\n      if(!doc) {\r\n        return;\r\n      }\r\n      \r\n      const sound = this.getAnimatedEmojiSoundDocument(emoji);\r\n      return Promise.all([\r\n        this.apiFileManager.downloadMedia({media: doc}),\r\n        sound ? this.apiFileManager.downloadMedia({media: sound}) : undefined\r\n      ]).then(() => {\r\n        return {doc, sound};\r\n      });\r\n    });\r\n  }\r\n  \r\n  private saveStickerSet(res: Omit<MessagesStickerSet.messagesStickerSet, '_'>, id: DocId) {\r\n    //console.log('stickers save set', res);w\r\n\r\n    const newSet: MessagesStickerSet = {\r\n      _: 'messages.stickerSet',\r\n      set: res.set,\r\n      packs: res.packs,\r\n      documents: res.documents as Document[]\r\n    };\r\n    \r\n    let stickerSet = this.storage.getFromCache(id);\r\n    if(stickerSet) {\r\n      Object.assign(stickerSet, newSet);\r\n    } else {\r\n      stickerSet = this.storage.setToCache(id, newSet);\r\n    }\r\n\r\n    this.saveStickers(res.documents);\r\n    \r\n    //console.log('stickers wrote', this.stickerSets);\r\n    const needSave = stickerSet.set.installed_date || LOCAL_IDS_SET.has(id as any);\r\n    stickerSet.refreshTime = Date.now();\r\n    this.storage.set({[id]: stickerSet}, !needSave);\r\n  }\r\n\r\n  public getStickerSetThumbDownloadOptions(stickerSet: StickerSet.stickerSet) {\r\n    const thumb = stickerSet.thumbs.find((thumb) => thumb._ === 'photoSize') as PhotoSize.photoSize;\r\n    const dcId = stickerSet.thumb_dc_id;\r\n\r\n    const isAnimated = stickerSet.pFlags?.animated;\r\n\r\n    const input: InputFileLocation.inputStickerSetThumb = {\r\n      _: 'inputStickerSetThumb',\r\n      stickerset: this.getStickerSetInput(stickerSet),\r\n      thumb_version: stickerSet.thumb_version\r\n    };\r\n\r\n    return {dcId, location: input, size: thumb.size, mimeType: isAnimated ? 'application/x-tgsticker' : 'image/webp'};\r\n  }\r\n\r\n  /* public getStickerSetThumbURL(stickerSet: MTStickerSet) {\r\n    const thumb = stickerSet.thumb;\r\n    const dcId = stickerSet.thumb_dc_id;\r\n\r\n    const isAnimated = stickerSet.pFlags?.animated;\r\n\r\n    const input: inputStickerSetThumb = {\r\n      _: 'inputStickerSetThumb',\r\n      stickerset: this.getStickerSetInput(stickerSet),\r\n      volume_id: thumb.location.volume_id,\r\n      local_id: thumb.location.local_id\r\n    };\r\n\r\n    const url = getFileURL('document', this.getStickerSetThumbDownloadOptions(stickerSet));\r\n    return url;\r\n\r\n    //return promise;\r\n  } */\r\n\r\n  public getStickerSetInput(set: MyStickerSetInput): InputStickerSet {\r\n    if(set.id === EMOJI_SET_LOCAL_ID) {\r\n      return {\r\n        _: 'inputStickerSetAnimatedEmoji'\r\n      };\r\n    } else if(set.id === EMOJI_ANIMATIONS_SET_LOCAL_ID) {\r\n      return {\r\n        _: 'inputStickerSetAnimatedEmojiAnimations'\r\n      };\r\n    } else if(!set.access_hash) {\r\n      return {\r\n        _: 'inputStickerSetShortName',\r\n        short_name: '' + set.id\r\n      };\r\n    } else {\r\n      return {\r\n        _: 'inputStickerSetID',\r\n        id: set.id,\r\n        access_hash: set.access_hash\r\n      };\r\n    }\r\n  }\r\n\r\n  public async getFeaturedStickers() {\r\n    const res = await this.apiManager.invokeApiHashable({\r\n      method: 'messages.getFeaturedStickers',\r\n      processResult: (res) => {\r\n        assumeType<MessagesFeaturedStickers.messagesFeaturedStickers>(res);\r\n\r\n        forEachReverse(res.sets, (covered, idx, arr) => {\r\n          if(covered.set.pFlags.videos && !getEnvironment().IS_WEBM_SUPPORTED) {\r\n            arr.splice(idx, 1);\r\n          }\r\n        });\r\n\r\n        res.sets.forEach((covered) => {\r\n          this.saveStickerSet({set: covered.set, documents: [], packs: []}, covered.set.id);\r\n        });\r\n\r\n        return res;\r\n      }\r\n    });\r\n\r\n    return res.sets;\r\n  }\r\n\r\n  public async toggleStickerSet(set: StickerSet.stickerSet) {\r\n    set = this.storage.getFromCache(set.id).set;\r\n\r\n    if(set.installed_date) {\r\n      const res = await this.apiManager.invokeApi('messages.uninstallStickerSet', {\r\n        stickerset: this.getStickerSetInput(set)\r\n      });\r\n\r\n      if(res) {\r\n        delete set.installed_date;\r\n        this.rootScope.dispatchEvent('stickers_deleted', set);\r\n        this.storage.delete(set.id, true);\r\n        return true;\r\n      }\r\n    } else {\r\n      const res = await this.apiManager.invokeApi('messages.installStickerSet', {\r\n        stickerset: this.getStickerSetInput(set),\r\n        archived: false\r\n      });\r\n\r\n      if(res) {\r\n        set.installed_date = Date.now() / 1000 | 0;\r\n        this.rootScope.dispatchEvent('stickers_installed', set);\r\n        return true;\r\n      }\r\n    }\r\n\r\n    return false;\r\n  }\r\n\r\n  public async searchStickerSets(query: string, excludeFeatured = true) {\r\n    const flags = excludeFeatured ? 1 : 0;\r\n    const res = await this.apiManager.invokeApiHashable({\r\n      method: 'messages.searchStickerSets', \r\n      params: {\r\n        flags,\r\n        exclude_featured: excludeFeatured || undefined,\r\n        q: query\r\n      },\r\n      processResult: (res) => {\r\n        assumeType<MessagesFoundStickerSets.messagesFoundStickerSets>(res);\r\n\r\n        forEachReverse(res.sets, (covered, idx, arr) => {\r\n          if(covered.set.pFlags.videos && !getEnvironment().IS_WEBM_SUPPORTED) {\r\n            arr.splice(idx, 1);\r\n          }\r\n        });\r\n\r\n        res.sets.forEach((covered) => {\r\n          this.saveStickerSet({set: covered.set, documents: [], packs: []}, covered.set.id);\r\n        });\r\n\r\n        return res;\r\n      }\r\n    });\r\n\r\n    const foundSaved: StickerSetCovered[] = [];\r\n    const cache = this.storage.getCache();\r\n    for(let id in cache) {\r\n      const {set} = cache[id];\r\n\r\n      if(set.title.toLowerCase().includes(query.toLowerCase()) && !res.sets.find((c) => c.set.id === set.id)) {\r\n        foundSaved.push({_: 'stickerSetCovered', set, cover: null});\r\n      }\r\n    }\r\n\r\n    return res.sets.concat(foundSaved);\r\n  }\r\n\r\n  public getAllStickers() {\r\n    return this.apiManager.invokeApiHashable({\r\n      method: 'messages.getAllStickers', \r\n      processResult: (allStickers) => {\r\n        assumeType<MessagesAllStickers.messagesAllStickers>(allStickers);\r\n\r\n        forEachReverse(allStickers.sets, (stickerSet, idx, arr) => {\r\n          if(stickerSet.pFlags.videos && !getEnvironment().IS_WEBM_SUPPORTED) {\r\n            arr.splice(idx, 1);\r\n          }\r\n        });\r\n\r\n        return allStickers;\r\n      }\r\n    });\r\n  }\r\n\r\n  public preloadStickerSets() {\r\n    return this.getAllStickers().then((allStickers) => {\r\n      return Promise.all((allStickers as MessagesAllStickers.messagesAllStickers).sets.map((set) => this.getStickerSet(set, {useCache: true})));\r\n    });\r\n  }\r\n\r\n  // TODO: detect \"🤷\" by \"🤷‍♂️\"\r\n  public getStickersByEmoticon(emoticon: string, includeOurStickers = true) {\r\n    emoticon = fixEmoji(emoticon);\r\n    if(this.getStickersByEmoticonsPromises[emoticon]) return this.getStickersByEmoticonsPromises[emoticon];\r\n\r\n    return this.getStickersByEmoticonsPromises[emoticon] = Promise.all([\r\n      this.apiManager.invokeApiHashable({\r\n        method: 'messages.getStickers', \r\n        params: {\r\n          emoticon\r\n        },\r\n        processResult: (stickers) => stickers\r\n      }),\r\n      includeOurStickers ? this.preloadStickerSets() : [],\r\n      includeOurStickers ? this.getRecentStickers() : undefined\r\n    ]).then(([messagesStickers, installedSets, recentStickers]) => {\r\n      const foundStickers = (messagesStickers as MessagesStickers.messagesStickers).stickers.map((sticker) => this.appDocsManager.saveDoc(sticker));\r\n      const cachedStickersAnimated: Document.document[] = [], cachedStickersStatic: Document.document[] = [];\r\n\r\n      //console.log('getStickersByEmoticon', messagesStickers, installedSets, recentStickers);\r\n\r\n      const iteratePacks = (packs: StickerPack.stickerPack[]) => {\r\n        for(const pack of packs) {\r\n          const packEmoticon = fixEmoji(pack.emoticon);\r\n          if(packEmoticon.includes(emoticon)) {\r\n            for(const docId of pack.documents) {\r\n              const doc = this.appDocsManager.getDoc(docId);\r\n              (doc.animated ? cachedStickersAnimated : cachedStickersStatic).push(doc);\r\n            }\r\n          }\r\n        }\r\n      };\r\n\r\n      if(recentStickers) {\r\n        iteratePacks(recentStickers.packs);\r\n        const stickers = recentStickers.stickers;\r\n        [cachedStickersAnimated, cachedStickersStatic].forEach((s) => {\r\n          s.sort((a, b) => stickers.indexOf(a) - stickers.indexOf(b));\r\n        });\r\n      }\r\n\r\n      for(const set of installedSets) {\r\n        iteratePacks(set.packs);\r\n      }\r\n\r\n      /* const entities = parseEntities(emoticon);\r\n      if(entities.length === 1) {\r\n        [cachedStickersAnimated, cachedStickersStatic].forEach((s) => {\r\n          forEachReverse(s, (doc, idx) => {\r\n            const docEmoticon = fixEmoji(doc.stickerEmojiRaw);\r\n            if(docEmoticon !== emoticon) {\r\n              s.splice(idx, 1);\r\n            }\r\n          });\r\n        });\r\n      } */\r\n\r\n      const stickers = [...new Set(cachedStickersAnimated.concat(cachedStickersStatic, foundStickers))]/* .filter((doc) => !doc.animated) */;\r\n\r\n      forEachReverse(stickers, (sticker, idx, arr) => {\r\n        if(sticker.sticker === 3 && !getEnvironment().IS_WEBM_SUPPORTED) {\r\n          arr.splice(idx, 1);\r\n        }\r\n      });\r\n\r\n      return stickers;\r\n    });\r\n  }\r\n\r\n  public pushRecentSticker(docId: DocId) {\r\n    const doc = this.appDocsManager.getDoc(docId);\r\n    const docEmoticon = fixEmoji(doc.stickerEmojiRaw);\r\n    for(const emoticon in this.getStickersByEmoticonsPromises) {\r\n      const promise = this.getStickersByEmoticonsPromises[emoticon];\r\n      promise.then((stickers) => {\r\n        const _doc = findAndSplice(stickers, _doc => _doc.id === doc.id);\r\n        if(_doc) {\r\n          stickers.unshift(_doc);\r\n        } else if(emoticon.includes(docEmoticon)) {\r\n          stickers.unshift(doc);\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  public clearRecentStickers() {\r\n    this.rootScope.dispatchEvent('stickers_recent', []);\r\n    return this.apiManager.invokeApi('messages.clearRecentStickers');\r\n  }\r\n}\r\n","export default function fixBase64String(str: string, toUrl: boolean) {\r\n  if(toUrl) {\r\n    return str.replace(/\\+/g, '-').replace(/\\//g, '_').replace(/\\=+$/, '');\r\n  } else {\r\n    return str.replace(/-/g, '+').replace(/_/g, '/');\r\n  }\r\n}\r\n","/*\r\n * https://github.com/morethanwords/tweb\r\n * Copyright (C) 2019-2021 Eduard Kuzmenko\r\n * https://github.com/morethanwords/tweb/blob/master/LICENSE\r\n * \r\n * Originally from:\r\n * https://github.com/zhukov/webogram\r\n * Copyright (C) 2014 Igor Zhukov <igor.beatle@gmail.com>\r\n * https://github.com/zhukov/webogram/blob/master/LICENSE\r\n */\r\n\r\nexport default function cleanUsername(username: string) {\r\n  return username && username.toLowerCase() || '';\r\n}\r\n","/*\r\n * https://github.com/morethanwords/tweb\r\n * Copyright (C) 2019-2021 Eduard Kuzmenko\r\n * https://github.com/morethanwords/tweb/blob/master/LICENSE\r\n * \r\n * Originally from:\r\n * https://github.com/zhukov/webogram\r\n * Copyright (C) 2014 Igor Zhukov <igor.beatle@gmail.com>\r\n * https://github.com/zhukov/webogram/blob/master/LICENSE\r\n */\r\n\r\nimport filterUnique from \"../../helpers/array/filterUnique\";\r\nimport indexOfAndSplice from \"../../helpers/array/indexOfAndSplice\";\r\nimport deferredPromise, { CancellablePromise } from \"../../helpers/cancellablePromise\";\r\nimport cleanSearchText from \"../../helpers/cleanSearchText\";\r\nimport cleanUsername from \"../../helpers/cleanUsername\";\r\nimport tsNow from \"../../helpers/tsNow\";\r\nimport isObject from \"../../helpers/object/isObject\";\r\nimport safeReplaceObject from \"../../helpers/object/safeReplaceObject\";\r\nimport { isRestricted } from \"../../helpers/restrictions\";\r\nimport { Chat, ContactsResolvedPeer, InputContact, InputGeoPoint, InputMedia, InputPeer, InputUser, User as MTUser, UserProfilePhoto, UserStatus } from \"../../layer\";\r\nimport parseEntities from \"../richTextProcessor/parseEntities\";\r\nimport wrapUrl from \"../richTextProcessor/wrapUrl\";\r\nimport SearchIndex from \"../searchIndex\";\r\nimport { AppManager } from \"./manager\";\r\nimport getPeerId from \"./utils/peers/getPeerId\";\r\nimport canSendToUser from \"./utils/users/canSendToUser\";\r\nimport { AppStoragesManager } from \"./appStoragesManager\";\r\n\r\nexport type User = MTUser.user;\r\nexport type TopPeerType = 'correspondents' | 'bots_inline';\r\nexport type MyTopPeer = {id: PeerId, rating: number};\r\n\r\nexport class AppUsersManager extends AppManager {\r\n  private storage: AppStoragesManager['storages']['users'];\r\n  \r\n  private users: {[userId: UserId]: User};\r\n  private usernames: {[username: string]: UserId};\r\n  private contactsIndex: SearchIndex<UserId>;\r\n  private contactsFillPromise: CancellablePromise<AppUsersManager['contactsList']>;\r\n  private contactsList: Set<UserId>;\r\n  private updatedContactsList: boolean;\r\n  \r\n  private getTopPeersPromises: {[type in TopPeerType]?: Promise<MyTopPeer[]>};\r\n\r\n  protected after() {\r\n    this.clear(true);\r\n\r\n    setInterval(this.updateUsersStatuses, 60000);\r\n\r\n    this.rootScope.addEventListener('state_synchronized', this.updateUsersStatuses);\r\n\r\n    this.apiUpdatesManager.addMultipleEventsListeners({\r\n      updateUserStatus: (update) => {\r\n        const userId = update.user_id;\r\n        const user = this.users[userId];\r\n        if(user) {\r\n          user.status = update.status;\r\n          if(user.status) {\r\n            if('expires' in user.status) {\r\n              user.status.expires -= this.timeManager.getServerTimeOffset();\r\n            }\r\n\r\n            if('was_online' in user.status) {\r\n              user.status.was_online -= this.timeManager.getServerTimeOffset();\r\n            }\r\n          }\r\n\r\n          //user.sortStatus = this.getUserStatusForSort(user.status);\r\n          this.rootScope.dispatchEvent('user_update', userId);\r\n          this.setUserToStateIfNeeded(user);\r\n        } //////else console.warn('No user by id:', userId);\r\n      },\r\n\r\n      updateUserPhoto: (update) => {\r\n        const userId = update.user_id;\r\n        const user = this.users[userId];\r\n        if(user) {\r\n          if((user.photo as UserProfilePhoto.userProfilePhoto)?.photo_id === (update.photo as UserProfilePhoto.userProfilePhoto)?.photo_id) {\r\n            return;\r\n          }\r\n\r\n          this.forceUserOnline(userId, update.date);\r\n\r\n          if(update.photo._ === 'userProfilePhotoEmpty') {\r\n            delete user.photo;\r\n          } else {\r\n            user.photo = safeReplaceObject(user.photo, update.photo);\r\n          }\r\n\r\n          this.setUserToStateIfNeeded(user);\r\n\r\n          this.rootScope.dispatchEvent('user_update', userId);\r\n          this.rootScope.dispatchEvent('avatar_update', userId.toPeerId());\r\n        } else console.warn('No user by id:', userId);\r\n      },\r\n\r\n      updateUserName: (update) => {\r\n        const userId = update.user_id;\r\n        const user = this.users[userId];\r\n        if(user) {\r\n          this.forceUserOnline(userId);\r\n          \r\n          this.saveApiUser({\r\n            ...user, \r\n            first_name: update.first_name,\r\n            last_name: update.last_name,\r\n            username: update.username\r\n          }, true);\r\n        }\r\n      }\r\n    });\r\n\r\n    /* case 'updateContactLink':\r\n    this.onContactUpdated(update.user_id, update.my_link._ === 'contactLinkContact');\r\n    break; */\r\n\r\n    this.rootScope.addEventListener('language_change', (e) => {\r\n      const userId = this.getSelf().id;\r\n      this.contactsIndex.indexObject(userId, this.getUserSearchText(userId));\r\n    });\r\n\r\n    return Promise.all([\r\n      this.appStateManager.getState(),\r\n      this.appStoragesManager.loadStorage('users')\r\n    ]).then(([state, {results: users, storage}]) => {\r\n      this.storage = storage;\r\n      \r\n      if(users.length) {\r\n        for(let i = 0, length = users.length; i < length; ++i) {\r\n          const user = users[i];\r\n          if(user) {\r\n            this.users[user.id] = user;\r\n            this.setUserNameToCache(user);\r\n\r\n            if(state.contactsListCachedTime && (user.pFlags.contact || user.pFlags.mutual_contact)) {\r\n              this.pushContact(user.id);\r\n\r\n              if(!this.contactsFillPromise) {\r\n                this.contactsFillPromise = deferredPromise();\r\n                this.contactsFillPromise.resolve(this.contactsList);\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\n      // const contactsList = state.contactsList;\r\n      // if(Array.isArray(contactsList)) {\r\n      //   contactsList.forEach((userId) => {\r\n      //     this.pushContact(userId);\r\n      //   });\r\n\r\n      //   if(contactsList.length) {\r\n      //     this.contactsFillPromise = deferredPromise();\r\n      //     this.contactsFillPromise.resolve(this.contactsList);\r\n      //   }\r\n      // }\r\n\r\n      const recentSearch = state.recentSearch || [];\r\n      for(let i = 0, length = recentSearch.length; i < length; ++i) {\r\n        this.peersStorage.requestPeer(recentSearch[i], 'recentSearch');\r\n      }\r\n\r\n      this.peersStorage.addEventListener('peerNeeded', (peerId) => {\r\n        if(!this.appPeersManager.isUser(peerId)) {\r\n          return;\r\n        }\r\n        \r\n        const userId = peerId.toUserId();\r\n        if(!this.storage.getFromCache(userId)) {\r\n          this.storage.set({\r\n            [userId]: this.getUser(userId)\r\n          });\r\n        }\r\n      });\r\n\r\n      this.peersStorage.addEventListener('peerUnneeded', (peerId) => {\r\n        if(!this.appPeersManager.isUser(peerId)) {\r\n          return;\r\n        }\r\n\r\n        const userId = peerId.toUserId();\r\n        if(this.storage.getFromCache(userId)) {\r\n          this.storage.delete(userId);\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  public clear = (init = false) => {\r\n    if(!init) {\r\n      for(const userId in this.users) {\r\n        // const userId = +userId;\r\n        if(!userId) continue;\r\n        const peerId = userId.toPeerId();\r\n        if(!this.peersStorage.isPeerNeeded(peerId)) {\r\n          const user = this.users[userId];\r\n          if(user.username) {\r\n            delete this.usernames[cleanUsername(user.username)];\r\n          }\r\n\r\n          this.storage.delete(userId);\r\n          delete this.users[userId];\r\n        }\r\n      }\r\n    } else {\r\n      this.users = {};\r\n      this.usernames = {};\r\n    }\r\n    \r\n    this.getTopPeersPromises = {};\r\n    this.contactsIndex = this.createSearchIndex();\r\n    this.contactsFillPromise = undefined;\r\n    this.contactsList = new Set();\r\n    this.updatedContactsList = false;\r\n  };\r\n\r\n  public get userId() {\r\n    return this.rootScope.myId.toUserId();\r\n  }\r\n\r\n  private onContactsModified(fromServer?: boolean) {\r\n    // const contactsList = [...this.contactsList];\r\n    // this.appStateManager.pushToState('contactsList', contactsList);\r\n\r\n    if(fromServer) {\r\n      this.appStateManager.pushToState('contactsListCachedTime', tsNow(true));\r\n    }\r\n  }\r\n\r\n  public pushRecentSearch(peerId: PeerId) {\r\n    return this.appStateManager.getState().then((state) => {\r\n      const recentSearch = state.recentSearch || [];\r\n      if(recentSearch[0] !== peerId) {\r\n        indexOfAndSplice(recentSearch, peerId);\r\n        recentSearch.unshift(peerId);\r\n        if(recentSearch.length > 20) {\r\n          recentSearch.length = 20;\r\n        }\r\n\r\n        this.appStateManager.pushToState('recentSearch', recentSearch);\r\n        for(const peerId of recentSearch) {\r\n          this.peersStorage.requestPeer(peerId, 'recentSearch');\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  public clearRecentSearch() {\r\n    return this.appStateManager.getState().then((state) => {\r\n      const recentSearch = state.recentSearch || [];\r\n      for(const peerId of recentSearch) {\r\n        this.peersStorage.releasePeer(peerId, 'recentSearch');\r\n      }\r\n\r\n      recentSearch.length = 0;\r\n      this.appStateManager.pushToState('recentSearch', recentSearch);\r\n    });\r\n  }\r\n\r\n  public fillContacts() {\r\n    if(this.contactsFillPromise && this.updatedContactsList) {\r\n      return {\r\n        cached: this.contactsFillPromise.isFulfilled,\r\n        promise: this.contactsFillPromise\r\n      };\r\n    }\r\n\r\n    this.updatedContactsList = true;\r\n\r\n    const promise = deferredPromise<Set<UserId>>();\r\n    this.apiManager.invokeApi('contacts.getContacts').then((result) => {\r\n      if(result._ === 'contacts.contacts') {\r\n        this.contactsList.clear();\r\n      \r\n        this.saveApiUsers(result.users);\r\n\r\n        result.contacts.forEach((contact) => {\r\n          this.pushContact(contact.user_id);\r\n        });\r\n\r\n        this.onContactsModified(true);\r\n\r\n        this.contactsFillPromise = promise;\r\n      }\r\n\r\n      promise.resolve(this.contactsList);\r\n    }, () => {\r\n      this.updatedContactsList = false;\r\n    });\r\n\r\n    return {\r\n      cached: this.contactsFillPromise?.isFulfilled,\r\n      promise: this.contactsFillPromise || (this.contactsFillPromise = promise)\r\n    };\r\n  }\r\n\r\n  public resolveUsername(username: string): Promise<Chat | User> | Chat | User {\r\n    if(username[0] === '@') {\r\n      username = username.slice(1);\r\n    }\r\n\r\n    username = username.toLowerCase();\r\n    const userId = this.usernames[username];\r\n    if(userId) {\r\n      return this.users[userId];\r\n    }\r\n\r\n    return this.apiManager.invokeApi('contacts.resolveUsername', {username}).then((resolvedPeer) => {\r\n      return this.processResolvedPeer(resolvedPeer);\r\n    });\r\n  }\r\n\r\n  private processResolvedPeer(resolvedPeer: ContactsResolvedPeer.contactsResolvedPeer) {\r\n    this.saveApiUsers(resolvedPeer.users);\r\n    this.appChatsManager.saveApiChats(resolvedPeer.chats);\r\n\r\n    return this.appPeersManager.getPeer(getPeerId(resolvedPeer.peer)) as Chat | User;\r\n  }\r\n\r\n  public resolvePhone(phone: string) {\r\n    return this.apiManager.invokeApi('contacts.resolvePhone', {phone}).then((resolvedPeer) => {\r\n      return this.processResolvedPeer(resolvedPeer) as User;\r\n    });\r\n  }\r\n\r\n  private pushContact(id: UserId) {\r\n    this.contactsList.add(id);\r\n    this.contactsIndex.indexObject(id, this.getUserSearchText(id));\r\n    this.peersStorage.requestPeer(id.toPeerId(), 'contact');\r\n  }\r\n\r\n  private popContact(id: UserId) {\r\n    this.contactsList.delete(id);\r\n    this.contactsIndex.indexObject(id, ''); // delete search index\r\n    this.peersStorage.releasePeer(id.toPeerId(), 'contact');\r\n  }\r\n\r\n  public getUserSearchText(id: UserId) {\r\n    const user = this.users[id];\r\n    if(!user) {\r\n      return '';\r\n    }\r\n\r\n    const arr: string[] = [\r\n      user.first_name,\r\n      user.last_name,\r\n      user.phone,\r\n      user.username,\r\n      // user.pFlags.self ? I18n.format('SavedMessages', true) : '',\r\n      user.pFlags.self ? 'Saved Messages' : ''\r\n    ];\r\n\r\n    return arr.filter(Boolean).join(' ');\r\n  }\r\n\r\n  public getContacts(query?: string, includeSaved = false, sortBy: 'name' | 'online' | 'none' = 'name') {\r\n    return this.fillContacts().promise.then((_contactsList) => {\r\n      let contactsList = [..._contactsList];\r\n      if(query) {\r\n        const results = this.contactsIndex.search(query);\r\n        const filteredContactsList = [...contactsList].filter((id) => results.has(id));\r\n\r\n        contactsList = filteredContactsList;\r\n      }\r\n\r\n      if(sortBy === 'name') {\r\n        contactsList.sort((userId1, userId2) => {\r\n          const sortName1 = (this.users[userId1] || {}).sortName || '';\r\n          const sortName2 = (this.users[userId2] || {}).sortName || '';\r\n          return sortName1.localeCompare(sortName2);\r\n        });\r\n      } else if(sortBy === 'online') {\r\n        contactsList.sort((userId1, userId2) => {\r\n          const status1 = this.getUserStatusForSort(this.getUser(userId1).status);\r\n          const status2 = this.getUserStatusForSort(this.getUser(userId2).status);\r\n          return status2 - status1;\r\n        });\r\n      }\r\n\r\n      const myUserId = this.userId;\r\n      indexOfAndSplice(contactsList, myUserId);\r\n      if(includeSaved) {\r\n        if(this.testSelfSearch(query)) {\r\n          contactsList.unshift(myUserId);\r\n        }\r\n      }\r\n\r\n      return contactsList;\r\n    });\r\n  }\r\n\r\n  public getContactsPeerIds(\r\n    query?: Parameters<AppUsersManager['getContacts']>[0], \r\n    includeSaved?: Parameters<AppUsersManager['getContacts']>[1], \r\n    sortBy?: Parameters<AppUsersManager['getContacts']>[2]\r\n  ) {\r\n    return this.getContacts(query, includeSaved, sortBy).then((userIds) => {\r\n      return userIds.map((userId) => userId.toPeerId(false));\r\n    });\r\n  }\r\n\r\n  public toggleBlock(peerId: PeerId, block: boolean) {\r\n    return this.apiManager.invokeApiSingle(block ? 'contacts.block' : 'contacts.unblock', {\r\n      id: this.appPeersManager.getInputPeerById(peerId)\r\n    }).then((value) => {\r\n      if(value) {\r\n        this.apiUpdatesManager.processLocalUpdate({\r\n          _: 'updatePeerBlocked',\r\n          peer_id: this.appPeersManager.getOutputPeer(peerId),\r\n          blocked: block\r\n        });\r\n      }\r\n\r\n      return value;\r\n    });\r\n  }\r\n\r\n  public testSelfSearch(query: string) {\r\n    const user = this.getSelf();\r\n    const index = this.createSearchIndex();\r\n    index.indexObject(user.id, this.getUserSearchText(user.id));\r\n    return index.search(query).has(user.id);\r\n  }\r\n\r\n  private createSearchIndex() {\r\n    return new SearchIndex<UserId>({\r\n      clearBadChars: true,\r\n      ignoreCase: true,\r\n      latinize: true,\r\n      includeTag: true\r\n    });\r\n  }\r\n\r\n  public saveApiUsers(apiUsers: MTUser[], override?: boolean) {\r\n    if((apiUsers as any).saved) return;\r\n    (apiUsers as any).saved = true;\r\n    apiUsers.forEach((user) => this.saveApiUser(user, override));\r\n  }\r\n\r\n  private setUserNameToCache(user: MTUser.user, oldUser?: MTUser.user) {\r\n    if(!oldUser || oldUser.username !== user.username) {\r\n      if(oldUser?.username) {\r\n        const oldSearchUsername = cleanUsername(oldUser.username);\r\n        delete this.usernames[oldSearchUsername];\r\n      }\r\n\r\n      if(user.username) {\r\n        const searchUsername = cleanUsername(user.username);\r\n        this.usernames[searchUsername] = user.id;\r\n      }\r\n    }\r\n  }\r\n\r\n  public saveApiUser(user: MTUser, override?: boolean) {\r\n    if(user._ === 'userEmpty') return;\r\n\r\n    const userId = user.id;\r\n    const oldUser = this.users[userId];\r\n\r\n    // ! commented block can affect performance !\r\n    // if(oldUser && !override) {\r\n    //   console.log('saveApiUser same');\r\n    //   return;\r\n    // }\r\n\r\n    if(user.pFlags === undefined) {\r\n      user.pFlags = {};\r\n    }\r\n\r\n    if(user.pFlags.min && oldUser !== undefined) {\r\n      return;\r\n    }\r\n\r\n    // * exclude from state\r\n    // defineNotNumerableProperties(user, ['initials', 'num', 'rFirstName', 'rFullName', 'rPhone', 'sortName', 'sortStatus']);\r\n\r\n    this.setUserNameToCache(user, oldUser);\r\n\r\n    if(!oldUser \r\n      || oldUser.sortName === undefined \r\n      || oldUser.first_name !== user.first_name \r\n      || oldUser.last_name !== user.last_name) {\r\n      const fullName = user.first_name + (user.last_name ? ' ' + user.last_name : '');\r\n\r\n      user.sortName = user.pFlags.deleted ? '' : cleanSearchText(fullName, false);\r\n    } else {\r\n      user.sortName = oldUser.sortName;\r\n    }\r\n\r\n    if(user.status) {\r\n      if((user.status as UserStatus.userStatusOnline).expires) {\r\n        (user.status as UserStatus.userStatusOnline).expires -= this.timeManager.getServerTimeOffset();\r\n      }\r\n\r\n      if((user.status as UserStatus.userStatusOffline).was_online) {\r\n        (user.status as UserStatus.userStatusOffline).was_online -= this.timeManager.getServerTimeOffset();\r\n      }\r\n    }\r\n\r\n    //user.sortStatus = user.pFlags.bot ? -1 : this.getUserStatusForSort(user.status);\r\n\r\n    let changedPhoto = false, changedTitle = false;\r\n    if(oldUser === undefined) {\r\n      this.users[userId] = user;\r\n    } else {\r\n      if(user.first_name !== oldUser.first_name \r\n        || user.last_name !== oldUser.last_name \r\n        || user.username !== oldUser.username) {\r\n        changedTitle = true;\r\n      }\r\n\r\n      const oldPhotoId = (oldUser.photo as UserProfilePhoto.userProfilePhoto)?.photo_id;\r\n      const newPhotoId = (user.photo as UserProfilePhoto.userProfilePhoto)?.photo_id;\r\n      if(oldPhotoId !== newPhotoId) {\r\n        changedPhoto = true;\r\n      }\r\n\r\n      /* if(user.pFlags.bot && user.bot_info_version !== oldUser.bot_info_version) {\r\n        \r\n      } */\r\n\r\n      const wasContact = !!oldUser.pFlags.contact;\r\n      const newContact = !!user.pFlags.contact;\r\n\r\n      safeReplaceObject(oldUser, user);\r\n      this.rootScope.dispatchEvent('user_update', userId);\r\n\r\n      if(wasContact !== newContact) {\r\n        this.onContactUpdated(userId, newContact, wasContact);\r\n      }\r\n    }\r\n\r\n    if(changedPhoto) {\r\n      this.rootScope.dispatchEvent('avatar_update', user.id.toPeerId());\r\n    }\r\n\r\n    if(changedTitle) {\r\n      this.rootScope.dispatchEvent('peer_title_edit', user.id.toPeerId());\r\n    }\r\n\r\n    this.setUserToStateIfNeeded(user);\r\n  }\r\n\r\n  private setUserToStateIfNeeded(user: User) {\r\n    if(this.peersStorage.isPeerNeeded(user.id.toPeerId())) {\r\n      this.storage.set({\r\n        [user.id]: user\r\n      });\r\n    }\r\n  }\r\n\r\n  public isUserOnlineVisible(id: UserId) {\r\n    return this.getUserStatusForSort(id) > 3;\r\n  }\r\n\r\n  public getUserStatusForSort(status: User['status'] | UserId) {\r\n    if(typeof(status) !== 'object') {\r\n      status = this.getUser(status).status;\r\n    }\r\n\r\n    if(status) {\r\n      const expires = status._ === 'userStatusOnline' ? status.expires : (status._ === 'userStatusOffline' ? status.was_online : 0);\r\n      if(expires) {\r\n        return expires;\r\n      }\r\n\r\n      /* const timeNow = tsNow(true);\r\n      switch(status._) {\r\n        case 'userStatusRecently':\r\n          return timeNow - 86400 * 3;\r\n        case 'userStatusLastWeek':\r\n          return timeNow - 86400 * 7;\r\n        case 'userStatusLastMonth':\r\n          return timeNow - 86400 * 30;\r\n      } */\r\n      switch(status._) {\r\n        case 'userStatusRecently':\r\n          return 3;\r\n        case 'userStatusLastWeek':\r\n          return 2;\r\n        case 'userStatusLastMonth':\r\n          return 1;\r\n      }\r\n    }\r\n\r\n    return 0;\r\n  }\r\n\r\n  public getUser(id: User | UserId) {\r\n    if(isObject<User>(id)) {\r\n      return id;\r\n    }\r\n\r\n    return this.users[id] || {_: 'userEmpty', id, pFlags: {deleted: true}, access_hash: ''} as any as User;\r\n  }\r\n\r\n  public getSelf() {\r\n    return this.getUser(this.userId);\r\n  }\r\n\r\n  public isBot(id: UserId) {\r\n    return this.users[id] && !!this.users[id].pFlags.bot;\r\n  }\r\n\r\n  public isContact(id: UserId) {\r\n    return this.contactsList.has(id) || !!(this.users[id] && this.users[id].pFlags.contact);\r\n  }\r\n  \r\n  public isRegularUser(id: UserId) {\r\n    const user = this.users[id];\r\n    return user && !this.isBot(id) && !user.pFlags.deleted && !user.pFlags.support;\r\n  }\r\n\r\n  public isNonContactUser(id: UserId) {\r\n    return this.isRegularUser(id) && !this.isContact(id) && id !== this.userId;\r\n  }\r\n\r\n  public hasUser(id: UserId, allowMin?: boolean) {\r\n    const user = this.users[id];\r\n    return isObject(user) && (allowMin || !user.pFlags.min);\r\n  }\r\n\r\n  public getUserPhoto(id: UserId) {\r\n    const user = this.getUser(id);\r\n\r\n    return user && user.photo || {\r\n      _: 'userProfilePhotoEmpty'\r\n    };\r\n  }\r\n\r\n  public getUserString(id: UserId) {\r\n    const user = this.getUser(id);\r\n    return 'u' + id + (user.access_hash ? '_' + user.access_hash : '');\r\n  }\r\n\r\n  public getUserInput(id: UserId): InputUser {\r\n    const user = this.getUser(id);\r\n    if(user.pFlags && user.pFlags.self) {\r\n      return {_: 'inputUserSelf'};\r\n    }\r\n\r\n    return {\r\n      _: 'inputUser',\r\n      user_id: id,\r\n      access_hash: user.access_hash\r\n    };\r\n  }\r\n\r\n  public getUserInputPeer(id: UserId): InputPeer.inputPeerSelf | InputPeer.inputPeerUser {\r\n    const user = this.getUser(id);\r\n    if(user.pFlags && user.pFlags.self) {\r\n      return {_: 'inputPeerSelf'};\r\n    }\r\n\r\n    return {\r\n      _: 'inputPeerUser',\r\n      user_id: id,\r\n      access_hash: user.access_hash\r\n    };\r\n  }\r\n\r\n  public getContactMediaInput(id: UserId): InputMedia.inputMediaContact {\r\n    const user = this.getUser(id);\r\n\r\n    return {\r\n      _: 'inputMediaContact',\r\n      first_name: user.first_name,\r\n      last_name: user.last_name,\r\n      phone_number: user.phone,\r\n      vcard: '',\r\n      user_id: id\r\n    };\r\n  }\r\n\r\n  private updateUsersStatuses = () => {\r\n    const timestampNow = tsNow(true);\r\n    for(const i in this.users) {\r\n      const user = this.users[i];\r\n      this.updateUserStatus(user, timestampNow);\r\n    }\r\n  };\r\n\r\n  private updateUserStatus(user: MTUser.user, timestampNow = tsNow(true)) {\r\n    if(user.status &&\r\n      user.status._ === 'userStatusOnline' &&\r\n      user.status.expires < timestampNow) {\r\n      user.status = {_: 'userStatusOffline', was_online: user.status.expires};\r\n      this.rootScope.dispatchEvent('user_update', user.id);\r\n\r\n      this.setUserToStateIfNeeded(user);\r\n    }\r\n  }\r\n\r\n  public forceUserOnline(id: UserId, eventTimestamp?: number) {\r\n    if(this.isBot(id)) {\r\n      return;\r\n    }\r\n\r\n    const timestamp = tsNow(true);\r\n    const onlineTimeFor = 60;\r\n    if(eventTimestamp) {\r\n      if((timestamp - eventTimestamp) >= onlineTimeFor) {\r\n        return;\r\n      }\r\n    } else if(this.apiUpdatesManager.updatesState.syncLoading) {\r\n      return;\r\n    }\r\n\r\n    const user = this.getUser(id);\r\n    if(user?.status &&\r\n      user.status._ !== 'userStatusOnline' &&\r\n      user.status._ !== 'userStatusEmpty' &&\r\n      !user.pFlags.support &&\r\n      !user.pFlags.deleted) {\r\n\r\n      user.status = {\r\n        _: 'userStatusOnline',\r\n        expires: timestamp + onlineTimeFor\r\n      };\r\n      \r\n      //user.sortStatus = this.getUserStatusForSort(user.status);\r\n      this.rootScope.dispatchEvent('user_update', id);\r\n\r\n      this.setUserToStateIfNeeded(user);\r\n    }\r\n  }\r\n\r\n  public importContact(first_name: string, last_name: string, phone: string) {\r\n    return this.importContacts([{\r\n      first_name,\r\n      last_name,\r\n      phones: [phone]\r\n    }]).then((userIds) => {\r\n      if(!userIds.length) {\r\n        const error = new Error();\r\n        (error as any).type = 'NO_USER';\r\n        throw error;\r\n      }\r\n\r\n      return userIds[0];\r\n    });\r\n  }\r\n\r\n  public importContacts(contacts: {phones: string[], first_name: string, last_name: string}[]) {\r\n    const inputContacts: InputContact[] = [];\r\n\r\n    for(let i = 0; i < contacts.length; ++i) {\r\n      for(let j = 0; j < contacts[i].phones.length; ++j) {\r\n        inputContacts.push({\r\n          _: 'inputPhoneContact',\r\n          client_id: (i << 16 | j).toString(10),\r\n          phone: contacts[i].phones[j],\r\n          first_name: contacts[i].first_name,\r\n          last_name: contacts[i].last_name\r\n        });\r\n      }\r\n    }\r\n\r\n    return this.apiManager.invokeApi('contacts.importContacts', {\r\n      contacts: inputContacts\r\n    }).then((importedContactsResult) => {\r\n      this.saveApiUsers(importedContactsResult.users);\r\n\r\n      const userIds = importedContactsResult.imported.map((importedContact) => {\r\n        this.onContactUpdated(importedContact.user_id, true);\r\n        return importedContact.user_id;\r\n      });\r\n\r\n      return userIds;\r\n    });\r\n  }\r\n\r\n  public getTopPeers(type: TopPeerType) {\r\n    if(this.getTopPeersPromises[type]) return this.getTopPeersPromises[type];\r\n\r\n    return this.getTopPeersPromises[type] = this.appStateManager.getState().then((state) => {\r\n      const cached = state.topPeersCache[type];\r\n      if(cached && (cached.cachedTime + 86400e3) > Date.now() && cached.peers) {\r\n        return cached.peers;\r\n      }\r\n\r\n      return this.apiManager.invokeApi('contacts.getTopPeers', {\r\n        [type]: true,\r\n        offset: 0,\r\n        limit: 15,\r\n        hash: '0'\r\n      }).then((result) => {\r\n        let topPeers: MyTopPeer[] = [];\r\n        if(result._ === 'contacts.topPeers') {\r\n          //console.log(result);\r\n          this.saveApiUsers(result.users);\r\n          this.appChatsManager.saveApiChats(result.chats);\r\n\r\n          if(result.categories.length) {\r\n            topPeers = result.categories[0].peers.map((topPeer) => {\r\n              const peerId = getPeerId(topPeer.peer);\r\n              this.peersStorage.requestPeer(peerId, 'topPeer');\r\n              return {id: peerId, rating: topPeer.rating};\r\n            });\r\n          }\r\n        }\r\n  \r\n        state.topPeersCache[type] = {\r\n          peers: topPeers,\r\n          cachedTime: Date.now()\r\n        };\r\n        this.appStateManager.pushToState('topPeersCache', state.topPeersCache);\r\n  \r\n        return topPeers;\r\n      });\r\n    });\r\n  }\r\n\r\n  public getBlocked(offset = 0, limit = 0) {\r\n    return this.apiManager.invokeApiSingle('contacts.getBlocked', {offset, limit}).then((contactsBlocked) => {\r\n      this.saveApiUsers(contactsBlocked.users);\r\n      this.appChatsManager.saveApiChats(contactsBlocked.chats);\r\n      const count = contactsBlocked._ === 'contacts.blocked' ? contactsBlocked.users.length + contactsBlocked.chats.length : contactsBlocked.count;\r\n\r\n      const peerIds: PeerId[] = contactsBlocked.users.map((u) => u.id.toPeerId()).concat(contactsBlocked.chats.map((c) => c.id.toPeerId(true)));\r\n\r\n      return {count, peerIds};\r\n    });\r\n  }\r\n\r\n  public getLocated(\r\n    lat: number, \r\n    long: number,\r\n    accuracy_radius: number,\r\n    background: boolean = false,\r\n    self_expires: number = 0\r\n  ) {\r\n    const geo_point: InputGeoPoint = {\r\n      _: 'inputGeoPoint',\r\n      lat,\r\n      long,\r\n      accuracy_radius\r\n    };\r\n\r\n    return this.apiManager.invokeApi('contacts.getLocated', {\r\n      geo_point, \r\n      background\r\n    }).then((updates) => {\r\n      this.apiUpdatesManager.processUpdateMessage(updates);\r\n      return updates;\r\n    });\r\n  }\r\n\r\n  /* public searchContacts(query: string, limit = 20) {\r\n    return Promise.all([\r\n      this.getContacts(query),\r\n      apiManager.invokeApi('contacts.search', {\r\n        q: query,\r\n        limit\r\n      })\r\n    ]).then((results) => {\r\n      const [myContacts, peers] = results;\r\n\r\n      this.saveApiUsers(peers.users);\r\n      appChatsManager.saveApiChats(peers.chats);\r\n\r\n      // * contacts.search returns duplicates in my_results\r\n      const myResults = new Set(myContacts.concat(peers.my_results.map((p) => appPeersManager.getPeerID(p))));\r\n\r\n      const out = {\r\n        my_results: [...myResults].slice(0, limit),\r\n        results: peers.results.map((p) => appPeersManager.getPeerID(p))\r\n      };\r\n\r\n      return out;\r\n    });\r\n  } */\r\n  public searchContacts(query: string, limit = 20) {\r\n    // handle 't.me/username' as 'username'\r\n    const entities = parseEntities(query);\r\n    if(entities.length && entities[0].length === query.trim().length && entities[0]._ === 'messageEntityUrl') {\r\n      try {\r\n        const url = new URL(wrapUrl(query).url);\r\n        const path = url.pathname.slice(1);\r\n        if(path) {\r\n          query = path;\r\n        }\r\n      } catch(err) {}\r\n    }\r\n\r\n    return this.apiManager.invokeApiCacheable('contacts.search', {\r\n      q: query,\r\n      limit\r\n    }, {cacheSeconds: 60}).then((peers) => {\r\n      this.saveApiUsers(peers.users);\r\n      this.appChatsManager.saveApiChats(peers.chats);\r\n\r\n      const out = {\r\n        my_results: filterUnique(peers.my_results.map((p) => getPeerId(p))), // ! contacts.search returns duplicates in my_results\r\n        results: peers.results.map((p) => getPeerId(p))\r\n      };\r\n\r\n      return out;\r\n    });\r\n  }\r\n\r\n  private onContactUpdated(userId: UserId, isContact: boolean, curIsContact = this.isContact(userId)) {\r\n    if(isContact !== curIsContact) {\r\n      if(isContact) {\r\n        this.pushContact(userId);\r\n      } else {\r\n        this.popContact(userId);\r\n      }\r\n\r\n      this.onContactsModified();\r\n\r\n      this.rootScope.dispatchEvent('contacts_update', userId);\r\n    }\r\n  }\r\n\r\n  public updateUsername(username: string) {\r\n    return this.apiManager.invokeApi('account.updateUsername', {\r\n      username\r\n    }).then((user) => {\r\n      this.saveApiUser(user);\r\n    });\r\n  }\r\n\r\n  public setUserStatus(userId: UserId, offline: boolean) {\r\n    if(this.isBot(userId)) {\r\n      return;\r\n    }\r\n\r\n    const user = this.users[userId];\r\n    if(user) {\r\n      const status: UserStatus = offline ? {\r\n        _: 'userStatusOffline',\r\n        was_online: tsNow(true)\r\n      } : {\r\n        _: 'userStatusOnline',\r\n        expires: tsNow(true) + 50\r\n      };\r\n\r\n      user.status = status;\r\n      //user.sortStatus = this.getUserStatusForSort(user.status);\r\n      this.rootScope.dispatchEvent('user_update', userId);\r\n\r\n      this.setUserToStateIfNeeded(user);\r\n    }\r\n  }\r\n\r\n  public updateMyOnlineStatus(offline: boolean) {\r\n    this.setUserStatus(this.getSelf().id, offline);\r\n    return this.apiManager.invokeApiSingle('account.updateStatus', {offline});\r\n  }\r\n\r\n  public addContact(userId: UserId, first_name: string, last_name: string, phone: string, showPhone?: true) {\r\n    /* if(!userId) {\r\n      return this.importContacts([{\r\n        first_name,\r\n        last_name,\r\n        phones: [phone]\r\n      }]);\r\n    } */\r\n\r\n    return this.apiManager.invokeApi('contacts.addContact', {\r\n      id: this.getUserInput(userId),\r\n      first_name,\r\n      last_name,\r\n      phone,\r\n      add_phone_privacy_exception: showPhone\r\n    }).then((updates) => {\r\n      this.apiUpdatesManager.processUpdateMessage(updates, {override: true});\r\n\r\n      this.onContactUpdated(userId, true);\r\n    });\r\n  }\r\n\r\n  public deleteContacts(userIds: UserId[]) {\r\n    return this.apiManager.invokeApi('contacts.deleteContacts', {\r\n      id: userIds.map((userId) => this.getUserInput(userId))\r\n    }).then((updates) => {\r\n      this.apiUpdatesManager.processUpdateMessage(updates, {override: true});\r\n\r\n      userIds.forEach((userId) => {\r\n        this.onContactUpdated(userId, false);\r\n      });\r\n    });\r\n  }\r\n\r\n  public isRestricted(userId: UserId) {\r\n    const user: MTUser.user = this.getUser(userId);\r\n    const restrictionReasons = user.restriction_reason;\r\n\r\n    return !!(user.pFlags.restricted && restrictionReasons && isRestricted(restrictionReasons));\r\n  }\r\n\r\n  public checkUsername(username: string) {\r\n    return this.apiManager.invokeApi('account.checkUsername', {username});\r\n  }\r\n\r\n  public canSendToUser(userId: UserId) {\r\n    return canSendToUser(this.getUser(userId));\r\n  }\r\n}\r\n","/*\r\n * https://github.com/morethanwords/tweb\r\n * Copyright (C) 2019-2021 Eduard Kuzmenko\r\n * https://github.com/morethanwords/tweb/blob/master/LICENSE\r\n * \r\n * Originally from:\r\n * https://github.com/zhukov/webogram\r\n * Copyright (C) 2014 Igor Zhukov <igor.beatle@gmail.com>\r\n * https://github.com/zhukov/webogram/blob/master/LICENSE\r\n */\r\n\r\nimport { ReferenceContext } from \"../mtproto/referenceDatabase\";\r\nimport { WebPage } from \"../../layer\";\r\nimport safeReplaceObject from \"../../helpers/object/safeReplaceObject\";\r\nimport { AppManager } from \"./manager\";\r\n\r\nconst photoTypeSet = new Set(['photo', 'video', 'gif', 'document']);\r\n\r\ntype WebPageMessageKey = `${PeerId}_${number}`;\r\n\r\nexport class AppWebPagesManager extends AppManager {\r\n  private webpages: {\r\n    [webPageId: string]: WebPage\r\n  } = {};\r\n  private pendingWebPages: {\r\n    [webPageId: string]: Set<WebPageMessageKey>\r\n  } = {};\r\n  \r\n  protected after() {\r\n    this.apiUpdatesManager.addMultipleEventsListeners({\r\n      updateWebPage: (update) => {\r\n        this.saveWebPage(update.webpage);\r\n      }\r\n    });\r\n  }\r\n  \r\n  public saveWebPage(apiWebPage: WebPage, messageKey?: WebPageMessageKey, mediaContext?: ReferenceContext) {\r\n    if(apiWebPage._ === 'webPageNotModified') return;\r\n    const {id} = apiWebPage;\r\n\r\n    const oldWebPage = this.webpages[id];\r\n    const isUpdated = oldWebPage && \r\n      oldWebPage._ === apiWebPage._ && \r\n      (oldWebPage as WebPage.webPage).hash === (oldWebPage as WebPage.webPage).hash;\r\n\r\n    if(apiWebPage._ === 'webPage') {\r\n      if(apiWebPage.photo?._ === 'photo') {\r\n        apiWebPage.photo = this.appPhotosManager.savePhoto(apiWebPage.photo, mediaContext);\r\n      } else {\r\n        delete apiWebPage.photo;\r\n      }\r\n  \r\n      if(apiWebPage.document?._ === 'document') {\r\n        apiWebPage.document = this.appDocsManager.saveDoc(apiWebPage.document, mediaContext);\r\n      } else {\r\n        if(apiWebPage.type === 'document') {\r\n          delete apiWebPage.type;\r\n        }\r\n  \r\n        delete apiWebPage.document;\r\n      }\r\n\r\n      const siteName = apiWebPage.site_name;\r\n      let shortTitle = apiWebPage.title || apiWebPage.author || siteName || '';\r\n      if(siteName && shortTitle === siteName) {\r\n        delete apiWebPage.site_name;\r\n      }\r\n\r\n      // delete apiWebPage.description\r\n\r\n      if(!photoTypeSet.has(apiWebPage.type) &&\r\n        !apiWebPage.description &&\r\n        apiWebPage.photo) {\r\n        apiWebPage.type = 'photo';\r\n      }\r\n    }\r\n    \r\n    let pendingSet = this.pendingWebPages[id];\r\n    if(messageKey) {\r\n      if(!pendingSet) pendingSet = this.pendingWebPages[id] = new Set();\r\n      pendingSet.add(messageKey);\r\n    }\r\n    \r\n    if(oldWebPage === undefined) {\r\n      this.webpages[id] = apiWebPage;\r\n    } else {\r\n      safeReplaceObject(oldWebPage, apiWebPage);\r\n    }\r\n    \r\n    if(!messageKey && pendingSet !== undefined && isUpdated) {\r\n      const msgs: {peerId: PeerId, mid: number, isScheduled: boolean}[] = [];\r\n      pendingSet.forEach((value) => {\r\n        const [peerId, mid, isScheduled] = value.split('_');\r\n        msgs.push({\r\n          peerId: peerId.toPeerId(), \r\n          mid: +mid, \r\n          isScheduled: !!isScheduled\r\n        });\r\n      });\r\n\r\n      this.rootScope.dispatchEvent('webpage_updated', {\r\n        id,\r\n        msgs\r\n      });\r\n    }\r\n\r\n    return apiWebPage;\r\n  }\r\n\r\n  public getMessageKeyForPendingWebPage(peerId: PeerId, mid: number, isScheduled?: boolean): WebPageMessageKey {\r\n    return peerId + '_' + mid + (isScheduled ? '_s' : '') as any;\r\n  }\r\n\r\n  public deleteWebPageFromPending(webPage: WebPage, messageKey: WebPageMessageKey) {\r\n    const id = (webPage as WebPage.webPage).id;\r\n    if(!id) return;\r\n\r\n    const set = this.pendingWebPages[id];\r\n    if(set && set.has(messageKey)) {\r\n      set.delete(messageKey);\r\n\r\n      if(!set.size) {\r\n        delete this.pendingWebPages[id];\r\n      }\r\n    }\r\n  }\r\n\r\n  public getCachedWebPage(id: WebPage.webPage['id']) {\r\n    return this.webpages[id];\r\n  }\r\n\r\n  public getWebPage(url: string) {\r\n    return this.apiManager.invokeApiHashable({\r\n      method: 'messages.getWebPage',\r\n      processResult: (webPage) => {\r\n        return this.saveWebPage(webPage);\r\n      },\r\n      params: {\r\n        url\r\n      },\r\n    });\r\n  }\r\n}\r\n","/*\r\n * https://github.com/morethanwords/tweb\r\n * Copyright (C) 2019-2021 Eduard Kuzmenko\r\n * https://github.com/morethanwords/tweb/blob/master/LICENSE\r\n * \r\n * Originally from:\r\n * https://github.com/zhukov/webogram\r\n * Copyright (C) 2014 Igor Zhukov <igor.beatle@gmail.com>\r\n * https://github.com/zhukov/webogram/blob/master/LICENSE\r\n */\r\n\r\nimport type { ReferenceBytes } from \"./referenceDatabase\";\r\nimport Modes from \"../../config/modes\";\r\nimport deferredPromise, { CancellablePromise } from \"../../helpers/cancellablePromise\";\r\nimport { getFileNameByLocation } from \"../../helpers/fileName\";\r\nimport { randomLong } from \"../../helpers/random\";\r\nimport { Document, InputFile, InputFileLocation, InputWebFileLocation, Photo, PhotoSize, UploadFile, UploadWebFile, WebDocument } from \"../../layer\";\r\nimport { DcId } from \"../../types\";\r\nimport CacheStorageController from \"../cacheStorage\";\r\nimport fileManager from \"../fileManager\";\r\nimport { logger, LogTypes } from \"../logger\";\r\nimport assumeType from \"../../helpers/assumeType\";\r\nimport ctx from \"../../environment/ctx\";\r\nimport noop from \"../../helpers/noop\";\r\nimport readBlobAsArrayBuffer from \"../../helpers/blob/readBlobAsArrayBuffer\";\r\nimport bytesToHex from \"../../helpers/bytes/bytesToHex\";\r\nimport findAndSplice from \"../../helpers/array/findAndSplice\";\r\nimport fixFirefoxSvg from \"../../helpers/fixFirefoxSvg\";\r\nimport { AppManager } from \"../appManagers/manager\";\r\nimport { getEnvironment } from \"../../environment/utils\";\r\nimport MTProtoMessagePort from \"./mtprotoMessagePort\";\r\nimport getFileNameForUpload from \"../../helpers/getFileNameForUpload\";\r\nimport type { Progress } from \"../appManagers/appDownloadManager\";\r\nimport getDownloadMediaDetails from \"../appManagers/utils/download/getDownloadMediaDetails\";\r\nimport networkStats from \"./networkStats\";\r\nimport pause from \"../../helpers/schedulers/pause\";\r\n\r\ntype Delayed = {\r\n  offset: number, \r\n  writeFilePromise: CancellablePromise<void>, \r\n  writeFileDeferred: CancellablePromise<void>\r\n};\r\n\r\nexport type DownloadOptions = {\r\n  dcId: DcId, \r\n  location: InputFileLocation | InputWebFileLocation, \r\n  size?: number,\r\n  fileName?: string,\r\n  mimeType?: string,\r\n  limitPart?: number,\r\n  queueId?: number,\r\n  onlyCache?: boolean,\r\n  // getFileMethod: Parameters<CacheStorageController['getFile']>[1]\r\n};\r\n\r\nexport type DownloadMediaOptions = {\r\n  media: Photo.photo | Document.document | WebDocument,\r\n  thumb?: PhotoSize,\r\n  queueId?: number,\r\n  onlyCache?: boolean\r\n};\r\n\r\ntype DownloadPromise = CancellablePromise<Blob>;\r\n\r\nexport type MyUploadFile = UploadFile.uploadFile | UploadWebFile.uploadWebFile;\r\n\r\n// export interface RefreshReferenceTask extends WorkerTaskVoidTemplate {\r\n//   type: 'refreshReference',\r\n//   payload: ReferenceBytes,\r\n// };\r\n\r\n// export interface RefreshReferenceTaskResponse extends WorkerTaskVoidTemplate {\r\n//   type: 'refreshReference',\r\n//   payload: ReferenceBytes,\r\n//   originalPayload: ReferenceBytes\r\n// };\r\n\r\nconst MAX_FILE_SAVE_SIZE = 20 * 1024 * 1024;\r\n\r\nconst REGULAR_DOWNLOAD_DELTA = 36;\r\nconst PREMIUM_DOWNLOAD_DELTA = 72;\r\n\r\nexport class ApiFileManager extends AppManager {\r\n  private cacheStorage = new CacheStorageController('cachedFiles');\r\n\r\n  private downloadPromises: {\r\n    [fileName: string]: DownloadPromise\r\n  } = {};\r\n\r\n  private uploadPromises: {\r\n    [fileName: string]: CancellablePromise<InputFile>\r\n  } = {};\r\n\r\n  private downloadPulls: {\r\n    [dcId: string]: Array<{\r\n      id: number,\r\n      queueId: number,\r\n      cb: () => Promise<MyUploadFile | void>,\r\n      deferred: {\r\n        resolve: (...args: any[]) => void,\r\n        reject: (...args: any[]) => void\r\n      },\r\n      activeDelta: number\r\n    }>\r\n  } = {};\r\n  private downloadActives: {[dcId: string]: number} = {};\r\n\r\n  public refreshReferencePromises: {\r\n    [referenceHex: string]: {\r\n      deferred: CancellablePromise<ReferenceBytes>,\r\n      timeout: number\r\n    }\r\n  } = {};\r\n\r\n  private log: ReturnType<typeof logger> = logger('AFM', LogTypes.Error | LogTypes.Log);\r\n  private tempId = 0;\r\n  private queueId = 0;\r\n  private debug = Modes.debug;\r\n\r\n  protected after() {\r\n    setInterval(() => { // clear old promises\r\n      for(const hex in this.refreshReferencePromises) {\r\n        const {deferred} = this.refreshReferencePromises[hex];\r\n        if(deferred.isFulfilled || deferred.isRejected) {\r\n          delete this.refreshReferencePromises[hex];\r\n        }\r\n      }\r\n    }, 1800e3);\r\n  }\r\n\r\n  private downloadRequest(dcId: 'upload', id: number, cb: () => Promise<void>, activeDelta: number, queueId?: number): Promise<void>;\r\n  private downloadRequest(dcId: number, id: number, cb: () => Promise<MyUploadFile>, activeDelta: number, queueId?: number): Promise<MyUploadFile>;\r\n  private downloadRequest(dcId: number | string, id: number, cb: () => Promise<MyUploadFile | void>, activeDelta: number, queueId: number = 0) {\r\n    if(this.downloadPulls[dcId] === undefined) {\r\n      this.downloadPulls[dcId] = [];\r\n      this.downloadActives[dcId] = 0;\r\n    }\r\n\r\n    const downloadPull = this.downloadPulls[dcId];\r\n\r\n    const promise = new Promise<MyUploadFile | void>((resolve, reject) => {\r\n      downloadPull.push({id, queueId, cb, deferred: {resolve, reject}, activeDelta});\r\n    });\r\n\r\n    setTimeout(() => {\r\n      this.downloadCheck(dcId);\r\n    }, 0);\r\n\r\n    return promise;\r\n  }\r\n\r\n  private downloadCheck(dcId: string | number) {\r\n    const downloadPull = this.downloadPulls[dcId];\r\n    const downloadLimit = dcId === 'upload' ? 24 : (this.rootScope.premium ? PREMIUM_DOWNLOAD_DELTA : REGULAR_DOWNLOAD_DELTA);\r\n    //const downloadLimit = Infinity;\r\n\r\n    if(this.downloadActives[dcId] >= downloadLimit || !downloadPull || !downloadPull.length) {\r\n      return false;\r\n    }\r\n\r\n    //const data = downloadPull.shift();\r\n    const data = findAndSplice(downloadPull, d => d.queueId === 0) || findAndSplice(downloadPull, d => d.queueId === this.queueId) || downloadPull.shift();\r\n    const activeDelta = data.activeDelta || 1;\r\n\r\n    this.downloadActives[dcId] += activeDelta;\r\n\r\n    const promise = data.cb();\r\n    const networkPromise = networkStats.waitForChunk(dcId as DcId, activeDelta * 1024 * 128);\r\n    Promise.race([\r\n      promise,\r\n      networkPromise\r\n    ]).then(() => {\r\n      this.downloadActives[dcId] -= activeDelta;\r\n      this.downloadCheck(dcId);\r\n\r\n      networkPromise.resolve();\r\n    }, (error: Error) => {\r\n      // @ts-ignore\r\n      if(!error || !error.type || (error.type !== 'DOWNLOAD_CANCELED' && error.type !== 'UPLOAD_CANCELED')) {\r\n        this.log.error('downloadCheck error:', error);\r\n      }\r\n\r\n      this.downloadActives[dcId] -= activeDelta;\r\n      this.downloadCheck(dcId);\r\n      \r\n      networkPromise.reject(error);\r\n    }).finally(() => {\r\n      promise.then(data.deferred.resolve, data.deferred.reject);\r\n    });\r\n  }\r\n\r\n  public setQueueId(queueId: number) {\r\n    //this.log.error('setQueueId', queueId);\r\n    this.queueId = queueId;\r\n  }\r\n\r\n  private getFileStorage() {\r\n    return this.cacheStorage;\r\n  }\r\n\r\n  public cancelDownload(fileName: string) {\r\n    const promises = [this.downloadPromises[fileName], this.uploadPromises[fileName]].filter(Boolean);\r\n    let canceled = false;\r\n    for(let i = 0, length = promises.length; i < length; ++i) {\r\n      const promise = promises[i];\r\n      if(promise && !promise.isRejected && !promise.isFulfilled) {\r\n        promise.cancel();\r\n        canceled = true;\r\n      }\r\n    }\r\n\r\n    return canceled;\r\n  }\r\n\r\n  public requestWebFilePart(dcId: DcId, location: InputWebFileLocation, offset: number, limit: number, id = 0, queueId = 0, checkCancel?: () => void) {\r\n    return this.downloadRequest(dcId, id, async() => { // do not remove async, because checkCancel will throw an error\r\n      checkCancel && checkCancel();\r\n\r\n      return this.apiManager.invokeApi('upload.getWebFile', {\r\n        location,\r\n        offset,\r\n        limit\r\n      }, {\r\n        dcId,\r\n        fileDownload: true\r\n      });\r\n    }, this.getDelta(limit), queueId);\r\n  }\r\n\r\n  public requestFilePart(dcId: DcId, location: InputFileLocation, offset: number, limit: number, id = 0, queueId = 0, checkCancel?: () => void) {\r\n    return this.downloadRequest(dcId, id, async() => { // do not remove async, because checkCancel will throw an error\r\n      checkCancel && checkCancel();\r\n\r\n      const invoke = async(): Promise<MyUploadFile> => {\r\n        checkCancel && checkCancel(); // do not remove async, because checkCancel will throw an error\r\n\r\n        const promise = this.apiManager.invokeApi('upload.getFile', {\r\n          location,\r\n          offset,\r\n          limit\r\n        }, {\r\n          dcId,\r\n          fileDownload: true\r\n        }) as Promise<MyUploadFile>;\r\n\r\n        return promise.catch((err) => {\r\n          if(err.type === 'FILE_REFERENCE_EXPIRED') {\r\n            return this.refreshReference(location).then(invoke);\r\n          }\r\n\r\n          throw err;\r\n        });\r\n      };\r\n\r\n      assumeType<InputFileLocation.inputDocumentFileLocation>(location);\r\n      const reference = location.file_reference;\r\n      if(reference && !location.checkedReference) { // check stream's location because it's new every call\r\n        location.checkedReference = true;\r\n        const hex = bytesToHex(reference);\r\n        if(this.refreshReferencePromises[hex]) {\r\n          return this.refreshReference(location).then(invoke);\r\n        }\r\n      }\r\n\r\n      return invoke();\r\n    }, this.getDelta(limit), queueId);\r\n  }\r\n\r\n  /* private convertBlobToBytes(blob: Blob) {\r\n    return blob.arrayBuffer().then((buffer) => new Uint8Array(buffer));\r\n  } */\r\n\r\n  private getDelta(bytes: number) {\r\n    return bytes / 1024 / 128;\r\n  }\r\n\r\n  private getLimitPart(size: number): number {\r\n    if(!size) { // * sometimes size can be 0 (e.g. avatars, webDocuments)\r\n      return 512 * 1024;\r\n    }\r\n\r\n    let bytes = 128 * 1024;\r\n\r\n    while((size / bytes) > 2000) {\r\n      bytes *= 2;\r\n    }\r\n    /* if(size < 1e6 || !size) bytes = 512;\r\n    else if(size < 3e6) bytes = 256;\r\n    else bytes = 128; */\r\n\r\n    return bytes;\r\n  }\r\n\r\n  private uncompressTGS = (bytes: Uint8Array, fileName: string) => {\r\n    //this.log('uncompressTGS', bytes, bytes.slice().buffer);\r\n    // slice нужен потому что в uint8array - 5053 length, в arraybuffer - 5084\r\n    return this.cryptoWorker.invokeCrypto('gzipUncompress', bytes.slice().buffer, false) as Promise<Uint8Array>;\r\n  };\r\n\r\n  private uncompressTGV = (bytes: Uint8Array, fileName: string) => {\r\n    //this.log('uncompressTGS', bytes, bytes.slice().buffer);\r\n    // slice нужен потому что в uint8array - 5053 length, в arraybuffer - 5084\r\n    const buffer = bytes.slice().buffer;\r\n    if(getEnvironment().IS_FIREFOX) {\r\n      return this.cryptoWorker.invokeCrypto('gzipUncompress', buffer, true).then((text) => {\r\n        return fixFirefoxSvg(text as string);\r\n      }).then((text) => {\r\n        const textEncoder = new TextEncoder();\r\n        return textEncoder.encode(text);\r\n      });\r\n    }\r\n\r\n    return this.cryptoWorker.invokeCrypto('gzipUncompress', buffer, false) as Promise<Uint8Array>;\r\n  };\r\n\r\n  private convertWebp = (bytes: Uint8Array, fileName: string) => {\r\n    const instance = MTProtoMessagePort.getInstance<false>();\r\n    return instance.invoke('convertWebp', {fileName, bytes});\r\n  };\r\n\r\n  private convertOpus = (bytes: Uint8Array, fileName: string) => {\r\n    const instance = MTProtoMessagePort.getInstance<false>();\r\n    return instance.invoke('convertOpus', {fileName, bytes});\r\n  };\r\n\r\n  private refreshReference(inputFileLocation: InputFileLocation) {\r\n    const reference = (inputFileLocation as InputFileLocation.inputDocumentFileLocation).file_reference;\r\n    const hex = bytesToHex(reference);\r\n\r\n    let r = this.refreshReferencePromises[hex];\r\n    if(!r) {\r\n      const deferred = deferredPromise<ReferenceBytes>();\r\n\r\n      r = this.refreshReferencePromises[hex] = {\r\n        deferred,\r\n        timeout: ctx.setTimeout(() => {\r\n          this.log.error('Didn\\'t refresh the reference:', inputFileLocation);\r\n          deferred.reject('REFERENCE_IS_NOT_REFRESHED');\r\n        }, 60000)\r\n      };\r\n\r\n      deferred.catch(noop).finally(() => {\r\n        clearTimeout(r.timeout);\r\n      });\r\n\r\n      this.referenceDatabase.refreshReference(reference).then(deferred.resolve, deferred.reject);\r\n      // const task = {type: 'refreshReference', payload: reference};\r\n      // notifySomeone(task);\r\n    }\r\n\r\n    // have to replace file_reference in any way, because location can be different everytime if it's stream\r\n    return r.deferred.then((reference) => {\r\n      if(hex === bytesToHex(reference)) {\r\n        throw 'REFERENCE_IS_NOT_REFRESHED';\r\n      }\r\n\r\n      (inputFileLocation as InputFileLocation.inputDocumentFileLocation).file_reference = reference;\r\n    });\r\n  }\r\n\r\n  public isDownloading(fileName: string) {\r\n    return !!this.downloadPromises[fileName];\r\n  }\r\n\r\n  public getDownload(fileName: string) {\r\n    return this.downloadPromises[fileName];\r\n  }\r\n\r\n  public getUpload(fileName: string) {\r\n    return this.uploadPromises[fileName];\r\n  }\r\n\r\n  public download(options: DownloadOptions): DownloadPromise {\r\n    if(!fileManager.isAvailable()) {\r\n      return Promise.reject({type: 'BROWSER_BLOB_NOT_SUPPORTED'});\r\n    }\r\n\r\n    const size = options.size ?? 0;\r\n    const {dcId, location} = options;\r\n\r\n    let process: ApiFileManager['uncompressTGS'] | ApiFileManager['convertWebp'];\r\n\r\n    if(options.mimeType === 'application/x-tgwallpattern') {\r\n      process = this.uncompressTGV;\r\n      options.mimeType = 'image/svg+xml';\r\n    } else if(options.mimeType === 'image/webp' && !getEnvironment().IS_WEBP_SUPPORTED) {\r\n      process = this.convertWebp;\r\n      options.mimeType = 'image/png';\r\n    } else if(options.mimeType === 'application/x-tgsticker') {\r\n      process = this.uncompressTGS;\r\n      options.mimeType = 'application/json';\r\n    } else if(options.mimeType === 'audio/ogg' && !getEnvironment().IS_OPUS_SUPPORTED) {\r\n      process = this.convertOpus;\r\n      options.mimeType = 'audio/wav';\r\n    }\r\n\r\n    const fileName = getFileNameByLocation(location, {fileName: options.fileName});\r\n    const cachedPromise = this.downloadPromises[fileName];\r\n    const fileStorage = this.getFileStorage();\r\n\r\n    this.debug && this.log('downloadFile', fileName, size, location, options.mimeType);\r\n\r\n    /* if(options.queueId) {\r\n      this.log.error('downloadFile queueId:', fileName, options.queueId);\r\n    } */\r\n\r\n    if(cachedPromise) {\r\n      //this.log('downloadFile cachedPromise');\r\n\r\n      if(size) {\r\n        return cachedPromise.then((blob) => {\r\n          if(blob instanceof Blob && blob.size < size) {\r\n            this.debug && this.log('downloadFile need to deleteFile, wrong size:', blob.size, size);\r\n\r\n            return this.delete(fileName).then(() => {\r\n              return this.download(options);\r\n            }).catch(() => {\r\n              return this.download(options);\r\n            });\r\n          } else {\r\n            return blob;\r\n          }\r\n        });\r\n      } else {\r\n        return cachedPromise;\r\n      }\r\n    }\r\n\r\n    const deferred: DownloadPromise = deferredPromise();\r\n    const mimeType = options.mimeType || 'image/jpeg';\r\n\r\n    let error: Error;\r\n    let resolved = false;\r\n    let cacheFileWriter: ReturnType<typeof fileManager['getFakeFileWriter']>;\r\n    let errorHandler = (_error: Error) => {\r\n      error = _error;\r\n      delete this.downloadPromises[fileName];\r\n      deferred.reject(error);\r\n      errorHandler = () => {};\r\n\r\n      if(cacheFileWriter && (!error || error.type !== 'DOWNLOAD_CANCELED')) {\r\n        cacheFileWriter.truncate();\r\n      }\r\n    };\r\n\r\n    const id = this.tempId++;\r\n\r\n    fileStorage.getFile(fileName).then(async(blob: Blob) => {\r\n      //this.log('maybe cached', fileName);\r\n      //throw '';\r\n\r\n      if(blob.size < size) {\r\n        //this.log('downloadFile need to deleteFile 2, wrong size:', blob.size, size);\r\n        if(!options.onlyCache) {\r\n          await this.delete(fileName);\r\n        }\r\n\r\n        throw false;\r\n      }\r\n\r\n      deferred.resolve(blob);\r\n    }).catch((err) => {\r\n      if(options.onlyCache) {\r\n        errorHandler(err);\r\n        return;\r\n      }\r\n\r\n      //this.log('not cached', fileName);\r\n      const limit = options.limitPart || this.getLimitPart(size);\r\n      const fileWriterPromise = fileStorage.getFileWriter(fileName, size || limit, mimeType);\r\n\r\n      fileWriterPromise.then((fileWriter) => {\r\n        cacheFileWriter = fileWriter;\r\n        let offset: number;\r\n        let startOffset = 0;\r\n        let writeFilePromise: CancellablePromise<void> = Promise.resolve(),\r\n          writeFileDeferred: CancellablePromise<void>;\r\n        //const maxRequests = 13107200 / limit; // * 100 Mb speed\r\n        const maxRequests = Infinity;\r\n\r\n        //console.error('maxRequests', maxRequests);\r\n\r\n        const processDownloaded = async(bytes: Uint8Array) => {\r\n          if(process) {\r\n            //const perf = performance.now();\r\n            const processed = await process(bytes, fileName);\r\n            //this.log('downloadFile process downloaded time', performance.now() - perf, mimeType, process);\r\n            return processed;\r\n          }\r\n  \r\n          return bytes;\r\n        };\r\n\r\n        const r = location._ === 'inputWebFileLocation' ? this.requestWebFilePart.bind(this) : this.requestFilePart.bind(this);\r\n\r\n        const delayed: Delayed[] = [];\r\n        offset = startOffset;\r\n        do {\r\n          ////this.log('offset:', startOffset);\r\n          writeFileDeferred = deferredPromise<void>();\r\n          delayed.push({offset, writeFilePromise, writeFileDeferred});\r\n          writeFilePromise = writeFileDeferred;\r\n          offset += limit;\r\n        } while(offset < size);\r\n\r\n        let done = 0;\r\n        const superpuper = async() => {\r\n          //if(!delayed.length) return;\r\n\r\n          const {offset, writeFilePromise, writeFileDeferred} = delayed.shift();\r\n          try {\r\n            checkCancel();\r\n\r\n            // @ts-ignore\r\n            const result = await r(dcId, location as any, offset, limit, id, options.queueId, checkCancel);\r\n\r\n            const bytes = result.bytes;\r\n\r\n            if(delayed.length) {\r\n              superpuper();\r\n            }\r\n\r\n            this.debug && this.log('downloadFile requestFilePart result:', fileName, result);\r\n            const isFinal = (offset + limit) >= size || !bytes.byteLength;\r\n            if(bytes.byteLength) {\r\n              //done += limit;\r\n              done += bytes.byteLength;\r\n\r\n              //if(!isFinal) {\r\n                ////this.log('deferred notify 2:', {done: offset + limit, total: size}, deferred);\r\n                const progress: Progress = {done, offset, total: size, fileName};\r\n                deferred.notify(progress);\r\n              //}\r\n\r\n              await writeFilePromise;\r\n              checkCancel();\r\n\r\n              await fileWriter.write(bytes, offset);\r\n            }\r\n\r\n            if(isFinal && process) {\r\n              const bytes = fileWriter.getParts();\r\n              const processedResult = await processDownloaded(bytes);\r\n              checkCancel();\r\n\r\n              fileWriter.replaceParts(processedResult);\r\n            }\r\n\r\n            writeFileDeferred.resolve();\r\n\r\n            if(isFinal) {\r\n              resolved = true;\r\n\r\n              const realSize = size || bytes.byteLength;\r\n              if(!size) {\r\n                fileWriter.trim(realSize);\r\n              }\r\n\r\n              deferred.resolve(fileWriter.finalize(realSize < MAX_FILE_SAVE_SIZE));\r\n            }\r\n          } catch(err) {\r\n            errorHandler(err as Error);\r\n          }\r\n        };\r\n\r\n        for(let i = 0, length = Math.min(maxRequests, delayed.length); i < length; ++i) {\r\n          superpuper();\r\n        }\r\n      }).catch((err) => {\r\n        if(!['STORAGE_OFFLINE'].includes(err)) {\r\n          this.log.error('saveFile error:', err);\r\n        }\r\n      });\r\n    });\r\n\r\n    const checkCancel = () => {\r\n      if(error) {\r\n        throw error;\r\n      }\r\n    };\r\n\r\n    deferred.cancel = () => {\r\n      if(!error && !resolved) {\r\n        const error = new Error('Canceled');\r\n        error.type = 'DOWNLOAD_CANCELED';\r\n        errorHandler(error);\r\n      }\r\n    };\r\n\r\n    deferred.notify = (progress: Progress) => {\r\n      this.rootScope.dispatchEvent('download_progress', progress);\r\n    };\r\n\r\n    this.downloadPromises[fileName] = deferred;\r\n\r\n    deferred.catch(noop).finally(() => {\r\n      delete this.downloadPromises[fileName];\r\n    });\r\n\r\n    return deferred;\r\n  }\r\n\r\n  public downloadMedia(options: DownloadMediaOptions): DownloadPromise {\r\n    let {media, thumb} = options;\r\n    const isPhoto = media._ === 'photo';\r\n    if(isPhoto && !thumb) {\r\n      return Promise.reject('preloadPhoto photoEmpty!');\r\n    }\r\n\r\n    // get original instance with correct file_reference instead of using copies\r\n    const isDocument = media._ === 'document';\r\n    // const isWebDocument = media._ === 'webDocument';\r\n    if(isDocument) media = this.appDocsManager.getDoc((media as Photo.photo).id);\r\n    else if(isPhoto) media = this.appPhotosManager.getPhoto((media as Document.document).id);\r\n\r\n    const {fileName, downloadOptions} = getDownloadMediaDetails(options);\r\n\r\n    let promise = this.getDownload(fileName);\r\n    if(!promise) {\r\n      promise = this.download(downloadOptions);\r\n      \r\n      if(isDocument && !thumb) {\r\n        this.rootScope.dispatchEvent('document_downloading', (media as Document.document).id);\r\n        promise.catch(noop).finally(() => {\r\n          this.rootScope.dispatchEvent('document_downloaded', (media as Document.document).id);\r\n        });\r\n      }\r\n    }\r\n\r\n    return promise;\r\n  }\r\n\r\n  public downloadMediaURL(options: DownloadMediaOptions): Promise<string> {\r\n    const {media, thumb} = options;\r\n\r\n    let cacheContext = this.thumbsStorage.getCacheContext(media as any, thumb?.type);\r\n    if((thumb ? (cacheContext.downloaded >= ('size' in thumb ? thumb.size : 0)) : true) && cacheContext.url) {\r\n      return Promise.resolve(cacheContext.url);\r\n    }\r\n\r\n    return this.downloadMedia(options).then((blob) => {\r\n      if(!cacheContext.downloaded || cacheContext.downloaded < blob.size) {\r\n        const url = URL.createObjectURL(blob);\r\n        cacheContext = this.thumbsStorage.setCacheContextURL(media as any, cacheContext.type, url, blob.size);\r\n      }\r\n\r\n      return cacheContext.url;\r\n    });\r\n  }\r\n\r\n  public downloadMediaVoid(options: DownloadMediaOptions) {\r\n    return this.downloadMedia(options).then(noop);\r\n  }\r\n\r\n  private delete(fileName: string) {\r\n    //this.log('will delete file:', fileName);\r\n    delete this.downloadPromises[fileName];\r\n    return this.getFileStorage().delete(fileName);\r\n  }\r\n\r\n  public upload({file, fileName}: {file: Blob | File, fileName?: string}) {\r\n    const fileSize = file.size, \r\n      isBigFile = fileSize >= 10485760;\r\n\r\n    let canceled = false,\r\n      resolved = false,\r\n      doneParts = 0,\r\n      partSize = 262144; // 256 Kb\r\n\r\n    /* if(fileSize > (524288 * 3000)) {\r\n      partSize = 1024 * 1024;\r\n      activeDelta = 8;\r\n    } else  */if(fileSize > 67108864) {\r\n      partSize = 524288;\r\n    } else if(fileSize < 102400) {\r\n      partSize = 32768;\r\n    }\r\n\r\n    fileName ||= getFileNameForUpload(file);\r\n\r\n    const activeDelta = this.getDelta(partSize);\r\n\r\n    const totalParts = Math.ceil(fileSize / partSize);\r\n    const fileId = randomLong();\r\n\r\n    let _part = 0;\r\n\r\n    const resultInputFile: InputFile = {\r\n      _: isBigFile ? 'inputFileBig' : 'inputFile',\r\n      id: fileId as any,\r\n      parts: totalParts,\r\n      name: fileName,\r\n      md5_checksum: ''\r\n    };\r\n\r\n    const deferred = deferredPromise<typeof resultInputFile>();\r\n    if(totalParts > 4000) {\r\n      deferred.reject({type: 'FILE_TOO_BIG'});\r\n      return deferred;\r\n    }\r\n    \r\n    let errorHandler = (error: any) => {\r\n      if(error?.type !== 'UPLOAD_CANCELED') {\r\n        this.log.error('Up Error', error);\r\n      }\r\n\r\n      deferred.reject(error);\r\n      canceled = true;\r\n      errorHandler = () => {};\r\n    };\r\n\r\n    const method = isBigFile ? 'upload.saveBigFilePart' : 'upload.saveFilePart';\r\n\r\n    const id = this.tempId++;\r\n\r\n    /* setInterval(() => {\r\n      console.log(file);\r\n    }, 1e3); */\r\n\r\n    const self = this;\r\n    function* generator() {\r\n      for(let offset = 0; offset < fileSize; offset += partSize) {\r\n        const part = _part++; // 0, 1\r\n        yield self.downloadRequest('upload', id, () => {\r\n          const blob = file.slice(offset, offset + partSize);\r\n\r\n          return readBlobAsArrayBuffer(blob).then((buffer) => {\r\n            if(canceled) {\r\n              throw {type: 'UPLOAD_CANCELED'};\r\n            }\r\n\r\n            self.debug && self.log('Upload file part, isBig:', isBigFile, part, buffer.byteLength, new Uint8Array(buffer).length, new Uint8Array(buffer).slice().length);\r\n\r\n            /* const u = new Uint8Array(buffer.byteLength);\r\n            for(let i = 0; i < u.length; ++i) {\r\n              //u[i] = Math.random() * 255 | 0;\r\n              u[i] = 0;\r\n            }\r\n            buffer = u.buffer; */\r\n  \r\n            /* setTimeout(() => {\r\n              doneParts++;\r\n              uploadResolve();\r\n  \r\n              //////this.log('Progress', doneParts * partSize / fileSize);\r\n\r\n              self.log('done part', part, doneParts);\r\n  \r\n              deferred.notify({done: doneParts * partSize, total: fileSize});\r\n  \r\n              if(doneParts >= totalParts) {\r\n                deferred.resolve(resultInputFile);\r\n                resolved = true;\r\n              }\r\n            }, 1250);\r\n            return; */\r\n\r\n            return self.apiManager.invokeApi(method, {\r\n              file_id: fileId,\r\n              file_part: part,\r\n              file_total_parts: totalParts,\r\n              bytes: buffer/* new Uint8Array(buffer) */\r\n            } as any, {\r\n              //startMaxLength: partSize + 256,\r\n              fileUpload: true\r\n            }).then(() => {\r\n              if(canceled) {\r\n                return;\r\n              }\r\n\r\n              ++doneParts;\r\n              const progress: Progress = {done: doneParts * partSize, offset, total: fileSize, fileName};\r\n              deferred.notify(progress);\r\n  \r\n              if(doneParts >= totalParts) {\r\n                deferred.resolve(resultInputFile);\r\n                resolved = true;\r\n              }\r\n            }, errorHandler);\r\n          });\r\n        }, activeDelta).catch(errorHandler);\r\n      }\r\n    }\r\n\r\n    const it = generator();\r\n    const process = () => {\r\n      if(canceled) return;\r\n      const r = it.next();\r\n      if(r.done || canceled) return;\r\n      (r.value as Promise<void>).then(process);\r\n    };\r\n\r\n    const maxRequests = Infinity;\r\n    //const maxRequests = 10;\r\n    /* for(let i = 0; i < 10; ++i) {\r\n      process();\r\n    } */\r\n    for(let i = 0, length = Math.min(maxRequests, totalParts); i < length; ++i) {\r\n      process();\r\n    }\r\n\r\n    deferred.cancel = () => {\r\n      //this.log('cancel upload', canceled, resolved);\r\n      if(!canceled && !resolved) {\r\n        canceled = true;\r\n        errorHandler({type: 'UPLOAD_CANCELED'});\r\n      }\r\n    };\r\n\r\n    deferred.notify = (progress: Progress) => {\r\n      this.rootScope.dispatchEvent('download_progress', progress);\r\n    };\r\n\r\n    deferred.finally(() => {\r\n      delete this.uploadPromises[fileName];\r\n    });\r\n\r\n    return this.uploadPromises[fileName] = deferred;\r\n  }\r\n}\r\n","/*\r\n * https://github.com/morethanwords/tweb\r\n * Copyright (C) 2019-2021 Eduard Kuzmenko\r\n * https://github.com/morethanwords/tweb/blob/master/LICENSE\r\n */\r\n\r\nexport default function fixFirefoxSvg(text: string) {\r\n  const svgIndex = text.indexOf('<svg');\r\n  if(svgIndex !== 0) {\r\n    text = text.slice(svgIndex);\r\n  }\r\n\r\n  const [_, __, width, height] = text.match(/viewBox=\"(.+?)\"/)[1].split(' ');\r\n  text = text.replace(/>/, ` width=\"${width}\" height=\"${height}\">`).replace(/[^\\x00-\\x7F]/g, '');\r\n  return text;\r\n}\r\n","/*\r\n * https://github.com/morethanwords/tweb\r\n * Copyright (C) 2019-2021 Eduard Kuzmenko\r\n * https://github.com/morethanwords/tweb/blob/master/LICENSE\r\n */\r\n\r\nimport readBlobAs from \"./readBlobAs\";\r\n\r\nexport default function readBlobAsArrayBuffer(blob: Blob) {\r\n  return readBlobAs(blob, 'readAsArrayBuffer');\r\n}\r\n","/*\r\n * https://github.com/morethanwords/tweb\r\n * Copyright (C) 2019-2021 Eduard Kuzmenko\r\n * https://github.com/morethanwords/tweb/blob/master/LICENSE\r\n */\r\n\r\n// import { IS_WEB_WORKER } from \"../context\";\r\n\r\n// const id = IS_WEB_WORKER ? Math.random() * 0x1000 | 0 : 0;\r\nexport default function readBlobAs(blob: Blob, method: 'readAsText'): Promise<string>;\r\nexport default function readBlobAs(blob: Blob, method: 'readAsDataURL'): Promise<string>;\r\nexport default function readBlobAs(blob: Blob, method: 'readAsArrayBuffer'): Promise<ArrayBuffer>;\r\nexport default function readBlobAs(blob: Blob, method: 'readAsArrayBuffer' | 'readAsText' | 'readAsDataURL'): Promise<any> {\r\n  // const perf = performance.now();\r\n  return new Promise<any>((resolve) => {\r\n    const reader = new FileReader();\r\n    reader.addEventListener('loadend', (e) => {\r\n      // console.log(`readBlobAs [${id}] ${method} time ${performance.now() - perf}`);\r\n      resolve(e.target.result);\r\n    });\r\n    reader[method](blob);\r\n  });\r\n}\r\n","/*\r\n * https://github.com/morethanwords/tweb\r\n * Copyright (C) 2019-2021 Eduard Kuzmenko\r\n * https://github.com/morethanwords/tweb/blob/master/LICENSE\r\n */\r\n\r\nimport ctx from \"../../environment/ctx\";\r\nimport { ignoreRestrictionReasons } from \"../../helpers/restrictions\";\r\nimport { MethodDeclMap, User } from \"../../layer\";\r\nimport { InvokeApiOptions } from \"../../types\";\r\nimport { AppManager } from \"../appManagers/manager\";\r\nimport { ApiError } from \"./apiManager\";\r\nimport { MTAppConfig } from \"./appConfig\";\r\nimport { UserAuth } from \"./mtproto_config\";\r\nimport { MTMessage } from \"./networker\";\r\n\r\ntype HashResult = {\r\n  hash: number,\r\n  result: any\r\n};\r\n\r\ntype HashOptions = {\r\n  [queryJSON: string]: HashResult\r\n};\r\n\r\nexport default abstract class ApiManagerMethods extends AppManager {\r\n  private afterMessageIdTemp: number;\r\n  private hashes: {[method: string]: HashOptions} = {};\r\n  private apiPromisesSingleProcess: {\r\n    [q: string]: Map<any, Promise<any>>\r\n  } = {};\r\n  private apiPromisesSingle: {\r\n    [q: string]: Promise<any>\r\n  } = {};\r\n  private apiPromisesCacheable: {\r\n    [method: string]: {\r\n      [queryJSON: string]: {\r\n        timestamp: number,\r\n        promise: Promise<any>,\r\n        fulfilled: boolean,\r\n        timeout?: number,\r\n        params: any\r\n      }\r\n    }\r\n  } = {};\r\n\r\n  private appConfig: MTAppConfig;\r\n  private getAppConfigPromise: Promise<MTAppConfig>;\r\n\r\n  constructor() {\r\n    super();\r\n    this.afterMessageIdTemp = 0;\r\n  }\r\n\r\n  abstract setUserAuth(userAuth: UserAuth | UserId): Promise<void>;\r\n\r\n  public setUser(user: User) {\r\n    // appUsersManager.saveApiUser(user);\r\n    return this.setUserAuth(user.id);\r\n  }\r\n\r\n  abstract invokeApi<T extends keyof MethodDeclMap>(method: T, params?: MethodDeclMap[T]['req'], options?: InvokeApiOptions): Promise<MethodDeclMap[T]['res']>;\r\n\r\n  public invokeApiAfter<T extends keyof MethodDeclMap>(method: T, params: MethodDeclMap[T]['req'] = {}, options: InvokeApiOptions = {}): Promise<MethodDeclMap[T]['res']> {\r\n    let o = options;\r\n    o.prepareTempMessageId = '' + ++this.afterMessageIdTemp;\r\n    \r\n    o = {...options};\r\n    (options as MTMessage).messageId = o.prepareTempMessageId;\r\n\r\n    //console.log('will invokeApi:', method, params, options);\r\n    return this.invokeApi(method, params, o);\r\n  }\r\n\r\n  public invokeApiHashable<T extends keyof MethodDeclMap, R>(o: {\r\n    method: T, \r\n    processResult?: (response: MethodDeclMap[T]['res']) => R, \r\n    processError?: (error: ApiError) => any,\r\n    params?: Omit<MethodDeclMap[T]['req'], 'hash'>, \r\n    options?: InvokeApiOptions & {cacheKey?: string}\r\n  }) {\r\n    // @ts-ignore\r\n    o.params ??= {};\r\n    o.options ??= {};\r\n    //console.log('will invokeApi:', method, params, options);\r\n\r\n    const {params, options, method} = o;\r\n\r\n    const queryJSON = JSON.stringify(params);\r\n    let cached: HashResult;\r\n    if(this.hashes[method]) {\r\n      cached = this.hashes[method][queryJSON];\r\n      if(cached) {\r\n        (params as any).hash = cached.hash;\r\n      }\r\n    }\r\n\r\n    return this.invokeApiSingleProcess<T, R>({\r\n      method,\r\n      processResult: (result) => {\r\n        if(result._.includes('NotModified')) {\r\n          // this.debug && this.log.warn('NotModified saved!', method, queryJSON);\r\n          return cached.result;\r\n        }\r\n        \r\n        if(result.hash/*  || result.messages */) {\r\n          const hash = result.hash/*  || this.computeHash(result.messages) */;\r\n          \r\n          if(!this.hashes[method]) this.hashes[method] = {};\r\n          this.hashes[method][queryJSON] = {\r\n            hash,\r\n            result\r\n          };\r\n        }\r\n\r\n        if(o.processResult) {\r\n          return o.processResult(result);\r\n        }\r\n  \r\n        return result;\r\n      },\r\n      params,\r\n      options\r\n    });\r\n  }\r\n\r\n  public invokeApiSingle<T extends keyof MethodDeclMap>(method: T, params: MethodDeclMap[T]['req'] = {} as any, options: InvokeApiOptions = {}): Promise<MethodDeclMap[T]['res']> {\r\n    const q = method + '-' + JSON.stringify(params);\r\n    const cache = this.apiPromisesSingle;\r\n    if(cache[q]) {\r\n      return cache[q];\r\n    }\r\n\r\n    return cache[q] = this.invokeApi(method, params, options).finally(() => {\r\n      delete cache[q];\r\n    });\r\n  }\r\n\r\n  public invokeApiSingleProcess<T extends keyof MethodDeclMap, R>(o: {\r\n    method: T, \r\n    processResult: (response: MethodDeclMap[T]['res']) => R, \r\n    processError?: (error: ApiError) => any,\r\n    params?: MethodDeclMap[T]['req'], \r\n    options?: InvokeApiOptions & {cacheKey?: string}\r\n  }): Promise<Awaited<R>> {\r\n    o.params ??= {};\r\n    o.options ??= {};\r\n\r\n    const {method, processResult, processError, params, options} = o;\r\n    const cache = this.apiPromisesSingleProcess;\r\n    const cacheKey = options.cacheKey || JSON.stringify(params);\r\n    const map = cache[method] ?? (cache[method] = new Map());\r\n    const oldPromise = map.get(cacheKey);\r\n    if(oldPromise) {\r\n      return oldPromise;\r\n    }\r\n    \r\n    const originalPromise = this.invokeApi(method, params, options);\r\n    const newPromise: Promise<Awaited<R>> = originalPromise.then(processResult, processError);\r\n\r\n    const p = newPromise.finally(() => {\r\n      map.delete(cacheKey);\r\n      if(!map.size) {\r\n        delete cache[method];\r\n      }\r\n    });\r\n\r\n    map.set(cacheKey, p);\r\n    return p;\r\n  }\r\n\r\n  public invokeApiCacheable<T extends keyof MethodDeclMap>(method: T, params: MethodDeclMap[T]['req'] = {} as any, options: InvokeApiOptions & Partial<{cacheSeconds: number, override: boolean}> = {}): Promise<MethodDeclMap[T]['res']> {\r\n    const cache = this.apiPromisesCacheable[method] ?? (this.apiPromisesCacheable[method] = {});\r\n    const queryJSON = JSON.stringify(params);\r\n    const item = cache[queryJSON];\r\n    if(item && (!options.override || !item.fulfilled)) {\r\n      return item.promise;\r\n    }\r\n\r\n    if(options.override) {\r\n      if(item && item.timeout) {\r\n        clearTimeout(item.timeout);\r\n        delete item.timeout;\r\n      }\r\n\r\n      delete options.override;\r\n    }\r\n\r\n    let timeout: number;\r\n    if(options.cacheSeconds) {\r\n      timeout = ctx.setTimeout(() => {\r\n        delete cache[queryJSON];\r\n      }, options.cacheSeconds * 1000);\r\n      delete options.cacheSeconds;\r\n    }\r\n\r\n    const promise = this.invokeApi(method, params, options);\r\n\r\n    cache[queryJSON] = {\r\n      timestamp: Date.now(),\r\n      fulfilled: false,\r\n      timeout,\r\n      promise,\r\n      params\r\n    };\r\n\r\n    return promise;\r\n  }\r\n\r\n  public clearCache<T extends keyof MethodDeclMap>(method: T, verify: (params: MethodDeclMap[T]['req']) => boolean) {\r\n    const cache = this.apiPromisesCacheable[method];\r\n    if(cache) {\r\n      for(const queryJSON in cache) {\r\n        const item = cache[queryJSON];\r\n        try {\r\n          if(verify(item.params)) {\r\n            if(item.timeout) {\r\n              clearTimeout(item.timeout);\r\n            }\r\n  \r\n            delete cache[queryJSON];\r\n          }\r\n        } catch(err) {\r\n          // this.log.error('clearCache error:', err, queryJSON, item);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  public getConfig() {\r\n    return this.invokeApiCacheable('help.getConfig');\r\n  }\r\n\r\n  public getAppConfig(overwrite?: boolean) {\r\n    if(this.appConfig && !overwrite) return this.appConfig;\r\n    if(this.getAppConfigPromise && !overwrite) return this.getAppConfigPromise;\r\n    const promise: Promise<MTAppConfig> = this.getAppConfigPromise = this.invokeApi('help.getAppConfig').then((config: MTAppConfig) => {\r\n      if(this.getAppConfigPromise !== promise) {\r\n        return this.getAppConfigPromise;\r\n      }\r\n      \r\n      this.appConfig = config;\r\n      ignoreRestrictionReasons(config.ignore_restriction_reasons ?? []);\r\n      return config;\r\n    });\r\n\r\n    return promise;\r\n  }\r\n}\r\n","/*\n * https://github.com/morethanwords/tweb\n * Copyright (C) 2019-2021 Eduard Kuzmenko\n * https://github.com/morethanwords/tweb/blob/master/LICENSE\n * \n * Originally from:\n * https://github.com/zhukov/webogram\n * Copyright (C) 2014 Igor Zhukov <igor.beatle@gmail.com>\n * https://github.com/zhukov/webogram/blob/master/LICENSE\n */\n\n                       \n                                     \n          \n\n                    \nimport transportController from './transports/controller';\nimport MTTransport from './transports/transport';\n          \n\nimport type { UserAuth } from './mtproto_config';\nimport sessionStorage from '../sessionStorage';\nimport MTPNetworker, { MTMessage } from './networker';\n//import { telegramMeWebService } from './mtproto';\nimport { ConnectionType, DcConfigurator, TransportType } from './dcConfigurator';\nimport { logger } from '../logger';\nimport type { DcAuthKey, DcId, DcServerSalt, InvokeApiOptions } from '../../types';\nimport type { MethodDeclMap } from '../../layer';\nimport deferredPromise, { CancellablePromise } from '../../helpers/cancellablePromise';\n//import { clamp } from '../../helpers/number';\nimport App from '../../config/app';\nimport { MOUNT_CLASS_TO } from '../../config/debug';\nimport IDBStorage, { IDB } from '../idb';\nimport CryptoWorker from \"../crypto/cryptoMessagePort\";\nimport ctx from '../../environment/ctx';\nimport noop from '../../helpers/noop';\nimport Modes from '../../config/modes';\nimport bytesFromHex from '../../helpers/bytes/bytesFromHex';\nimport bytesToHex from '../../helpers/bytes/bytesToHex';\nimport isObject from '../../helpers/object/isObject';\nimport pause from '../../helpers/schedulers/pause';\nimport ApiManagerMethods from './api_methods';\nimport { getEnvironment } from '../../environment/utils';\nimport AppStorage from '../storage';\nimport toggleStorages from '../../helpers/toggleStorages';\n\n/* var networker = apiManager.cachedNetworkers.websocket.upload[2];\nnetworker.wrapMtpMessage({\n  _: 'msgs_state_req',\n  msg_ids: [\"6888292542796810828\"]\n}, {\n  notContentRelated: true\n}).then((res) => {\n  console.log('status', res);\n}); */\n\n//console.error('apiManager included!');\n// TODO: если запрос словил флуд, нужно сохранять его параметры и возвращать тот же промис на новый такой же запрос, например - загрузка истории\n\nexport type ApiError = Partial<{\n  code: number,\n  type: string,\n  description: string,\n  originalError: any,\n  stack: string,\n  handled: boolean,\n  input: string,\n  message: ApiError\n}>;\n\n/* class RotatableArray<T> {\n  public array: Array<T> = [];\n  private lastIndex = -1;\n\n  public get() {\n    this.lastIndex = clamp(this.lastIndex + 1, 0, this.array.length - 1);\n    return this.array[this.lastIndex];\n  }\n} */\n\nconst PREMIUM_FILE_NETWORKERS_COUNT = 6;\nconst REGULAR_FILE_NETWORKERS_COUNT = 3;\n\nexport class ApiManager extends ApiManagerMethods {\n  private cachedNetworkers: {\n    [transportType in TransportType]: {\n      [connectionType in ConnectionType]: {\n        [dcId: DcId]: MTPNetworker[]\n      }\n    }\n  };\n  \n  private cachedExportPromise: {[x: number]: Promise<unknown>};\n  private gettingNetworkers: {[dcIdAndType: string]: Promise<MTPNetworker>};\n  private baseDcId: DcId;\n  \n  //public telegramMeNotified = false;\n\n  private log: ReturnType<typeof logger>;\n\n  private afterMessageTempIds: {\n    [tempId: string]: {\n      messageId: string,\n      promise: Promise<any>\n    }\n  };\n\n  private transportType: TransportType;\n\n  private updatesProcessor: (obj: any) => void;\n\n  private loggingOut: boolean;\n\n  constructor() {\n    super();\n    this.log = logger('API');\n\n    this.cachedNetworkers = {} as any;\n    this.cachedExportPromise = {};\n    this.gettingNetworkers = {};\n    this.baseDcId = 0;\n    this.afterMessageTempIds = {};\n\n    this.transportType = Modes.transport;\n\n                        \n    transportController.addEventListener('transport', (transportType) => {\n      this.changeTransportType(transportType);\n    });\n              \n  }\n\n  //private lol = false;\n  \n  // constructor() {\n    //MtpSingleInstanceService.start();\n    \n    /* AppStorage.get<number>('dc').then((dcId) => {\n      if(dcId) {\n        this.baseDcId = dcId;\n      }\n    }); */\n  // }\n  \n  /* public telegramMeNotify(newValue: boolean) {\n    if(this.telegramMeNotified !== newValue) {\n      this.telegramMeNotified = newValue;\n      //telegramMeWebService.setAuthorized(this.telegramMeNotified);\n    }\n  } */\n\n  private getTransportType(connectionType: ConnectionType) {\n                               \n                 \n                                                                                                                           \n                                                                                               \n             \n    // @ts-ignore\n    const transportType: TransportType = this.transportType;\n              \n\n    return transportType;\n  }\n\n  private iterateNetworkers(callback: (o: {networker: MTPNetworker, dcId: DcId, connectionType: ConnectionType, transportType: TransportType, index: number, array: MTPNetworker[]}) => void) {\n    for(const transportType in this.cachedNetworkers) {\n      const connections = this.cachedNetworkers[transportType as TransportType];\n      for(const connectionType in connections) {\n        const dcs = connections[connectionType as ConnectionType];\n        for(const dcId in dcs) {\n          const networkers = dcs[dcId as any as DcId];\n          networkers.forEach((networker, idx, arr) => {\n            callback({\n              networker,\n              dcId: +dcId as DcId,\n              connectionType: connectionType as ConnectionType,\n              transportType: transportType as TransportType,\n              index: idx,\n              array: arr\n            });\n          });\n        }\n      }\n    }\n  }\n\n  private chooseServer(dcId: DcId, connectionType: ConnectionType, transportType: TransportType) {\n    return this.dcConfigurator.chooseServer(dcId, connectionType, transportType, connectionType === 'client', this.rootScope.premium);\n  }\n\n  public changeTransportType(transportType: TransportType) {\n    const oldTransportType = this.transportType;\n    if(oldTransportType === transportType) {\n      return;\n    }\n\n    this.log('changing transport from', oldTransportType, 'to', transportType);\n\n    const oldObject = this.cachedNetworkers[oldTransportType];\n    const newObject = this.cachedNetworkers[transportType];\n    this.cachedNetworkers[transportType] = oldObject;\n    this.cachedNetworkers[oldTransportType] = newObject;\n\n    this.transportType = transportType;\n\n    for(const oldGetKey in this.gettingNetworkers) {\n      const promise = this.gettingNetworkers[oldGetKey];\n      delete this.gettingNetworkers[oldGetKey];\n\n      const newGetKey = oldGetKey.replace(oldTransportType, transportType);\n      this.gettingNetworkers[newGetKey] = promise;\n\n      this.log('changed networker getKey from', oldGetKey, 'to', newGetKey)\n    }\n\n    this.iterateNetworkers((info) => {\n      const transportType = this.getTransportType(info.connectionType);\n      const transport = this.chooseServer(info.dcId, info.connectionType, transportType);\n      this.changeNetworkerTransport(info.networker, transport);\n    });\n  }\n\n  public async getBaseDcId() {\n    if(this.baseDcId) {\n      return this.baseDcId;\n    }\n\n    const baseDcId = await sessionStorage.get('dc');\n    if(!this.baseDcId) {\n      if(!baseDcId) {\n        this.setBaseDcId(App.baseDcId);\n      } else {\n        this.baseDcId = baseDcId;\n      }\n    }\n\n    return this.baseDcId;\n  }\n  \n  public async setUserAuth(userAuth: UserAuth | UserId) {\n    if(typeof(userAuth) === 'string' || typeof(userAuth) === 'number') {\n      userAuth = {dcID: 0, date: Date.now() / 1000 | 0, id: userAuth.toPeerId(false)};\n    }\n\n    this.rootScope.dispatchEvent('user_auth', userAuth);\n\n    if(!userAuth.dcID) {\n      const baseDcId = await this.getBaseDcId();\n      userAuth.dcID = baseDcId;\n    }\n\n    sessionStorage.set({\n      user_auth: userAuth\n    });\n    \n    //this.telegramMeNotify(true);\n  }\n\n  public setBaseDcId(dcId: DcId) {\n    const wasDcId = this.baseDcId;\n    if(wasDcId) { // if migrated set ondrain\n      this.getNetworker(wasDcId).then((networker) => {\n        this.setOnDrainIfNeeded(networker);\n      });\n    }\n\n    this.baseDcId = dcId;\n\n    sessionStorage.set({\n      dc: this.baseDcId\n    });\n  }\n  \n  public async logOut() {\n    if(this.loggingOut) {\n      return;\n    }\n\n    this.loggingOut = true;\n    const storageKeys: Array<DcAuthKey> = [];\n    \n    const prefix = 'dc';\n    for(let dcId = 1; dcId <= 5; dcId++) {\n      storageKeys.push(prefix + dcId + '_auth_key' as any);\n    }\n    \n    // WebPushApiManager.forceUnsubscribe(); // WARNING // moved to worker's master\n    const storageResult = await Promise.all(storageKeys.map((key) => sessionStorage.get(key)));\n    \n    const logoutPromises: Promise<any>[] = [];\n    for(let i = 0; i < storageResult.length; i++) {\n      if(storageResult[i]) {\n        logoutPromises.push(this.invokeApi('auth.logOut', {}, {dcId: (i + 1) as DcId, ignoreErrors: true}));\n      }\n    }\n\n    const clear = async() => {\n      this.baseDcId = undefined;\n      //this.telegramMeNotify(false);\n      await toggleStorages(false, true);\n      IDB.closeDatabases();\n      this.rootScope.dispatchEvent('logging_out');\n    };\n\n    setTimeout(clear, 1e3);\n\n    //return;\n    \n    return Promise.all(logoutPromises).catch((error) => {\n      error.handled = true;\n    }).finally(clear)/* .then(() => {\n      location.pathname = '/';\n    }) */;\n  }\n\n  private generateNetworkerGetKey(dcId: DcId, transportType: TransportType, connectionType: ConnectionType) {\n    return [dcId, transportType, connectionType].join('-');\n  }\n  \n  public getNetworker(dcId: DcId, options: InvokeApiOptions = {}): Promise<MTPNetworker> {\n    const connectionType: ConnectionType = options.fileDownload ? 'download' : (options.fileUpload ? 'upload' : 'client');\n    //const connectionType: ConnectionType = 'client';\n\n    const transportType = this.getTransportType(connectionType);\n    if(!this.cachedNetworkers[transportType]) {\n      this.cachedNetworkers[transportType] = {\n        client: {},\n        download: {},\n        upload: {}\n      };\n    }\n\n    const cache = this.cachedNetworkers[transportType][connectionType];\n    if(!(dcId in cache)) {\n      cache[dcId] = [];\n    }\n    \n    const networkers = cache[dcId];\n    // @ts-ignore\n    const maxNetworkers = connectionType === 'client' || transportType === 'https' ? 1 : (this.rootScope.premium ? PREMIUM_FILE_NETWORKERS_COUNT : REGULAR_FILE_NETWORKERS_COUNT);\n    if(networkers.length >= maxNetworkers) {\n      let i = networkers.length - 1, found = false;\n      for(; i >= 0; --i) {\n        if(networkers[i].isOnline) {\n          found = true;\n          break;\n        }\n      }\n      \n      const networker = found ? networkers.splice(i, 1)[0] : networkers.pop();\n      networkers.unshift(networker);\n      return Promise.resolve(networker);\n    }\n    \n    let getKey = this.generateNetworkerGetKey(dcId, transportType, connectionType);\n    if(this.gettingNetworkers[getKey]) {\n      return this.gettingNetworkers[getKey];\n    }\n\n    const ak: DcAuthKey = `dc${dcId}_auth_key` as any;\n    const ss: DcServerSalt = `dc${dcId}_server_salt` as any;\n    \n    let transport = this.chooseServer(dcId, connectionType, transportType);\n    return this.gettingNetworkers[getKey] = Promise.all([ak, ss].map((key) => sessionStorage.get(key)))\n    .then(async([authKeyHex, serverSaltHex]) => {\n      let networker: MTPNetworker, error: any;\n      if(authKeyHex && authKeyHex.length === 512) {\n        if(!serverSaltHex || serverSaltHex.length !== 16) {\n          serverSaltHex = 'AAAAAAAAAAAAAAAA';\n        }\n        \n        const authKey = bytesFromHex(authKeyHex);\n        const authKeyId = (await CryptoWorker.invokeCrypto('sha1', authKey)).slice(-8);\n        const serverSalt = bytesFromHex(serverSaltHex);\n        \n        networker = this.networkerFactory.getNetworker(dcId, authKey, authKeyId, serverSalt, options);\n      } else {\n        try { // if no saved state\n          const auth = await this.authorizer.auth(dcId);\n  \n          sessionStorage.set({\n            [ak]: bytesToHex(auth.authKey),\n            [ss]: bytesToHex(auth.serverSalt)\n          });\n          \n          networker = this.networkerFactory.getNetworker(dcId, auth.authKey, auth.authKeyId, auth.serverSalt, options);\n        } catch(_error) {\n          error = _error;\n        }\n      }\n\n      // ! cannot get it before this promise because simultaneous changeTransport will change nothing\n      const newTransportType = this.getTransportType(connectionType);\n      if(newTransportType !== transportType) {\n        getKey = this.generateNetworkerGetKey(dcId, newTransportType, connectionType);\n        transport.destroy();\n        DcConfigurator.removeTransport(this.dcConfigurator.chosenServers, transport);\n\n        if(networker) {\n          transport = this.chooseServer(dcId, connectionType, newTransportType);\n        }\n\n        this.log('transport has been changed during authorization from', transportType, 'to', newTransportType);\n      }\n\n      /* networker.onConnectionStatusChange = (online) => {\n        console.log('status:', online);\n      }; */\n      \n      delete this.gettingNetworkers[getKey];\n\n      if(error) {\n        this.log('get networker error', error, (error as Error).stack);\n        throw error;\n      }\n\n      this.changeNetworkerTransport(networker, transport);\n      networkers.unshift(networker);\n      this.setOnDrainIfNeeded(networker);\n      return networker;\n    });\n  }\n\n  public getNetworkerVoid(dcId: DcId) {\n    return this.getNetworker(dcId).then(noop, noop);\n  }\n\n  private changeNetworkerTransport(networker: MTPNetworker, transport?: MTTransport) {\n    const oldTransport = networker.transport;\n    if(oldTransport) {\n      DcConfigurator.removeTransport(this.dcConfigurator.chosenServers, oldTransport);\n    }\n\n    networker.changeTransport(transport);\n  }\n\n  public setOnDrainIfNeeded(networker: MTPNetworker) {\n    if(networker.onDrain) {\n      return;\n    }\n    \n    const checkPromise: Promise<boolean> = networker.isFileNetworker ? \n      Promise.resolve(true) : \n      this.getBaseDcId().then((baseDcId) => networker.dcId !== baseDcId);\n    checkPromise.then((canRelease) => {\n      if(networker.onDrain) {\n        return;\n      }\n      \n      if(canRelease) {\n        networker.onDrain = () => {\n          this.log('networker drain', networker.dcId);\n\n          networker.onDrain = undefined;\n          this.changeNetworkerTransport(networker);\n          networker.destroy();\n          this.networkerFactory.removeNetworker(networker);\n          DcConfigurator.removeTransport(this.cachedNetworkers, networker);\n        };\n\n        networker.setDrainTimeout();\n      }\n    });\n  }\n\n  public setUpdatesProcessor(callback: (obj: any) => void) {\n    this.updatesProcessor = callback;\n    this.networkerFactory.setUpdatesProcessor(callback);\n  }\n  \n  public invokeApi<T extends keyof MethodDeclMap>(method: T, params: MethodDeclMap[T]['req'] = {}, options: InvokeApiOptions = {}): CancellablePromise<MethodDeclMap[T][\"res\"]> {\n    ///////this.log('Invoke api', method, params, options);\n\n    /* if(!this.lol) {\n      networkerFactory.updatesProcessor({_: 'new_session_created'}, true);\n      this.lol = true;\n    } */\n\n    const deferred = deferredPromise<MethodDeclMap[T]['res']>();\n\n    let {afterMessageId, prepareTempMessageId} = options;\n    if(prepareTempMessageId) {\n      deferred.then(() => {\n        delete this.afterMessageTempIds[prepareTempMessageId];\n      });\n    }\n\n    if(MOUNT_CLASS_TO) {\n      const startTime = Date.now();\n      const interval = ctx.setInterval(() => {\n        if(!cachedNetworker || !cachedNetworker.isStopped()) {\n          this.log.error('Request is still processing:', method, params, options, 'time:', (Date.now() - startTime) / 1000);\n        }\n        //this.cachedUploadNetworkers[2].requestMessageStatus();\n      }, 5e3);\n\n      deferred.catch(noop).finally(() => {\n        clearInterval(interval);\n      });\n    }\n\n    const rejectPromise = async(error: ApiError) => {\n      if(!error) {\n        error = {type: 'ERROR_EMPTY'};\n      } else if(!isObject(error)) {\n        error = {message: error};\n      }\n\n      if((error.code === 401 && error.type === 'SESSION_REVOKED') || \n        (error.code === 406 && error.type === 'AUTH_KEY_DUPLICATED')) {\n        this.logOut();\n      }\n\n      if(options.ignoreErrors) {\n        throw error;\n      }\n      \n      if(error.code === 406) {\n        error.handled = true;\n      }\n      \n      if(!options.noErrorBox) {\n        error.input = method;\n        error.stack = stack || (error.originalError && error.originalError.stack) || error.stack || (new Error()).stack;\n        setTimeout(() => {\n          if(!error.handled) {\n            if(error.code === 401) {\n              this.logOut();\n            } else {\n              // ErrorService.show({error: error}); // WARNING\n            }\n            \n            error.handled = true;\n          }\n        }, 100);\n      }\n\n      throw error;\n    };\n    \n    let dcId: DcId;\n    \n    let cachedNetworker: MTPNetworker;\n    let stack = (new Error()).stack || 'empty stack';\n    const performRequest = (): Promise<any> => {\n      if(afterMessageId) {\n        const after = this.afterMessageTempIds[afterMessageId];\n        if(after) {\n          options.afterMessageId = after.messageId;\n        }\n      }\n\n      const promise = cachedNetworker.wrapApiCall(method, params, options);\n\n      if(prepareTempMessageId) {\n        this.afterMessageTempIds[prepareTempMessageId] = {\n          messageId: (options as MTMessage).messageId,\n          promise: deferred\n        };\n      }\n\n      return promise.catch((error: ApiError) => {\n        //if(!options.ignoreErrors) {\n        if(error.type !== 'FILE_REFERENCE_EXPIRED'/*  && error.type !== 'MSG_WAIT_FAILED' */) {\n          this.log.error('Error', error.code, error.type, this.baseDcId, dcId, method, params);\n        }\n        \n        if(error.code === 401 && this.baseDcId === dcId) {\n          if(error.type !== 'SESSION_PASSWORD_NEEDED') {\n            sessionStorage.delete('dc')\n            sessionStorage.delete('user_auth'); // ! возможно тут вообще не нужно это делать, но нужно проверить случай с USER_DEACTIVATED (https://core.telegram.org/api/errors)\n            //this.telegramMeNotify(false);\n          }\n          \n          throw error;\n        } else if(error.code === 401 && this.baseDcId && dcId !== this.baseDcId) {\n          if(this.cachedExportPromise[dcId] === undefined) {\n            const promise = new Promise((exportResolve, exportReject) => {\n              this.invokeApi('auth.exportAuthorization', {dc_id: dcId}, {noErrorBox: true}).then((exportedAuth) => {\n                this.invokeApi('auth.importAuthorization', {\n                  id: exportedAuth.id,\n                  bytes: exportedAuth.bytes\n                }, {dcId, noErrorBox: true}).then(exportResolve, exportReject);\n              }, exportReject);\n            });\n            \n            this.cachedExportPromise[dcId] = promise;\n          }\n          \n          return this.cachedExportPromise[dcId].then(() => performRequest());\n        } else if(error.code === 303) {\n          const newDcId = +error.type.match(/^(PHONE_MIGRATE_|NETWORK_MIGRATE_|USER_MIGRATE_)(\\d+)/)[2] as DcId;\n          if(newDcId !== dcId) {\n            if(options.dcId) {\n              options.dcId = newDcId;\n            } else {\n              this.setBaseDcId(newDcId);\n            }\n            \n            return this.invokeApi(method, params, options);\n          }\n        } else if(error.code === 400 && error.type.indexOf('FILE_MIGRATE') === 0) {\n          const newDcId = +error.type.match(/^(FILE_MIGRATE_)(\\d+)/)[2] as DcId;\n          if(newDcId !== dcId) {\n            options.dcId = newDcId;\n            return this.invokeApi(method, params, options);\n          } else {\n            throw error;\n          }\n        } else if(error.code === 400 && error.type === 'CONNECTION_NOT_INITED') {\n          this.networkerFactory.unsetConnectionInited();\n          return performRequest();\n        } else if(!options.rawError && error.code === 420) {\n          const waitTime = +error.type.match(/^FLOOD_WAIT_(\\d+)/)[1] || 1;\n          \n          if(waitTime > (options.floodMaxTimeout !== undefined ? options.floodMaxTimeout : 60) && !options.prepareTempMessageId) {\n            throw error;\n          }\n          \n          return pause(waitTime/* (waitTime + 5) */ * 1000).then(() => performRequest());\n        } else if(!options.rawError && ['MSG_WAIT_FAILED', 'MSG_WAIT_TIMEOUT'].includes(error.type)) {\n          const after = this.afterMessageTempIds[afterMessageId];\n\n          afterMessageId = undefined;\n          delete options.afterMessageId;\n\n          if(after) return after.promise.then(() => performRequest());\n          else return performRequest();\n        } else if(!options.rawError && error.code === 500) {\n          const now = Date.now();\n          if(options.stopTime) {\n            if(now >= options.stopTime) {\n              throw error;\n            }\n          }\n          \n          options.waitTime = options.waitTime ? Math.min(60, options.waitTime * 1.5) : 1;\n          return pause(options.waitTime * 1000).then(() => performRequest());\n        } else if(error.type === 'UNKNOWN') {\n          return pause(1000).then(() => performRequest());\n        } else {\n          throw error;\n        }\n      });\n    }\n    \n    let p: Promise<MTPNetworker>;\n    if(dcId = (options.dcId || this.baseDcId)) {\n      p = this.getNetworker(dcId, options);\n    } else {\n      p = this.getBaseDcId().then((baseDcId) => this.getNetworker(dcId = baseDcId, options));\n    }\n\n    p.then((networker) => {\n      cachedNetworker = networker;\n      const promise = performRequest();\n      cachedNetworker.attachPromise(deferred, options as MTMessage);\n      return promise;\n    })\n    .then(deferred.resolve)\n    .catch(rejectPromise)\n    .catch(deferred.reject);\n\n    return deferred;\n  }\n}\n","/*\r\n * https://github.com/morethanwords/tweb\r\n * Copyright (C) 2019-2021 Eduard Kuzmenko\r\n * https://github.com/morethanwords/tweb/blob/master/LICENSE\r\n */\r\n\r\nimport applyMixins from \"../../helpers/applyMixins\";\r\nimport EventListenerBase from \"../../helpers/eventListenerBase\";\r\nimport { AppManager } from \"../appManagers/manager\";\r\n\r\nexport type StatePeerType = 'recentSearch' | 'topPeer' | 'dialog' | 'contact' | 'topMessage' | 'self';\r\n\r\ntype PeersStorageKey = `${StatePeerType}_${string | PeerId}` | StatePeerType;\r\n\r\nclass PeersStorage {\r\n  private neededPeers: Map<PeerId, Set<PeersStorageKey>> = new Map();\r\n  private singlePeerMap: Map<PeersStorageKey, Set<PeerId>> = new Map();\r\n\r\n  constructor() {\r\n    this._constructor(false);\r\n  }\r\n\r\n  protected after() {\r\n    this.rootScope.addEventListener('user_auth', () => {\r\n      this.requestPeer(this.appPeersManager.peerId, 'self');\r\n    });\r\n  }\r\n\r\n  public requestPeer(peerId: PeerId, key: PeersStorageKey) {\r\n    let set = this.neededPeers.get(peerId);\r\n    if(set && set.has(key)) {\r\n      return;\r\n    }\r\n\r\n    if(!set) {\r\n      set = new Set();\r\n      this.neededPeers.set(peerId, set);\r\n    }\r\n\r\n    set.add(key);\r\n\r\n    this.dispatchEvent('peerNeeded', peerId);\r\n  }\r\n\r\n  public releasePeer(peerId: PeerId, key: PeersStorageKey) {\r\n    const set = this.neededPeers.get(peerId);\r\n    if(!set) {\r\n      return;\r\n    }\r\n\r\n    set.delete(key);\r\n\r\n    if(!set.size) {\r\n      this.neededPeers.delete(peerId);\r\n      this.dispatchEvent('peerUnneeded', peerId);\r\n    }\r\n  }\r\n\r\n  public requestPeersForKey(peerIds: Set<PeerId> | number[], key: PeersStorageKey) {\r\n    if(Array.isArray(peerIds)) {\r\n      peerIds = new Set(peerIds);\r\n    }\r\n\r\n    let set = this.singlePeerMap.get(key);\r\n    if(set) {\r\n      for(const peerId of set) {\r\n        if(peerIds.has(peerId)) {\r\n          continue;\r\n        }\r\n        \r\n        this.releasePeer(peerId, key);\r\n        set.delete(peerId);\r\n      }\r\n\r\n      if(!set.size && !peerIds.size) {\r\n        this.singlePeerMap.delete(key);\r\n        return;\r\n      }\r\n    }\r\n\r\n    if(peerIds.size) {\r\n      if(!set) {\r\n        set = new Set();\r\n        this.singlePeerMap.set(key, set);\r\n      }\r\n\r\n      for(const peerId of peerIds) {\r\n        if(set.has(peerId)) {\r\n          continue;\r\n        }\r\n\r\n        this.requestPeer(peerId, key);\r\n        set.add(peerId);\r\n      }\r\n    }\r\n  }\r\n\r\n  public isPeerNeeded(peerId: PeerId) {\r\n    return this.neededPeers.has(peerId);\r\n  }\r\n}\r\n\r\ninterface PeersStorage extends EventListenerBase<{\r\n  peerNeeded: (peerId: PeerId) => void,\r\n  peerUnneeded: (peerId: PeerId) => void,\r\n}>, AppManager {}\r\napplyMixins(PeersStorage, [EventListenerBase, AppManager]);\r\n\r\nexport default PeersStorage;\r\n","/*\r\n * https://github.com/morethanwords/tweb\r\n * Copyright (C) 2019-2021 Eduard Kuzmenko\r\n * https://github.com/morethanwords/tweb/blob/master/LICENSE\r\n */\r\n\r\nimport type { WebDocument } from \"../../layer\";\r\nimport type { MyDocument } from \"../appManagers/appDocsManager\";\r\nimport type { MyPhoto } from \"../appManagers/appPhotosManager\";\r\n\r\nexport type ThumbCache = {\r\n  downloaded: number, \r\n  url: string,\r\n  type: string\r\n};\r\n\r\nexport type ThumbsCache = {\r\n  [key: string]: {\r\n    [size: string]: ThumbCache\r\n  }\r\n};\r\n\r\nconst thumbFullSize = 'full';\r\n\r\nexport type ThumbStorageMedia = MyPhoto | MyDocument | WebDocument;\r\n\r\nexport default class ThumbsStorage {\r\n  private thumbsCache: ThumbsCache = {};\r\n\r\n  private getKey(media: ThumbStorageMedia) {\r\n    return media._ + ((media as MyPhoto).id ?? (media as WebDocument).url);\r\n  }\r\n\r\n  public getCacheContext(media: ThumbStorageMedia, thumbSize: string = thumbFullSize): ThumbCache {\r\n    /* if(media._ === 'photo' && thumbSize !== 'i') {\r\n      thumbSize = thumbFullSize;\r\n    } */\r\n\r\n    const cache = this.thumbsCache[this.getKey(media)] ??= {};\r\n    return cache[thumbSize] ??= {downloaded: 0, url: '', type: thumbSize};\r\n  }\r\n\r\n  public setCacheContextURL(media: ThumbStorageMedia, thumbSize: string = thumbFullSize, url: string, downloaded: number = 0) {\r\n    const cacheContext = this.getCacheContext(media, thumbSize);\r\n    cacheContext.url = url;\r\n    cacheContext.downloaded = downloaded;\r\n    return cacheContext;\r\n  }\r\n\r\n  public deleteCacheContext(media: ThumbStorageMedia, thumbSize: string = thumbFullSize) {\r\n    const cache = this.thumbsCache[this.getKey(media)];\r\n    if(cache) {\r\n      delete cache[thumbSize];\r\n    }\r\n  }\r\n}\r\n","/*\r\n * https://github.com/morethanwords/tweb\r\n * Copyright (C) 2019-2021 Eduard Kuzmenko\r\n * https://github.com/morethanwords/tweb/blob/master/LICENSE\r\n */\r\n\r\nexport type MTProtoConstructor = {\r\n  id: number,\r\n  predicate: string,\r\n  params: Array<{\r\n    name: string,\r\n    type: string\r\n  }>,\r\n  type: string\r\n};\r\n\r\nexport type MTProtoMethod = {\r\n  id: number,\r\n  method: string,\r\n  params: Array<{\r\n    name: string,\r\n    type: string\r\n  }>,\r\n  type: string\r\n};\r\n\r\nexport default {\"MTProto\":{\"constructors\":[{\"id\":481674261,\"predicate\":\"vector\",\"params\":[],\"type\":\"Vector t\"},{\"id\":85337187,\"predicate\":\"resPQ\",\"params\":[{\"name\":\"nonce\",\"type\":\"int128\"},{\"name\":\"server_nonce\",\"type\":\"int128\"},{\"name\":\"pq\",\"type\":\"bytes\"},{\"name\":\"server_public_key_fingerprints\",\"type\":\"Vector<long>\"}],\"type\":\"ResPQ\"},{\"id\":-1443537003,\"predicate\":\"p_q_inner_data_dc\",\"params\":[{\"name\":\"pq\",\"type\":\"bytes\"},{\"name\":\"p\",\"type\":\"bytes\"},{\"name\":\"q\",\"type\":\"bytes\"},{\"name\":\"nonce\",\"type\":\"int128\"},{\"name\":\"server_nonce\",\"type\":\"int128\"},{\"name\":\"new_nonce\",\"type\":\"int256\"},{\"name\":\"dc\",\"type\":\"int\"}],\"type\":\"P_Q_inner_data\"},{\"id\":1459478408,\"predicate\":\"p_q_inner_data_temp_dc\",\"params\":[{\"name\":\"pq\",\"type\":\"bytes\"},{\"name\":\"p\",\"type\":\"bytes\"},{\"name\":\"q\",\"type\":\"bytes\"},{\"name\":\"nonce\",\"type\":\"int128\"},{\"name\":\"server_nonce\",\"type\":\"int128\"},{\"name\":\"new_nonce\",\"type\":\"int256\"},{\"name\":\"dc\",\"type\":\"int\"},{\"name\":\"expires_in\",\"type\":\"int\"}],\"type\":\"P_Q_inner_data\"},{\"id\":-790100132,\"predicate\":\"server_DH_params_ok\",\"params\":[{\"name\":\"nonce\",\"type\":\"int128\"},{\"name\":\"server_nonce\",\"type\":\"int128\"},{\"name\":\"encrypted_answer\",\"type\":\"bytes\"}],\"type\":\"Server_DH_Params\"},{\"id\":-1249309254,\"predicate\":\"server_DH_inner_data\",\"params\":[{\"name\":\"nonce\",\"type\":\"int128\"},{\"name\":\"server_nonce\",\"type\":\"int128\"},{\"name\":\"g\",\"type\":\"int\"},{\"name\":\"dh_prime\",\"type\":\"bytes\"},{\"name\":\"g_a\",\"type\":\"bytes\"},{\"name\":\"server_time\",\"type\":\"int\"}],\"type\":\"Server_DH_inner_data\"},{\"id\":1715713620,\"predicate\":\"client_DH_inner_data\",\"params\":[{\"name\":\"nonce\",\"type\":\"int128\"},{\"name\":\"server_nonce\",\"type\":\"int128\"},{\"name\":\"retry_id\",\"type\":\"long\"},{\"name\":\"g_b\",\"type\":\"bytes\"}],\"type\":\"Client_DH_Inner_Data\"},{\"id\":1003222836,\"predicate\":\"dh_gen_ok\",\"params\":[{\"name\":\"nonce\",\"type\":\"int128\"},{\"name\":\"server_nonce\",\"type\":\"int128\"},{\"name\":\"new_nonce_hash1\",\"type\":\"int128\"}],\"type\":\"Set_client_DH_params_answer\"},{\"id\":1188831161,\"predicate\":\"dh_gen_retry\",\"params\":[{\"name\":\"nonce\",\"type\":\"int128\"},{\"name\":\"server_nonce\",\"type\":\"int128\"},{\"name\":\"new_nonce_hash2\",\"type\":\"int128\"}],\"type\":\"Set_client_DH_params_answer\"},{\"id\":-1499615742,\"predicate\":\"dh_gen_fail\",\"params\":[{\"name\":\"nonce\",\"type\":\"int128\"},{\"name\":\"server_nonce\",\"type\":\"int128\"},{\"name\":\"new_nonce_hash3\",\"type\":\"int128\"}],\"type\":\"Set_client_DH_params_answer\"},{\"id\":1973679973,\"predicate\":\"bind_auth_key_inner\",\"params\":[{\"name\":\"nonce\",\"type\":\"long\"},{\"name\":\"temp_auth_key_id\",\"type\":\"long\"},{\"name\":\"perm_auth_key_id\",\"type\":\"long\"},{\"name\":\"temp_session_id\",\"type\":\"long\"},{\"name\":\"expires_at\",\"type\":\"int\"}],\"type\":\"BindAuthKeyInner\"},{\"id\":-212046591,\"predicate\":\"rpc_result\",\"params\":[{\"name\":\"req_msg_id\",\"type\":\"long\"},{\"name\":\"result\",\"type\":\"Object\"}],\"type\":\"RpcResult\"},{\"id\":558156313,\"predicate\":\"rpc_error\",\"params\":[{\"name\":\"error_code\",\"type\":\"int\"},{\"name\":\"error_message\",\"type\":\"string\"}],\"type\":\"RpcError\"},{\"id\":1579864942,\"predicate\":\"rpc_answer_unknown\",\"params\":[],\"type\":\"RpcDropAnswer\"},{\"id\":-847714938,\"predicate\":\"rpc_answer_dropped_running\",\"params\":[],\"type\":\"RpcDropAnswer\"},{\"id\":-1539647305,\"predicate\":\"rpc_answer_dropped\",\"params\":[{\"name\":\"msg_id\",\"type\":\"long\"},{\"name\":\"seq_no\",\"type\":\"int\"},{\"name\":\"bytes\",\"type\":\"int\"}],\"type\":\"RpcDropAnswer\"},{\"id\":155834844,\"predicate\":\"future_salt\",\"params\":[{\"name\":\"valid_since\",\"type\":\"int\"},{\"name\":\"valid_until\",\"type\":\"int\"},{\"name\":\"salt\",\"type\":\"long\"}],\"type\":\"FutureSalt\"},{\"id\":-1370486635,\"predicate\":\"future_salts\",\"params\":[{\"name\":\"req_msg_id\",\"type\":\"long\"},{\"name\":\"now\",\"type\":\"int\"},{\"name\":\"salts\",\"type\":\"vector<future_salt>\"}],\"type\":\"FutureSalts\"},{\"id\":880243653,\"predicate\":\"pong\",\"params\":[{\"name\":\"msg_id\",\"type\":\"long\"},{\"name\":\"ping_id\",\"type\":\"long\"}],\"type\":\"Pong\"},{\"id\":-501201412,\"predicate\":\"destroy_session_ok\",\"params\":[{\"name\":\"session_id\",\"type\":\"long\"}],\"type\":\"DestroySessionRes\"},{\"id\":1658015945,\"predicate\":\"destroy_session_none\",\"params\":[{\"name\":\"session_id\",\"type\":\"long\"}],\"type\":\"DestroySessionRes\"},{\"id\":-1631450872,\"predicate\":\"new_session_created\",\"params\":[{\"name\":\"first_msg_id\",\"type\":\"long\"},{\"name\":\"unique_id\",\"type\":\"long\"},{\"name\":\"server_salt\",\"type\":\"long\"}],\"type\":\"NewSession\"},{\"id\":1945237724,\"predicate\":\"msg_container\",\"params\":[{\"name\":\"messages\",\"type\":\"vector<%Message>\"}],\"type\":\"MessageContainer\"},{\"id\":1538843921,\"predicate\":\"message\",\"params\":[{\"name\":\"msg_id\",\"type\":\"long\"},{\"name\":\"seqno\",\"type\":\"int\"},{\"name\":\"bytes\",\"type\":\"int\"},{\"name\":\"body\",\"type\":\"Object\"}],\"type\":\"Message\"},{\"id\":-530561358,\"predicate\":\"msg_copy\",\"params\":[{\"name\":\"orig_message\",\"type\":\"Message\"}],\"type\":\"MessageCopy\"},{\"id\":812830625,\"predicate\":\"gzip_packed\",\"params\":[{\"name\":\"packed_data\",\"type\":\"bytes\"}],\"type\":\"Object\"},{\"id\":1658238041,\"predicate\":\"msgs_ack\",\"params\":[{\"name\":\"msg_ids\",\"type\":\"Vector<long>\"}],\"type\":\"MsgsAck\"},{\"id\":-1477445615,\"predicate\":\"bad_msg_notification\",\"params\":[{\"name\":\"bad_msg_id\",\"type\":\"long\"},{\"name\":\"bad_msg_seqno\",\"type\":\"int\"},{\"name\":\"error_code\",\"type\":\"int\"}],\"type\":\"BadMsgNotification\"},{\"id\":-307542917,\"predicate\":\"bad_server_salt\",\"params\":[{\"name\":\"bad_msg_id\",\"type\":\"long\"},{\"name\":\"bad_msg_seqno\",\"type\":\"int\"},{\"name\":\"error_code\",\"type\":\"int\"},{\"name\":\"new_server_salt\",\"type\":\"long\"}],\"type\":\"BadMsgNotification\"},{\"id\":2105940488,\"predicate\":\"msg_resend_req\",\"params\":[{\"name\":\"msg_ids\",\"type\":\"Vector<long>\"}],\"type\":\"MsgResendReq\"},{\"id\":-630588590,\"predicate\":\"msgs_state_req\",\"params\":[{\"name\":\"msg_ids\",\"type\":\"Vector<long>\"}],\"type\":\"MsgsStateReq\"},{\"id\":81704317,\"predicate\":\"msgs_state_info\",\"params\":[{\"name\":\"req_msg_id\",\"type\":\"long\"},{\"name\":\"info\",\"type\":\"bytes\"}],\"type\":\"MsgsStateInfo\"},{\"id\":-1933520591,\"predicate\":\"msgs_all_info\",\"params\":[{\"name\":\"msg_ids\",\"type\":\"Vector<long>\"},{\"name\":\"info\",\"type\":\"bytes\"}],\"type\":\"MsgsAllInfo\"},{\"id\":661470918,\"predicate\":\"msg_detailed_info\",\"params\":[{\"name\":\"msg_id\",\"type\":\"long\"},{\"name\":\"answer_msg_id\",\"type\":\"long\"},{\"name\":\"bytes\",\"type\":\"int\"},{\"name\":\"status\",\"type\":\"int\"}],\"type\":\"MsgDetailedInfo\"},{\"id\":-2137147681,\"predicate\":\"msg_new_detailed_info\",\"params\":[{\"name\":\"answer_msg_id\",\"type\":\"long\"},{\"name\":\"bytes\",\"type\":\"int\"},{\"name\":\"status\",\"type\":\"int\"}],\"type\":\"MsgDetailedInfo\"},{\"id\":-161422892,\"predicate\":\"destroy_auth_key_ok\",\"params\":[],\"type\":\"DestroyAuthKeyRes\"},{\"id\":178201177,\"predicate\":\"destroy_auth_key_none\",\"params\":[],\"type\":\"DestroyAuthKeyRes\"},{\"id\":-368010477,\"predicate\":\"destroy_auth_key_fail\",\"params\":[],\"type\":\"DestroyAuthKeyRes\"}],\"methods\":[{\"id\":-1099002127,\"method\":\"req_pq_multi\",\"params\":[{\"name\":\"nonce\",\"type\":\"int128\"}],\"type\":\"ResPQ\"},{\"id\":-686627650,\"method\":\"req_DH_params\",\"params\":[{\"name\":\"nonce\",\"type\":\"int128\"},{\"name\":\"server_nonce\",\"type\":\"int128\"},{\"name\":\"p\",\"type\":\"bytes\"},{\"name\":\"q\",\"type\":\"bytes\"},{\"name\":\"public_key_fingerprint\",\"type\":\"long\"},{\"name\":\"encrypted_data\",\"type\":\"bytes\"}],\"type\":\"Server_DH_Params\"},{\"id\":-184262881,\"method\":\"set_client_DH_params\",\"params\":[{\"name\":\"nonce\",\"type\":\"int128\"},{\"name\":\"server_nonce\",\"type\":\"int128\"},{\"name\":\"encrypted_data\",\"type\":\"bytes\"}],\"type\":\"Set_client_DH_params_answer\"},{\"id\":1491380032,\"method\":\"rpc_drop_answer\",\"params\":[{\"name\":\"req_msg_id\",\"type\":\"long\"}],\"type\":\"RpcDropAnswer\"},{\"id\":-1188971260,\"method\":\"get_future_salts\",\"params\":[{\"name\":\"num\",\"type\":\"int\"}],\"type\":\"FutureSalts\"},{\"id\":2059302892,\"method\":\"ping\",\"params\":[{\"name\":\"ping_id\",\"type\":\"long\"}],\"type\":\"Pong\"},{\"id\":-213746804,\"method\":\"ping_delay_disconnect\",\"params\":[{\"name\":\"ping_id\",\"type\":\"long\"},{\"name\":\"disconnect_delay\",\"type\":\"int\"}],\"type\":\"Pong\"},{\"id\":-414113498,\"method\":\"destroy_session\",\"params\":[{\"name\":\"session_id\",\"type\":\"long\"}],\"type\":\"DestroySessionRes\"},{\"id\":-1835453025,\"method\":\"http_wait\",\"params\":[{\"name\":\"max_delay\",\"type\":\"int\"},{\"name\":\"wait_after\",\"type\":\"int\"},{\"name\":\"max_wait\",\"type\":\"int\"}],\"type\":\"HttpWait\"},{\"id\":-784117408,\"method\":\"destroy_auth_key\",\"params\":[],\"type\":\"DestroyAuthKeyRes\"}]},\"API\":{\"constructors\":[{\"id\":-1132882121,\"predicate\":\"boolFalse\",\"params\":[],\"type\":\"Bool\"},{\"id\":-1720552011,\"predicate\":\"boolTrue\",\"params\":[],\"type\":\"Bool\"},{\"id\":1072550713,\"predicate\":\"true\",\"params\":[],\"type\":\"True\"},{\"id\":481674261,\"predicate\":\"vector\",\"params\":[],\"type\":\"Vector t\"},{\"id\":-994444869,\"predicate\":\"error\",\"params\":[{\"name\":\"code\",\"type\":\"int\"},{\"name\":\"text\",\"type\":\"string\"}],\"type\":\"Error\"},{\"id\":1450380236,\"predicate\":\"null\",\"params\":[],\"type\":\"Null\"},{\"id\":2134579434,\"predicate\":\"inputPeerEmpty\",\"params\":[],\"type\":\"InputPeer\"},{\"id\":2107670217,\"predicate\":\"inputPeerSelf\",\"params\":[],\"type\":\"InputPeer\"},{\"id\":900291769,\"predicate\":\"inputPeerChat\",\"params\":[{\"name\":\"chat_id\",\"type\":\"long\"}],\"type\":\"InputPeer\"},{\"id\":-1182234929,\"predicate\":\"inputUserEmpty\",\"params\":[],\"type\":\"InputUser\"},{\"id\":-138301121,\"predicate\":\"inputUserSelf\",\"params\":[],\"type\":\"InputUser\"},{\"id\":-208488460,\"predicate\":\"inputPhoneContact\",\"params\":[{\"name\":\"client_id\",\"type\":\"long\"},{\"name\":\"phone\",\"type\":\"string\"},{\"name\":\"first_name\",\"type\":\"string\"},{\"name\":\"last_name\",\"type\":\"string\"}],\"type\":\"InputContact\"},{\"id\":-181407105,\"predicate\":\"inputFile\",\"params\":[{\"name\":\"id\",\"type\":\"long\"},{\"name\":\"parts\",\"type\":\"int\"},{\"name\":\"name\",\"type\":\"string\"},{\"name\":\"md5_checksum\",\"type\":\"string\"}],\"type\":\"InputFile\"},{\"id\":-1771768449,\"predicate\":\"inputMediaEmpty\",\"params\":[],\"type\":\"InputMedia\"},{\"id\":505969924,\"predicate\":\"inputMediaUploadedPhoto\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"file\",\"type\":\"InputFile\"},{\"name\":\"stickers\",\"type\":\"flags.0?Vector<InputDocument>\"},{\"name\":\"ttl_seconds\",\"type\":\"flags.1?int\"}],\"type\":\"InputMedia\"},{\"id\":-1279654347,\"predicate\":\"inputMediaPhoto\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"id\",\"type\":\"InputPhoto\"},{\"name\":\"ttl_seconds\",\"type\":\"flags.0?int\"}],\"type\":\"InputMedia\"},{\"id\":-104578748,\"predicate\":\"inputMediaGeoPoint\",\"params\":[{\"name\":\"geo_point\",\"type\":\"InputGeoPoint\"}],\"type\":\"InputMedia\"},{\"id\":-122978821,\"predicate\":\"inputMediaContact\",\"params\":[{\"name\":\"phone_number\",\"type\":\"string\"},{\"name\":\"first_name\",\"type\":\"string\"},{\"name\":\"last_name\",\"type\":\"string\"},{\"name\":\"vcard\",\"type\":\"string\"}],\"type\":\"InputMedia\"},{\"id\":480546647,\"predicate\":\"inputChatPhotoEmpty\",\"params\":[],\"type\":\"InputChatPhoto\"},{\"id\":-968723890,\"predicate\":\"inputChatUploadedPhoto\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"file\",\"type\":\"flags.0?InputFile\"},{\"name\":\"video\",\"type\":\"flags.1?InputFile\"},{\"name\":\"video_start_ts\",\"type\":\"flags.2?double\"}],\"type\":\"InputChatPhoto\"},{\"id\":-1991004873,\"predicate\":\"inputChatPhoto\",\"params\":[{\"name\":\"id\",\"type\":\"InputPhoto\"}],\"type\":\"InputChatPhoto\"},{\"id\":-457104426,\"predicate\":\"inputGeoPointEmpty\",\"params\":[],\"type\":\"InputGeoPoint\"},{\"id\":1210199983,\"predicate\":\"inputGeoPoint\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"lat\",\"type\":\"double\"},{\"name\":\"long\",\"type\":\"double\"},{\"name\":\"accuracy_radius\",\"type\":\"flags.0?int\"}],\"type\":\"InputGeoPoint\"},{\"id\":483901197,\"predicate\":\"inputPhotoEmpty\",\"params\":[],\"type\":\"InputPhoto\"},{\"id\":1001634122,\"predicate\":\"inputPhoto\",\"params\":[{\"name\":\"id\",\"type\":\"long\"},{\"name\":\"access_hash\",\"type\":\"long\"},{\"name\":\"file_reference\",\"type\":\"bytes\"}],\"type\":\"InputPhoto\"},{\"id\":-539317279,\"predicate\":\"inputFileLocation\",\"params\":[{\"name\":\"volume_id\",\"type\":\"long\"},{\"name\":\"local_id\",\"type\":\"int\"},{\"name\":\"secret\",\"type\":\"long\"},{\"name\":\"file_reference\",\"type\":\"bytes\"}],\"type\":\"InputFileLocation\"},{\"id\":1498486562,\"predicate\":\"peerUser\",\"params\":[{\"name\":\"user_id\",\"type\":\"long\"}],\"type\":\"Peer\"},{\"id\":918946202,\"predicate\":\"peerChat\",\"params\":[{\"name\":\"chat_id\",\"type\":\"long\"}],\"type\":\"Peer\"},{\"id\":-1432995067,\"predicate\":\"storage.fileUnknown\",\"params\":[],\"type\":\"storage.FileType\"},{\"id\":1086091090,\"predicate\":\"storage.filePartial\",\"params\":[],\"type\":\"storage.FileType\"},{\"id\":8322574,\"predicate\":\"storage.fileJpeg\",\"params\":[],\"type\":\"storage.FileType\"},{\"id\":-891180321,\"predicate\":\"storage.fileGif\",\"params\":[],\"type\":\"storage.FileType\"},{\"id\":172975040,\"predicate\":\"storage.filePng\",\"params\":[],\"type\":\"storage.FileType\"},{\"id\":-1373745011,\"predicate\":\"storage.filePdf\",\"params\":[],\"type\":\"storage.FileType\"},{\"id\":1384777335,\"predicate\":\"storage.fileMp3\",\"params\":[],\"type\":\"storage.FileType\"},{\"id\":1258941372,\"predicate\":\"storage.fileMov\",\"params\":[],\"type\":\"storage.FileType\"},{\"id\":-1278304028,\"predicate\":\"storage.fileMp4\",\"params\":[],\"type\":\"storage.FileType\"},{\"id\":276907596,\"predicate\":\"storage.fileWebp\",\"params\":[],\"type\":\"storage.FileType\"},{\"id\":-742634630,\"predicate\":\"userEmpty\",\"params\":[{\"name\":\"id\",\"type\":\"long\"}],\"type\":\"User\"},{\"id\":1326562017,\"predicate\":\"userProfilePhotoEmpty\",\"params\":[],\"type\":\"UserProfilePhoto\"},{\"id\":-2100168954,\"predicate\":\"userProfilePhoto\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"has_video\",\"type\":\"flags.0?true\"},{\"name\":\"photo_id\",\"type\":\"long\"},{\"name\":\"stripped_thumb\",\"type\":\"flags.1?bytes\"},{\"name\":\"dc_id\",\"type\":\"int\"}],\"type\":\"UserProfilePhoto\"},{\"id\":164646985,\"predicate\":\"userStatusEmpty\",\"params\":[],\"type\":\"UserStatus\"},{\"id\":-306628279,\"predicate\":\"userStatusOnline\",\"params\":[{\"name\":\"expires\",\"type\":\"int\"}],\"type\":\"UserStatus\"},{\"id\":9203775,\"predicate\":\"userStatusOffline\",\"params\":[{\"name\":\"was_online\",\"type\":\"int\"}],\"type\":\"UserStatus\"},{\"id\":693512293,\"predicate\":\"chatEmpty\",\"params\":[{\"name\":\"id\",\"type\":\"long\"}],\"type\":\"Chat\"},{\"id\":1103884886,\"predicate\":\"chat\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"creator\",\"type\":\"flags.0?true\"},{\"name\":\"left\",\"type\":\"flags.2?true\"},{\"name\":\"deactivated\",\"type\":\"flags.5?true\"},{\"name\":\"call_active\",\"type\":\"flags.23?true\"},{\"name\":\"call_not_empty\",\"type\":\"flags.24?true\"},{\"name\":\"noforwards\",\"type\":\"flags.25?true\"},{\"name\":\"id\",\"type\":\"long\"},{\"name\":\"title\",\"type\":\"string\"},{\"name\":\"photo\",\"type\":\"ChatPhoto\"},{\"name\":\"participants_count\",\"type\":\"int\"},{\"name\":\"date\",\"type\":\"int\"},{\"name\":\"version\",\"type\":\"int\"},{\"name\":\"migrated_to\",\"type\":\"flags.6?InputChannel\"},{\"name\":\"admin_rights\",\"type\":\"flags.14?ChatAdminRights\"},{\"name\":\"default_banned_rights\",\"type\":\"flags.18?ChatBannedRights\"}],\"type\":\"Chat\"},{\"id\":1704108455,\"predicate\":\"chatForbidden\",\"params\":[{\"name\":\"id\",\"type\":\"long\"},{\"name\":\"title\",\"type\":\"string\"}],\"type\":\"Chat\"},{\"id\":-779165146,\"predicate\":\"chatFull\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"can_set_username\",\"type\":\"flags.7?true\"},{\"name\":\"has_scheduled\",\"type\":\"flags.8?true\"},{\"name\":\"id\",\"type\":\"long\"},{\"name\":\"about\",\"type\":\"string\"},{\"name\":\"participants\",\"type\":\"ChatParticipants\"},{\"name\":\"chat_photo\",\"type\":\"flags.2?Photo\"},{\"name\":\"notify_settings\",\"type\":\"PeerNotifySettings\"},{\"name\":\"exported_invite\",\"type\":\"flags.13?ExportedChatInvite\"},{\"name\":\"bot_info\",\"type\":\"flags.3?Vector<BotInfo>\"},{\"name\":\"pinned_msg_id\",\"type\":\"flags.6?int\"},{\"name\":\"folder_id\",\"type\":\"flags.11?int\"},{\"name\":\"call\",\"type\":\"flags.12?InputGroupCall\"},{\"name\":\"ttl_period\",\"type\":\"flags.14?int\"},{\"name\":\"groupcall_default_join_as\",\"type\":\"flags.15?Peer\"},{\"name\":\"theme_emoticon\",\"type\":\"flags.16?string\"},{\"name\":\"requests_pending\",\"type\":\"flags.17?int\"},{\"name\":\"recent_requesters\",\"type\":\"flags.17?Vector<long>\"},{\"name\":\"available_reactions\",\"type\":\"flags.18?Vector<string>\"}],\"type\":\"ChatFull\"},{\"id\":-1070776313,\"predicate\":\"chatParticipant\",\"params\":[{\"name\":\"user_id\",\"type\":\"long\"},{\"name\":\"inviter_id\",\"type\":\"long\"},{\"name\":\"date\",\"type\":\"int\"}],\"type\":\"ChatParticipant\"},{\"id\":-2023500831,\"predicate\":\"chatParticipantsForbidden\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"chat_id\",\"type\":\"long\"},{\"name\":\"self_participant\",\"type\":\"flags.0?ChatParticipant\"}],\"type\":\"ChatParticipants\"},{\"id\":1018991608,\"predicate\":\"chatParticipants\",\"params\":[{\"name\":\"chat_id\",\"type\":\"long\"},{\"name\":\"participants\",\"type\":\"Vector<ChatParticipant>\"},{\"name\":\"version\",\"type\":\"int\"}],\"type\":\"ChatParticipants\"},{\"id\":935395612,\"predicate\":\"chatPhotoEmpty\",\"params\":[],\"type\":\"ChatPhoto\"},{\"id\":476978193,\"predicate\":\"chatPhoto\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"has_video\",\"type\":\"flags.0?true\"},{\"name\":\"photo_id\",\"type\":\"long\"},{\"name\":\"stripped_thumb\",\"type\":\"flags.1?bytes\"},{\"name\":\"dc_id\",\"type\":\"int\"}],\"type\":\"ChatPhoto\"},{\"id\":-1868117372,\"predicate\":\"messageEmpty\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"id\",\"type\":\"int\"},{\"name\":\"peer_id\",\"type\":\"flags.0?Peer\"}],\"type\":\"Message\"},{\"id\":940666592,\"predicate\":\"message\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"out\",\"type\":\"flags.1?true\"},{\"name\":\"mentioned\",\"type\":\"flags.4?true\"},{\"name\":\"media_unread\",\"type\":\"flags.5?true\"},{\"name\":\"silent\",\"type\":\"flags.13?true\"},{\"name\":\"post\",\"type\":\"flags.14?true\"},{\"name\":\"from_scheduled\",\"type\":\"flags.18?true\"},{\"name\":\"legacy\",\"type\":\"flags.19?true\"},{\"name\":\"edit_hide\",\"type\":\"flags.21?true\"},{\"name\":\"pinned\",\"type\":\"flags.24?true\"},{\"name\":\"noforwards\",\"type\":\"flags.26?true\"},{\"name\":\"id\",\"type\":\"int\"},{\"name\":\"from_id\",\"type\":\"flags.8?Peer\"},{\"name\":\"peer_id\",\"type\":\"Peer\"},{\"name\":\"fwd_from\",\"type\":\"flags.2?MessageFwdHeader\"},{\"name\":\"via_bot_id\",\"type\":\"flags.11?long\"},{\"name\":\"reply_to\",\"type\":\"flags.3?MessageReplyHeader\"},{\"name\":\"date\",\"type\":\"int\"},{\"name\":\"message\",\"type\":\"string\"},{\"name\":\"media\",\"type\":\"flags.9?MessageMedia\"},{\"name\":\"reply_markup\",\"type\":\"flags.6?ReplyMarkup\"},{\"name\":\"entities\",\"type\":\"flags.7?Vector<MessageEntity>\"},{\"name\":\"views\",\"type\":\"flags.10?int\"},{\"name\":\"forwards\",\"type\":\"flags.10?int\"},{\"name\":\"replies\",\"type\":\"flags.23?MessageReplies\"},{\"name\":\"edit_date\",\"type\":\"flags.15?int\"},{\"name\":\"post_author\",\"type\":\"flags.16?string\"},{\"name\":\"grouped_id\",\"type\":\"flags.17?long\"},{\"name\":\"reactions\",\"type\":\"flags.20?MessageReactions\"},{\"name\":\"restriction_reason\",\"type\":\"flags.22?Vector<RestrictionReason>\"},{\"name\":\"ttl_period\",\"type\":\"flags.25?int\"}],\"type\":\"Message\"},{\"id\":721967202,\"predicate\":\"messageService\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"out\",\"type\":\"flags.1?true\"},{\"name\":\"mentioned\",\"type\":\"flags.4?true\"},{\"name\":\"media_unread\",\"type\":\"flags.5?true\"},{\"name\":\"silent\",\"type\":\"flags.13?true\"},{\"name\":\"post\",\"type\":\"flags.14?true\"},{\"name\":\"legacy\",\"type\":\"flags.19?true\"},{\"name\":\"id\",\"type\":\"int\"},{\"name\":\"from_id\",\"type\":\"flags.8?Peer\"},{\"name\":\"peer_id\",\"type\":\"Peer\"},{\"name\":\"reply_to\",\"type\":\"flags.3?MessageReplyHeader\"},{\"name\":\"date\",\"type\":\"int\"},{\"name\":\"action\",\"type\":\"MessageAction\"},{\"name\":\"ttl_period\",\"type\":\"flags.25?int\"}],\"type\":\"Message\"},{\"id\":1038967584,\"predicate\":\"messageMediaEmpty\",\"params\":[],\"type\":\"MessageMedia\"},{\"id\":1766936791,\"predicate\":\"messageMediaPhoto\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"photo\",\"type\":\"flags.0?Photo\"},{\"name\":\"ttl_seconds\",\"type\":\"flags.2?int\"}],\"type\":\"MessageMedia\"},{\"id\":1457575028,\"predicate\":\"messageMediaGeo\",\"params\":[{\"name\":\"geo\",\"type\":\"GeoPoint\"}],\"type\":\"MessageMedia\"},{\"id\":1882335561,\"predicate\":\"messageMediaContact\",\"params\":[{\"name\":\"phone_number\",\"type\":\"string\"},{\"name\":\"first_name\",\"type\":\"string\"},{\"name\":\"last_name\",\"type\":\"string\"},{\"name\":\"vcard\",\"type\":\"string\"},{\"name\":\"user_id\",\"type\":\"long\"}],\"type\":\"MessageMedia\"},{\"id\":-1618676578,\"predicate\":\"messageMediaUnsupported\",\"params\":[],\"type\":\"MessageMedia\"},{\"id\":-1230047312,\"predicate\":\"messageActionEmpty\",\"params\":[],\"type\":\"MessageAction\"},{\"id\":-1119368275,\"predicate\":\"messageActionChatCreate\",\"params\":[{\"name\":\"title\",\"type\":\"string\"},{\"name\":\"users\",\"type\":\"Vector<long>\"}],\"type\":\"MessageAction\"},{\"id\":-1247687078,\"predicate\":\"messageActionChatEditTitle\",\"params\":[{\"name\":\"title\",\"type\":\"string\"}],\"type\":\"MessageAction\"},{\"id\":2144015272,\"predicate\":\"messageActionChatEditPhoto\",\"params\":[{\"name\":\"photo\",\"type\":\"Photo\"}],\"type\":\"MessageAction\"},{\"id\":-1780220945,\"predicate\":\"messageActionChatDeletePhoto\",\"params\":[],\"type\":\"MessageAction\"},{\"id\":365886720,\"predicate\":\"messageActionChatAddUser\",\"params\":[{\"name\":\"users\",\"type\":\"Vector<long>\"}],\"type\":\"MessageAction\"},{\"id\":-1539362612,\"predicate\":\"messageActionChatDeleteUser\",\"params\":[{\"name\":\"user_id\",\"type\":\"long\"}],\"type\":\"MessageAction\"},{\"id\":-1460809483,\"predicate\":\"dialog\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"pinned\",\"type\":\"flags.2?true\"},{\"name\":\"unread_mark\",\"type\":\"flags.3?true\"},{\"name\":\"peer\",\"type\":\"Peer\"},{\"name\":\"top_message\",\"type\":\"int\"},{\"name\":\"read_inbox_max_id\",\"type\":\"int\"},{\"name\":\"read_outbox_max_id\",\"type\":\"int\"},{\"name\":\"unread_count\",\"type\":\"int\"},{\"name\":\"unread_mentions_count\",\"type\":\"int\"},{\"name\":\"unread_reactions_count\",\"type\":\"int\"},{\"name\":\"notify_settings\",\"type\":\"PeerNotifySettings\"},{\"name\":\"pts\",\"type\":\"flags.0?int\"},{\"name\":\"draft\",\"type\":\"flags.1?DraftMessage\"},{\"name\":\"folder_id\",\"type\":\"flags.4?int\"}],\"type\":\"Dialog\"},{\"id\":590459437,\"predicate\":\"photoEmpty\",\"params\":[{\"name\":\"id\",\"type\":\"long\"}],\"type\":\"Photo\"},{\"id\":-82216347,\"predicate\":\"photo\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"has_stickers\",\"type\":\"flags.0?true\"},{\"name\":\"id\",\"type\":\"long\"},{\"name\":\"access_hash\",\"type\":\"long\"},{\"name\":\"file_reference\",\"type\":\"bytes\"},{\"name\":\"date\",\"type\":\"int\"},{\"name\":\"sizes\",\"type\":\"Vector<PhotoSize>\"},{\"name\":\"video_sizes\",\"type\":\"flags.1?Vector<VideoSize>\"},{\"name\":\"dc_id\",\"type\":\"int\"}],\"type\":\"Photo\"},{\"id\":236446268,\"predicate\":\"photoSizeEmpty\",\"params\":[{\"name\":\"type\",\"type\":\"string\"}],\"type\":\"PhotoSize\"},{\"id\":1976012384,\"predicate\":\"photoSize\",\"params\":[{\"name\":\"type\",\"type\":\"string\"},{\"name\":\"w\",\"type\":\"int\"},{\"name\":\"h\",\"type\":\"int\"},{\"name\":\"size\",\"type\":\"int\"}],\"type\":\"PhotoSize\"},{\"id\":35527382,\"predicate\":\"photoCachedSize\",\"params\":[{\"name\":\"type\",\"type\":\"string\"},{\"name\":\"w\",\"type\":\"int\"},{\"name\":\"h\",\"type\":\"int\"},{\"name\":\"bytes\",\"type\":\"bytes\"}],\"type\":\"PhotoSize\"},{\"id\":286776671,\"predicate\":\"geoPointEmpty\",\"params\":[],\"type\":\"GeoPoint\"},{\"id\":-1297942941,\"predicate\":\"geoPoint\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"long\",\"type\":\"double\"},{\"name\":\"lat\",\"type\":\"double\"},{\"name\":\"access_hash\",\"type\":\"long\"},{\"name\":\"accuracy_radius\",\"type\":\"flags.0?int\"}],\"type\":\"GeoPoint\"},{\"id\":1577067778,\"predicate\":\"auth.sentCode\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"type\",\"type\":\"auth.SentCodeType\"},{\"name\":\"phone_code_hash\",\"type\":\"string\"},{\"name\":\"next_type\",\"type\":\"flags.1?auth.CodeType\"},{\"name\":\"timeout\",\"type\":\"flags.2?int\"}],\"type\":\"auth.SentCode\"},{\"id\":872119224,\"predicate\":\"auth.authorization\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"setup_password_required\",\"type\":\"flags.1?true\"},{\"name\":\"otherwise_relogin_days\",\"type\":\"flags.1?int\"},{\"name\":\"tmp_sessions\",\"type\":\"flags.0?int\"},{\"name\":\"user\",\"type\":\"User\"}],\"type\":\"auth.Authorization\"},{\"id\":-1271602504,\"predicate\":\"auth.exportedAuthorization\",\"params\":[{\"name\":\"id\",\"type\":\"long\"},{\"name\":\"bytes\",\"type\":\"bytes\"}],\"type\":\"auth.ExportedAuthorization\"},{\"id\":-1195615476,\"predicate\":\"inputNotifyPeer\",\"params\":[{\"name\":\"peer\",\"type\":\"InputPeer\"}],\"type\":\"InputNotifyPeer\"},{\"id\":423314455,\"predicate\":\"inputNotifyUsers\",\"params\":[],\"type\":\"InputNotifyPeer\"},{\"id\":1251338318,\"predicate\":\"inputNotifyChats\",\"params\":[],\"type\":\"InputNotifyPeer\"},{\"id\":-551616469,\"predicate\":\"inputPeerNotifySettings\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"show_previews\",\"type\":\"flags.0?Bool\"},{\"name\":\"silent\",\"type\":\"flags.1?Bool\"},{\"name\":\"mute_until\",\"type\":\"flags.2?int\"},{\"name\":\"sound\",\"type\":\"flags.3?NotificationSound\"}],\"type\":\"InputPeerNotifySettings\"},{\"id\":-1472527322,\"predicate\":\"peerNotifySettings\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"show_previews\",\"type\":\"flags.0?Bool\"},{\"name\":\"silent\",\"type\":\"flags.1?Bool\"},{\"name\":\"mute_until\",\"type\":\"flags.2?int\"},{\"name\":\"ios_sound\",\"type\":\"flags.3?NotificationSound\"},{\"name\":\"android_sound\",\"type\":\"flags.4?NotificationSound\"},{\"name\":\"other_sound\",\"type\":\"flags.5?NotificationSound\"}],\"type\":\"PeerNotifySettings\"},{\"id\":-1525149427,\"predicate\":\"peerSettings\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"report_spam\",\"type\":\"flags.0?true\"},{\"name\":\"add_contact\",\"type\":\"flags.1?true\"},{\"name\":\"block_contact\",\"type\":\"flags.2?true\"},{\"name\":\"share_contact\",\"type\":\"flags.3?true\"},{\"name\":\"need_contacts_exception\",\"type\":\"flags.4?true\"},{\"name\":\"report_geo\",\"type\":\"flags.5?true\"},{\"name\":\"autoarchived\",\"type\":\"flags.7?true\"},{\"name\":\"invite_members\",\"type\":\"flags.8?true\"},{\"name\":\"request_chat_broadcast\",\"type\":\"flags.10?true\"},{\"name\":\"geo_distance\",\"type\":\"flags.6?int\"},{\"name\":\"request_chat_title\",\"type\":\"flags.9?string\"},{\"name\":\"request_chat_date\",\"type\":\"flags.9?int\"}],\"type\":\"PeerSettings\"},{\"id\":-1539849235,\"predicate\":\"wallPaper\",\"params\":[{\"name\":\"id\",\"type\":\"long\"},{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"creator\",\"type\":\"flags.0?true\"},{\"name\":\"default\",\"type\":\"flags.1?true\"},{\"name\":\"pattern\",\"type\":\"flags.3?true\"},{\"name\":\"dark\",\"type\":\"flags.4?true\"},{\"name\":\"access_hash\",\"type\":\"long\"},{\"name\":\"slug\",\"type\":\"string\"},{\"name\":\"document\",\"type\":\"Document\"},{\"name\":\"settings\",\"type\":\"flags.2?WallPaperSettings\"}],\"type\":\"WallPaper\"},{\"id\":1490799288,\"predicate\":\"inputReportReasonSpam\",\"params\":[],\"type\":\"ReportReason\"},{\"id\":505595789,\"predicate\":\"inputReportReasonViolence\",\"params\":[],\"type\":\"ReportReason\"},{\"id\":777640226,\"predicate\":\"inputReportReasonPornography\",\"params\":[],\"type\":\"ReportReason\"},{\"id\":-1376497949,\"predicate\":\"inputReportReasonChildAbuse\",\"params\":[],\"type\":\"ReportReason\"},{\"id\":-1041980751,\"predicate\":\"inputReportReasonOther\",\"params\":[],\"type\":\"ReportReason\"},{\"id\":-1938625919,\"predicate\":\"userFull\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"blocked\",\"type\":\"flags.0?true\"},{\"name\":\"phone_calls_available\",\"type\":\"flags.4?true\"},{\"name\":\"phone_calls_private\",\"type\":\"flags.5?true\"},{\"name\":\"can_pin_message\",\"type\":\"flags.7?true\"},{\"name\":\"has_scheduled\",\"type\":\"flags.12?true\"},{\"name\":\"video_calls_available\",\"type\":\"flags.13?true\"},{\"name\":\"id\",\"type\":\"long\"},{\"name\":\"about\",\"type\":\"flags.1?string\"},{\"name\":\"settings\",\"type\":\"PeerSettings\"},{\"name\":\"profile_photo\",\"type\":\"flags.2?Photo\"},{\"name\":\"notify_settings\",\"type\":\"PeerNotifySettings\"},{\"name\":\"bot_info\",\"type\":\"flags.3?BotInfo\"},{\"name\":\"pinned_msg_id\",\"type\":\"flags.6?int\"},{\"name\":\"common_chats_count\",\"type\":\"int\"},{\"name\":\"folder_id\",\"type\":\"flags.11?int\"},{\"name\":\"ttl_period\",\"type\":\"flags.14?int\"},{\"name\":\"theme_emoticon\",\"type\":\"flags.15?string\"},{\"name\":\"private_forward_name\",\"type\":\"flags.16?string\"},{\"name\":\"bot_group_admin_rights\",\"type\":\"flags.17?ChatAdminRights\"},{\"name\":\"bot_broadcast_admin_rights\",\"type\":\"flags.18?ChatAdminRights\"}],\"type\":\"UserFull\"},{\"id\":341499403,\"predicate\":\"contact\",\"params\":[{\"name\":\"user_id\",\"type\":\"long\"},{\"name\":\"mutual\",\"type\":\"Bool\"}],\"type\":\"Contact\"},{\"id\":-1052885936,\"predicate\":\"importedContact\",\"params\":[{\"name\":\"user_id\",\"type\":\"long\"},{\"name\":\"client_id\",\"type\":\"long\"}],\"type\":\"ImportedContact\"},{\"id\":383348795,\"predicate\":\"contactStatus\",\"params\":[{\"name\":\"user_id\",\"type\":\"long\"},{\"name\":\"status\",\"type\":\"UserStatus\"}],\"type\":\"ContactStatus\"},{\"id\":-1219778094,\"predicate\":\"contacts.contactsNotModified\",\"params\":[],\"type\":\"contacts.Contacts\"},{\"id\":-353862078,\"predicate\":\"contacts.contacts\",\"params\":[{\"name\":\"contacts\",\"type\":\"Vector<Contact>\"},{\"name\":\"saved_count\",\"type\":\"int\"},{\"name\":\"users\",\"type\":\"Vector<User>\"}],\"type\":\"contacts.Contacts\"},{\"id\":2010127419,\"predicate\":\"contacts.importedContacts\",\"params\":[{\"name\":\"imported\",\"type\":\"Vector<ImportedContact>\"},{\"name\":\"popular_invites\",\"type\":\"Vector<PopularContact>\"},{\"name\":\"retry_contacts\",\"type\":\"Vector<long>\"},{\"name\":\"users\",\"type\":\"Vector<User>\"}],\"type\":\"contacts.ImportedContacts\"},{\"id\":182326673,\"predicate\":\"contacts.blocked\",\"params\":[{\"name\":\"blocked\",\"type\":\"Vector<PeerBlocked>\"},{\"name\":\"chats\",\"type\":\"Vector<Chat>\"},{\"name\":\"users\",\"type\":\"Vector<User>\"}],\"type\":\"contacts.Blocked\"},{\"id\":-513392236,\"predicate\":\"contacts.blockedSlice\",\"params\":[{\"name\":\"count\",\"type\":\"int\"},{\"name\":\"blocked\",\"type\":\"Vector<PeerBlocked>\"},{\"name\":\"chats\",\"type\":\"Vector<Chat>\"},{\"name\":\"users\",\"type\":\"Vector<User>\"}],\"type\":\"contacts.Blocked\"},{\"id\":364538944,\"predicate\":\"messages.dialogs\",\"params\":[{\"name\":\"dialogs\",\"type\":\"Vector<Dialog>\"},{\"name\":\"messages\",\"type\":\"Vector<Message>\"},{\"name\":\"chats\",\"type\":\"Vector<Chat>\"},{\"name\":\"users\",\"type\":\"Vector<User>\"}],\"type\":\"messages.Dialogs\"},{\"id\":1910543603,\"predicate\":\"messages.dialogsSlice\",\"params\":[{\"name\":\"count\",\"type\":\"int\"},{\"name\":\"dialogs\",\"type\":\"Vector<Dialog>\"},{\"name\":\"messages\",\"type\":\"Vector<Message>\"},{\"name\":\"chats\",\"type\":\"Vector<Chat>\"},{\"name\":\"users\",\"type\":\"Vector<User>\"}],\"type\":\"messages.Dialogs\"},{\"id\":-1938715001,\"predicate\":\"messages.messages\",\"params\":[{\"name\":\"messages\",\"type\":\"Vector<Message>\"},{\"name\":\"chats\",\"type\":\"Vector<Chat>\"},{\"name\":\"users\",\"type\":\"Vector<User>\"}],\"type\":\"messages.Messages\"},{\"id\":978610270,\"predicate\":\"messages.messagesSlice\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"inexact\",\"type\":\"flags.1?true\"},{\"name\":\"count\",\"type\":\"int\"},{\"name\":\"next_rate\",\"type\":\"flags.0?int\"},{\"name\":\"offset_id_offset\",\"type\":\"flags.2?int\"},{\"name\":\"messages\",\"type\":\"Vector<Message>\"},{\"name\":\"chats\",\"type\":\"Vector<Chat>\"},{\"name\":\"users\",\"type\":\"Vector<User>\"}],\"type\":\"messages.Messages\"},{\"id\":1694474197,\"predicate\":\"messages.chats\",\"params\":[{\"name\":\"chats\",\"type\":\"Vector<Chat>\"}],\"type\":\"messages.Chats\"},{\"id\":-438840932,\"predicate\":\"messages.chatFull\",\"params\":[{\"name\":\"full_chat\",\"type\":\"ChatFull\"},{\"name\":\"chats\",\"type\":\"Vector<Chat>\"},{\"name\":\"users\",\"type\":\"Vector<User>\"}],\"type\":\"messages.ChatFull\"},{\"id\":-1269012015,\"predicate\":\"messages.affectedHistory\",\"params\":[{\"name\":\"pts\",\"type\":\"int\"},{\"name\":\"pts_count\",\"type\":\"int\"},{\"name\":\"offset\",\"type\":\"int\"}],\"type\":\"messages.AffectedHistory\"},{\"id\":1474492012,\"predicate\":\"inputMessagesFilterEmpty\",\"params\":[],\"type\":\"MessagesFilter\"},{\"id\":-1777752804,\"predicate\":\"inputMessagesFilterPhotos\",\"params\":[],\"type\":\"MessagesFilter\"},{\"id\":-1614803355,\"predicate\":\"inputMessagesFilterVideo\",\"params\":[],\"type\":\"MessagesFilter\"},{\"id\":1458172132,\"predicate\":\"inputMessagesFilterPhotoVideo\",\"params\":[],\"type\":\"MessagesFilter\"},{\"id\":-1629621880,\"predicate\":\"inputMessagesFilterDocument\",\"params\":[],\"type\":\"MessagesFilter\"},{\"id\":2129714567,\"predicate\":\"inputMessagesFilterUrl\",\"params\":[],\"type\":\"MessagesFilter\"},{\"id\":-3644025,\"predicate\":\"inputMessagesFilterGif\",\"params\":[],\"type\":\"MessagesFilter\"},{\"id\":522914557,\"predicate\":\"updateNewMessage\",\"params\":[{\"name\":\"message\",\"type\":\"Message\"},{\"name\":\"pts\",\"type\":\"int\"},{\"name\":\"pts_count\",\"type\":\"int\"}],\"type\":\"Update\"},{\"id\":1318109142,\"predicate\":\"updateMessageID\",\"params\":[{\"name\":\"id\",\"type\":\"int\"},{\"name\":\"random_id\",\"type\":\"long\"}],\"type\":\"Update\"},{\"id\":-1576161051,\"predicate\":\"updateDeleteMessages\",\"params\":[{\"name\":\"messages\",\"type\":\"Vector<int>\"},{\"name\":\"pts\",\"type\":\"int\"},{\"name\":\"pts_count\",\"type\":\"int\"}],\"type\":\"Update\"},{\"id\":-1071741569,\"predicate\":\"updateUserTyping\",\"params\":[{\"name\":\"user_id\",\"type\":\"long\"},{\"name\":\"action\",\"type\":\"SendMessageAction\"}],\"type\":\"Update\"},{\"id\":-2092401936,\"predicate\":\"updateChatUserTyping\",\"params\":[{\"name\":\"chat_id\",\"type\":\"long\"},{\"name\":\"from_id\",\"type\":\"Peer\"},{\"name\":\"action\",\"type\":\"SendMessageAction\"}],\"type\":\"Update\"},{\"id\":125178264,\"predicate\":\"updateChatParticipants\",\"params\":[{\"name\":\"participants\",\"type\":\"ChatParticipants\"}],\"type\":\"Update\"},{\"id\":-440534818,\"predicate\":\"updateUserStatus\",\"params\":[{\"name\":\"user_id\",\"type\":\"long\"},{\"name\":\"status\",\"type\":\"UserStatus\"}],\"type\":\"Update\"},{\"id\":-1007549728,\"predicate\":\"updateUserName\",\"params\":[{\"name\":\"user_id\",\"type\":\"long\"},{\"name\":\"first_name\",\"type\":\"string\"},{\"name\":\"last_name\",\"type\":\"string\"},{\"name\":\"username\",\"type\":\"string\"}],\"type\":\"Update\"},{\"id\":-232290676,\"predicate\":\"updateUserPhoto\",\"params\":[{\"name\":\"user_id\",\"type\":\"long\"},{\"name\":\"date\",\"type\":\"int\"},{\"name\":\"photo\",\"type\":\"UserProfilePhoto\"},{\"name\":\"previous\",\"type\":\"Bool\"}],\"type\":\"Update\"},{\"id\":-1519637954,\"predicate\":\"updates.state\",\"params\":[{\"name\":\"pts\",\"type\":\"int\"},{\"name\":\"qts\",\"type\":\"int\"},{\"name\":\"date\",\"type\":\"int\"},{\"name\":\"seq\",\"type\":\"int\"},{\"name\":\"unread_count\",\"type\":\"int\"}],\"type\":\"updates.State\"},{\"id\":1567990072,\"predicate\":\"updates.differenceEmpty\",\"params\":[{\"name\":\"date\",\"type\":\"int\"},{\"name\":\"seq\",\"type\":\"int\"}],\"type\":\"updates.Difference\"},{\"id\":16030880,\"predicate\":\"updates.difference\",\"params\":[{\"name\":\"new_messages\",\"type\":\"Vector<Message>\"},{\"name\":\"new_encrypted_messages\",\"type\":\"Vector<EncryptedMessage>\"},{\"name\":\"other_updates\",\"type\":\"Vector<Update>\"},{\"name\":\"chats\",\"type\":\"Vector<Chat>\"},{\"name\":\"users\",\"type\":\"Vector<User>\"},{\"name\":\"state\",\"type\":\"updates.State\"}],\"type\":\"updates.Difference\"},{\"id\":-1459938943,\"predicate\":\"updates.differenceSlice\",\"params\":[{\"name\":\"new_messages\",\"type\":\"Vector<Message>\"},{\"name\":\"new_encrypted_messages\",\"type\":\"Vector<EncryptedMessage>\"},{\"name\":\"other_updates\",\"type\":\"Vector<Update>\"},{\"name\":\"chats\",\"type\":\"Vector<Chat>\"},{\"name\":\"users\",\"type\":\"Vector<User>\"},{\"name\":\"intermediate_state\",\"type\":\"updates.State\"}],\"type\":\"updates.Difference\"},{\"id\":-484987010,\"predicate\":\"updatesTooLong\",\"params\":[],\"type\":\"Updates\"},{\"id\":826001400,\"predicate\":\"updateShortMessage\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"out\",\"type\":\"flags.1?true\"},{\"name\":\"mentioned\",\"type\":\"flags.4?true\"},{\"name\":\"media_unread\",\"type\":\"flags.5?true\"},{\"name\":\"silent\",\"type\":\"flags.13?true\"},{\"name\":\"id\",\"type\":\"int\"},{\"name\":\"user_id\",\"type\":\"long\"},{\"name\":\"message\",\"type\":\"string\"},{\"name\":\"pts\",\"type\":\"int\"},{\"name\":\"pts_count\",\"type\":\"int\"},{\"name\":\"date\",\"type\":\"int\"},{\"name\":\"fwd_from\",\"type\":\"flags.2?MessageFwdHeader\"},{\"name\":\"via_bot_id\",\"type\":\"flags.11?long\"},{\"name\":\"reply_to\",\"type\":\"flags.3?MessageReplyHeader\"},{\"name\":\"entities\",\"type\":\"flags.7?Vector<MessageEntity>\"},{\"name\":\"ttl_period\",\"type\":\"flags.25?int\"}],\"type\":\"Updates\"},{\"id\":1299050149,\"predicate\":\"updateShortChatMessage\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"out\",\"type\":\"flags.1?true\"},{\"name\":\"mentioned\",\"type\":\"flags.4?true\"},{\"name\":\"media_unread\",\"type\":\"flags.5?true\"},{\"name\":\"silent\",\"type\":\"flags.13?true\"},{\"name\":\"id\",\"type\":\"int\"},{\"name\":\"from_id\",\"type\":\"long\"},{\"name\":\"chat_id\",\"type\":\"long\"},{\"name\":\"message\",\"type\":\"string\"},{\"name\":\"pts\",\"type\":\"int\"},{\"name\":\"pts_count\",\"type\":\"int\"},{\"name\":\"date\",\"type\":\"int\"},{\"name\":\"fwd_from\",\"type\":\"flags.2?MessageFwdHeader\"},{\"name\":\"via_bot_id\",\"type\":\"flags.11?long\"},{\"name\":\"reply_to\",\"type\":\"flags.3?MessageReplyHeader\"},{\"name\":\"entities\",\"type\":\"flags.7?Vector<MessageEntity>\"},{\"name\":\"ttl_period\",\"type\":\"flags.25?int\"}],\"type\":\"Updates\"},{\"id\":2027216577,\"predicate\":\"updateShort\",\"params\":[{\"name\":\"update\",\"type\":\"Update\"},{\"name\":\"date\",\"type\":\"int\"}],\"type\":\"Updates\"},{\"id\":1918567619,\"predicate\":\"updatesCombined\",\"params\":[{\"name\":\"updates\",\"type\":\"Vector<Update>\"},{\"name\":\"users\",\"type\":\"Vector<User>\"},{\"name\":\"chats\",\"type\":\"Vector<Chat>\"},{\"name\":\"date\",\"type\":\"int\"},{\"name\":\"seq_start\",\"type\":\"int\"},{\"name\":\"seq\",\"type\":\"int\"}],\"type\":\"Updates\"},{\"id\":1957577280,\"predicate\":\"updates\",\"params\":[{\"name\":\"updates\",\"type\":\"Vector<Update>\"},{\"name\":\"users\",\"type\":\"Vector<User>\"},{\"name\":\"chats\",\"type\":\"Vector<Chat>\"},{\"name\":\"date\",\"type\":\"int\"},{\"name\":\"seq\",\"type\":\"int\"}],\"type\":\"Updates\"},{\"id\":-1916114267,\"predicate\":\"photos.photos\",\"params\":[{\"name\":\"photos\",\"type\":\"Vector<Photo>\"},{\"name\":\"users\",\"type\":\"Vector<User>\"}],\"type\":\"photos.Photos\"},{\"id\":352657236,\"predicate\":\"photos.photosSlice\",\"params\":[{\"name\":\"count\",\"type\":\"int\"},{\"name\":\"photos\",\"type\":\"Vector<Photo>\"},{\"name\":\"users\",\"type\":\"Vector<User>\"}],\"type\":\"photos.Photos\"},{\"id\":539045032,\"predicate\":\"photos.photo\",\"params\":[{\"name\":\"photo\",\"type\":\"Photo\"},{\"name\":\"users\",\"type\":\"Vector<User>\"}],\"type\":\"photos.Photo\"},{\"id\":157948117,\"predicate\":\"upload.file\",\"params\":[{\"name\":\"type\",\"type\":\"storage.FileType\"},{\"name\":\"mtime\",\"type\":\"int\"},{\"name\":\"bytes\",\"type\":\"bytes\"}],\"type\":\"upload.File\"},{\"id\":414687501,\"predicate\":\"dcOption\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"ipv6\",\"type\":\"flags.0?true\"},{\"name\":\"media_only\",\"type\":\"flags.1?true\"},{\"name\":\"tcpo_only\",\"type\":\"flags.2?true\"},{\"name\":\"cdn\",\"type\":\"flags.3?true\"},{\"name\":\"static\",\"type\":\"flags.4?true\"},{\"name\":\"id\",\"type\":\"int\"},{\"name\":\"ip_address\",\"type\":\"string\"},{\"name\":\"port\",\"type\":\"int\"},{\"name\":\"secret\",\"type\":\"flags.10?bytes\"}],\"type\":\"DcOption\"},{\"id\":856375399,\"predicate\":\"config\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"phonecalls_enabled\",\"type\":\"flags.1?true\"},{\"name\":\"default_p2p_contacts\",\"type\":\"flags.3?true\"},{\"name\":\"preload_featured_stickers\",\"type\":\"flags.4?true\"},{\"name\":\"ignore_phone_entities\",\"type\":\"flags.5?true\"},{\"name\":\"revoke_pm_inbox\",\"type\":\"flags.6?true\"},{\"name\":\"blocked_mode\",\"type\":\"flags.8?true\"},{\"name\":\"pfs_enabled\",\"type\":\"flags.13?true\"},{\"name\":\"date\",\"type\":\"int\"},{\"name\":\"expires\",\"type\":\"int\"},{\"name\":\"test_mode\",\"type\":\"Bool\"},{\"name\":\"this_dc\",\"type\":\"int\"},{\"name\":\"dc_options\",\"type\":\"Vector<DcOption>\"},{\"name\":\"dc_txt_domain_name\",\"type\":\"string\"},{\"name\":\"chat_size_max\",\"type\":\"int\"},{\"name\":\"megagroup_size_max\",\"type\":\"int\"},{\"name\":\"forwarded_count_max\",\"type\":\"int\"},{\"name\":\"online_update_period_ms\",\"type\":\"int\"},{\"name\":\"offline_blur_timeout_ms\",\"type\":\"int\"},{\"name\":\"offline_idle_timeout_ms\",\"type\":\"int\"},{\"name\":\"online_cloud_timeout_ms\",\"type\":\"int\"},{\"name\":\"notify_cloud_delay_ms\",\"type\":\"int\"},{\"name\":\"notify_default_delay_ms\",\"type\":\"int\"},{\"name\":\"push_chat_period_ms\",\"type\":\"int\"},{\"name\":\"push_chat_limit\",\"type\":\"int\"},{\"name\":\"saved_gifs_limit\",\"type\":\"int\"},{\"name\":\"edit_time_limit\",\"type\":\"int\"},{\"name\":\"revoke_time_limit\",\"type\":\"int\"},{\"name\":\"revoke_pm_time_limit\",\"type\":\"int\"},{\"name\":\"rating_e_decay\",\"type\":\"int\"},{\"name\":\"stickers_recent_limit\",\"type\":\"int\"},{\"name\":\"stickers_faved_limit\",\"type\":\"int\"},{\"name\":\"channels_read_media_period\",\"type\":\"int\"},{\"name\":\"tmp_sessions\",\"type\":\"flags.0?int\"},{\"name\":\"pinned_dialogs_count_max\",\"type\":\"int\"},{\"name\":\"pinned_infolder_count_max\",\"type\":\"int\"},{\"name\":\"call_receive_timeout_ms\",\"type\":\"int\"},{\"name\":\"call_ring_timeout_ms\",\"type\":\"int\"},{\"name\":\"call_connect_timeout_ms\",\"type\":\"int\"},{\"name\":\"call_packet_timeout_ms\",\"type\":\"int\"},{\"name\":\"me_url_prefix\",\"type\":\"string\"},{\"name\":\"autoupdate_url_prefix\",\"type\":\"flags.7?string\"},{\"name\":\"gif_search_username\",\"type\":\"flags.9?string\"},{\"name\":\"venue_search_username\",\"type\":\"flags.10?string\"},{\"name\":\"img_search_username\",\"type\":\"flags.11?string\"},{\"name\":\"static_maps_provider\",\"type\":\"flags.12?string\"},{\"name\":\"caption_length_max\",\"type\":\"int\"},{\"name\":\"message_length_max\",\"type\":\"int\"},{\"name\":\"webfile_dc_id\",\"type\":\"int\"},{\"name\":\"suggested_lang_code\",\"type\":\"flags.2?string\"},{\"name\":\"lang_pack_version\",\"type\":\"flags.2?int\"},{\"name\":\"base_lang_pack_version\",\"type\":\"flags.2?int\"}],\"type\":\"Config\"},{\"id\":-1910892683,\"predicate\":\"nearestDc\",\"params\":[{\"name\":\"country\",\"type\":\"string\"},{\"name\":\"this_dc\",\"type\":\"int\"},{\"name\":\"nearest_dc\",\"type\":\"int\"}],\"type\":\"NearestDc\"},{\"id\":-860107216,\"predicate\":\"help.appUpdate\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"can_not_skip\",\"type\":\"flags.0?true\"},{\"name\":\"id\",\"type\":\"int\"},{\"name\":\"version\",\"type\":\"string\"},{\"name\":\"text\",\"type\":\"string\"},{\"name\":\"entities\",\"type\":\"Vector<MessageEntity>\"},{\"name\":\"document\",\"type\":\"flags.1?Document\"},{\"name\":\"url\",\"type\":\"flags.2?string\"},{\"name\":\"sticker\",\"type\":\"flags.3?Document\"}],\"type\":\"help.AppUpdate\"},{\"id\":-1000708810,\"predicate\":\"help.noAppUpdate\",\"params\":[],\"type\":\"help.AppUpdate\"},{\"id\":415997816,\"predicate\":\"help.inviteText\",\"params\":[{\"name\":\"message\",\"type\":\"string\"}],\"type\":\"help.InviteText\"},{\"id\":314359194,\"predicate\":\"updateNewEncryptedMessage\",\"params\":[{\"name\":\"message\",\"type\":\"EncryptedMessage\"},{\"name\":\"qts\",\"type\":\"int\"}],\"type\":\"Update\"},{\"id\":386986326,\"predicate\":\"updateEncryptedChatTyping\",\"params\":[{\"name\":\"chat_id\",\"type\":\"int\"}],\"type\":\"Update\"},{\"id\":-1264392051,\"predicate\":\"updateEncryption\",\"params\":[{\"name\":\"chat\",\"type\":\"EncryptedChat\"},{\"name\":\"date\",\"type\":\"int\"}],\"type\":\"Update\"},{\"id\":956179895,\"predicate\":\"updateEncryptedMessagesRead\",\"params\":[{\"name\":\"chat_id\",\"type\":\"int\"},{\"name\":\"max_date\",\"type\":\"int\"},{\"name\":\"date\",\"type\":\"int\"}],\"type\":\"Update\"},{\"id\":-1417756512,\"predicate\":\"encryptedChatEmpty\",\"params\":[{\"name\":\"id\",\"type\":\"int\"}],\"type\":\"EncryptedChat\"},{\"id\":1722964307,\"predicate\":\"encryptedChatWaiting\",\"params\":[{\"name\":\"id\",\"type\":\"int\"},{\"name\":\"access_hash\",\"type\":\"long\"},{\"name\":\"date\",\"type\":\"int\"},{\"name\":\"admin_id\",\"type\":\"long\"},{\"name\":\"participant_id\",\"type\":\"long\"}],\"type\":\"EncryptedChat\"},{\"id\":1223809356,\"predicate\":\"encryptedChatRequested\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"folder_id\",\"type\":\"flags.0?int\"},{\"name\":\"id\",\"type\":\"int\"},{\"name\":\"access_hash\",\"type\":\"long\"},{\"name\":\"date\",\"type\":\"int\"},{\"name\":\"admin_id\",\"type\":\"long\"},{\"name\":\"participant_id\",\"type\":\"long\"},{\"name\":\"g_a\",\"type\":\"bytes\"}],\"type\":\"EncryptedChat\"},{\"id\":1643173063,\"predicate\":\"encryptedChat\",\"params\":[{\"name\":\"id\",\"type\":\"int\"},{\"name\":\"access_hash\",\"type\":\"long\"},{\"name\":\"date\",\"type\":\"int\"},{\"name\":\"admin_id\",\"type\":\"long\"},{\"name\":\"participant_id\",\"type\":\"long\"},{\"name\":\"g_a_or_b\",\"type\":\"bytes\"},{\"name\":\"key_fingerprint\",\"type\":\"long\"}],\"type\":\"EncryptedChat\"},{\"id\":505183301,\"predicate\":\"encryptedChatDiscarded\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"history_deleted\",\"type\":\"flags.0?true\"},{\"name\":\"id\",\"type\":\"int\"}],\"type\":\"EncryptedChat\"},{\"id\":-247351839,\"predicate\":\"inputEncryptedChat\",\"params\":[{\"name\":\"chat_id\",\"type\":\"int\"},{\"name\":\"access_hash\",\"type\":\"long\"}],\"type\":\"InputEncryptedChat\"},{\"id\":-1038136962,\"predicate\":\"encryptedFileEmpty\",\"params\":[],\"type\":\"EncryptedFile\"},{\"id\":1248893260,\"predicate\":\"encryptedFile\",\"params\":[{\"name\":\"id\",\"type\":\"long\"},{\"name\":\"access_hash\",\"type\":\"long\"},{\"name\":\"size\",\"type\":\"int\"},{\"name\":\"dc_id\",\"type\":\"int\"},{\"name\":\"key_fingerprint\",\"type\":\"int\"}],\"type\":\"EncryptedFile\"},{\"id\":406307684,\"predicate\":\"inputEncryptedFileEmpty\",\"params\":[],\"type\":\"InputEncryptedFile\"},{\"id\":1690108678,\"predicate\":\"inputEncryptedFileUploaded\",\"params\":[{\"name\":\"id\",\"type\":\"long\"},{\"name\":\"parts\",\"type\":\"int\"},{\"name\":\"md5_checksum\",\"type\":\"string\"},{\"name\":\"key_fingerprint\",\"type\":\"int\"}],\"type\":\"InputEncryptedFile\"},{\"id\":1511503333,\"predicate\":\"inputEncryptedFile\",\"params\":[{\"name\":\"id\",\"type\":\"long\"},{\"name\":\"access_hash\",\"type\":\"long\"}],\"type\":\"InputEncryptedFile\"},{\"id\":-182231723,\"predicate\":\"inputEncryptedFileLocation\",\"params\":[{\"name\":\"id\",\"type\":\"long\"},{\"name\":\"access_hash\",\"type\":\"long\"}],\"type\":\"InputFileLocation\"},{\"id\":-317144808,\"predicate\":\"encryptedMessage\",\"params\":[{\"name\":\"random_id\",\"type\":\"long\"},{\"name\":\"chat_id\",\"type\":\"int\"},{\"name\":\"date\",\"type\":\"int\"},{\"name\":\"bytes\",\"type\":\"bytes\"},{\"name\":\"file\",\"type\":\"EncryptedFile\"}],\"type\":\"EncryptedMessage\"},{\"id\":594758406,\"predicate\":\"encryptedMessageService\",\"params\":[{\"name\":\"random_id\",\"type\":\"long\"},{\"name\":\"chat_id\",\"type\":\"int\"},{\"name\":\"date\",\"type\":\"int\"},{\"name\":\"bytes\",\"type\":\"bytes\"}],\"type\":\"EncryptedMessage\"},{\"id\":-1058912715,\"predicate\":\"messages.dhConfigNotModified\",\"params\":[{\"name\":\"random\",\"type\":\"bytes\"}],\"type\":\"messages.DhConfig\"},{\"id\":740433629,\"predicate\":\"messages.dhConfig\",\"params\":[{\"name\":\"g\",\"type\":\"int\"},{\"name\":\"p\",\"type\":\"bytes\"},{\"name\":\"version\",\"type\":\"int\"},{\"name\":\"random\",\"type\":\"bytes\"}],\"type\":\"messages.DhConfig\"},{\"id\":1443858741,\"predicate\":\"messages.sentEncryptedMessage\",\"params\":[{\"name\":\"date\",\"type\":\"int\"}],\"type\":\"messages.SentEncryptedMessage\"},{\"id\":-1802240206,\"predicate\":\"messages.sentEncryptedFile\",\"params\":[{\"name\":\"date\",\"type\":\"int\"},{\"name\":\"file\",\"type\":\"EncryptedFile\"}],\"type\":\"messages.SentEncryptedMessage\"},{\"id\":-95482955,\"predicate\":\"inputFileBig\",\"params\":[{\"name\":\"id\",\"type\":\"long\"},{\"name\":\"parts\",\"type\":\"int\"},{\"name\":\"name\",\"type\":\"string\"}],\"type\":\"InputFile\"},{\"id\":767652808,\"predicate\":\"inputEncryptedFileBigUploaded\",\"params\":[{\"name\":\"id\",\"type\":\"long\"},{\"name\":\"parts\",\"type\":\"int\"},{\"name\":\"key_fingerprint\",\"type\":\"int\"}],\"type\":\"InputEncryptedFile\"},{\"id\":1037718609,\"predicate\":\"updateChatParticipantAdd\",\"params\":[{\"name\":\"chat_id\",\"type\":\"long\"},{\"name\":\"user_id\",\"type\":\"long\"},{\"name\":\"inviter_id\",\"type\":\"long\"},{\"name\":\"date\",\"type\":\"int\"},{\"name\":\"version\",\"type\":\"int\"}],\"type\":\"Update\"},{\"id\":-483443337,\"predicate\":\"updateChatParticipantDelete\",\"params\":[{\"name\":\"chat_id\",\"type\":\"long\"},{\"name\":\"user_id\",\"type\":\"long\"},{\"name\":\"version\",\"type\":\"int\"}],\"type\":\"Update\"},{\"id\":-1906403213,\"predicate\":\"updateDcOptions\",\"params\":[{\"name\":\"dc_options\",\"type\":\"Vector<DcOption>\"}],\"type\":\"Update\"},{\"id\":1530447553,\"predicate\":\"inputMediaUploadedDocument\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"nosound_video\",\"type\":\"flags.3?true\"},{\"name\":\"force_file\",\"type\":\"flags.4?true\"},{\"name\":\"file\",\"type\":\"InputFile\"},{\"name\":\"thumb\",\"type\":\"flags.2?InputFile\"},{\"name\":\"mime_type\",\"type\":\"string\"},{\"name\":\"attributes\",\"type\":\"Vector<DocumentAttribute>\"},{\"name\":\"stickers\",\"type\":\"flags.0?Vector<InputDocument>\"},{\"name\":\"ttl_seconds\",\"type\":\"flags.1?int\"}],\"type\":\"InputMedia\"},{\"id\":860303448,\"predicate\":\"inputMediaDocument\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"id\",\"type\":\"InputDocument\"},{\"name\":\"ttl_seconds\",\"type\":\"flags.0?int\"},{\"name\":\"query\",\"type\":\"flags.1?string\"}],\"type\":\"InputMedia\"},{\"id\":-1666158377,\"predicate\":\"messageMediaDocument\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"document\",\"type\":\"flags.0?Document\"},{\"name\":\"ttl_seconds\",\"type\":\"flags.2?int\"}],\"type\":\"MessageMedia\"},{\"id\":1928391342,\"predicate\":\"inputDocumentEmpty\",\"params\":[],\"type\":\"InputDocument\"},{\"id\":448771445,\"predicate\":\"inputDocument\",\"params\":[{\"name\":\"id\",\"type\":\"long\"},{\"name\":\"access_hash\",\"type\":\"long\"},{\"name\":\"file_reference\",\"type\":\"bytes\"}],\"type\":\"InputDocument\"},{\"id\":-1160743548,\"predicate\":\"inputDocumentFileLocation\",\"params\":[{\"name\":\"id\",\"type\":\"long\"},{\"name\":\"access_hash\",\"type\":\"long\"},{\"name\":\"file_reference\",\"type\":\"bytes\"},{\"name\":\"thumb_size\",\"type\":\"string\"}],\"type\":\"InputFileLocation\"},{\"id\":922273905,\"predicate\":\"documentEmpty\",\"params\":[{\"name\":\"id\",\"type\":\"long\"}],\"type\":\"Document\"},{\"id\":512177195,\"predicate\":\"document\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"id\",\"type\":\"long\"},{\"name\":\"access_hash\",\"type\":\"long\"},{\"name\":\"file_reference\",\"type\":\"bytes\"},{\"name\":\"date\",\"type\":\"int\"},{\"name\":\"mime_type\",\"type\":\"string\"},{\"name\":\"size\",\"type\":\"int\"},{\"name\":\"thumbs\",\"type\":\"flags.0?Vector<PhotoSize>\"},{\"name\":\"video_thumbs\",\"type\":\"flags.1?Vector<VideoSize>\"},{\"name\":\"dc_id\",\"type\":\"int\"},{\"name\":\"attributes\",\"type\":\"Vector<DocumentAttribute>\"}],\"type\":\"Document\"},{\"id\":398898678,\"predicate\":\"help.support\",\"params\":[{\"name\":\"phone_number\",\"type\":\"string\"},{\"name\":\"user\",\"type\":\"User\"}],\"type\":\"help.Support\"},{\"id\":-1613493288,\"predicate\":\"notifyPeer\",\"params\":[{\"name\":\"peer\",\"type\":\"Peer\"}],\"type\":\"NotifyPeer\"},{\"id\":-1261946036,\"predicate\":\"notifyUsers\",\"params\":[],\"type\":\"NotifyPeer\"},{\"id\":-1073230141,\"predicate\":\"notifyChats\",\"params\":[],\"type\":\"NotifyPeer\"},{\"id\":-1094555409,\"predicate\":\"updateNotifySettings\",\"params\":[{\"name\":\"peer\",\"type\":\"NotifyPeer\"},{\"name\":\"notify_settings\",\"type\":\"PeerNotifySettings\"}],\"type\":\"Update\"},{\"id\":381645902,\"predicate\":\"sendMessageTypingAction\",\"params\":[],\"type\":\"SendMessageAction\"},{\"id\":-44119819,\"predicate\":\"sendMessageCancelAction\",\"params\":[],\"type\":\"SendMessageAction\"},{\"id\":-1584933265,\"predicate\":\"sendMessageRecordVideoAction\",\"params\":[],\"type\":\"SendMessageAction\"},{\"id\":-378127636,\"predicate\":\"sendMessageUploadVideoAction\",\"params\":[{\"name\":\"progress\",\"type\":\"int\"}],\"type\":\"SendMessageAction\"},{\"id\":-718310409,\"predicate\":\"sendMessageRecordAudioAction\",\"params\":[],\"type\":\"SendMessageAction\"},{\"id\":-212740181,\"predicate\":\"sendMessageUploadAudioAction\",\"params\":[{\"name\":\"progress\",\"type\":\"int\"}],\"type\":\"SendMessageAction\"},{\"id\":-774682074,\"predicate\":\"sendMessageUploadPhotoAction\",\"params\":[{\"name\":\"progress\",\"type\":\"int\"}],\"type\":\"SendMessageAction\"},{\"id\":-1441998364,\"predicate\":\"sendMessageUploadDocumentAction\",\"params\":[{\"name\":\"progress\",\"type\":\"int\"}],\"type\":\"SendMessageAction\"},{\"id\":393186209,\"predicate\":\"sendMessageGeoLocationAction\",\"params\":[],\"type\":\"SendMessageAction\"},{\"id\":1653390447,\"predicate\":\"sendMessageChooseContactAction\",\"params\":[],\"type\":\"SendMessageAction\"},{\"id\":-1290580579,\"predicate\":\"contacts.found\",\"params\":[{\"name\":\"my_results\",\"type\":\"Vector<Peer>\"},{\"name\":\"results\",\"type\":\"Vector<Peer>\"},{\"name\":\"chats\",\"type\":\"Vector<Chat>\"},{\"name\":\"users\",\"type\":\"Vector<User>\"}],\"type\":\"contacts.Found\"},{\"id\":-337352679,\"predicate\":\"updateServiceNotification\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"popup\",\"type\":\"flags.0?true\"},{\"name\":\"inbox_date\",\"type\":\"flags.1?int\"},{\"name\":\"type\",\"type\":\"string\"},{\"name\":\"message\",\"type\":\"string\"},{\"name\":\"media\",\"type\":\"MessageMedia\"},{\"name\":\"entities\",\"type\":\"Vector<MessageEntity>\"}],\"type\":\"Update\"},{\"id\":-496024847,\"predicate\":\"userStatusRecently\",\"params\":[],\"type\":\"UserStatus\"},{\"id\":129960444,\"predicate\":\"userStatusLastWeek\",\"params\":[],\"type\":\"UserStatus\"},{\"id\":2011940674,\"predicate\":\"userStatusLastMonth\",\"params\":[],\"type\":\"UserStatus\"},{\"id\":-298113238,\"predicate\":\"updatePrivacy\",\"params\":[{\"name\":\"key\",\"type\":\"PrivacyKey\"},{\"name\":\"rules\",\"type\":\"Vector<PrivacyRule>\"}],\"type\":\"Update\"},{\"id\":1335282456,\"predicate\":\"inputPrivacyKeyStatusTimestamp\",\"params\":[],\"type\":\"InputPrivacyKey\"},{\"id\":-1137792208,\"predicate\":\"privacyKeyStatusTimestamp\",\"params\":[],\"type\":\"PrivacyKey\"},{\"id\":218751099,\"predicate\":\"inputPrivacyValueAllowContacts\",\"params\":[],\"type\":\"InputPrivacyRule\"},{\"id\":407582158,\"predicate\":\"inputPrivacyValueAllowAll\",\"params\":[],\"type\":\"InputPrivacyRule\"},{\"id\":320652927,\"predicate\":\"inputPrivacyValueAllowUsers\",\"params\":[{\"name\":\"users\",\"type\":\"Vector<InputUser>\"}],\"type\":\"InputPrivacyRule\"},{\"id\":195371015,\"predicate\":\"inputPrivacyValueDisallowContacts\",\"params\":[],\"type\":\"InputPrivacyRule\"},{\"id\":-697604407,\"predicate\":\"inputPrivacyValueDisallowAll\",\"params\":[],\"type\":\"InputPrivacyRule\"},{\"id\":-1877932953,\"predicate\":\"inputPrivacyValueDisallowUsers\",\"params\":[{\"name\":\"users\",\"type\":\"Vector<InputUser>\"}],\"type\":\"InputPrivacyRule\"},{\"id\":-123988,\"predicate\":\"privacyValueAllowContacts\",\"params\":[],\"type\":\"PrivacyRule\"},{\"id\":1698855810,\"predicate\":\"privacyValueAllowAll\",\"params\":[],\"type\":\"PrivacyRule\"},{\"id\":-1198497870,\"predicate\":\"privacyValueAllowUsers\",\"params\":[{\"name\":\"users\",\"type\":\"Vector<long>\"}],\"type\":\"PrivacyRule\"},{\"id\":-125240806,\"predicate\":\"privacyValueDisallowContacts\",\"params\":[],\"type\":\"PrivacyRule\"},{\"id\":-1955338397,\"predicate\":\"privacyValueDisallowAll\",\"params\":[],\"type\":\"PrivacyRule\"},{\"id\":-463335103,\"predicate\":\"privacyValueDisallowUsers\",\"params\":[{\"name\":\"users\",\"type\":\"Vector<long>\"}],\"type\":\"PrivacyRule\"},{\"id\":1352683077,\"predicate\":\"account.privacyRules\",\"params\":[{\"name\":\"rules\",\"type\":\"Vector<PrivacyRule>\"},{\"name\":\"chats\",\"type\":\"Vector<Chat>\"},{\"name\":\"users\",\"type\":\"Vector<User>\"}],\"type\":\"account.PrivacyRules\"},{\"id\":-1194283041,\"predicate\":\"accountDaysTTL\",\"params\":[{\"name\":\"days\",\"type\":\"int\"}],\"type\":\"AccountDaysTTL\"},{\"id\":88680979,\"predicate\":\"updateUserPhone\",\"params\":[{\"name\":\"user_id\",\"type\":\"long\"},{\"name\":\"phone\",\"type\":\"string\"}],\"type\":\"Update\"},{\"id\":1815593308,\"predicate\":\"documentAttributeImageSize\",\"params\":[{\"name\":\"w\",\"type\":\"int\"},{\"name\":\"h\",\"type\":\"int\"}],\"type\":\"DocumentAttribute\"},{\"id\":297109817,\"predicate\":\"documentAttributeAnimated\",\"params\":[],\"type\":\"DocumentAttribute\"},{\"id\":1662637586,\"predicate\":\"documentAttributeSticker\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"mask\",\"type\":\"flags.1?true\"},{\"name\":\"alt\",\"type\":\"string\"},{\"name\":\"stickerset\",\"type\":\"InputStickerSet\"},{\"name\":\"mask_coords\",\"type\":\"flags.0?MaskCoords\"}],\"type\":\"DocumentAttribute\"},{\"id\":250621158,\"predicate\":\"documentAttributeVideo\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"round_message\",\"type\":\"flags.0?true\"},{\"name\":\"supports_streaming\",\"type\":\"flags.1?true\"},{\"name\":\"duration\",\"type\":\"int\"},{\"name\":\"w\",\"type\":\"int\"},{\"name\":\"h\",\"type\":\"int\"}],\"type\":\"DocumentAttribute\"},{\"id\":-1739392570,\"predicate\":\"documentAttributeAudio\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"voice\",\"type\":\"flags.10?true\"},{\"name\":\"duration\",\"type\":\"int\"},{\"name\":\"title\",\"type\":\"flags.0?string\"},{\"name\":\"performer\",\"type\":\"flags.1?string\"},{\"name\":\"waveform\",\"type\":\"flags.2?bytes\"}],\"type\":\"DocumentAttribute\"},{\"id\":358154344,\"predicate\":\"documentAttributeFilename\",\"params\":[{\"name\":\"file_name\",\"type\":\"string\"}],\"type\":\"DocumentAttribute\"},{\"id\":-244016606,\"predicate\":\"messages.stickersNotModified\",\"params\":[],\"type\":\"messages.Stickers\"},{\"id\":816245886,\"predicate\":\"messages.stickers\",\"params\":[{\"name\":\"hash\",\"type\":\"long\"},{\"name\":\"stickers\",\"type\":\"Vector<Document>\"}],\"type\":\"messages.Stickers\"},{\"id\":313694676,\"predicate\":\"stickerPack\",\"params\":[{\"name\":\"emoticon\",\"type\":\"string\"},{\"name\":\"documents\",\"type\":\"Vector<long>\"}],\"type\":\"StickerPack\"},{\"id\":-395967805,\"predicate\":\"messages.allStickersNotModified\",\"params\":[],\"type\":\"messages.AllStickers\"},{\"id\":-843329861,\"predicate\":\"messages.allStickers\",\"params\":[{\"name\":\"hash\",\"type\":\"long\"},{\"name\":\"sets\",\"type\":\"Vector<StickerSet>\"}],\"type\":\"messages.AllStickers\"},{\"id\":-1667805217,\"predicate\":\"updateReadHistoryInbox\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"folder_id\",\"type\":\"flags.0?int\"},{\"name\":\"peer\",\"type\":\"Peer\"},{\"name\":\"max_id\",\"type\":\"int\"},{\"name\":\"still_unread_count\",\"type\":\"int\"},{\"name\":\"pts\",\"type\":\"int\"},{\"name\":\"pts_count\",\"type\":\"int\"}],\"type\":\"Update\"},{\"id\":791617983,\"predicate\":\"updateReadHistoryOutbox\",\"params\":[{\"name\":\"peer\",\"type\":\"Peer\"},{\"name\":\"max_id\",\"type\":\"int\"},{\"name\":\"pts\",\"type\":\"int\"},{\"name\":\"pts_count\",\"type\":\"int\"}],\"type\":\"Update\"},{\"id\":-2066640507,\"predicate\":\"messages.affectedMessages\",\"params\":[{\"name\":\"pts\",\"type\":\"int\"},{\"name\":\"pts_count\",\"type\":\"int\"}],\"type\":\"messages.AffectedMessages\"},{\"id\":2139689491,\"predicate\":\"updateWebPage\",\"params\":[{\"name\":\"webpage\",\"type\":\"WebPage\"},{\"name\":\"pts\",\"type\":\"int\"},{\"name\":\"pts_count\",\"type\":\"int\"}],\"type\":\"Update\"},{\"id\":-350980120,\"predicate\":\"webPageEmpty\",\"params\":[{\"name\":\"id\",\"type\":\"long\"}],\"type\":\"WebPage\"},{\"id\":-981018084,\"predicate\":\"webPagePending\",\"params\":[{\"name\":\"id\",\"type\":\"long\"},{\"name\":\"date\",\"type\":\"int\"}],\"type\":\"WebPage\"},{\"id\":-392411726,\"predicate\":\"webPage\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"id\",\"type\":\"long\"},{\"name\":\"url\",\"type\":\"string\"},{\"name\":\"display_url\",\"type\":\"string\"},{\"name\":\"hash\",\"type\":\"int\"},{\"name\":\"type\",\"type\":\"flags.0?string\"},{\"name\":\"site_name\",\"type\":\"flags.1?string\"},{\"name\":\"title\",\"type\":\"flags.2?string\"},{\"name\":\"description\",\"type\":\"flags.3?string\"},{\"name\":\"photo\",\"type\":\"flags.4?Photo\"},{\"name\":\"embed_url\",\"type\":\"flags.5?string\"},{\"name\":\"embed_type\",\"type\":\"flags.5?string\"},{\"name\":\"embed_width\",\"type\":\"flags.6?int\"},{\"name\":\"embed_height\",\"type\":\"flags.6?int\"},{\"name\":\"duration\",\"type\":\"flags.7?int\"},{\"name\":\"author\",\"type\":\"flags.8?string\"},{\"name\":\"document\",\"type\":\"flags.9?Document\"},{\"name\":\"cached_page\",\"type\":\"flags.10?Page\"},{\"name\":\"attributes\",\"type\":\"flags.12?Vector<WebPageAttribute>\"}],\"type\":\"WebPage\"},{\"id\":-1557277184,\"predicate\":\"messageMediaWebPage\",\"params\":[{\"name\":\"webpage\",\"type\":\"WebPage\"}],\"type\":\"MessageMedia\"},{\"id\":-1392388579,\"predicate\":\"authorization\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"current\",\"type\":\"flags.0?true\"},{\"name\":\"official_app\",\"type\":\"flags.1?true\"},{\"name\":\"password_pending\",\"type\":\"flags.2?true\"},{\"name\":\"encrypted_requests_disabled\",\"type\":\"flags.3?true\"},{\"name\":\"call_requests_disabled\",\"type\":\"flags.4?true\"},{\"name\":\"hash\",\"type\":\"long\"},{\"name\":\"device_model\",\"type\":\"string\"},{\"name\":\"platform\",\"type\":\"string\"},{\"name\":\"system_version\",\"type\":\"string\"},{\"name\":\"api_id\",\"type\":\"int\"},{\"name\":\"app_name\",\"type\":\"string\"},{\"name\":\"app_version\",\"type\":\"string\"},{\"name\":\"date_created\",\"type\":\"int\"},{\"name\":\"date_active\",\"type\":\"int\"},{\"name\":\"ip\",\"type\":\"string\"},{\"name\":\"country\",\"type\":\"string\"},{\"name\":\"region\",\"type\":\"string\"}],\"type\":\"Authorization\"},{\"id\":1275039392,\"predicate\":\"account.authorizations\",\"params\":[{\"name\":\"authorization_ttl_days\",\"type\":\"int\"},{\"name\":\"authorizations\",\"type\":\"Vector<Authorization>\"}],\"type\":\"account.Authorizations\"},{\"id\":408623183,\"predicate\":\"account.password\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"has_recovery\",\"type\":\"flags.0?true\"},{\"name\":\"has_secure_values\",\"type\":\"flags.1?true\"},{\"name\":\"has_password\",\"type\":\"flags.2?true\"},{\"name\":\"current_algo\",\"type\":\"flags.2?PasswordKdfAlgo\"},{\"name\":\"srp_B\",\"type\":\"flags.2?bytes\"},{\"name\":\"srp_id\",\"type\":\"flags.2?long\"},{\"name\":\"hint\",\"type\":\"flags.3?string\"},{\"name\":\"email_unconfirmed_pattern\",\"type\":\"flags.4?string\"},{\"name\":\"new_algo\",\"type\":\"PasswordKdfAlgo\"},{\"name\":\"new_secure_algo\",\"type\":\"SecurePasswordKdfAlgo\"},{\"name\":\"secure_random\",\"type\":\"bytes\"},{\"name\":\"pending_reset_date\",\"type\":\"flags.5?int\"}],\"type\":\"account.Password\"},{\"id\":-1705233435,\"predicate\":\"account.passwordSettings\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"email\",\"type\":\"flags.0?string\"},{\"name\":\"secure_settings\",\"type\":\"flags.1?SecureSecretSettings\"}],\"type\":\"account.PasswordSettings\"},{\"id\":-1036572727,\"predicate\":\"account.passwordInputSettings\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"new_algo\",\"type\":\"flags.0?PasswordKdfAlgo\"},{\"name\":\"new_password_hash\",\"type\":\"flags.0?bytes\"},{\"name\":\"hint\",\"type\":\"flags.0?string\"},{\"name\":\"email\",\"type\":\"flags.1?string\"},{\"name\":\"new_secure_settings\",\"type\":\"flags.2?SecureSecretSettings\"}],\"type\":\"account.PasswordInputSettings\"},{\"id\":326715557,\"predicate\":\"auth.passwordRecovery\",\"params\":[{\"name\":\"email_pattern\",\"type\":\"string\"}],\"type\":\"auth.PasswordRecovery\"},{\"id\":-1052959727,\"predicate\":\"inputMediaVenue\",\"params\":[{\"name\":\"geo_point\",\"type\":\"InputGeoPoint\"},{\"name\":\"title\",\"type\":\"string\"},{\"name\":\"address\",\"type\":\"string\"},{\"name\":\"provider\",\"type\":\"string\"},{\"name\":\"venue_id\",\"type\":\"string\"},{\"name\":\"venue_type\",\"type\":\"string\"}],\"type\":\"InputMedia\"},{\"id\":784356159,\"predicate\":\"messageMediaVenue\",\"params\":[{\"name\":\"geo\",\"type\":\"GeoPoint\"},{\"name\":\"title\",\"type\":\"string\"},{\"name\":\"address\",\"type\":\"string\"},{\"name\":\"provider\",\"type\":\"string\"},{\"name\":\"venue_id\",\"type\":\"string\"},{\"name\":\"venue_type\",\"type\":\"string\"}],\"type\":\"MessageMedia\"},{\"id\":-1551583367,\"predicate\":\"receivedNotifyMessage\",\"params\":[{\"name\":\"id\",\"type\":\"int\"},{\"name\":\"flags\",\"type\":\"int\"}],\"type\":\"ReceivedNotifyMessage\"},{\"id\":179611673,\"predicate\":\"chatInviteExported\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"revoked\",\"type\":\"flags.0?true\"},{\"name\":\"permanent\",\"type\":\"flags.5?true\"},{\"name\":\"request_needed\",\"type\":\"flags.6?true\"},{\"name\":\"link\",\"type\":\"string\"},{\"name\":\"admin_id\",\"type\":\"long\"},{\"name\":\"date\",\"type\":\"int\"},{\"name\":\"start_date\",\"type\":\"flags.4?int\"},{\"name\":\"expire_date\",\"type\":\"flags.1?int\"},{\"name\":\"usage_limit\",\"type\":\"flags.2?int\"},{\"name\":\"usage\",\"type\":\"flags.3?int\"},{\"name\":\"requested\",\"type\":\"flags.7?int\"},{\"name\":\"title\",\"type\":\"flags.8?string\"}],\"type\":\"ExportedChatInvite\"},{\"id\":1516793212,\"predicate\":\"chatInviteAlready\",\"params\":[{\"name\":\"chat\",\"type\":\"Chat\"}],\"type\":\"ChatInvite\"},{\"id\":806110401,\"predicate\":\"chatInvite\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"channel\",\"type\":\"flags.0?true\"},{\"name\":\"broadcast\",\"type\":\"flags.1?true\"},{\"name\":\"public\",\"type\":\"flags.2?true\"},{\"name\":\"megagroup\",\"type\":\"flags.3?true\"},{\"name\":\"request_needed\",\"type\":\"flags.6?true\"},{\"name\":\"title\",\"type\":\"string\"},{\"name\":\"about\",\"type\":\"flags.5?string\"},{\"name\":\"photo\",\"type\":\"Photo\"},{\"name\":\"participants_count\",\"type\":\"int\"},{\"name\":\"participants\",\"type\":\"flags.4?Vector<User>\"}],\"type\":\"ChatInvite\"},{\"id\":51520707,\"predicate\":\"messageActionChatJoinedByLink\",\"params\":[{\"name\":\"inviter_id\",\"type\":\"long\"}],\"type\":\"MessageAction\"},{\"id\":1757493555,\"predicate\":\"updateReadMessagesContents\",\"params\":[{\"name\":\"messages\",\"type\":\"Vector<int>\"},{\"name\":\"pts\",\"type\":\"int\"},{\"name\":\"pts_count\",\"type\":\"int\"}],\"type\":\"Update\"},{\"id\":-4838507,\"predicate\":\"inputStickerSetEmpty\",\"params\":[],\"type\":\"InputStickerSet\"},{\"id\":-1645763991,\"predicate\":\"inputStickerSetID\",\"params\":[{\"name\":\"id\",\"type\":\"long\"},{\"name\":\"access_hash\",\"type\":\"long\"}],\"type\":\"InputStickerSet\"},{\"id\":-2044933984,\"predicate\":\"inputStickerSetShortName\",\"params\":[{\"name\":\"short_name\",\"type\":\"string\"}],\"type\":\"InputStickerSet\"},{\"id\":-673242758,\"predicate\":\"stickerSet\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"archived\",\"type\":\"flags.1?true\"},{\"name\":\"official\",\"type\":\"flags.2?true\"},{\"name\":\"masks\",\"type\":\"flags.3?true\"},{\"name\":\"animated\",\"type\":\"flags.5?true\"},{\"name\":\"videos\",\"type\":\"flags.6?true\"},{\"name\":\"installed_date\",\"type\":\"flags.0?int\"},{\"name\":\"id\",\"type\":\"long\"},{\"name\":\"access_hash\",\"type\":\"long\"},{\"name\":\"title\",\"type\":\"string\"},{\"name\":\"short_name\",\"type\":\"string\"},{\"name\":\"thumbs\",\"type\":\"flags.4?Vector<PhotoSize>\"},{\"name\":\"thumb_dc_id\",\"type\":\"flags.4?int\"},{\"name\":\"thumb_version\",\"type\":\"flags.4?int\"},{\"name\":\"count\",\"type\":\"int\"},{\"name\":\"hash\",\"type\":\"int\"}],\"type\":\"StickerSet\"},{\"id\":-1240849242,\"predicate\":\"messages.stickerSet\",\"params\":[{\"name\":\"set\",\"type\":\"StickerSet\"},{\"name\":\"packs\",\"type\":\"Vector<StickerPack>\"},{\"name\":\"documents\",\"type\":\"Vector<Document>\"}],\"type\":\"messages.StickerSet\"},{\"id\":1073147056,\"predicate\":\"user\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"self\",\"type\":\"flags.10?true\"},{\"name\":\"contact\",\"type\":\"flags.11?true\"},{\"name\":\"mutual_contact\",\"type\":\"flags.12?true\"},{\"name\":\"deleted\",\"type\":\"flags.13?true\"},{\"name\":\"bot\",\"type\":\"flags.14?true\"},{\"name\":\"bot_chat_history\",\"type\":\"flags.15?true\"},{\"name\":\"bot_nochats\",\"type\":\"flags.16?true\"},{\"name\":\"verified\",\"type\":\"flags.17?true\"},{\"name\":\"restricted\",\"type\":\"flags.18?true\"},{\"name\":\"min\",\"type\":\"flags.20?true\"},{\"name\":\"bot_inline_geo\",\"type\":\"flags.21?true\"},{\"name\":\"support\",\"type\":\"flags.23?true\"},{\"name\":\"scam\",\"type\":\"flags.24?true\"},{\"name\":\"apply_min_photo\",\"type\":\"flags.25?true\"},{\"name\":\"fake\",\"type\":\"flags.26?true\"},{\"name\":\"bot_attach_menu\",\"type\":\"flags.27?true\"},{\"name\":\"id\",\"type\":\"long\"},{\"name\":\"access_hash\",\"type\":\"flags.0?long\"},{\"name\":\"first_name\",\"type\":\"flags.1?string\"},{\"name\":\"last_name\",\"type\":\"flags.2?string\"},{\"name\":\"username\",\"type\":\"flags.3?string\"},{\"name\":\"phone\",\"type\":\"flags.4?string\"},{\"name\":\"photo\",\"type\":\"flags.5?UserProfilePhoto\"},{\"name\":\"status\",\"type\":\"flags.6?UserStatus\"},{\"name\":\"bot_info_version\",\"type\":\"flags.14?int\"},{\"name\":\"restriction_reason\",\"type\":\"flags.18?Vector<RestrictionReason>\"},{\"name\":\"bot_inline_placeholder\",\"type\":\"flags.19?string\"},{\"name\":\"lang_code\",\"type\":\"flags.22?string\"}],\"type\":\"User\"},{\"id\":-1032140601,\"predicate\":\"botCommand\",\"params\":[{\"name\":\"command\",\"type\":\"string\"},{\"name\":\"description\",\"type\":\"string\"}],\"type\":\"BotCommand\"},{\"id\":-468280483,\"predicate\":\"botInfo\",\"params\":[{\"name\":\"user_id\",\"type\":\"long\"},{\"name\":\"description\",\"type\":\"string\"},{\"name\":\"commands\",\"type\":\"Vector<BotCommand>\"},{\"name\":\"menu_button\",\"type\":\"BotMenuButton\"}],\"type\":\"BotInfo\"},{\"id\":-1560655744,\"predicate\":\"keyboardButton\",\"params\":[{\"name\":\"text\",\"type\":\"string\"}],\"type\":\"KeyboardButton\"},{\"id\":2002815875,\"predicate\":\"keyboardButtonRow\",\"params\":[{\"name\":\"buttons\",\"type\":\"Vector<KeyboardButton>\"}],\"type\":\"KeyboardButtonRow\"},{\"id\":-1606526075,\"predicate\":\"replyKeyboardHide\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"selective\",\"type\":\"flags.2?true\"}],\"type\":\"ReplyMarkup\"},{\"id\":-2035021048,\"predicate\":\"replyKeyboardForceReply\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"single_use\",\"type\":\"flags.1?true\"},{\"name\":\"selective\",\"type\":\"flags.2?true\"},{\"name\":\"placeholder\",\"type\":\"flags.3?string\"}],\"type\":\"ReplyMarkup\"},{\"id\":-2049074735,\"predicate\":\"replyKeyboardMarkup\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"resize\",\"type\":\"flags.0?true\"},{\"name\":\"single_use\",\"type\":\"flags.1?true\"},{\"name\":\"selective\",\"type\":\"flags.2?true\"},{\"name\":\"rows\",\"type\":\"Vector<KeyboardButtonRow>\"},{\"name\":\"placeholder\",\"type\":\"flags.3?string\"}],\"type\":\"ReplyMarkup\"},{\"id\":-571955892,\"predicate\":\"inputPeerUser\",\"params\":[{\"name\":\"user_id\",\"type\":\"long\"},{\"name\":\"access_hash\",\"type\":\"long\"}],\"type\":\"InputPeer\"},{\"id\":-233744186,\"predicate\":\"inputUser\",\"params\":[{\"name\":\"user_id\",\"type\":\"long\"},{\"name\":\"access_hash\",\"type\":\"long\"}],\"type\":\"InputUser\"},{\"id\":-1148011883,\"predicate\":\"messageEntityUnknown\",\"params\":[{\"name\":\"offset\",\"type\":\"int\"},{\"name\":\"length\",\"type\":\"int\"}],\"type\":\"MessageEntity\"},{\"id\":-100378723,\"predicate\":\"messageEntityMention\",\"params\":[{\"name\":\"offset\",\"type\":\"int\"},{\"name\":\"length\",\"type\":\"int\"}],\"type\":\"MessageEntity\"},{\"id\":1868782349,\"predicate\":\"messageEntityHashtag\",\"params\":[{\"name\":\"offset\",\"type\":\"int\"},{\"name\":\"length\",\"type\":\"int\"}],\"type\":\"MessageEntity\"},{\"id\":1827637959,\"predicate\":\"messageEntityBotCommand\",\"params\":[{\"name\":\"offset\",\"type\":\"int\"},{\"name\":\"length\",\"type\":\"int\"}],\"type\":\"MessageEntity\"},{\"id\":1859134776,\"predicate\":\"messageEntityUrl\",\"params\":[{\"name\":\"offset\",\"type\":\"int\"},{\"name\":\"length\",\"type\":\"int\"}],\"type\":\"MessageEntity\"},{\"id\":1692693954,\"predicate\":\"messageEntityEmail\",\"params\":[{\"name\":\"offset\",\"type\":\"int\"},{\"name\":\"length\",\"type\":\"int\"}],\"type\":\"MessageEntity\"},{\"id\":-1117713463,\"predicate\":\"messageEntityBold\",\"params\":[{\"name\":\"offset\",\"type\":\"int\"},{\"name\":\"length\",\"type\":\"int\"}],\"type\":\"MessageEntity\"},{\"id\":-2106619040,\"predicate\":\"messageEntityItalic\",\"params\":[{\"name\":\"offset\",\"type\":\"int\"},{\"name\":\"length\",\"type\":\"int\"}],\"type\":\"MessageEntity\"},{\"id\":681706865,\"predicate\":\"messageEntityCode\",\"params\":[{\"name\":\"offset\",\"type\":\"int\"},{\"name\":\"length\",\"type\":\"int\"}],\"type\":\"MessageEntity\"},{\"id\":1938967520,\"predicate\":\"messageEntityPre\",\"params\":[{\"name\":\"offset\",\"type\":\"int\"},{\"name\":\"length\",\"type\":\"int\"},{\"name\":\"language\",\"type\":\"string\"}],\"type\":\"MessageEntity\"},{\"id\":1990644519,\"predicate\":\"messageEntityTextUrl\",\"params\":[{\"name\":\"offset\",\"type\":\"int\"},{\"name\":\"length\",\"type\":\"int\"},{\"name\":\"url\",\"type\":\"string\"}],\"type\":\"MessageEntity\"},{\"id\":-1877614335,\"predicate\":\"updateShortSentMessage\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"out\",\"type\":\"flags.1?true\"},{\"name\":\"id\",\"type\":\"int\"},{\"name\":\"pts\",\"type\":\"int\"},{\"name\":\"pts_count\",\"type\":\"int\"},{\"name\":\"date\",\"type\":\"int\"},{\"name\":\"media\",\"type\":\"flags.9?MessageMedia\"},{\"name\":\"entities\",\"type\":\"flags.7?Vector<MessageEntity>\"},{\"name\":\"ttl_period\",\"type\":\"flags.25?int\"}],\"type\":\"Updates\"},{\"id\":-292807034,\"predicate\":\"inputChannelEmpty\",\"params\":[],\"type\":\"InputChannel\"},{\"id\":-212145112,\"predicate\":\"inputChannel\",\"params\":[{\"name\":\"channel_id\",\"type\":\"long\"},{\"name\":\"access_hash\",\"type\":\"long\"}],\"type\":\"InputChannel\"},{\"id\":-1566230754,\"predicate\":\"peerChannel\",\"params\":[{\"name\":\"channel_id\",\"type\":\"long\"}],\"type\":\"Peer\"},{\"id\":666680316,\"predicate\":\"inputPeerChannel\",\"params\":[{\"name\":\"channel_id\",\"type\":\"long\"},{\"name\":\"access_hash\",\"type\":\"long\"}],\"type\":\"InputPeer\"},{\"id\":-2107528095,\"predicate\":\"channel\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"creator\",\"type\":\"flags.0?true\"},{\"name\":\"left\",\"type\":\"flags.2?true\"},{\"name\":\"broadcast\",\"type\":\"flags.5?true\"},{\"name\":\"verified\",\"type\":\"flags.7?true\"},{\"name\":\"megagroup\",\"type\":\"flags.8?true\"},{\"name\":\"restricted\",\"type\":\"flags.9?true\"},{\"name\":\"signatures\",\"type\":\"flags.11?true\"},{\"name\":\"min\",\"type\":\"flags.12?true\"},{\"name\":\"scam\",\"type\":\"flags.19?true\"},{\"name\":\"has_link\",\"type\":\"flags.20?true\"},{\"name\":\"has_geo\",\"type\":\"flags.21?true\"},{\"name\":\"slowmode_enabled\",\"type\":\"flags.22?true\"},{\"name\":\"call_active\",\"type\":\"flags.23?true\"},{\"name\":\"call_not_empty\",\"type\":\"flags.24?true\"},{\"name\":\"fake\",\"type\":\"flags.25?true\"},{\"name\":\"gigagroup\",\"type\":\"flags.26?true\"},{\"name\":\"noforwards\",\"type\":\"flags.27?true\"},{\"name\":\"join_to_send\",\"type\":\"flags.28?true\"},{\"name\":\"join_request\",\"type\":\"flags.29?true\"},{\"name\":\"id\",\"type\":\"long\"},{\"name\":\"access_hash\",\"type\":\"flags.13?long\"},{\"name\":\"title\",\"type\":\"string\"},{\"name\":\"username\",\"type\":\"flags.6?string\"},{\"name\":\"photo\",\"type\":\"ChatPhoto\"},{\"name\":\"date\",\"type\":\"int\"},{\"name\":\"restriction_reason\",\"type\":\"flags.9?Vector<RestrictionReason>\"},{\"name\":\"admin_rights\",\"type\":\"flags.14?ChatAdminRights\"},{\"name\":\"banned_rights\",\"type\":\"flags.15?ChatBannedRights\"},{\"name\":\"default_banned_rights\",\"type\":\"flags.18?ChatBannedRights\"},{\"name\":\"participants_count\",\"type\":\"flags.17?int\"}],\"type\":\"Chat\"},{\"id\":399807445,\"predicate\":\"channelForbidden\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"broadcast\",\"type\":\"flags.5?true\"},{\"name\":\"megagroup\",\"type\":\"flags.8?true\"},{\"name\":\"id\",\"type\":\"long\"},{\"name\":\"access_hash\",\"type\":\"long\"},{\"name\":\"title\",\"type\":\"string\"},{\"name\":\"until_date\",\"type\":\"flags.16?int\"}],\"type\":\"Chat\"},{\"id\":2131196633,\"predicate\":\"contacts.resolvedPeer\",\"params\":[{\"name\":\"peer\",\"type\":\"Peer\"},{\"name\":\"chats\",\"type\":\"Vector<Chat>\"},{\"name\":\"users\",\"type\":\"Vector<User>\"}],\"type\":\"contacts.ResolvedPeer\"},{\"id\":-362240487,\"predicate\":\"channelFull\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"can_view_participants\",\"type\":\"flags.3?true\"},{\"name\":\"can_set_username\",\"type\":\"flags.6?true\"},{\"name\":\"can_set_stickers\",\"type\":\"flags.7?true\"},{\"name\":\"hidden_prehistory\",\"type\":\"flags.10?true\"},{\"name\":\"can_set_location\",\"type\":\"flags.16?true\"},{\"name\":\"has_scheduled\",\"type\":\"flags.19?true\"},{\"name\":\"can_view_stats\",\"type\":\"flags.20?true\"},{\"name\":\"blocked\",\"type\":\"flags.22?true\"},{\"name\":\"flags2\",\"type\":\"#\"},{\"name\":\"can_delete_channel\",\"type\":\"flags2.0?true\"},{\"name\":\"id\",\"type\":\"long\"},{\"name\":\"about\",\"type\":\"string\"},{\"name\":\"participants_count\",\"type\":\"flags.0?int\"},{\"name\":\"admins_count\",\"type\":\"flags.1?int\"},{\"name\":\"kicked_count\",\"type\":\"flags.2?int\"},{\"name\":\"banned_count\",\"type\":\"flags.2?int\"},{\"name\":\"online_count\",\"type\":\"flags.13?int\"},{\"name\":\"read_inbox_max_id\",\"type\":\"int\"},{\"name\":\"read_outbox_max_id\",\"type\":\"int\"},{\"name\":\"unread_count\",\"type\":\"int\"},{\"name\":\"chat_photo\",\"type\":\"Photo\"},{\"name\":\"notify_settings\",\"type\":\"PeerNotifySettings\"},{\"name\":\"exported_invite\",\"type\":\"flags.23?ExportedChatInvite\"},{\"name\":\"bot_info\",\"type\":\"Vector<BotInfo>\"},{\"name\":\"migrated_from_chat_id\",\"type\":\"flags.4?long\"},{\"name\":\"migrated_from_max_id\",\"type\":\"flags.4?int\"},{\"name\":\"pinned_msg_id\",\"type\":\"flags.5?int\"},{\"name\":\"stickerset\",\"type\":\"flags.8?StickerSet\"},{\"name\":\"available_min_id\",\"type\":\"flags.9?int\"},{\"name\":\"folder_id\",\"type\":\"flags.11?int\"},{\"name\":\"linked_chat_id\",\"type\":\"flags.14?long\"},{\"name\":\"location\",\"type\":\"flags.15?ChannelLocation\"},{\"name\":\"slowmode_seconds\",\"type\":\"flags.17?int\"},{\"name\":\"slowmode_next_send_date\",\"type\":\"flags.18?int\"},{\"name\":\"stats_dc\",\"type\":\"flags.12?int\"},{\"name\":\"pts\",\"type\":\"int\"},{\"name\":\"call\",\"type\":\"flags.21?InputGroupCall\"},{\"name\":\"ttl_period\",\"type\":\"flags.24?int\"},{\"name\":\"pending_suggestions\",\"type\":\"flags.25?Vector<string>\"},{\"name\":\"groupcall_default_join_as\",\"type\":\"flags.26?Peer\"},{\"name\":\"theme_emoticon\",\"type\":\"flags.27?string\"},{\"name\":\"requests_pending\",\"type\":\"flags.28?int\"},{\"name\":\"recent_requesters\",\"type\":\"flags.28?Vector<long>\"},{\"name\":\"default_send_as\",\"type\":\"flags.29?Peer\"},{\"name\":\"available_reactions\",\"type\":\"flags.30?Vector<string>\"}],\"type\":\"ChatFull\"},{\"id\":182649427,\"predicate\":\"messageRange\",\"params\":[{\"name\":\"min_id\",\"type\":\"int\"},{\"name\":\"max_id\",\"type\":\"int\"}],\"type\":\"MessageRange\"},{\"id\":1682413576,\"predicate\":\"messages.channelMessages\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"inexact\",\"type\":\"flags.1?true\"},{\"name\":\"pts\",\"type\":\"int\"},{\"name\":\"count\",\"type\":\"int\"},{\"name\":\"offset_id_offset\",\"type\":\"flags.2?int\"},{\"name\":\"messages\",\"type\":\"Vector<Message>\"},{\"name\":\"chats\",\"type\":\"Vector<Chat>\"},{\"name\":\"users\",\"type\":\"Vector<User>\"}],\"type\":\"messages.Messages\"},{\"id\":-1781355374,\"predicate\":\"messageActionChannelCreate\",\"params\":[{\"name\":\"title\",\"type\":\"string\"}],\"type\":\"MessageAction\"},{\"id\":277713951,\"predicate\":\"updateChannelTooLong\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"channel_id\",\"type\":\"long\"},{\"name\":\"pts\",\"type\":\"flags.0?int\"}],\"type\":\"Update\"},{\"id\":1666927625,\"predicate\":\"updateChannel\",\"params\":[{\"name\":\"channel_id\",\"type\":\"long\"}],\"type\":\"Update\"},{\"id\":1656358105,\"predicate\":\"updateNewChannelMessage\",\"params\":[{\"name\":\"message\",\"type\":\"Message\"},{\"name\":\"pts\",\"type\":\"int\"},{\"name\":\"pts_count\",\"type\":\"int\"}],\"type\":\"Update\"},{\"id\":-1842450928,\"predicate\":\"updateReadChannelInbox\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"folder_id\",\"type\":\"flags.0?int\"},{\"name\":\"channel_id\",\"type\":\"long\"},{\"name\":\"max_id\",\"type\":\"int\"},{\"name\":\"still_unread_count\",\"type\":\"int\"},{\"name\":\"pts\",\"type\":\"int\"}],\"type\":\"Update\"},{\"id\":-1020437742,\"predicate\":\"updateDeleteChannelMessages\",\"params\":[{\"name\":\"channel_id\",\"type\":\"long\"},{\"name\":\"messages\",\"type\":\"Vector<int>\"},{\"name\":\"pts\",\"type\":\"int\"},{\"name\":\"pts_count\",\"type\":\"int\"}],\"type\":\"Update\"},{\"id\":-232346616,\"predicate\":\"updateChannelMessageViews\",\"params\":[{\"name\":\"channel_id\",\"type\":\"long\"},{\"name\":\"id\",\"type\":\"int\"},{\"name\":\"views\",\"type\":\"int\"}],\"type\":\"Update\"},{\"id\":1041346555,\"predicate\":\"updates.channelDifferenceEmpty\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"final\",\"type\":\"flags.0?true\"},{\"name\":\"pts\",\"type\":\"int\"},{\"name\":\"timeout\",\"type\":\"flags.1?int\"}],\"type\":\"updates.ChannelDifference\"},{\"id\":-1531132162,\"predicate\":\"updates.channelDifferenceTooLong\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"final\",\"type\":\"flags.0?true\"},{\"name\":\"timeout\",\"type\":\"flags.1?int\"},{\"name\":\"dialog\",\"type\":\"Dialog\"},{\"name\":\"messages\",\"type\":\"Vector<Message>\"},{\"name\":\"chats\",\"type\":\"Vector<Chat>\"},{\"name\":\"users\",\"type\":\"Vector<User>\"}],\"type\":\"updates.ChannelDifference\"},{\"id\":543450958,\"predicate\":\"updates.channelDifference\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"final\",\"type\":\"flags.0?true\"},{\"name\":\"pts\",\"type\":\"int\"},{\"name\":\"timeout\",\"type\":\"flags.1?int\"},{\"name\":\"new_messages\",\"type\":\"Vector<Message>\"},{\"name\":\"other_updates\",\"type\":\"Vector<Update>\"},{\"name\":\"chats\",\"type\":\"Vector<Chat>\"},{\"name\":\"users\",\"type\":\"Vector<User>\"}],\"type\":\"updates.ChannelDifference\"},{\"id\":-1798033689,\"predicate\":\"channelMessagesFilterEmpty\",\"params\":[],\"type\":\"ChannelMessagesFilter\"},{\"id\":-847783593,\"predicate\":\"channelMessagesFilter\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"exclude_new_messages\",\"type\":\"flags.1?true\"},{\"name\":\"ranges\",\"type\":\"Vector<MessageRange>\"}],\"type\":\"ChannelMessagesFilter\"},{\"id\":-1072953408,\"predicate\":\"channelParticipant\",\"params\":[{\"name\":\"user_id\",\"type\":\"long\"},{\"name\":\"date\",\"type\":\"int\"}],\"type\":\"ChannelParticipant\"},{\"id\":900251559,\"predicate\":\"channelParticipantSelf\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"via_request\",\"type\":\"flags.0?true\"},{\"name\":\"user_id\",\"type\":\"long\"},{\"name\":\"inviter_id\",\"type\":\"long\"},{\"name\":\"date\",\"type\":\"int\"}],\"type\":\"ChannelParticipant\"},{\"id\":803602899,\"predicate\":\"channelParticipantCreator\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"user_id\",\"type\":\"long\"},{\"name\":\"admin_rights\",\"type\":\"ChatAdminRights\"},{\"name\":\"rank\",\"type\":\"flags.0?string\"}],\"type\":\"ChannelParticipant\"},{\"id\":-566281095,\"predicate\":\"channelParticipantsRecent\",\"params\":[],\"type\":\"ChannelParticipantsFilter\"},{\"id\":-1268741783,\"predicate\":\"channelParticipantsAdmins\",\"params\":[],\"type\":\"ChannelParticipantsFilter\"},{\"id\":-1548400251,\"predicate\":\"channelParticipantsKicked\",\"params\":[{\"name\":\"q\",\"type\":\"string\"}],\"type\":\"ChannelParticipantsFilter\"},{\"id\":-1699676497,\"predicate\":\"channels.channelParticipants\",\"params\":[{\"name\":\"count\",\"type\":\"int\"},{\"name\":\"participants\",\"type\":\"Vector<ChannelParticipant>\"},{\"name\":\"chats\",\"type\":\"Vector<Chat>\"},{\"name\":\"users\",\"type\":\"Vector<User>\"}],\"type\":\"channels.ChannelParticipants\"},{\"id\":-541588713,\"predicate\":\"channels.channelParticipant\",\"params\":[{\"name\":\"participant\",\"type\":\"ChannelParticipant\"},{\"name\":\"chats\",\"type\":\"Vector<Chat>\"},{\"name\":\"users\",\"type\":\"Vector<User>\"}],\"type\":\"channels.ChannelParticipant\"},{\"id\":-462696732,\"predicate\":\"chatParticipantCreator\",\"params\":[{\"name\":\"user_id\",\"type\":\"long\"}],\"type\":\"ChatParticipant\"},{\"id\":-1600962725,\"predicate\":\"chatParticipantAdmin\",\"params\":[{\"name\":\"user_id\",\"type\":\"long\"},{\"name\":\"inviter_id\",\"type\":\"long\"},{\"name\":\"date\",\"type\":\"int\"}],\"type\":\"ChatParticipant\"},{\"id\":-674602590,\"predicate\":\"updateChatParticipantAdmin\",\"params\":[{\"name\":\"chat_id\",\"type\":\"long\"},{\"name\":\"user_id\",\"type\":\"long\"},{\"name\":\"is_admin\",\"type\":\"Bool\"},{\"name\":\"version\",\"type\":\"int\"}],\"type\":\"Update\"},{\"id\":-519864430,\"predicate\":\"messageActionChatMigrateTo\",\"params\":[{\"name\":\"channel_id\",\"type\":\"long\"}],\"type\":\"MessageAction\"},{\"id\":-365344535,\"predicate\":\"messageActionChannelMigrateFrom\",\"params\":[{\"name\":\"title\",\"type\":\"string\"},{\"name\":\"chat_id\",\"type\":\"long\"}],\"type\":\"MessageAction\"},{\"id\":-1328445861,\"predicate\":\"channelParticipantsBots\",\"params\":[],\"type\":\"ChannelParticipantsFilter\"},{\"id\":2013922064,\"predicate\":\"help.termsOfService\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"popup\",\"type\":\"flags.0?true\"},{\"name\":\"id\",\"type\":\"DataJSON\"},{\"name\":\"text\",\"type\":\"string\"},{\"name\":\"entities\",\"type\":\"Vector<MessageEntity>\"},{\"name\":\"min_age_confirm\",\"type\":\"flags.1?int\"}],\"type\":\"help.TermsOfService\"},{\"id\":1753886890,\"predicate\":\"updateNewStickerSet\",\"params\":[{\"name\":\"stickerset\",\"type\":\"messages.StickerSet\"}],\"type\":\"Update\"},{\"id\":196268545,\"predicate\":\"updateStickerSetsOrder\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"masks\",\"type\":\"flags.0?true\"},{\"name\":\"order\",\"type\":\"Vector<long>\"}],\"type\":\"Update\"},{\"id\":1135492588,\"predicate\":\"updateStickerSets\",\"params\":[],\"type\":\"Update\"},{\"id\":-402498398,\"predicate\":\"messages.savedGifsNotModified\",\"params\":[],\"type\":\"messages.SavedGifs\"},{\"id\":-2069878259,\"predicate\":\"messages.savedGifs\",\"params\":[{\"name\":\"hash\",\"type\":\"long\"},{\"name\":\"gifs\",\"type\":\"Vector<Document>\"}],\"type\":\"messages.SavedGifs\"},{\"id\":-1821035490,\"predicate\":\"updateSavedGifs\",\"params\":[],\"type\":\"Update\"},{\"id\":864077702,\"predicate\":\"inputBotInlineMessageMediaAuto\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"message\",\"type\":\"string\"},{\"name\":\"entities\",\"type\":\"flags.1?Vector<MessageEntity>\"},{\"name\":\"reply_markup\",\"type\":\"flags.2?ReplyMarkup\"}],\"type\":\"InputBotInlineMessage\"},{\"id\":1036876423,\"predicate\":\"inputBotInlineMessageText\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"no_webpage\",\"type\":\"flags.0?true\"},{\"name\":\"message\",\"type\":\"string\"},{\"name\":\"entities\",\"type\":\"flags.1?Vector<MessageEntity>\"},{\"name\":\"reply_markup\",\"type\":\"flags.2?ReplyMarkup\"}],\"type\":\"InputBotInlineMessage\"},{\"id\":-2000710887,\"predicate\":\"inputBotInlineResult\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"id\",\"type\":\"string\"},{\"name\":\"type\",\"type\":\"string\"},{\"name\":\"title\",\"type\":\"flags.1?string\"},{\"name\":\"description\",\"type\":\"flags.2?string\"},{\"name\":\"url\",\"type\":\"flags.3?string\"},{\"name\":\"thumb\",\"type\":\"flags.4?InputWebDocument\"},{\"name\":\"content\",\"type\":\"flags.5?InputWebDocument\"},{\"name\":\"send_message\",\"type\":\"InputBotInlineMessage\"}],\"type\":\"InputBotInlineResult\"},{\"id\":1984755728,\"predicate\":\"botInlineMessageMediaAuto\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"message\",\"type\":\"string\"},{\"name\":\"entities\",\"type\":\"flags.1?Vector<MessageEntity>\"},{\"name\":\"reply_markup\",\"type\":\"flags.2?ReplyMarkup\"}],\"type\":\"BotInlineMessage\"},{\"id\":-1937807902,\"predicate\":\"botInlineMessageText\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"no_webpage\",\"type\":\"flags.0?true\"},{\"name\":\"message\",\"type\":\"string\"},{\"name\":\"entities\",\"type\":\"flags.1?Vector<MessageEntity>\"},{\"name\":\"reply_markup\",\"type\":\"flags.2?ReplyMarkup\"}],\"type\":\"BotInlineMessage\"},{\"id\":295067450,\"predicate\":\"botInlineResult\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"id\",\"type\":\"string\"},{\"name\":\"type\",\"type\":\"string\"},{\"name\":\"title\",\"type\":\"flags.1?string\"},{\"name\":\"description\",\"type\":\"flags.2?string\"},{\"name\":\"url\",\"type\":\"flags.3?string\"},{\"name\":\"thumb\",\"type\":\"flags.4?WebDocument\"},{\"name\":\"content\",\"type\":\"flags.5?WebDocument\"},{\"name\":\"send_message\",\"type\":\"BotInlineMessage\"}],\"type\":\"BotInlineResult\"},{\"id\":-1803769784,\"predicate\":\"messages.botResults\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"gallery\",\"type\":\"flags.0?true\"},{\"name\":\"query_id\",\"type\":\"long\"},{\"name\":\"next_offset\",\"type\":\"flags.1?string\"},{\"name\":\"switch_pm\",\"type\":\"flags.2?InlineBotSwitchPM\"},{\"name\":\"results\",\"type\":\"Vector<BotInlineResult>\"},{\"name\":\"cache_time\",\"type\":\"int\"},{\"name\":\"users\",\"type\":\"Vector<User>\"}],\"type\":\"messages.BotResults\"},{\"id\":1232025500,\"predicate\":\"updateBotInlineQuery\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"query_id\",\"type\":\"long\"},{\"name\":\"user_id\",\"type\":\"long\"},{\"name\":\"query\",\"type\":\"string\"},{\"name\":\"geo\",\"type\":\"flags.0?GeoPoint\"},{\"name\":\"peer_type\",\"type\":\"flags.1?InlineQueryPeerType\"},{\"name\":\"offset\",\"type\":\"string\"}],\"type\":\"Update\"},{\"id\":317794823,\"predicate\":\"updateBotInlineSend\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"user_id\",\"type\":\"long\"},{\"name\":\"query\",\"type\":\"string\"},{\"name\":\"geo\",\"type\":\"flags.0?GeoPoint\"},{\"name\":\"id\",\"type\":\"string\"},{\"name\":\"msg_id\",\"type\":\"flags.1?InputBotInlineMessageID\"}],\"type\":\"Update\"},{\"id\":1358283666,\"predicate\":\"inputMessagesFilterVoice\",\"params\":[],\"type\":\"MessagesFilter\"},{\"id\":928101534,\"predicate\":\"inputMessagesFilterMusic\",\"params\":[],\"type\":\"MessagesFilter\"},{\"id\":-1107622874,\"predicate\":\"inputPrivacyKeyChatInvite\",\"params\":[],\"type\":\"InputPrivacyKey\"},{\"id\":1343122938,\"predicate\":\"privacyKeyChatInvite\",\"params\":[],\"type\":\"PrivacyKey\"},{\"id\":1571494644,\"predicate\":\"exportedMessageLink\",\"params\":[{\"name\":\"link\",\"type\":\"string\"},{\"name\":\"html\",\"type\":\"string\"}],\"type\":\"ExportedMessageLink\"},{\"id\":1601666510,\"predicate\":\"messageFwdHeader\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"imported\",\"type\":\"flags.7?true\"},{\"name\":\"from_id\",\"type\":\"flags.0?Peer\"},{\"name\":\"from_name\",\"type\":\"flags.5?string\"},{\"name\":\"date\",\"type\":\"int\"},{\"name\":\"channel_post\",\"type\":\"flags.2?int\"},{\"name\":\"post_author\",\"type\":\"flags.3?string\"},{\"name\":\"saved_from_peer\",\"type\":\"flags.4?Peer\"},{\"name\":\"saved_from_msg_id\",\"type\":\"flags.4?int\"},{\"name\":\"psa_type\",\"type\":\"flags.6?string\"}],\"type\":\"MessageFwdHeader\"},{\"id\":457133559,\"predicate\":\"updateEditChannelMessage\",\"params\":[{\"name\":\"message\",\"type\":\"Message\"},{\"name\":\"pts\",\"type\":\"int\"},{\"name\":\"pts_count\",\"type\":\"int\"}],\"type\":\"Update\"},{\"id\":-1799538451,\"predicate\":\"messageActionPinMessage\",\"params\":[],\"type\":\"MessageAction\"},{\"id\":1923290508,\"predicate\":\"auth.codeTypeSms\",\"params\":[],\"type\":\"auth.CodeType\"},{\"id\":1948046307,\"predicate\":\"auth.codeTypeCall\",\"params\":[],\"type\":\"auth.CodeType\"},{\"id\":577556219,\"predicate\":\"auth.codeTypeFlashCall\",\"params\":[],\"type\":\"auth.CodeType\"},{\"id\":1035688326,\"predicate\":\"auth.sentCodeTypeApp\",\"params\":[{\"name\":\"length\",\"type\":\"int\"}],\"type\":\"auth.SentCodeType\"},{\"id\":-1073693790,\"predicate\":\"auth.sentCodeTypeSms\",\"params\":[{\"name\":\"length\",\"type\":\"int\"}],\"type\":\"auth.SentCodeType\"},{\"id\":1398007207,\"predicate\":\"auth.sentCodeTypeCall\",\"params\":[{\"name\":\"length\",\"type\":\"int\"}],\"type\":\"auth.SentCodeType\"},{\"id\":-1425815847,\"predicate\":\"auth.sentCodeTypeFlashCall\",\"params\":[{\"name\":\"pattern\",\"type\":\"string\"}],\"type\":\"auth.SentCodeType\"},{\"id\":629866245,\"predicate\":\"keyboardButtonUrl\",\"params\":[{\"name\":\"text\",\"type\":\"string\"},{\"name\":\"url\",\"type\":\"string\"}],\"type\":\"KeyboardButton\"},{\"id\":901503851,\"predicate\":\"keyboardButtonCallback\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"requires_password\",\"type\":\"flags.0?true\"},{\"name\":\"text\",\"type\":\"string\"},{\"name\":\"data\",\"type\":\"bytes\"}],\"type\":\"KeyboardButton\"},{\"id\":-1318425559,\"predicate\":\"keyboardButtonRequestPhone\",\"params\":[{\"name\":\"text\",\"type\":\"string\"}],\"type\":\"KeyboardButton\"},{\"id\":-59151553,\"predicate\":\"keyboardButtonRequestGeoLocation\",\"params\":[{\"name\":\"text\",\"type\":\"string\"}],\"type\":\"KeyboardButton\"},{\"id\":90744648,\"predicate\":\"keyboardButtonSwitchInline\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"same_peer\",\"type\":\"flags.0?true\"},{\"name\":\"text\",\"type\":\"string\"},{\"name\":\"query\",\"type\":\"string\"}],\"type\":\"KeyboardButton\"},{\"id\":1218642516,\"predicate\":\"replyInlineMarkup\",\"params\":[{\"name\":\"rows\",\"type\":\"Vector<KeyboardButtonRow>\"}],\"type\":\"ReplyMarkup\"},{\"id\":911761060,\"predicate\":\"messages.botCallbackAnswer\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"alert\",\"type\":\"flags.1?true\"},{\"name\":\"has_url\",\"type\":\"flags.3?true\"},{\"name\":\"native_ui\",\"type\":\"flags.4?true\"},{\"name\":\"message\",\"type\":\"flags.0?string\"},{\"name\":\"url\",\"type\":\"flags.2?string\"},{\"name\":\"cache_time\",\"type\":\"int\"}],\"type\":\"messages.BotCallbackAnswer\"},{\"id\":-1177566067,\"predicate\":\"updateBotCallbackQuery\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"query_id\",\"type\":\"long\"},{\"name\":\"user_id\",\"type\":\"long\"},{\"name\":\"peer\",\"type\":\"Peer\"},{\"name\":\"msg_id\",\"type\":\"int\"},{\"name\":\"chat_instance\",\"type\":\"long\"},{\"name\":\"data\",\"type\":\"flags.0?bytes\"},{\"name\":\"game_short_name\",\"type\":\"flags.1?string\"}],\"type\":\"Update\"},{\"id\":649453030,\"predicate\":\"messages.messageEditData\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"caption\",\"type\":\"flags.0?true\"}],\"type\":\"messages.MessageEditData\"},{\"id\":-469536605,\"predicate\":\"updateEditMessage\",\"params\":[{\"name\":\"message\",\"type\":\"Message\"},{\"name\":\"pts\",\"type\":\"int\"},{\"name\":\"pts_count\",\"type\":\"int\"}],\"type\":\"Update\"},{\"id\":-1768777083,\"predicate\":\"inputBotInlineMessageMediaGeo\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"geo_point\",\"type\":\"InputGeoPoint\"},{\"name\":\"heading\",\"type\":\"flags.0?int\"},{\"name\":\"period\",\"type\":\"flags.1?int\"},{\"name\":\"proximity_notification_radius\",\"type\":\"flags.3?int\"},{\"name\":\"reply_markup\",\"type\":\"flags.2?ReplyMarkup\"}],\"type\":\"InputBotInlineMessage\"},{\"id\":1098628881,\"predicate\":\"inputBotInlineMessageMediaVenue\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"geo_point\",\"type\":\"InputGeoPoint\"},{\"name\":\"title\",\"type\":\"string\"},{\"name\":\"address\",\"type\":\"string\"},{\"name\":\"provider\",\"type\":\"string\"},{\"name\":\"venue_id\",\"type\":\"string\"},{\"name\":\"venue_type\",\"type\":\"string\"},{\"name\":\"reply_markup\",\"type\":\"flags.2?ReplyMarkup\"}],\"type\":\"InputBotInlineMessage\"},{\"id\":-1494368259,\"predicate\":\"inputBotInlineMessageMediaContact\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"phone_number\",\"type\":\"string\"},{\"name\":\"first_name\",\"type\":\"string\"},{\"name\":\"last_name\",\"type\":\"string\"},{\"name\":\"vcard\",\"type\":\"string\"},{\"name\":\"reply_markup\",\"type\":\"flags.2?ReplyMarkup\"}],\"type\":\"InputBotInlineMessage\"},{\"id\":85477117,\"predicate\":\"botInlineMessageMediaGeo\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"geo\",\"type\":\"GeoPoint\"},{\"name\":\"heading\",\"type\":\"flags.0?int\"},{\"name\":\"period\",\"type\":\"flags.1?int\"},{\"name\":\"proximity_notification_radius\",\"type\":\"flags.3?int\"},{\"name\":\"reply_markup\",\"type\":\"flags.2?ReplyMarkup\"}],\"type\":\"BotInlineMessage\"},{\"id\":-1970903652,\"predicate\":\"botInlineMessageMediaVenue\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"geo\",\"type\":\"GeoPoint\"},{\"name\":\"title\",\"type\":\"string\"},{\"name\":\"address\",\"type\":\"string\"},{\"name\":\"provider\",\"type\":\"string\"},{\"name\":\"venue_id\",\"type\":\"string\"},{\"name\":\"venue_type\",\"type\":\"string\"},{\"name\":\"reply_markup\",\"type\":\"flags.2?ReplyMarkup\"}],\"type\":\"BotInlineMessage\"},{\"id\":416402882,\"predicate\":\"botInlineMessageMediaContact\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"phone_number\",\"type\":\"string\"},{\"name\":\"first_name\",\"type\":\"string\"},{\"name\":\"last_name\",\"type\":\"string\"},{\"name\":\"vcard\",\"type\":\"string\"},{\"name\":\"reply_markup\",\"type\":\"flags.2?ReplyMarkup\"}],\"type\":\"BotInlineMessage\"},{\"id\":-1462213465,\"predicate\":\"inputBotInlineResultPhoto\",\"params\":[{\"name\":\"id\",\"type\":\"string\"},{\"name\":\"type\",\"type\":\"string\"},{\"name\":\"photo\",\"type\":\"InputPhoto\"},{\"name\":\"send_message\",\"type\":\"InputBotInlineMessage\"}],\"type\":\"InputBotInlineResult\"},{\"id\":-459324,\"predicate\":\"inputBotInlineResultDocument\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"id\",\"type\":\"string\"},{\"name\":\"type\",\"type\":\"string\"},{\"name\":\"title\",\"type\":\"flags.1?string\"},{\"name\":\"description\",\"type\":\"flags.2?string\"},{\"name\":\"document\",\"type\":\"InputDocument\"},{\"name\":\"send_message\",\"type\":\"InputBotInlineMessage\"}],\"type\":\"InputBotInlineResult\"},{\"id\":400266251,\"predicate\":\"botInlineMediaResult\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"id\",\"type\":\"string\"},{\"name\":\"type\",\"type\":\"string\"},{\"name\":\"photo\",\"type\":\"flags.0?Photo\"},{\"name\":\"document\",\"type\":\"flags.1?Document\"},{\"name\":\"title\",\"type\":\"flags.2?string\"},{\"name\":\"description\",\"type\":\"flags.3?string\"},{\"name\":\"send_message\",\"type\":\"BotInlineMessage\"}],\"type\":\"BotInlineResult\"},{\"id\":-1995686519,\"predicate\":\"inputBotInlineMessageID\",\"params\":[{\"name\":\"dc_id\",\"type\":\"int\"},{\"name\":\"id\",\"type\":\"long\"},{\"name\":\"access_hash\",\"type\":\"long\"}],\"type\":\"InputBotInlineMessageID\"},{\"id\":1763610706,\"predicate\":\"updateInlineBotCallbackQuery\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"query_id\",\"type\":\"long\"},{\"name\":\"user_id\",\"type\":\"long\"},{\"name\":\"msg_id\",\"type\":\"InputBotInlineMessageID\"},{\"name\":\"chat_instance\",\"type\":\"long\"},{\"name\":\"data\",\"type\":\"flags.0?bytes\"},{\"name\":\"game_short_name\",\"type\":\"flags.1?string\"}],\"type\":\"Update\"},{\"id\":1008755359,\"predicate\":\"inlineBotSwitchPM\",\"params\":[{\"name\":\"text\",\"type\":\"string\"},{\"name\":\"start_param\",\"type\":\"string\"}],\"type\":\"InlineBotSwitchPM\"},{\"id\":863093588,\"predicate\":\"messages.peerDialogs\",\"params\":[{\"name\":\"dialogs\",\"type\":\"Vector<Dialog>\"},{\"name\":\"messages\",\"type\":\"Vector<Message>\"},{\"name\":\"chats\",\"type\":\"Vector<Chat>\"},{\"name\":\"users\",\"type\":\"Vector<User>\"},{\"name\":\"state\",\"type\":\"updates.State\"}],\"type\":\"messages.PeerDialogs\"},{\"id\":-305282981,\"predicate\":\"topPeer\",\"params\":[{\"name\":\"peer\",\"type\":\"Peer\"},{\"name\":\"rating\",\"type\":\"double\"}],\"type\":\"TopPeer\"},{\"id\":-1419371685,\"predicate\":\"topPeerCategoryBotsPM\",\"params\":[],\"type\":\"TopPeerCategory\"},{\"id\":344356834,\"predicate\":\"topPeerCategoryBotsInline\",\"params\":[],\"type\":\"TopPeerCategory\"},{\"id\":104314861,\"predicate\":\"topPeerCategoryCorrespondents\",\"params\":[],\"type\":\"TopPeerCategory\"},{\"id\":-1122524854,\"predicate\":\"topPeerCategoryGroups\",\"params\":[],\"type\":\"TopPeerCategory\"},{\"id\":371037736,\"predicate\":\"topPeerCategoryChannels\",\"params\":[],\"type\":\"TopPeerCategory\"},{\"id\":-75283823,\"predicate\":\"topPeerCategoryPeers\",\"params\":[{\"name\":\"category\",\"type\":\"TopPeerCategory\"},{\"name\":\"count\",\"type\":\"int\"},{\"name\":\"peers\",\"type\":\"Vector<TopPeer>\"}],\"type\":\"TopPeerCategoryPeers\"},{\"id\":-567906571,\"predicate\":\"contacts.topPeersNotModified\",\"params\":[],\"type\":\"contacts.TopPeers\"},{\"id\":1891070632,\"predicate\":\"contacts.topPeers\",\"params\":[{\"name\":\"categories\",\"type\":\"Vector<TopPeerCategoryPeers>\"},{\"name\":\"chats\",\"type\":\"Vector<Chat>\"},{\"name\":\"users\",\"type\":\"Vector<User>\"}],\"type\":\"contacts.TopPeers\"},{\"id\":-595914432,\"predicate\":\"messageEntityMentionName\",\"params\":[{\"name\":\"offset\",\"type\":\"int\"},{\"name\":\"length\",\"type\":\"int\"},{\"name\":\"user_id\",\"type\":\"long\"}],\"type\":\"MessageEntity\"},{\"id\":546203849,\"predicate\":\"inputMessageEntityMentionName\",\"params\":[{\"name\":\"offset\",\"type\":\"int\"},{\"name\":\"length\",\"type\":\"int\"},{\"name\":\"user_id\",\"type\":\"InputUser\"}],\"type\":\"MessageEntity\"},{\"id\":975236280,\"predicate\":\"inputMessagesFilterChatPhotos\",\"params\":[],\"type\":\"MessagesFilter\"},{\"id\":-1218471511,\"predicate\":\"updateReadChannelOutbox\",\"params\":[{\"name\":\"channel_id\",\"type\":\"long\"},{\"name\":\"max_id\",\"type\":\"int\"}],\"type\":\"Update\"},{\"id\":-299124375,\"predicate\":\"updateDraftMessage\",\"params\":[{\"name\":\"peer\",\"type\":\"Peer\"},{\"name\":\"draft\",\"type\":\"DraftMessage\"}],\"type\":\"Update\"},{\"id\":453805082,\"predicate\":\"draftMessageEmpty\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"date\",\"type\":\"flags.0?int\"}],\"type\":\"DraftMessage\"},{\"id\":-40996577,\"predicate\":\"draftMessage\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"no_webpage\",\"type\":\"flags.1?true\"},{\"name\":\"reply_to_msg_id\",\"type\":\"flags.0?int\"},{\"name\":\"message\",\"type\":\"string\"},{\"name\":\"entities\",\"type\":\"flags.3?Vector<MessageEntity>\"},{\"name\":\"date\",\"type\":\"int\"}],\"type\":\"DraftMessage\"},{\"id\":-1615153660,\"predicate\":\"messageActionHistoryClear\",\"params\":[],\"type\":\"MessageAction\"},{\"id\":-958657434,\"predicate\":\"messages.featuredStickersNotModified\",\"params\":[{\"name\":\"count\",\"type\":\"int\"}],\"type\":\"messages.FeaturedStickers\"},{\"id\":-2067782896,\"predicate\":\"messages.featuredStickers\",\"params\":[{\"name\":\"hash\",\"type\":\"long\"},{\"name\":\"count\",\"type\":\"int\"},{\"name\":\"sets\",\"type\":\"Vector<StickerSetCovered>\"},{\"name\":\"unread\",\"type\":\"Vector<long>\"}],\"type\":\"messages.FeaturedStickers\"},{\"id\":1461528386,\"predicate\":\"updateReadFeaturedStickers\",\"params\":[],\"type\":\"Update\"},{\"id\":186120336,\"predicate\":\"messages.recentStickersNotModified\",\"params\":[],\"type\":\"messages.RecentStickers\"},{\"id\":-1999405994,\"predicate\":\"messages.recentStickers\",\"params\":[{\"name\":\"hash\",\"type\":\"long\"},{\"name\":\"packs\",\"type\":\"Vector<StickerPack>\"},{\"name\":\"stickers\",\"type\":\"Vector<Document>\"},{\"name\":\"dates\",\"type\":\"Vector<int>\"}],\"type\":\"messages.RecentStickers\"},{\"id\":-1706939360,\"predicate\":\"updateRecentStickers\",\"params\":[],\"type\":\"Update\"},{\"id\":1338747336,\"predicate\":\"messages.archivedStickers\",\"params\":[{\"name\":\"count\",\"type\":\"int\"},{\"name\":\"sets\",\"type\":\"Vector<StickerSetCovered>\"}],\"type\":\"messages.ArchivedStickers\"},{\"id\":946083368,\"predicate\":\"messages.stickerSetInstallResultSuccess\",\"params\":[],\"type\":\"messages.StickerSetInstallResult\"},{\"id\":904138920,\"predicate\":\"messages.stickerSetInstallResultArchive\",\"params\":[{\"name\":\"sets\",\"type\":\"Vector<StickerSetCovered>\"}],\"type\":\"messages.StickerSetInstallResult\"},{\"id\":1678812626,\"predicate\":\"stickerSetCovered\",\"params\":[{\"name\":\"set\",\"type\":\"StickerSet\"},{\"name\":\"cover\",\"type\":\"Document\"}],\"type\":\"StickerSetCovered\"},{\"id\":-1574314746,\"predicate\":\"updateConfig\",\"params\":[],\"type\":\"Update\"},{\"id\":861169551,\"predicate\":\"updatePtsChanged\",\"params\":[],\"type\":\"Update\"},{\"id\":-440664550,\"predicate\":\"inputMediaPhotoExternal\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"url\",\"type\":\"string\"},{\"name\":\"ttl_seconds\",\"type\":\"flags.0?int\"}],\"type\":\"InputMedia\"},{\"id\":-78455655,\"predicate\":\"inputMediaDocumentExternal\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"url\",\"type\":\"string\"},{\"name\":\"ttl_seconds\",\"type\":\"flags.0?int\"}],\"type\":\"InputMedia\"},{\"id\":872932635,\"predicate\":\"stickerSetMultiCovered\",\"params\":[{\"name\":\"set\",\"type\":\"StickerSet\"},{\"name\":\"covers\",\"type\":\"Vector<Document>\"}],\"type\":\"StickerSetCovered\"},{\"id\":-1361650766,\"predicate\":\"maskCoords\",\"params\":[{\"name\":\"n\",\"type\":\"int\"},{\"name\":\"x\",\"type\":\"double\"},{\"name\":\"y\",\"type\":\"double\"},{\"name\":\"zoom\",\"type\":\"double\"}],\"type\":\"MaskCoords\"},{\"id\":-1744710921,\"predicate\":\"documentAttributeHasStickers\",\"params\":[],\"type\":\"DocumentAttribute\"},{\"id\":1251549527,\"predicate\":\"inputStickeredMediaPhoto\",\"params\":[{\"name\":\"id\",\"type\":\"InputPhoto\"}],\"type\":\"InputStickeredMedia\"},{\"id\":70813275,\"predicate\":\"inputStickeredMediaDocument\",\"params\":[{\"name\":\"id\",\"type\":\"InputDocument\"}],\"type\":\"InputStickeredMedia\"},{\"id\":-1107729093,\"predicate\":\"game\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"id\",\"type\":\"long\"},{\"name\":\"access_hash\",\"type\":\"long\"},{\"name\":\"short_name\",\"type\":\"string\"},{\"name\":\"title\",\"type\":\"string\"},{\"name\":\"description\",\"type\":\"string\"},{\"name\":\"photo\",\"type\":\"Photo\"},{\"name\":\"document\",\"type\":\"flags.0?Document\"}],\"type\":\"Game\"},{\"id\":1336154098,\"predicate\":\"inputBotInlineResultGame\",\"params\":[{\"name\":\"id\",\"type\":\"string\"},{\"name\":\"short_name\",\"type\":\"string\"},{\"name\":\"send_message\",\"type\":\"InputBotInlineMessage\"}],\"type\":\"InputBotInlineResult\"},{\"id\":1262639204,\"predicate\":\"inputBotInlineMessageGame\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"reply_markup\",\"type\":\"flags.2?ReplyMarkup\"}],\"type\":\"InputBotInlineMessage\"},{\"id\":-38694904,\"predicate\":\"messageMediaGame\",\"params\":[{\"name\":\"game\",\"type\":\"Game\"}],\"type\":\"MessageMedia\"},{\"id\":-750828557,\"predicate\":\"inputMediaGame\",\"params\":[{\"name\":\"id\",\"type\":\"InputGame\"}],\"type\":\"InputMedia\"},{\"id\":53231223,\"predicate\":\"inputGameID\",\"params\":[{\"name\":\"id\",\"type\":\"long\"},{\"name\":\"access_hash\",\"type\":\"long\"}],\"type\":\"InputGame\"},{\"id\":-1020139510,\"predicate\":\"inputGameShortName\",\"params\":[{\"name\":\"bot_id\",\"type\":\"InputUser\"},{\"name\":\"short_name\",\"type\":\"string\"}],\"type\":\"InputGame\"},{\"id\":1358175439,\"predicate\":\"keyboardButtonGame\",\"params\":[{\"name\":\"text\",\"type\":\"string\"}],\"type\":\"KeyboardButton\"},{\"id\":-1834538890,\"predicate\":\"messageActionGameScore\",\"params\":[{\"name\":\"game_id\",\"type\":\"long\"},{\"name\":\"score\",\"type\":\"int\"}],\"type\":\"MessageAction\"},{\"id\":1940093419,\"predicate\":\"highScore\",\"params\":[{\"name\":\"pos\",\"type\":\"int\"},{\"name\":\"user_id\",\"type\":\"long\"},{\"name\":\"score\",\"type\":\"int\"}],\"type\":\"HighScore\"},{\"id\":-1707344487,\"predicate\":\"messages.highScores\",\"params\":[{\"name\":\"scores\",\"type\":\"Vector<HighScore>\"},{\"name\":\"users\",\"type\":\"Vector<User>\"}],\"type\":\"messages.HighScores\"},{\"id\":1258196845,\"predicate\":\"updates.differenceTooLong\",\"params\":[{\"name\":\"pts\",\"type\":\"int\"}],\"type\":\"updates.Difference\"},{\"id\":791390623,\"predicate\":\"updateChannelWebPage\",\"params\":[{\"name\":\"channel_id\",\"type\":\"long\"},{\"name\":\"webpage\",\"type\":\"WebPage\"},{\"name\":\"pts\",\"type\":\"int\"},{\"name\":\"pts_count\",\"type\":\"int\"}],\"type\":\"Update\"},{\"id\":-1663561404,\"predicate\":\"messages.chatsSlice\",\"params\":[{\"name\":\"count\",\"type\":\"int\"},{\"name\":\"chats\",\"type\":\"Vector<Chat>\"}],\"type\":\"messages.Chats\"},{\"id\":-599948721,\"predicate\":\"textEmpty\",\"params\":[],\"type\":\"RichText\"},{\"id\":1950782688,\"predicate\":\"textPlain\",\"params\":[{\"name\":\"text\",\"type\":\"string\"}],\"type\":\"RichText\"},{\"id\":1730456516,\"predicate\":\"textBold\",\"params\":[{\"name\":\"text\",\"type\":\"RichText\"}],\"type\":\"RichText\"},{\"id\":-653089380,\"predicate\":\"textItalic\",\"params\":[{\"name\":\"text\",\"type\":\"RichText\"}],\"type\":\"RichText\"},{\"id\":-1054465340,\"predicate\":\"textUnderline\",\"params\":[{\"name\":\"text\",\"type\":\"RichText\"}],\"type\":\"RichText\"},{\"id\":-1678197867,\"predicate\":\"textStrike\",\"params\":[{\"name\":\"text\",\"type\":\"RichText\"}],\"type\":\"RichText\"},{\"id\":1816074681,\"predicate\":\"textFixed\",\"params\":[{\"name\":\"text\",\"type\":\"RichText\"}],\"type\":\"RichText\"},{\"id\":1009288385,\"predicate\":\"textUrl\",\"params\":[{\"name\":\"text\",\"type\":\"RichText\"},{\"name\":\"url\",\"type\":\"string\"},{\"name\":\"webpage_id\",\"type\":\"long\"}],\"type\":\"RichText\"},{\"id\":-564523562,\"predicate\":\"textEmail\",\"params\":[{\"name\":\"text\",\"type\":\"RichText\"},{\"name\":\"email\",\"type\":\"string\"}],\"type\":\"RichText\"},{\"id\":2120376535,\"predicate\":\"textConcat\",\"params\":[{\"name\":\"texts\",\"type\":\"Vector<RichText>\"}],\"type\":\"RichText\"},{\"id\":324435594,\"predicate\":\"pageBlockUnsupported\",\"params\":[],\"type\":\"PageBlock\"},{\"id\":1890305021,\"predicate\":\"pageBlockTitle\",\"params\":[{\"name\":\"text\",\"type\":\"RichText\"}],\"type\":\"PageBlock\"},{\"id\":-1879401953,\"predicate\":\"pageBlockSubtitle\",\"params\":[{\"name\":\"text\",\"type\":\"RichText\"}],\"type\":\"PageBlock\"},{\"id\":-1162877472,\"predicate\":\"pageBlockAuthorDate\",\"params\":[{\"name\":\"author\",\"type\":\"RichText\"},{\"name\":\"published_date\",\"type\":\"int\"}],\"type\":\"PageBlock\"},{\"id\":-1076861716,\"predicate\":\"pageBlockHeader\",\"params\":[{\"name\":\"text\",\"type\":\"RichText\"}],\"type\":\"PageBlock\"},{\"id\":-248793375,\"predicate\":\"pageBlockSubheader\",\"params\":[{\"name\":\"text\",\"type\":\"RichText\"}],\"type\":\"PageBlock\"},{\"id\":1182402406,\"predicate\":\"pageBlockParagraph\",\"params\":[{\"name\":\"text\",\"type\":\"RichText\"}],\"type\":\"PageBlock\"},{\"id\":-1066346178,\"predicate\":\"pageBlockPreformatted\",\"params\":[{\"name\":\"text\",\"type\":\"RichText\"},{\"name\":\"language\",\"type\":\"string\"}],\"type\":\"PageBlock\"},{\"id\":1216809369,\"predicate\":\"pageBlockFooter\",\"params\":[{\"name\":\"text\",\"type\":\"RichText\"}],\"type\":\"PageBlock\"},{\"id\":-618614392,\"predicate\":\"pageBlockDivider\",\"params\":[],\"type\":\"PageBlock\"},{\"id\":-837994576,\"predicate\":\"pageBlockAnchor\",\"params\":[{\"name\":\"name\",\"type\":\"string\"}],\"type\":\"PageBlock\"},{\"id\":-454524911,\"predicate\":\"pageBlockList\",\"params\":[{\"name\":\"items\",\"type\":\"Vector<PageListItem>\"}],\"type\":\"PageBlock\"},{\"id\":641563686,\"predicate\":\"pageBlockBlockquote\",\"params\":[{\"name\":\"text\",\"type\":\"RichText\"},{\"name\":\"caption\",\"type\":\"RichText\"}],\"type\":\"PageBlock\"},{\"id\":1329878739,\"predicate\":\"pageBlockPullquote\",\"params\":[{\"name\":\"text\",\"type\":\"RichText\"},{\"name\":\"caption\",\"type\":\"RichText\"}],\"type\":\"PageBlock\"},{\"id\":391759200,\"predicate\":\"pageBlockPhoto\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"photo_id\",\"type\":\"long\"},{\"name\":\"caption\",\"type\":\"PageCaption\"},{\"name\":\"url\",\"type\":\"flags.0?string\"},{\"name\":\"webpage_id\",\"type\":\"flags.0?long\"}],\"type\":\"PageBlock\"},{\"id\":2089805750,\"predicate\":\"pageBlockVideo\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"autoplay\",\"type\":\"flags.0?true\"},{\"name\":\"loop\",\"type\":\"flags.1?true\"},{\"name\":\"video_id\",\"type\":\"long\"},{\"name\":\"caption\",\"type\":\"PageCaption\"}],\"type\":\"PageBlock\"},{\"id\":972174080,\"predicate\":\"pageBlockCover\",\"params\":[{\"name\":\"cover\",\"type\":\"PageBlock\"}],\"type\":\"PageBlock\"},{\"id\":-1468953147,\"predicate\":\"pageBlockEmbed\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"full_width\",\"type\":\"flags.0?true\"},{\"name\":\"allow_scrolling\",\"type\":\"flags.3?true\"},{\"name\":\"url\",\"type\":\"flags.1?string\"},{\"name\":\"html\",\"type\":\"flags.2?string\"},{\"name\":\"poster_photo_id\",\"type\":\"flags.4?long\"},{\"name\":\"w\",\"type\":\"flags.5?int\"},{\"name\":\"h\",\"type\":\"flags.5?int\"},{\"name\":\"caption\",\"type\":\"PageCaption\"}],\"type\":\"PageBlock\"},{\"id\":-229005301,\"predicate\":\"pageBlockEmbedPost\",\"params\":[{\"name\":\"url\",\"type\":\"string\"},{\"name\":\"webpage_id\",\"type\":\"long\"},{\"name\":\"author_photo_id\",\"type\":\"long\"},{\"name\":\"author\",\"type\":\"string\"},{\"name\":\"date\",\"type\":\"int\"},{\"name\":\"blocks\",\"type\":\"Vector<PageBlock>\"},{\"name\":\"caption\",\"type\":\"PageCaption\"}],\"type\":\"PageBlock\"},{\"id\":1705048653,\"predicate\":\"pageBlockCollage\",\"params\":[{\"name\":\"items\",\"type\":\"Vector<PageBlock>\"},{\"name\":\"caption\",\"type\":\"PageCaption\"}],\"type\":\"PageBlock\"},{\"id\":52401552,\"predicate\":\"pageBlockSlideshow\",\"params\":[{\"name\":\"items\",\"type\":\"Vector<PageBlock>\"},{\"name\":\"caption\",\"type\":\"PageCaption\"}],\"type\":\"PageBlock\"},{\"id\":1930545681,\"predicate\":\"webPageNotModified\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"cached_page_views\",\"type\":\"flags.0?int\"}],\"type\":\"WebPage\"},{\"id\":-88417185,\"predicate\":\"inputPrivacyKeyPhoneCall\",\"params\":[],\"type\":\"InputPrivacyKey\"},{\"id\":1030105979,\"predicate\":\"privacyKeyPhoneCall\",\"params\":[],\"type\":\"PrivacyKey\"},{\"id\":-580219064,\"predicate\":\"sendMessageGamePlayAction\",\"params\":[],\"type\":\"SendMessageAction\"},{\"id\":-2048646399,\"predicate\":\"phoneCallDiscardReasonMissed\",\"params\":[],\"type\":\"PhoneCallDiscardReason\"},{\"id\":-527056480,\"predicate\":\"phoneCallDiscardReasonDisconnect\",\"params\":[],\"type\":\"PhoneCallDiscardReason\"},{\"id\":1471006352,\"predicate\":\"phoneCallDiscardReasonHangup\",\"params\":[],\"type\":\"PhoneCallDiscardReason\"},{\"id\":-84416311,\"predicate\":\"phoneCallDiscardReasonBusy\",\"params\":[],\"type\":\"PhoneCallDiscardReason\"},{\"id\":1852826908,\"predicate\":\"updateDialogPinned\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"pinned\",\"type\":\"flags.0?true\"},{\"name\":\"folder_id\",\"type\":\"flags.1?int\"},{\"name\":\"peer\",\"type\":\"DialogPeer\"}],\"type\":\"Update\"},{\"id\":-99664734,\"predicate\":\"updatePinnedDialogs\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"folder_id\",\"type\":\"flags.1?int\"},{\"name\":\"order\",\"type\":\"flags.0?Vector<DialogPeer>\"}],\"type\":\"Update\"},{\"id\":2104790276,\"predicate\":\"dataJSON\",\"params\":[{\"name\":\"data\",\"type\":\"string\"}],\"type\":\"DataJSON\"},{\"id\":-2095595325,\"predicate\":\"updateBotWebhookJSON\",\"params\":[{\"name\":\"data\",\"type\":\"DataJSON\"}],\"type\":\"Update\"},{\"id\":-1684914010,\"predicate\":\"updateBotWebhookJSONQuery\",\"params\":[{\"name\":\"query_id\",\"type\":\"long\"},{\"name\":\"data\",\"type\":\"DataJSON\"},{\"name\":\"timeout\",\"type\":\"int\"}],\"type\":\"Update\"},{\"id\":-886477832,\"predicate\":\"labeledPrice\",\"params\":[{\"name\":\"label\",\"type\":\"string\"},{\"name\":\"amount\",\"type\":\"long\"}],\"type\":\"LabeledPrice\"},{\"id\":215516896,\"predicate\":\"invoice\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"test\",\"type\":\"flags.0?true\"},{\"name\":\"name_requested\",\"type\":\"flags.1?true\"},{\"name\":\"phone_requested\",\"type\":\"flags.2?true\"},{\"name\":\"email_requested\",\"type\":\"flags.3?true\"},{\"name\":\"shipping_address_requested\",\"type\":\"flags.4?true\"},{\"name\":\"flexible\",\"type\":\"flags.5?true\"},{\"name\":\"phone_to_provider\",\"type\":\"flags.6?true\"},{\"name\":\"email_to_provider\",\"type\":\"flags.7?true\"},{\"name\":\"currency\",\"type\":\"string\"},{\"name\":\"prices\",\"type\":\"Vector<LabeledPrice>\"},{\"name\":\"max_tip_amount\",\"type\":\"flags.8?long\"},{\"name\":\"suggested_tip_amounts\",\"type\":\"flags.8?Vector<long>\"}],\"type\":\"Invoice\"},{\"id\":-646342540,\"predicate\":\"inputMediaInvoice\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"title\",\"type\":\"string\"},{\"name\":\"description\",\"type\":\"string\"},{\"name\":\"photo\",\"type\":\"flags.0?InputWebDocument\"},{\"name\":\"invoice\",\"type\":\"Invoice\"},{\"name\":\"payload\",\"type\":\"bytes\"},{\"name\":\"provider\",\"type\":\"string\"},{\"name\":\"provider_data\",\"type\":\"DataJSON\"},{\"name\":\"start_param\",\"type\":\"flags.1?string\"}],\"type\":\"InputMedia\"},{\"id\":-368917890,\"predicate\":\"paymentCharge\",\"params\":[{\"name\":\"id\",\"type\":\"string\"},{\"name\":\"provider_charge_id\",\"type\":\"string\"}],\"type\":\"PaymentCharge\"},{\"id\":-1892568281,\"predicate\":\"messageActionPaymentSentMe\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"currency\",\"type\":\"string\"},{\"name\":\"total_amount\",\"type\":\"long\"},{\"name\":\"payload\",\"type\":\"bytes\"},{\"name\":\"info\",\"type\":\"flags.0?PaymentRequestedInfo\"},{\"name\":\"shipping_option_id\",\"type\":\"flags.1?string\"},{\"name\":\"charge\",\"type\":\"PaymentCharge\"}],\"type\":\"MessageAction\"},{\"id\":-2074799289,\"predicate\":\"messageMediaInvoice\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"shipping_address_requested\",\"type\":\"flags.1?true\"},{\"name\":\"test\",\"type\":\"flags.3?true\"},{\"name\":\"title\",\"type\":\"string\"},{\"name\":\"description\",\"type\":\"string\"},{\"name\":\"photo\",\"type\":\"flags.0?WebDocument\"},{\"name\":\"receipt_msg_id\",\"type\":\"flags.2?int\"},{\"name\":\"currency\",\"type\":\"string\"},{\"name\":\"total_amount\",\"type\":\"long\"},{\"name\":\"start_param\",\"type\":\"string\"}],\"type\":\"MessageMedia\"},{\"id\":512535275,\"predicate\":\"postAddress\",\"params\":[{\"name\":\"street_line1\",\"type\":\"string\"},{\"name\":\"street_line2\",\"type\":\"string\"},{\"name\":\"city\",\"type\":\"string\"},{\"name\":\"state\",\"type\":\"string\"},{\"name\":\"country_iso2\",\"type\":\"string\"},{\"name\":\"post_code\",\"type\":\"string\"}],\"type\":\"PostAddress\"},{\"id\":-1868808300,\"predicate\":\"paymentRequestedInfo\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"name\",\"type\":\"flags.0?string\"},{\"name\":\"phone\",\"type\":\"flags.1?string\"},{\"name\":\"email\",\"type\":\"flags.2?string\"},{\"name\":\"shipping_address\",\"type\":\"flags.3?PostAddress\"}],\"type\":\"PaymentRequestedInfo\"},{\"id\":-1344716869,\"predicate\":\"keyboardButtonBuy\",\"params\":[{\"name\":\"text\",\"type\":\"string\"}],\"type\":\"KeyboardButton\"},{\"id\":1080663248,\"predicate\":\"messageActionPaymentSent\",\"params\":[{\"name\":\"currency\",\"type\":\"string\"},{\"name\":\"total_amount\",\"type\":\"long\"}],\"type\":\"MessageAction\"},{\"id\":-842892769,\"predicate\":\"paymentSavedCredentialsCard\",\"params\":[{\"name\":\"id\",\"type\":\"string\"},{\"name\":\"title\",\"type\":\"string\"}],\"type\":\"PaymentSavedCredentials\"},{\"id\":475467473,\"predicate\":\"webDocument\",\"params\":[{\"name\":\"url\",\"type\":\"string\"},{\"name\":\"access_hash\",\"type\":\"long\"},{\"name\":\"size\",\"type\":\"int\"},{\"name\":\"mime_type\",\"type\":\"string\"},{\"name\":\"attributes\",\"type\":\"Vector<DocumentAttribute>\"}],\"type\":\"WebDocument\"},{\"id\":-1678949555,\"predicate\":\"inputWebDocument\",\"params\":[{\"name\":\"url\",\"type\":\"string\"},{\"name\":\"size\",\"type\":\"int\"},{\"name\":\"mime_type\",\"type\":\"string\"},{\"name\":\"attributes\",\"type\":\"Vector<DocumentAttribute>\"}],\"type\":\"InputWebDocument\"},{\"id\":-1036396922,\"predicate\":\"inputWebFileLocation\",\"params\":[{\"name\":\"url\",\"type\":\"string\"},{\"name\":\"access_hash\",\"type\":\"long\"}],\"type\":\"InputWebFileLocation\"},{\"id\":568808380,\"predicate\":\"upload.webFile\",\"params\":[{\"name\":\"size\",\"type\":\"int\"},{\"name\":\"mime_type\",\"type\":\"string\"},{\"name\":\"file_type\",\"type\":\"storage.FileType\"},{\"name\":\"mtime\",\"type\":\"int\"},{\"name\":\"bytes\",\"type\":\"bytes\"}],\"type\":\"upload.WebFile\"},{\"id\":378828315,\"predicate\":\"payments.paymentForm\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"can_save_credentials\",\"type\":\"flags.2?true\"},{\"name\":\"password_missing\",\"type\":\"flags.3?true\"},{\"name\":\"form_id\",\"type\":\"long\"},{\"name\":\"bot_id\",\"type\":\"long\"},{\"name\":\"invoice\",\"type\":\"Invoice\"},{\"name\":\"provider_id\",\"type\":\"long\"},{\"name\":\"url\",\"type\":\"string\"},{\"name\":\"native_provider\",\"type\":\"flags.4?string\"},{\"name\":\"native_params\",\"type\":\"flags.4?DataJSON\"},{\"name\":\"saved_info\",\"type\":\"flags.0?PaymentRequestedInfo\"},{\"name\":\"saved_credentials\",\"type\":\"flags.1?PaymentSavedCredentials\"},{\"name\":\"users\",\"type\":\"Vector<User>\"}],\"type\":\"payments.PaymentForm\"},{\"id\":-784000893,\"predicate\":\"payments.validatedRequestedInfo\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"id\",\"type\":\"flags.0?string\"},{\"name\":\"shipping_options\",\"type\":\"flags.1?Vector<ShippingOption>\"}],\"type\":\"payments.ValidatedRequestedInfo\"},{\"id\":1314881805,\"predicate\":\"payments.paymentResult\",\"params\":[{\"name\":\"updates\",\"type\":\"Updates\"}],\"type\":\"payments.PaymentResult\"},{\"id\":1891958275,\"predicate\":\"payments.paymentReceipt\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"date\",\"type\":\"int\"},{\"name\":\"bot_id\",\"type\":\"long\"},{\"name\":\"provider_id\",\"type\":\"long\"},{\"name\":\"title\",\"type\":\"string\"},{\"name\":\"description\",\"type\":\"string\"},{\"name\":\"photo\",\"type\":\"flags.2?WebDocument\"},{\"name\":\"invoice\",\"type\":\"Invoice\"},{\"name\":\"info\",\"type\":\"flags.0?PaymentRequestedInfo\"},{\"name\":\"shipping\",\"type\":\"flags.1?ShippingOption\"},{\"name\":\"tip_amount\",\"type\":\"flags.3?long\"},{\"name\":\"currency\",\"type\":\"string\"},{\"name\":\"total_amount\",\"type\":\"long\"},{\"name\":\"credentials_title\",\"type\":\"string\"},{\"name\":\"users\",\"type\":\"Vector<User>\"}],\"type\":\"payments.PaymentReceipt\"},{\"id\":-74456004,\"predicate\":\"payments.savedInfo\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"has_saved_credentials\",\"type\":\"flags.1?true\"},{\"name\":\"saved_info\",\"type\":\"flags.0?PaymentRequestedInfo\"}],\"type\":\"payments.SavedInfo\"},{\"id\":-1056001329,\"predicate\":\"inputPaymentCredentialsSaved\",\"params\":[{\"name\":\"id\",\"type\":\"string\"},{\"name\":\"tmp_password\",\"type\":\"bytes\"}],\"type\":\"InputPaymentCredentials\"},{\"id\":873977640,\"predicate\":\"inputPaymentCredentials\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"save\",\"type\":\"flags.0?true\"},{\"name\":\"data\",\"type\":\"DataJSON\"}],\"type\":\"InputPaymentCredentials\"},{\"id\":-614138572,\"predicate\":\"account.tmpPassword\",\"params\":[{\"name\":\"tmp_password\",\"type\":\"bytes\"},{\"name\":\"valid_until\",\"type\":\"int\"}],\"type\":\"account.TmpPassword\"},{\"id\":-1239335713,\"predicate\":\"shippingOption\",\"params\":[{\"name\":\"id\",\"type\":\"string\"},{\"name\":\"title\",\"type\":\"string\"},{\"name\":\"prices\",\"type\":\"Vector<LabeledPrice>\"}],\"type\":\"ShippingOption\"},{\"id\":-1246823043,\"predicate\":\"updateBotShippingQuery\",\"params\":[{\"name\":\"query_id\",\"type\":\"long\"},{\"name\":\"user_id\",\"type\":\"long\"},{\"name\":\"payload\",\"type\":\"bytes\"},{\"name\":\"shipping_address\",\"type\":\"PostAddress\"}],\"type\":\"Update\"},{\"id\":-1934976362,\"predicate\":\"updateBotPrecheckoutQuery\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"query_id\",\"type\":\"long\"},{\"name\":\"user_id\",\"type\":\"long\"},{\"name\":\"payload\",\"type\":\"bytes\"},{\"name\":\"info\",\"type\":\"flags.0?PaymentRequestedInfo\"},{\"name\":\"shipping_option_id\",\"type\":\"flags.1?string\"},{\"name\":\"currency\",\"type\":\"string\"},{\"name\":\"total_amount\",\"type\":\"long\"}],\"type\":\"Update\"},{\"id\":-6249322,\"predicate\":\"inputStickerSetItem\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"document\",\"type\":\"InputDocument\"},{\"name\":\"emoji\",\"type\":\"string\"},{\"name\":\"mask_coords\",\"type\":\"flags.0?MaskCoords\"}],\"type\":\"InputStickerSetItem\"},{\"id\":-1425052898,\"predicate\":\"updatePhoneCall\",\"params\":[{\"name\":\"phone_call\",\"type\":\"PhoneCall\"}],\"type\":\"Update\"},{\"id\":506920429,\"predicate\":\"inputPhoneCall\",\"params\":[{\"name\":\"id\",\"type\":\"long\"},{\"name\":\"access_hash\",\"type\":\"long\"}],\"type\":\"InputPhoneCall\"},{\"id\":1399245077,\"predicate\":\"phoneCallEmpty\",\"params\":[{\"name\":\"id\",\"type\":\"long\"}],\"type\":\"PhoneCall\"},{\"id\":-987599081,\"predicate\":\"phoneCallWaiting\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"video\",\"type\":\"flags.6?true\"},{\"name\":\"id\",\"type\":\"long\"},{\"name\":\"access_hash\",\"type\":\"long\"},{\"name\":\"date\",\"type\":\"int\"},{\"name\":\"admin_id\",\"type\":\"long\"},{\"name\":\"participant_id\",\"type\":\"long\"},{\"name\":\"protocol\",\"type\":\"PhoneCallProtocol\"},{\"name\":\"receive_date\",\"type\":\"flags.0?int\"}],\"type\":\"PhoneCall\"},{\"id\":347139340,\"predicate\":\"phoneCallRequested\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"video\",\"type\":\"flags.6?true\"},{\"name\":\"id\",\"type\":\"long\"},{\"name\":\"access_hash\",\"type\":\"long\"},{\"name\":\"date\",\"type\":\"int\"},{\"name\":\"admin_id\",\"type\":\"long\"},{\"name\":\"participant_id\",\"type\":\"long\"},{\"name\":\"g_a_hash\",\"type\":\"bytes\"},{\"name\":\"protocol\",\"type\":\"PhoneCallProtocol\"}],\"type\":\"PhoneCall\"},{\"id\":912311057,\"predicate\":\"phoneCallAccepted\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"video\",\"type\":\"flags.6?true\"},{\"name\":\"id\",\"type\":\"long\"},{\"name\":\"access_hash\",\"type\":\"long\"},{\"name\":\"date\",\"type\":\"int\"},{\"name\":\"admin_id\",\"type\":\"long\"},{\"name\":\"participant_id\",\"type\":\"long\"},{\"name\":\"g_b\",\"type\":\"bytes\"},{\"name\":\"protocol\",\"type\":\"PhoneCallProtocol\"}],\"type\":\"PhoneCall\"},{\"id\":-1770029977,\"predicate\":\"phoneCall\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"p2p_allowed\",\"type\":\"flags.5?true\"},{\"name\":\"video\",\"type\":\"flags.6?true\"},{\"name\":\"id\",\"type\":\"long\"},{\"name\":\"access_hash\",\"type\":\"long\"},{\"name\":\"date\",\"type\":\"int\"},{\"name\":\"admin_id\",\"type\":\"long\"},{\"name\":\"participant_id\",\"type\":\"long\"},{\"name\":\"g_a_or_b\",\"type\":\"bytes\"},{\"name\":\"key_fingerprint\",\"type\":\"long\"},{\"name\":\"protocol\",\"type\":\"PhoneCallProtocol\"},{\"name\":\"connections\",\"type\":\"Vector<PhoneConnection>\"},{\"name\":\"start_date\",\"type\":\"int\"}],\"type\":\"PhoneCall\"},{\"id\":1355435489,\"predicate\":\"phoneCallDiscarded\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"need_rating\",\"type\":\"flags.2?true\"},{\"name\":\"need_debug\",\"type\":\"flags.3?true\"},{\"name\":\"video\",\"type\":\"flags.6?true\"},{\"name\":\"id\",\"type\":\"long\"},{\"name\":\"reason\",\"type\":\"flags.0?PhoneCallDiscardReason\"},{\"name\":\"duration\",\"type\":\"flags.1?int\"}],\"type\":\"PhoneCall\"},{\"id\":-1655957568,\"predicate\":\"phoneConnection\",\"params\":[{\"name\":\"id\",\"type\":\"long\"},{\"name\":\"ip\",\"type\":\"string\"},{\"name\":\"ipv6\",\"type\":\"string\"},{\"name\":\"port\",\"type\":\"int\"},{\"name\":\"peer_tag\",\"type\":\"bytes\"}],\"type\":\"PhoneConnection\"},{\"id\":-58224696,\"predicate\":\"phoneCallProtocol\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"udp_p2p\",\"type\":\"flags.0?true\"},{\"name\":\"udp_reflector\",\"type\":\"flags.1?true\"},{\"name\":\"min_layer\",\"type\":\"int\"},{\"name\":\"max_layer\",\"type\":\"int\"},{\"name\":\"library_versions\",\"type\":\"Vector<string>\"}],\"type\":\"PhoneCallProtocol\"},{\"id\":-326966976,\"predicate\":\"phone.phoneCall\",\"params\":[{\"name\":\"phone_call\",\"type\":\"PhoneCall\"},{\"name\":\"users\",\"type\":\"Vector<User>\"}],\"type\":\"phone.PhoneCall\"},{\"id\":-2134272152,\"predicate\":\"inputMessagesFilterPhoneCalls\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"missed\",\"type\":\"flags.0?true\"}],\"type\":\"MessagesFilter\"},{\"id\":-2132731265,\"predicate\":\"messageActionPhoneCall\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"video\",\"type\":\"flags.2?true\"},{\"name\":\"call_id\",\"type\":\"long\"},{\"name\":\"reason\",\"type\":\"flags.0?PhoneCallDiscardReason\"},{\"name\":\"duration\",\"type\":\"flags.1?int\"}],\"type\":\"MessageAction\"},{\"id\":2054952868,\"predicate\":\"inputMessagesFilterRoundVoice\",\"params\":[],\"type\":\"MessagesFilter\"},{\"id\":-1253451181,\"predicate\":\"inputMessagesFilterRoundVideo\",\"params\":[],\"type\":\"MessagesFilter\"},{\"id\":-1997373508,\"predicate\":\"sendMessageRecordRoundAction\",\"params\":[],\"type\":\"SendMessageAction\"},{\"id\":608050278,\"predicate\":\"sendMessageUploadRoundAction\",\"params\":[{\"name\":\"progress\",\"type\":\"int\"}],\"type\":\"SendMessageAction\"},{\"id\":-242427324,\"predicate\":\"upload.fileCdnRedirect\",\"params\":[{\"name\":\"dc_id\",\"type\":\"int\"},{\"name\":\"file_token\",\"type\":\"bytes\"},{\"name\":\"encryption_key\",\"type\":\"bytes\"},{\"name\":\"encryption_iv\",\"type\":\"bytes\"},{\"name\":\"file_hashes\",\"type\":\"Vector<FileHash>\"}],\"type\":\"upload.File\"},{\"id\":-290921362,\"predicate\":\"upload.cdnFileReuploadNeeded\",\"params\":[{\"name\":\"request_token\",\"type\":\"bytes\"}],\"type\":\"upload.CdnFile\"},{\"id\":-1449145777,\"predicate\":\"upload.cdnFile\",\"params\":[{\"name\":\"bytes\",\"type\":\"bytes\"}],\"type\":\"upload.CdnFile\"},{\"id\":-914167110,\"predicate\":\"cdnPublicKey\",\"params\":[{\"name\":\"dc_id\",\"type\":\"int\"},{\"name\":\"public_key\",\"type\":\"string\"}],\"type\":\"CdnPublicKey\"},{\"id\":1462101002,\"predicate\":\"cdnConfig\",\"params\":[{\"name\":\"public_keys\",\"type\":\"Vector<CdnPublicKey>\"}],\"type\":\"CdnConfig\"},{\"id\":-283684427,\"predicate\":\"pageBlockChannel\",\"params\":[{\"name\":\"channel\",\"type\":\"Chat\"}],\"type\":\"PageBlock\"},{\"id\":-892239370,\"predicate\":\"langPackString\",\"params\":[{\"name\":\"key\",\"type\":\"string\"},{\"name\":\"value\",\"type\":\"string\"}],\"type\":\"LangPackString\"},{\"id\":1816636575,\"predicate\":\"langPackStringPluralized\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"key\",\"type\":\"string\"},{\"name\":\"zero_value\",\"type\":\"flags.0?string\"},{\"name\":\"one_value\",\"type\":\"flags.1?string\"},{\"name\":\"two_value\",\"type\":\"flags.2?string\"},{\"name\":\"few_value\",\"type\":\"flags.3?string\"},{\"name\":\"many_value\",\"type\":\"flags.4?string\"},{\"name\":\"other_value\",\"type\":\"string\"}],\"type\":\"LangPackString\"},{\"id\":695856818,\"predicate\":\"langPackStringDeleted\",\"params\":[{\"name\":\"key\",\"type\":\"string\"}],\"type\":\"LangPackString\"},{\"id\":-209337866,\"predicate\":\"langPackDifference\",\"params\":[{\"name\":\"lang_code\",\"type\":\"string\"},{\"name\":\"from_version\",\"type\":\"int\"},{\"name\":\"version\",\"type\":\"int\"},{\"name\":\"strings\",\"type\":\"Vector<LangPackString>\"}],\"type\":\"LangPackDifference\"},{\"id\":-288727837,\"predicate\":\"langPackLanguage\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"official\",\"type\":\"flags.0?true\"},{\"name\":\"rtl\",\"type\":\"flags.2?true\"},{\"name\":\"beta\",\"type\":\"flags.3?true\"},{\"name\":\"name\",\"type\":\"string\"},{\"name\":\"native_name\",\"type\":\"string\"},{\"name\":\"lang_code\",\"type\":\"string\"},{\"name\":\"base_lang_code\",\"type\":\"flags.1?string\"},{\"name\":\"plural_code\",\"type\":\"string\"},{\"name\":\"strings_count\",\"type\":\"int\"},{\"name\":\"translated_count\",\"type\":\"int\"},{\"name\":\"translations_url\",\"type\":\"string\"}],\"type\":\"LangPackLanguage\"},{\"id\":1180041828,\"predicate\":\"updateLangPackTooLong\",\"params\":[{\"name\":\"lang_code\",\"type\":\"string\"}],\"type\":\"Update\"},{\"id\":1442983757,\"predicate\":\"updateLangPack\",\"params\":[{\"name\":\"difference\",\"type\":\"LangPackDifference\"}],\"type\":\"Update\"},{\"id\":885242707,\"predicate\":\"channelParticipantAdmin\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"can_edit\",\"type\":\"flags.0?true\"},{\"name\":\"self\",\"type\":\"flags.1?true\"},{\"name\":\"user_id\",\"type\":\"long\"},{\"name\":\"inviter_id\",\"type\":\"flags.1?long\"},{\"name\":\"promoted_by\",\"type\":\"long\"},{\"name\":\"date\",\"type\":\"int\"},{\"name\":\"admin_rights\",\"type\":\"ChatAdminRights\"},{\"name\":\"rank\",\"type\":\"flags.2?string\"}],\"type\":\"ChannelParticipant\"},{\"id\":1844969806,\"predicate\":\"channelParticipantBanned\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"left\",\"type\":\"flags.0?true\"},{\"name\":\"peer\",\"type\":\"Peer\"},{\"name\":\"kicked_by\",\"type\":\"long\"},{\"name\":\"date\",\"type\":\"int\"},{\"name\":\"banned_rights\",\"type\":\"ChatBannedRights\"}],\"type\":\"ChannelParticipant\"},{\"id\":338142689,\"predicate\":\"channelParticipantsBanned\",\"params\":[{\"name\":\"q\",\"type\":\"string\"}],\"type\":\"ChannelParticipantsFilter\"},{\"id\":106343499,\"predicate\":\"channelParticipantsSearch\",\"params\":[{\"name\":\"q\",\"type\":\"string\"}],\"type\":\"ChannelParticipantsFilter\"},{\"id\":-421545947,\"predicate\":\"channelAdminLogEventActionChangeTitle\",\"params\":[{\"name\":\"prev_value\",\"type\":\"string\"},{\"name\":\"new_value\",\"type\":\"string\"}],\"type\":\"ChannelAdminLogEventAction\"},{\"id\":1427671598,\"predicate\":\"channelAdminLogEventActionChangeAbout\",\"params\":[{\"name\":\"prev_value\",\"type\":\"string\"},{\"name\":\"new_value\",\"type\":\"string\"}],\"type\":\"ChannelAdminLogEventAction\"},{\"id\":1783299128,\"predicate\":\"channelAdminLogEventActionChangeUsername\",\"params\":[{\"name\":\"prev_value\",\"type\":\"string\"},{\"name\":\"new_value\",\"type\":\"string\"}],\"type\":\"ChannelAdminLogEventAction\"},{\"id\":1129042607,\"predicate\":\"channelAdminLogEventActionChangePhoto\",\"params\":[{\"name\":\"prev_photo\",\"type\":\"Photo\"},{\"name\":\"new_photo\",\"type\":\"Photo\"}],\"type\":\"ChannelAdminLogEventAction\"},{\"id\":460916654,\"predicate\":\"channelAdminLogEventActionToggleInvites\",\"params\":[{\"name\":\"new_value\",\"type\":\"Bool\"}],\"type\":\"ChannelAdminLogEventAction\"},{\"id\":648939889,\"predicate\":\"channelAdminLogEventActionToggleSignatures\",\"params\":[{\"name\":\"new_value\",\"type\":\"Bool\"}],\"type\":\"ChannelAdminLogEventAction\"},{\"id\":-370660328,\"predicate\":\"channelAdminLogEventActionUpdatePinned\",\"params\":[{\"name\":\"message\",\"type\":\"Message\"}],\"type\":\"ChannelAdminLogEventAction\"},{\"id\":1889215493,\"predicate\":\"channelAdminLogEventActionEditMessage\",\"params\":[{\"name\":\"prev_message\",\"type\":\"Message\"},{\"name\":\"new_message\",\"type\":\"Message\"}],\"type\":\"ChannelAdminLogEventAction\"},{\"id\":1121994683,\"predicate\":\"channelAdminLogEventActionDeleteMessage\",\"params\":[{\"name\":\"message\",\"type\":\"Message\"}],\"type\":\"ChannelAdminLogEventAction\"},{\"id\":405815507,\"predicate\":\"channelAdminLogEventActionParticipantJoin\",\"params\":[],\"type\":\"ChannelAdminLogEventAction\"},{\"id\":-124291086,\"predicate\":\"channelAdminLogEventActionParticipantLeave\",\"params\":[],\"type\":\"ChannelAdminLogEventAction\"},{\"id\":-484690728,\"predicate\":\"channelAdminLogEventActionParticipantInvite\",\"params\":[{\"name\":\"participant\",\"type\":\"ChannelParticipant\"}],\"type\":\"ChannelAdminLogEventAction\"},{\"id\":-422036098,\"predicate\":\"channelAdminLogEventActionParticipantToggleBan\",\"params\":[{\"name\":\"prev_participant\",\"type\":\"ChannelParticipant\"},{\"name\":\"new_participant\",\"type\":\"ChannelParticipant\"}],\"type\":\"ChannelAdminLogEventAction\"},{\"id\":-714643696,\"predicate\":\"channelAdminLogEventActionParticipantToggleAdmin\",\"params\":[{\"name\":\"prev_participant\",\"type\":\"ChannelParticipant\"},{\"name\":\"new_participant\",\"type\":\"ChannelParticipant\"}],\"type\":\"ChannelAdminLogEventAction\"},{\"id\":531458253,\"predicate\":\"channelAdminLogEvent\",\"params\":[{\"name\":\"id\",\"type\":\"long\"},{\"name\":\"date\",\"type\":\"int\"},{\"name\":\"user_id\",\"type\":\"long\"},{\"name\":\"action\",\"type\":\"ChannelAdminLogEventAction\"}],\"type\":\"ChannelAdminLogEvent\"},{\"id\":-309659827,\"predicate\":\"channels.adminLogResults\",\"params\":[{\"name\":\"events\",\"type\":\"Vector<ChannelAdminLogEvent>\"},{\"name\":\"chats\",\"type\":\"Vector<Chat>\"},{\"name\":\"users\",\"type\":\"Vector<User>\"}],\"type\":\"channels.AdminLogResults\"},{\"id\":-368018716,\"predicate\":\"channelAdminLogEventsFilter\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"join\",\"type\":\"flags.0?true\"},{\"name\":\"leave\",\"type\":\"flags.1?true\"},{\"name\":\"invite\",\"type\":\"flags.2?true\"},{\"name\":\"ban\",\"type\":\"flags.3?true\"},{\"name\":\"unban\",\"type\":\"flags.4?true\"},{\"name\":\"kick\",\"type\":\"flags.5?true\"},{\"name\":\"unkick\",\"type\":\"flags.6?true\"},{\"name\":\"promote\",\"type\":\"flags.7?true\"},{\"name\":\"demote\",\"type\":\"flags.8?true\"},{\"name\":\"info\",\"type\":\"flags.9?true\"},{\"name\":\"settings\",\"type\":\"flags.10?true\"},{\"name\":\"pinned\",\"type\":\"flags.11?true\"},{\"name\":\"edit\",\"type\":\"flags.12?true\"},{\"name\":\"delete\",\"type\":\"flags.13?true\"},{\"name\":\"group_call\",\"type\":\"flags.14?true\"},{\"name\":\"invites\",\"type\":\"flags.15?true\"},{\"name\":\"send\",\"type\":\"flags.16?true\"}],\"type\":\"ChannelAdminLogEventsFilter\"},{\"id\":511092620,\"predicate\":\"topPeerCategoryPhoneCalls\",\"params\":[],\"type\":\"TopPeerCategory\"},{\"id\":-2143067670,\"predicate\":\"pageBlockAudio\",\"params\":[{\"name\":\"audio_id\",\"type\":\"long\"},{\"name\":\"caption\",\"type\":\"PageCaption\"}],\"type\":\"PageBlock\"},{\"id\":1558266229,\"predicate\":\"popularContact\",\"params\":[{\"name\":\"client_id\",\"type\":\"long\"},{\"name\":\"importers\",\"type\":\"int\"}],\"type\":\"PopularContact\"},{\"id\":1200788123,\"predicate\":\"messageActionScreenshotTaken\",\"params\":[],\"type\":\"MessageAction\"},{\"id\":-1634752813,\"predicate\":\"messages.favedStickersNotModified\",\"params\":[],\"type\":\"messages.FavedStickers\"},{\"id\":750063767,\"predicate\":\"messages.favedStickers\",\"params\":[{\"name\":\"hash\",\"type\":\"long\"},{\"name\":\"packs\",\"type\":\"Vector<StickerPack>\"},{\"name\":\"stickers\",\"type\":\"Vector<Document>\"}],\"type\":\"messages.FavedStickers\"},{\"id\":-451831443,\"predicate\":\"updateFavedStickers\",\"params\":[],\"type\":\"Update\"},{\"id\":1153291573,\"predicate\":\"updateChannelReadMessagesContents\",\"params\":[{\"name\":\"channel_id\",\"type\":\"long\"},{\"name\":\"messages\",\"type\":\"Vector<int>\"}],\"type\":\"Update\"},{\"id\":-1040652646,\"predicate\":\"inputMessagesFilterMyMentions\",\"params\":[],\"type\":\"MessagesFilter\"},{\"id\":1887741886,\"predicate\":\"updateContactsReset\",\"params\":[],\"type\":\"Update\"},{\"id\":-1312568665,\"predicate\":\"channelAdminLogEventActionChangeStickerSet\",\"params\":[{\"name\":\"prev_stickerset\",\"type\":\"InputStickerSet\"},{\"name\":\"new_stickerset\",\"type\":\"InputStickerSet\"}],\"type\":\"ChannelAdminLogEventAction\"},{\"id\":-85549226,\"predicate\":\"messageActionCustomAction\",\"params\":[{\"name\":\"message\",\"type\":\"string\"}],\"type\":\"MessageAction\"},{\"id\":178373535,\"predicate\":\"inputPaymentCredentialsApplePay\",\"params\":[{\"name\":\"payment_data\",\"type\":\"DataJSON\"}],\"type\":\"InputPaymentCredentials\"},{\"id\":-419271411,\"predicate\":\"inputMessagesFilterGeo\",\"params\":[],\"type\":\"MessagesFilter\"},{\"id\":-530392189,\"predicate\":\"inputMessagesFilterContacts\",\"params\":[],\"type\":\"MessagesFilter\"},{\"id\":-1304443240,\"predicate\":\"updateChannelAvailableMessages\",\"params\":[{\"name\":\"channel_id\",\"type\":\"long\"},{\"name\":\"available_min_id\",\"type\":\"int\"}],\"type\":\"Update\"},{\"id\":1599903217,\"predicate\":\"channelAdminLogEventActionTogglePreHistoryHidden\",\"params\":[{\"name\":\"new_value\",\"type\":\"Bool\"}],\"type\":\"ChannelAdminLogEventAction\"},{\"id\":-1759532989,\"predicate\":\"inputMediaGeoLive\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"stopped\",\"type\":\"flags.0?true\"},{\"name\":\"geo_point\",\"type\":\"InputGeoPoint\"},{\"name\":\"heading\",\"type\":\"flags.2?int\"},{\"name\":\"period\",\"type\":\"flags.1?int\"},{\"name\":\"proximity_notification_radius\",\"type\":\"flags.3?int\"}],\"type\":\"InputMedia\"},{\"id\":-1186937242,\"predicate\":\"messageMediaGeoLive\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"geo\",\"type\":\"GeoPoint\"},{\"name\":\"heading\",\"type\":\"flags.0?int\"},{\"name\":\"period\",\"type\":\"int\"},{\"name\":\"proximity_notification_radius\",\"type\":\"flags.1?int\"}],\"type\":\"MessageMedia\"},{\"id\":1189204285,\"predicate\":\"recentMeUrlUnknown\",\"params\":[{\"name\":\"url\",\"type\":\"string\"}],\"type\":\"RecentMeUrl\"},{\"id\":-1188296222,\"predicate\":\"recentMeUrlUser\",\"params\":[{\"name\":\"url\",\"type\":\"string\"},{\"name\":\"user_id\",\"type\":\"long\"}],\"type\":\"RecentMeUrl\"},{\"id\":-1294306862,\"predicate\":\"recentMeUrlChat\",\"params\":[{\"name\":\"url\",\"type\":\"string\"},{\"name\":\"chat_id\",\"type\":\"long\"}],\"type\":\"RecentMeUrl\"},{\"id\":-347535331,\"predicate\":\"recentMeUrlChatInvite\",\"params\":[{\"name\":\"url\",\"type\":\"string\"},{\"name\":\"chat_invite\",\"type\":\"ChatInvite\"}],\"type\":\"RecentMeUrl\"},{\"id\":-1140172836,\"predicate\":\"recentMeUrlStickerSet\",\"params\":[{\"name\":\"url\",\"type\":\"string\"},{\"name\":\"set\",\"type\":\"StickerSetCovered\"}],\"type\":\"RecentMeUrl\"},{\"id\":235081943,\"predicate\":\"help.recentMeUrls\",\"params\":[{\"name\":\"urls\",\"type\":\"Vector<RecentMeUrl>\"},{\"name\":\"chats\",\"type\":\"Vector<Chat>\"},{\"name\":\"users\",\"type\":\"Vector<User>\"}],\"type\":\"help.RecentMeUrls\"},{\"id\":-266911767,\"predicate\":\"channels.channelParticipantsNotModified\",\"params\":[],\"type\":\"channels.ChannelParticipants\"},{\"id\":1951620897,\"predicate\":\"messages.messagesNotModified\",\"params\":[{\"name\":\"count\",\"type\":\"int\"}],\"type\":\"messages.Messages\"},{\"id\":482797855,\"predicate\":\"inputSingleMedia\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"media\",\"type\":\"InputMedia\"},{\"name\":\"random_id\",\"type\":\"long\"},{\"name\":\"message\",\"type\":\"string\"},{\"name\":\"entities\",\"type\":\"flags.0?Vector<MessageEntity>\"}],\"type\":\"InputSingleMedia\"},{\"id\":-1493633966,\"predicate\":\"webAuthorization\",\"params\":[{\"name\":\"hash\",\"type\":\"long\"},{\"name\":\"bot_id\",\"type\":\"long\"},{\"name\":\"domain\",\"type\":\"string\"},{\"name\":\"browser\",\"type\":\"string\"},{\"name\":\"platform\",\"type\":\"string\"},{\"name\":\"date_created\",\"type\":\"int\"},{\"name\":\"date_active\",\"type\":\"int\"},{\"name\":\"ip\",\"type\":\"string\"},{\"name\":\"region\",\"type\":\"string\"}],\"type\":\"WebAuthorization\"},{\"id\":-313079300,\"predicate\":\"account.webAuthorizations\",\"params\":[{\"name\":\"authorizations\",\"type\":\"Vector<WebAuthorization>\"},{\"name\":\"users\",\"type\":\"Vector<User>\"}],\"type\":\"account.WebAuthorizations\"},{\"id\":-1502174430,\"predicate\":\"inputMessageID\",\"params\":[{\"name\":\"id\",\"type\":\"int\"}],\"type\":\"InputMessage\"},{\"id\":-1160215659,\"predicate\":\"inputMessageReplyTo\",\"params\":[{\"name\":\"id\",\"type\":\"int\"}],\"type\":\"InputMessage\"},{\"id\":-2037963464,\"predicate\":\"inputMessagePinned\",\"params\":[],\"type\":\"InputMessage\"},{\"id\":-1687559349,\"predicate\":\"messageEntityPhone\",\"params\":[{\"name\":\"offset\",\"type\":\"int\"},{\"name\":\"length\",\"type\":\"int\"}],\"type\":\"MessageEntity\"},{\"id\":1280209983,\"predicate\":\"messageEntityCashtag\",\"params\":[{\"name\":\"offset\",\"type\":\"int\"},{\"name\":\"length\",\"type\":\"int\"}],\"type\":\"MessageEntity\"},{\"id\":-1410748418,\"predicate\":\"messageActionBotAllowed\",\"params\":[{\"name\":\"domain\",\"type\":\"string\"}],\"type\":\"MessageAction\"},{\"id\":-55902537,\"predicate\":\"inputDialogPeer\",\"params\":[{\"name\":\"peer\",\"type\":\"InputPeer\"}],\"type\":\"InputDialogPeer\"},{\"id\":-445792507,\"predicate\":\"dialogPeer\",\"params\":[{\"name\":\"peer\",\"type\":\"Peer\"}],\"type\":\"DialogPeer\"},{\"id\":223655517,\"predicate\":\"messages.foundStickerSetsNotModified\",\"params\":[],\"type\":\"messages.FoundStickerSets\"},{\"id\":-1963942446,\"predicate\":\"messages.foundStickerSets\",\"params\":[{\"name\":\"hash\",\"type\":\"long\"},{\"name\":\"sets\",\"type\":\"Vector<StickerSetCovered>\"}],\"type\":\"messages.FoundStickerSets\"},{\"id\":1648543603,\"predicate\":\"fileHash\",\"params\":[{\"name\":\"offset\",\"type\":\"int\"},{\"name\":\"limit\",\"type\":\"int\"},{\"name\":\"hash\",\"type\":\"bytes\"}],\"type\":\"FileHash\"},{\"id\":-104284986,\"predicate\":\"webDocumentNoProxy\",\"params\":[{\"name\":\"url\",\"type\":\"string\"},{\"name\":\"size\",\"type\":\"int\"},{\"name\":\"mime_type\",\"type\":\"string\"},{\"name\":\"attributes\",\"type\":\"Vector<DocumentAttribute>\"}],\"type\":\"WebDocument\"},{\"id\":1968737087,\"predicate\":\"inputClientProxy\",\"params\":[{\"name\":\"address\",\"type\":\"string\"},{\"name\":\"port\",\"type\":\"int\"}],\"type\":\"InputClientProxy\"},{\"id\":-483352705,\"predicate\":\"help.termsOfServiceUpdateEmpty\",\"params\":[{\"name\":\"expires\",\"type\":\"int\"}],\"type\":\"help.TermsOfServiceUpdate\"},{\"id\":686618977,\"predicate\":\"help.termsOfServiceUpdate\",\"params\":[{\"name\":\"expires\",\"type\":\"int\"},{\"name\":\"terms_of_service\",\"type\":\"help.TermsOfService\"}],\"type\":\"help.TermsOfServiceUpdate\"},{\"id\":859091184,\"predicate\":\"inputSecureFileUploaded\",\"params\":[{\"name\":\"id\",\"type\":\"long\"},{\"name\":\"parts\",\"type\":\"int\"},{\"name\":\"md5_checksum\",\"type\":\"string\"},{\"name\":\"file_hash\",\"type\":\"bytes\"},{\"name\":\"secret\",\"type\":\"bytes\"}],\"type\":\"InputSecureFile\"},{\"id\":1399317950,\"predicate\":\"inputSecureFile\",\"params\":[{\"name\":\"id\",\"type\":\"long\"},{\"name\":\"access_hash\",\"type\":\"long\"}],\"type\":\"InputSecureFile\"},{\"id\":-876089816,\"predicate\":\"inputSecureFileLocation\",\"params\":[{\"name\":\"id\",\"type\":\"long\"},{\"name\":\"access_hash\",\"type\":\"long\"}],\"type\":\"InputFileLocation\"},{\"id\":1679398724,\"predicate\":\"secureFileEmpty\",\"params\":[],\"type\":\"SecureFile\"},{\"id\":-534283678,\"predicate\":\"secureFile\",\"params\":[{\"name\":\"id\",\"type\":\"long\"},{\"name\":\"access_hash\",\"type\":\"long\"},{\"name\":\"size\",\"type\":\"int\"},{\"name\":\"dc_id\",\"type\":\"int\"},{\"name\":\"date\",\"type\":\"int\"},{\"name\":\"file_hash\",\"type\":\"bytes\"},{\"name\":\"secret\",\"type\":\"bytes\"}],\"type\":\"SecureFile\"},{\"id\":-1964327229,\"predicate\":\"secureData\",\"params\":[{\"name\":\"data\",\"type\":\"bytes\"},{\"name\":\"data_hash\",\"type\":\"bytes\"},{\"name\":\"secret\",\"type\":\"bytes\"}],\"type\":\"SecureData\"},{\"id\":2103482845,\"predicate\":\"securePlainPhone\",\"params\":[{\"name\":\"phone\",\"type\":\"string\"}],\"type\":\"SecurePlainData\"},{\"id\":569137759,\"predicate\":\"securePlainEmail\",\"params\":[{\"name\":\"email\",\"type\":\"string\"}],\"type\":\"SecurePlainData\"},{\"id\":-1658158621,\"predicate\":\"secureValueTypePersonalDetails\",\"params\":[],\"type\":\"SecureValueType\"},{\"id\":1034709504,\"predicate\":\"secureValueTypePassport\",\"params\":[],\"type\":\"SecureValueType\"},{\"id\":115615172,\"predicate\":\"secureValueTypeDriverLicense\",\"params\":[],\"type\":\"SecureValueType\"},{\"id\":-1596951477,\"predicate\":\"secureValueTypeIdentityCard\",\"params\":[],\"type\":\"SecureValueType\"},{\"id\":-1717268701,\"predicate\":\"secureValueTypeInternalPassport\",\"params\":[],\"type\":\"SecureValueType\"},{\"id\":-874308058,\"predicate\":\"secureValueTypeAddress\",\"params\":[],\"type\":\"SecureValueType\"},{\"id\":-63531698,\"predicate\":\"secureValueTypeUtilityBill\",\"params\":[],\"type\":\"SecureValueType\"},{\"id\":-1995211763,\"predicate\":\"secureValueTypeBankStatement\",\"params\":[],\"type\":\"SecureValueType\"},{\"id\":-1954007928,\"predicate\":\"secureValueTypeRentalAgreement\",\"params\":[],\"type\":\"SecureValueType\"},{\"id\":-1713143702,\"predicate\":\"secureValueTypePassportRegistration\",\"params\":[],\"type\":\"SecureValueType\"},{\"id\":-368907213,\"predicate\":\"secureValueTypeTemporaryRegistration\",\"params\":[],\"type\":\"SecureValueType\"},{\"id\":-1289704741,\"predicate\":\"secureValueTypePhone\",\"params\":[],\"type\":\"SecureValueType\"},{\"id\":-1908627474,\"predicate\":\"secureValueTypeEmail\",\"params\":[],\"type\":\"SecureValueType\"},{\"id\":411017418,\"predicate\":\"secureValue\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"type\",\"type\":\"SecureValueType\"},{\"name\":\"data\",\"type\":\"flags.0?SecureData\"},{\"name\":\"front_side\",\"type\":\"flags.1?SecureFile\"},{\"name\":\"reverse_side\",\"type\":\"flags.2?SecureFile\"},{\"name\":\"selfie\",\"type\":\"flags.3?SecureFile\"},{\"name\":\"translation\",\"type\":\"flags.6?Vector<SecureFile>\"},{\"name\":\"files\",\"type\":\"flags.4?Vector<SecureFile>\"},{\"name\":\"plain_data\",\"type\":\"flags.5?SecurePlainData\"},{\"name\":\"hash\",\"type\":\"bytes\"}],\"type\":\"SecureValue\"},{\"id\":-618540889,\"predicate\":\"inputSecureValue\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"type\",\"type\":\"SecureValueType\"},{\"name\":\"data\",\"type\":\"flags.0?SecureData\"},{\"name\":\"front_side\",\"type\":\"flags.1?InputSecureFile\"},{\"name\":\"reverse_side\",\"type\":\"flags.2?InputSecureFile\"},{\"name\":\"selfie\",\"type\":\"flags.3?InputSecureFile\"},{\"name\":\"translation\",\"type\":\"flags.6?Vector<InputSecureFile>\"},{\"name\":\"files\",\"type\":\"flags.4?Vector<InputSecureFile>\"},{\"name\":\"plain_data\",\"type\":\"flags.5?SecurePlainData\"}],\"type\":\"InputSecureValue\"},{\"id\":-316748368,\"predicate\":\"secureValueHash\",\"params\":[{\"name\":\"type\",\"type\":\"SecureValueType\"},{\"name\":\"hash\",\"type\":\"bytes\"}],\"type\":\"SecureValueHash\"},{\"id\":-391902247,\"predicate\":\"secureValueErrorData\",\"params\":[{\"name\":\"type\",\"type\":\"SecureValueType\"},{\"name\":\"data_hash\",\"type\":\"bytes\"},{\"name\":\"field\",\"type\":\"string\"},{\"name\":\"text\",\"type\":\"string\"}],\"type\":\"SecureValueError\"},{\"id\":12467706,\"predicate\":\"secureValueErrorFrontSide\",\"params\":[{\"name\":\"type\",\"type\":\"SecureValueType\"},{\"name\":\"file_hash\",\"type\":\"bytes\"},{\"name\":\"text\",\"type\":\"string\"}],\"type\":\"SecureValueError\"},{\"id\":-2037765467,\"predicate\":\"secureValueErrorReverseSide\",\"params\":[{\"name\":\"type\",\"type\":\"SecureValueType\"},{\"name\":\"file_hash\",\"type\":\"bytes\"},{\"name\":\"text\",\"type\":\"string\"}],\"type\":\"SecureValueError\"},{\"id\":-449327402,\"predicate\":\"secureValueErrorSelfie\",\"params\":[{\"name\":\"type\",\"type\":\"SecureValueType\"},{\"name\":\"file_hash\",\"type\":\"bytes\"},{\"name\":\"text\",\"type\":\"string\"}],\"type\":\"SecureValueError\"},{\"id\":2054162547,\"predicate\":\"secureValueErrorFile\",\"params\":[{\"name\":\"type\",\"type\":\"SecureValueType\"},{\"name\":\"file_hash\",\"type\":\"bytes\"},{\"name\":\"text\",\"type\":\"string\"}],\"type\":\"SecureValueError\"},{\"id\":1717706985,\"predicate\":\"secureValueErrorFiles\",\"params\":[{\"name\":\"type\",\"type\":\"SecureValueType\"},{\"name\":\"file_hash\",\"type\":\"Vector<bytes>\"},{\"name\":\"text\",\"type\":\"string\"}],\"type\":\"SecureValueError\"},{\"id\":871426631,\"predicate\":\"secureCredentialsEncrypted\",\"params\":[{\"name\":\"data\",\"type\":\"bytes\"},{\"name\":\"hash\",\"type\":\"bytes\"},{\"name\":\"secret\",\"type\":\"bytes\"}],\"type\":\"SecureCredentialsEncrypted\"},{\"id\":-1389486888,\"predicate\":\"account.authorizationForm\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"required_types\",\"type\":\"Vector<SecureRequiredType>\"},{\"name\":\"values\",\"type\":\"Vector<SecureValue>\"},{\"name\":\"errors\",\"type\":\"Vector<SecureValueError>\"},{\"name\":\"users\",\"type\":\"Vector<User>\"},{\"name\":\"privacy_policy_url\",\"type\":\"flags.0?string\"}],\"type\":\"account.AuthorizationForm\"},{\"id\":-2128640689,\"predicate\":\"account.sentEmailCode\",\"params\":[{\"name\":\"email_pattern\",\"type\":\"string\"},{\"name\":\"length\",\"type\":\"int\"}],\"type\":\"account.SentEmailCode\"},{\"id\":455635795,\"predicate\":\"messageActionSecureValuesSentMe\",\"params\":[{\"name\":\"values\",\"type\":\"Vector<SecureValue>\"},{\"name\":\"credentials\",\"type\":\"SecureCredentialsEncrypted\"}],\"type\":\"MessageAction\"},{\"id\":-648257196,\"predicate\":\"messageActionSecureValuesSent\",\"params\":[{\"name\":\"types\",\"type\":\"Vector<SecureValueType>\"}],\"type\":\"MessageAction\"},{\"id\":1722786150,\"predicate\":\"help.deepLinkInfoEmpty\",\"params\":[],\"type\":\"help.DeepLinkInfo\"},{\"id\":1783556146,\"predicate\":\"help.deepLinkInfo\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"update_app\",\"type\":\"flags.0?true\"},{\"name\":\"message\",\"type\":\"string\"},{\"name\":\"entities\",\"type\":\"flags.1?Vector<MessageEntity>\"}],\"type\":\"help.DeepLinkInfo\"},{\"id\":289586518,\"predicate\":\"savedPhoneContact\",\"params\":[{\"name\":\"phone\",\"type\":\"string\"},{\"name\":\"first_name\",\"type\":\"string\"},{\"name\":\"last_name\",\"type\":\"string\"},{\"name\":\"date\",\"type\":\"int\"}],\"type\":\"SavedContact\"},{\"id\":1304052993,\"predicate\":\"account.takeout\",\"params\":[{\"name\":\"id\",\"type\":\"long\"}],\"type\":\"account.Takeout\"},{\"id\":700340377,\"predicate\":\"inputTakeoutFileLocation\",\"params\":[],\"type\":\"InputFileLocation\"},{\"id\":-513517117,\"predicate\":\"updateDialogUnreadMark\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"unread\",\"type\":\"flags.0?true\"},{\"name\":\"peer\",\"type\":\"DialogPeer\"}],\"type\":\"Update\"},{\"id\":-253500010,\"predicate\":\"messages.dialogsNotModified\",\"params\":[{\"name\":\"count\",\"type\":\"int\"}],\"type\":\"messages.Dialogs\"},{\"id\":-1625153079,\"predicate\":\"inputWebFileGeoPointLocation\",\"params\":[{\"name\":\"geo_point\",\"type\":\"InputGeoPoint\"},{\"name\":\"access_hash\",\"type\":\"long\"},{\"name\":\"w\",\"type\":\"int\"},{\"name\":\"h\",\"type\":\"int\"},{\"name\":\"zoom\",\"type\":\"int\"},{\"name\":\"scale\",\"type\":\"int\"}],\"type\":\"InputWebFileLocation\"},{\"id\":-1255369827,\"predicate\":\"contacts.topPeersDisabled\",\"params\":[],\"type\":\"contacts.TopPeers\"},{\"id\":-1685456582,\"predicate\":\"inputReportReasonCopyright\",\"params\":[],\"type\":\"ReportReason\"},{\"id\":-732254058,\"predicate\":\"passwordKdfAlgoUnknown\",\"params\":[],\"type\":\"PasswordKdfAlgo\"},{\"id\":4883767,\"predicate\":\"securePasswordKdfAlgoUnknown\",\"params\":[],\"type\":\"SecurePasswordKdfAlgo\"},{\"id\":-1141711456,\"predicate\":\"securePasswordKdfAlgoPBKDF2HMACSHA512iter100000\",\"params\":[{\"name\":\"salt\",\"type\":\"bytes\"}],\"type\":\"SecurePasswordKdfAlgo\"},{\"id\":-2042159726,\"predicate\":\"securePasswordKdfAlgoSHA512\",\"params\":[{\"name\":\"salt\",\"type\":\"bytes\"}],\"type\":\"SecurePasswordKdfAlgo\"},{\"id\":354925740,\"predicate\":\"secureSecretSettings\",\"params\":[{\"name\":\"secure_algo\",\"type\":\"SecurePasswordKdfAlgo\"},{\"name\":\"secure_secret\",\"type\":\"bytes\"},{\"name\":\"secure_secret_id\",\"type\":\"long\"}],\"type\":\"SecureSecretSettings\"},{\"id\":982592842,\"predicate\":\"passwordKdfAlgoSHA256SHA256PBKDF2HMACSHA512iter100000SHA256ModPow\",\"params\":[{\"name\":\"salt1\",\"type\":\"bytes\"},{\"name\":\"salt2\",\"type\":\"bytes\"},{\"name\":\"g\",\"type\":\"int\"},{\"name\":\"p\",\"type\":\"bytes\"}],\"type\":\"PasswordKdfAlgo\"},{\"id\":-1736378792,\"predicate\":\"inputCheckPasswordEmpty\",\"params\":[],\"type\":\"InputCheckPasswordSRP\"},{\"id\":-763367294,\"predicate\":\"inputCheckPasswordSRP\",\"params\":[{\"name\":\"srp_id\",\"type\":\"long\"},{\"name\":\"A\",\"type\":\"bytes\"},{\"name\":\"M1\",\"type\":\"bytes\"}],\"type\":\"InputCheckPasswordSRP\"},{\"id\":-2036501105,\"predicate\":\"secureValueError\",\"params\":[{\"name\":\"type\",\"type\":\"SecureValueType\"},{\"name\":\"hash\",\"type\":\"bytes\"},{\"name\":\"text\",\"type\":\"string\"}],\"type\":\"SecureValueError\"},{\"id\":-1592506512,\"predicate\":\"secureValueErrorTranslationFile\",\"params\":[{\"name\":\"type\",\"type\":\"SecureValueType\"},{\"name\":\"file_hash\",\"type\":\"bytes\"},{\"name\":\"text\",\"type\":\"string\"}],\"type\":\"SecureValueError\"},{\"id\":878931416,\"predicate\":\"secureValueErrorTranslationFiles\",\"params\":[{\"name\":\"type\",\"type\":\"SecureValueType\"},{\"name\":\"file_hash\",\"type\":\"Vector<bytes>\"},{\"name\":\"text\",\"type\":\"string\"}],\"type\":\"SecureValueError\"},{\"id\":-2103600678,\"predicate\":\"secureRequiredType\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"native_names\",\"type\":\"flags.0?true\"},{\"name\":\"selfie_required\",\"type\":\"flags.1?true\"},{\"name\":\"translation_required\",\"type\":\"flags.2?true\"},{\"name\":\"type\",\"type\":\"SecureValueType\"}],\"type\":\"SecureRequiredType\"},{\"id\":41187252,\"predicate\":\"secureRequiredTypeOneOf\",\"params\":[{\"name\":\"types\",\"type\":\"Vector<SecureRequiredType>\"}],\"type\":\"SecureRequiredType\"},{\"id\":-1078332329,\"predicate\":\"help.passportConfigNotModified\",\"params\":[],\"type\":\"help.PassportConfig\"},{\"id\":-1600596305,\"predicate\":\"help.passportConfig\",\"params\":[{\"name\":\"hash\",\"type\":\"int\"},{\"name\":\"countries_langs\",\"type\":\"DataJSON\"}],\"type\":\"help.PassportConfig\"},{\"id\":488313413,\"predicate\":\"inputAppEvent\",\"params\":[{\"name\":\"time\",\"type\":\"double\"},{\"name\":\"type\",\"type\":\"string\"},{\"name\":\"peer\",\"type\":\"long\"},{\"name\":\"data\",\"type\":\"JSONValue\"}],\"type\":\"InputAppEvent\"},{\"id\":-1059185703,\"predicate\":\"jsonObjectValue\",\"params\":[{\"name\":\"key\",\"type\":\"string\"},{\"name\":\"value\",\"type\":\"JSONValue\"}],\"type\":\"JSONObjectValue\"},{\"id\":1064139624,\"predicate\":\"jsonNull\",\"params\":[],\"type\":\"JSONValue\"},{\"id\":-952869270,\"predicate\":\"jsonBool\",\"params\":[{\"name\":\"value\",\"type\":\"Bool\"}],\"type\":\"JSONValue\"},{\"id\":736157604,\"predicate\":\"jsonNumber\",\"params\":[{\"name\":\"value\",\"type\":\"double\"}],\"type\":\"JSONValue\"},{\"id\":-1222740358,\"predicate\":\"jsonString\",\"params\":[{\"name\":\"value\",\"type\":\"string\"}],\"type\":\"JSONValue\"},{\"id\":-146520221,\"predicate\":\"jsonArray\",\"params\":[{\"name\":\"value\",\"type\":\"Vector<JSONValue>\"}],\"type\":\"JSONValue\"},{\"id\":-1715350371,\"predicate\":\"jsonObject\",\"params\":[{\"name\":\"value\",\"type\":\"Vector<JSONObjectValue>\"}],\"type\":\"JSONValue\"},{\"id\":-1311015810,\"predicate\":\"inputNotifyBroadcasts\",\"params\":[],\"type\":\"InputNotifyPeer\"},{\"id\":-703403793,\"predicate\":\"notifyBroadcasts\",\"params\":[],\"type\":\"NotifyPeer\"},{\"id\":-311786236,\"predicate\":\"textSubscript\",\"params\":[{\"name\":\"text\",\"type\":\"RichText\"}],\"type\":\"RichText\"},{\"id\":-939827711,\"predicate\":\"textSuperscript\",\"params\":[{\"name\":\"text\",\"type\":\"RichText\"}],\"type\":\"RichText\"},{\"id\":55281185,\"predicate\":\"textMarked\",\"params\":[{\"name\":\"text\",\"type\":\"RichText\"}],\"type\":\"RichText\"},{\"id\":483104362,\"predicate\":\"textPhone\",\"params\":[{\"name\":\"text\",\"type\":\"RichText\"},{\"name\":\"phone\",\"type\":\"string\"}],\"type\":\"RichText\"},{\"id\":136105807,\"predicate\":\"textImage\",\"params\":[{\"name\":\"document_id\",\"type\":\"long\"},{\"name\":\"w\",\"type\":\"int\"},{\"name\":\"h\",\"type\":\"int\"}],\"type\":\"RichText\"},{\"id\":504660880,\"predicate\":\"pageBlockKicker\",\"params\":[{\"name\":\"text\",\"type\":\"RichText\"}],\"type\":\"PageBlock\"},{\"id\":878078826,\"predicate\":\"pageTableCell\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"header\",\"type\":\"flags.0?true\"},{\"name\":\"align_center\",\"type\":\"flags.3?true\"},{\"name\":\"align_right\",\"type\":\"flags.4?true\"},{\"name\":\"valign_middle\",\"type\":\"flags.5?true\"},{\"name\":\"valign_bottom\",\"type\":\"flags.6?true\"},{\"name\":\"text\",\"type\":\"flags.7?RichText\"},{\"name\":\"colspan\",\"type\":\"flags.1?int\"},{\"name\":\"rowspan\",\"type\":\"flags.2?int\"}],\"type\":\"PageTableCell\"},{\"id\":-524237339,\"predicate\":\"pageTableRow\",\"params\":[{\"name\":\"cells\",\"type\":\"Vector<PageTableCell>\"}],\"type\":\"PageTableRow\"},{\"id\":-1085412734,\"predicate\":\"pageBlockTable\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"bordered\",\"type\":\"flags.0?true\"},{\"name\":\"striped\",\"type\":\"flags.1?true\"},{\"name\":\"title\",\"type\":\"RichText\"},{\"name\":\"rows\",\"type\":\"Vector<PageTableRow>\"}],\"type\":\"PageBlock\"},{\"id\":1869903447,\"predicate\":\"pageCaption\",\"params\":[{\"name\":\"text\",\"type\":\"RichText\"},{\"name\":\"credit\",\"type\":\"RichText\"}],\"type\":\"PageCaption\"},{\"id\":-1188055347,\"predicate\":\"pageListItemText\",\"params\":[{\"name\":\"text\",\"type\":\"RichText\"}],\"type\":\"PageListItem\"},{\"id\":635466748,\"predicate\":\"pageListItemBlocks\",\"params\":[{\"name\":\"blocks\",\"type\":\"Vector<PageBlock>\"}],\"type\":\"PageListItem\"},{\"id\":1577484359,\"predicate\":\"pageListOrderedItemText\",\"params\":[{\"name\":\"num\",\"type\":\"string\"},{\"name\":\"text\",\"type\":\"RichText\"}],\"type\":\"PageListOrderedItem\"},{\"id\":-1730311882,\"predicate\":\"pageListOrderedItemBlocks\",\"params\":[{\"name\":\"num\",\"type\":\"string\"},{\"name\":\"blocks\",\"type\":\"Vector<PageBlock>\"}],\"type\":\"PageListOrderedItem\"},{\"id\":-1702174239,\"predicate\":\"pageBlockOrderedList\",\"params\":[{\"name\":\"items\",\"type\":\"Vector<PageListOrderedItem>\"}],\"type\":\"PageBlock\"},{\"id\":1987480557,\"predicate\":\"pageBlockDetails\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"open\",\"type\":\"flags.0?true\"},{\"name\":\"blocks\",\"type\":\"Vector<PageBlock>\"},{\"name\":\"title\",\"type\":\"RichText\"}],\"type\":\"PageBlock\"},{\"id\":-1282352120,\"predicate\":\"pageRelatedArticle\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"url\",\"type\":\"string\"},{\"name\":\"webpage_id\",\"type\":\"long\"},{\"name\":\"title\",\"type\":\"flags.0?string\"},{\"name\":\"description\",\"type\":\"flags.1?string\"},{\"name\":\"photo_id\",\"type\":\"flags.2?long\"},{\"name\":\"author\",\"type\":\"flags.3?string\"},{\"name\":\"published_date\",\"type\":\"flags.4?int\"}],\"type\":\"PageRelatedArticle\"},{\"id\":370236054,\"predicate\":\"pageBlockRelatedArticles\",\"params\":[{\"name\":\"title\",\"type\":\"RichText\"},{\"name\":\"articles\",\"type\":\"Vector<PageRelatedArticle>\"}],\"type\":\"PageBlock\"},{\"id\":-1538310410,\"predicate\":\"pageBlockMap\",\"params\":[{\"name\":\"geo\",\"type\":\"GeoPoint\"},{\"name\":\"zoom\",\"type\":\"int\"},{\"name\":\"w\",\"type\":\"int\"},{\"name\":\"h\",\"type\":\"int\"},{\"name\":\"caption\",\"type\":\"PageCaption\"}],\"type\":\"PageBlock\"},{\"id\":-1738178803,\"predicate\":\"page\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"part\",\"type\":\"flags.0?true\"},{\"name\":\"rtl\",\"type\":\"flags.1?true\"},{\"name\":\"v2\",\"type\":\"flags.2?true\"},{\"name\":\"url\",\"type\":\"string\"},{\"name\":\"blocks\",\"type\":\"Vector<PageBlock>\"},{\"name\":\"photos\",\"type\":\"Vector<Photo>\"},{\"name\":\"documents\",\"type\":\"Vector<Document>\"},{\"name\":\"views\",\"type\":\"flags.3?int\"}],\"type\":\"Page\"},{\"id\":-610373422,\"predicate\":\"inputPrivacyKeyPhoneP2P\",\"params\":[],\"type\":\"InputPrivacyKey\"},{\"id\":961092808,\"predicate\":\"privacyKeyPhoneP2P\",\"params\":[],\"type\":\"PrivacyKey\"},{\"id\":894777186,\"predicate\":\"textAnchor\",\"params\":[{\"name\":\"text\",\"type\":\"RichText\"},{\"name\":\"name\",\"type\":\"string\"}],\"type\":\"RichText\"},{\"id\":-1945767479,\"predicate\":\"help.supportName\",\"params\":[{\"name\":\"name\",\"type\":\"string\"}],\"type\":\"help.SupportName\"},{\"id\":-206688531,\"predicate\":\"help.userInfoEmpty\",\"params\":[],\"type\":\"help.UserInfo\"},{\"id\":32192344,\"predicate\":\"help.userInfo\",\"params\":[{\"name\":\"message\",\"type\":\"string\"},{\"name\":\"entities\",\"type\":\"Vector<MessageEntity>\"},{\"name\":\"author\",\"type\":\"string\"},{\"name\":\"date\",\"type\":\"int\"}],\"type\":\"help.UserInfo\"},{\"id\":-202219658,\"predicate\":\"messageActionContactSignUp\",\"params\":[],\"type\":\"MessageAction\"},{\"id\":-1398708869,\"predicate\":\"updateMessagePoll\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"poll_id\",\"type\":\"long\"},{\"name\":\"poll\",\"type\":\"flags.0?Poll\"},{\"name\":\"results\",\"type\":\"PollResults\"}],\"type\":\"Update\"},{\"id\":1823064809,\"predicate\":\"pollAnswer\",\"params\":[{\"name\":\"text\",\"type\":\"string\"},{\"name\":\"option\",\"type\":\"bytes\"}],\"type\":\"PollAnswer\"},{\"id\":-2032041631,\"predicate\":\"poll\",\"params\":[{\"name\":\"id\",\"type\":\"long\"},{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"closed\",\"type\":\"flags.0?true\"},{\"name\":\"public_voters\",\"type\":\"flags.1?true\"},{\"name\":\"multiple_choice\",\"type\":\"flags.2?true\"},{\"name\":\"quiz\",\"type\":\"flags.3?true\"},{\"name\":\"question\",\"type\":\"string\"},{\"name\":\"answers\",\"type\":\"Vector<PollAnswer>\"},{\"name\":\"close_period\",\"type\":\"flags.4?int\"},{\"name\":\"close_date\",\"type\":\"flags.5?int\"}],\"type\":\"Poll\"},{\"id\":997055186,\"predicate\":\"pollAnswerVoters\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"chosen\",\"type\":\"flags.0?true\"},{\"name\":\"correct\",\"type\":\"flags.1?true\"},{\"name\":\"option\",\"type\":\"bytes\"},{\"name\":\"voters\",\"type\":\"int\"}],\"type\":\"PollAnswerVoters\"},{\"id\":-591909213,\"predicate\":\"pollResults\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"min\",\"type\":\"flags.0?true\"},{\"name\":\"results\",\"type\":\"flags.1?Vector<PollAnswerVoters>\"},{\"name\":\"total_voters\",\"type\":\"flags.2?int\"},{\"name\":\"recent_voters\",\"type\":\"flags.3?Vector<long>\"},{\"name\":\"solution\",\"type\":\"flags.4?string\"},{\"name\":\"solution_entities\",\"type\":\"flags.4?Vector<MessageEntity>\"}],\"type\":\"PollResults\"},{\"id\":261416433,\"predicate\":\"inputMediaPoll\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"poll\",\"type\":\"Poll\"},{\"name\":\"correct_answers\",\"type\":\"flags.0?Vector<bytes>\"},{\"name\":\"solution\",\"type\":\"flags.1?string\"},{\"name\":\"solution_entities\",\"type\":\"flags.1?Vector<MessageEntity>\"}],\"type\":\"InputMedia\"},{\"id\":1272375192,\"predicate\":\"messageMediaPoll\",\"params\":[{\"name\":\"poll\",\"type\":\"Poll\"},{\"name\":\"results\",\"type\":\"PollResults\"}],\"type\":\"MessageMedia\"},{\"id\":-264117680,\"predicate\":\"chatOnlines\",\"params\":[{\"name\":\"onlines\",\"type\":\"int\"}],\"type\":\"ChatOnlines\"},{\"id\":1202287072,\"predicate\":\"statsURL\",\"params\":[{\"name\":\"url\",\"type\":\"string\"}],\"type\":\"StatsURL\"},{\"id\":-525288402,\"predicate\":\"photoStrippedSize\",\"params\":[{\"name\":\"type\",\"type\":\"string\"},{\"name\":\"bytes\",\"type\":\"bytes\"}],\"type\":\"PhotoSize\"},{\"id\":1605510357,\"predicate\":\"chatAdminRights\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"change_info\",\"type\":\"flags.0?true\"},{\"name\":\"post_messages\",\"type\":\"flags.1?true\"},{\"name\":\"edit_messages\",\"type\":\"flags.2?true\"},{\"name\":\"delete_messages\",\"type\":\"flags.3?true\"},{\"name\":\"ban_users\",\"type\":\"flags.4?true\"},{\"name\":\"invite_users\",\"type\":\"flags.5?true\"},{\"name\":\"pin_messages\",\"type\":\"flags.7?true\"},{\"name\":\"add_admins\",\"type\":\"flags.9?true\"},{\"name\":\"anonymous\",\"type\":\"flags.10?true\"},{\"name\":\"manage_call\",\"type\":\"flags.11?true\"},{\"name\":\"other\",\"type\":\"flags.12?true\"}],\"type\":\"ChatAdminRights\"},{\"id\":-1626209256,\"predicate\":\"chatBannedRights\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"view_messages\",\"type\":\"flags.0?true\"},{\"name\":\"send_messages\",\"type\":\"flags.1?true\"},{\"name\":\"send_media\",\"type\":\"flags.2?true\"},{\"name\":\"send_stickers\",\"type\":\"flags.3?true\"},{\"name\":\"send_gifs\",\"type\":\"flags.4?true\"},{\"name\":\"send_games\",\"type\":\"flags.5?true\"},{\"name\":\"send_inline\",\"type\":\"flags.6?true\"},{\"name\":\"embed_links\",\"type\":\"flags.7?true\"},{\"name\":\"send_polls\",\"type\":\"flags.8?true\"},{\"name\":\"change_info\",\"type\":\"flags.10?true\"},{\"name\":\"invite_users\",\"type\":\"flags.15?true\"},{\"name\":\"pin_messages\",\"type\":\"flags.17?true\"},{\"name\":\"until_date\",\"type\":\"int\"}],\"type\":\"ChatBannedRights\"},{\"id\":1421875280,\"predicate\":\"updateChatDefaultBannedRights\",\"params\":[{\"name\":\"peer\",\"type\":\"Peer\"},{\"name\":\"default_banned_rights\",\"type\":\"ChatBannedRights\"},{\"name\":\"version\",\"type\":\"int\"}],\"type\":\"Update\"},{\"id\":-433014407,\"predicate\":\"inputWallPaper\",\"params\":[{\"name\":\"id\",\"type\":\"long\"},{\"name\":\"access_hash\",\"type\":\"long\"}],\"type\":\"InputWallPaper\"},{\"id\":1913199744,\"predicate\":\"inputWallPaperSlug\",\"params\":[{\"name\":\"slug\",\"type\":\"string\"}],\"type\":\"InputWallPaper\"},{\"id\":-1150621555,\"predicate\":\"channelParticipantsContacts\",\"params\":[{\"name\":\"q\",\"type\":\"string\"}],\"type\":\"ChannelParticipantsFilter\"},{\"id\":771095562,\"predicate\":\"channelAdminLogEventActionDefaultBannedRights\",\"params\":[{\"name\":\"prev_banned_rights\",\"type\":\"ChatBannedRights\"},{\"name\":\"new_banned_rights\",\"type\":\"ChatBannedRights\"}],\"type\":\"ChannelAdminLogEventAction\"},{\"id\":-1895328189,\"predicate\":\"channelAdminLogEventActionStopPoll\",\"params\":[{\"name\":\"message\",\"type\":\"Message\"}],\"type\":\"ChannelAdminLogEventAction\"},{\"id\":471437699,\"predicate\":\"account.wallPapersNotModified\",\"params\":[],\"type\":\"account.WallPapers\"},{\"id\":-842824308,\"predicate\":\"account.wallPapers\",\"params\":[{\"name\":\"hash\",\"type\":\"long\"},{\"name\":\"wallpapers\",\"type\":\"Vector<WallPaper>\"}],\"type\":\"account.WallPapers\"},{\"id\":-1973130814,\"predicate\":\"codeSettings\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"allow_flashcall\",\"type\":\"flags.0?true\"},{\"name\":\"current_number\",\"type\":\"flags.1?true\"},{\"name\":\"allow_app_hash\",\"type\":\"flags.4?true\"},{\"name\":\"allow_missed_call\",\"type\":\"flags.5?true\"},{\"name\":\"logout_tokens\",\"type\":\"flags.6?Vector<bytes>\"}],\"type\":\"CodeSettings\"},{\"id\":499236004,\"predicate\":\"wallPaperSettings\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"blur\",\"type\":\"flags.1?true\"},{\"name\":\"motion\",\"type\":\"flags.2?true\"},{\"name\":\"background_color\",\"type\":\"flags.0?int\"},{\"name\":\"second_background_color\",\"type\":\"flags.4?int\"},{\"name\":\"third_background_color\",\"type\":\"flags.5?int\"},{\"name\":\"fourth_background_color\",\"type\":\"flags.6?int\"},{\"name\":\"intensity\",\"type\":\"flags.3?int\"},{\"name\":\"rotation\",\"type\":\"flags.4?int\"}],\"type\":\"WallPaperSettings\"},{\"id\":-532532493,\"predicate\":\"autoDownloadSettings\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"disabled\",\"type\":\"flags.0?true\"},{\"name\":\"video_preload_large\",\"type\":\"flags.1?true\"},{\"name\":\"audio_preload_next\",\"type\":\"flags.2?true\"},{\"name\":\"phonecalls_less_data\",\"type\":\"flags.3?true\"},{\"name\":\"photo_size_max\",\"type\":\"int\"},{\"name\":\"video_size_max\",\"type\":\"int\"},{\"name\":\"file_size_max\",\"type\":\"int\"},{\"name\":\"video_upload_maxbitrate\",\"type\":\"int\"}],\"type\":\"AutoDownloadSettings\"},{\"id\":1674235686,\"predicate\":\"account.autoDownloadSettings\",\"params\":[{\"name\":\"low\",\"type\":\"AutoDownloadSettings\"},{\"name\":\"medium\",\"type\":\"AutoDownloadSettings\"},{\"name\":\"high\",\"type\":\"AutoDownloadSettings\"}],\"type\":\"account.AutoDownloadSettings\"},{\"id\":-709641735,\"predicate\":\"emojiKeyword\",\"params\":[{\"name\":\"keyword\",\"type\":\"string\"},{\"name\":\"emoticons\",\"type\":\"Vector<string>\"}],\"type\":\"EmojiKeyword\"},{\"id\":594408994,\"predicate\":\"emojiKeywordDeleted\",\"params\":[{\"name\":\"keyword\",\"type\":\"string\"},{\"name\":\"emoticons\",\"type\":\"Vector<string>\"}],\"type\":\"EmojiKeyword\"},{\"id\":1556570557,\"predicate\":\"emojiKeywordsDifference\",\"params\":[{\"name\":\"lang_code\",\"type\":\"string\"},{\"name\":\"from_version\",\"type\":\"int\"},{\"name\":\"version\",\"type\":\"int\"},{\"name\":\"keywords\",\"type\":\"Vector<EmojiKeyword>\"}],\"type\":\"EmojiKeywordsDifference\"},{\"id\":-1519029347,\"predicate\":\"emojiURL\",\"params\":[{\"name\":\"url\",\"type\":\"string\"}],\"type\":\"EmojiURL\"},{\"id\":-1275374751,\"predicate\":\"emojiLanguage\",\"params\":[{\"name\":\"lang_code\",\"type\":\"string\"}],\"type\":\"EmojiLanguage\"},{\"id\":-1529000952,\"predicate\":\"inputPrivacyKeyForwards\",\"params\":[],\"type\":\"InputPrivacyKey\"},{\"id\":1777096355,\"predicate\":\"privacyKeyForwards\",\"params\":[],\"type\":\"PrivacyKey\"},{\"id\":1461304012,\"predicate\":\"inputPrivacyKeyProfilePhoto\",\"params\":[],\"type\":\"InputPrivacyKey\"},{\"id\":-1777000467,\"predicate\":\"privacyKeyProfilePhoto\",\"params\":[],\"type\":\"PrivacyKey\"},{\"id\":1075322878,\"predicate\":\"inputPhotoFileLocation\",\"params\":[{\"name\":\"id\",\"type\":\"long\"},{\"name\":\"access_hash\",\"type\":\"long\"},{\"name\":\"file_reference\",\"type\":\"bytes\"},{\"name\":\"thumb_size\",\"type\":\"string\"}],\"type\":\"InputFileLocation\"},{\"id\":-667654413,\"predicate\":\"inputPhotoLegacyFileLocation\",\"params\":[{\"name\":\"id\",\"type\":\"long\"},{\"name\":\"access_hash\",\"type\":\"long\"},{\"name\":\"file_reference\",\"type\":\"bytes\"},{\"name\":\"volume_id\",\"type\":\"long\"},{\"name\":\"local_id\",\"type\":\"int\"},{\"name\":\"secret\",\"type\":\"long\"}],\"type\":\"InputFileLocation\"},{\"id\":925204121,\"predicate\":\"inputPeerPhotoFileLocation\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"big\",\"type\":\"flags.0?true\"},{\"name\":\"peer\",\"type\":\"InputPeer\"},{\"name\":\"photo_id\",\"type\":\"long\"}],\"type\":\"InputFileLocation\"},{\"id\":-1652231205,\"predicate\":\"inputStickerSetThumb\",\"params\":[{\"name\":\"stickerset\",\"type\":\"InputStickerSet\"},{\"name\":\"thumb_version\",\"type\":\"int\"}],\"type\":\"InputFileLocation\"},{\"id\":-11252123,\"predicate\":\"folder\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"autofill_new_broadcasts\",\"type\":\"flags.0?true\"},{\"name\":\"autofill_public_groups\",\"type\":\"flags.1?true\"},{\"name\":\"autofill_new_correspondents\",\"type\":\"flags.2?true\"},{\"name\":\"id\",\"type\":\"int\"},{\"name\":\"title\",\"type\":\"string\"},{\"name\":\"photo\",\"type\":\"flags.3?ChatPhoto\"}],\"type\":\"Folder\"},{\"id\":1908216652,\"predicate\":\"dialogFolder\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"pinned\",\"type\":\"flags.2?true\"},{\"name\":\"folder\",\"type\":\"Folder\"},{\"name\":\"peer\",\"type\":\"Peer\"},{\"name\":\"top_message\",\"type\":\"int\"},{\"name\":\"unread_muted_peers_count\",\"type\":\"int\"},{\"name\":\"unread_unmuted_peers_count\",\"type\":\"int\"},{\"name\":\"unread_muted_messages_count\",\"type\":\"int\"},{\"name\":\"unread_unmuted_messages_count\",\"type\":\"int\"}],\"type\":\"Dialog\"},{\"id\":1684014375,\"predicate\":\"inputDialogPeerFolder\",\"params\":[{\"name\":\"folder_id\",\"type\":\"int\"}],\"type\":\"InputDialogPeer\"},{\"id\":1363483106,\"predicate\":\"dialogPeerFolder\",\"params\":[{\"name\":\"folder_id\",\"type\":\"int\"}],\"type\":\"DialogPeer\"},{\"id\":-70073706,\"predicate\":\"inputFolderPeer\",\"params\":[{\"name\":\"peer\",\"type\":\"InputPeer\"},{\"name\":\"folder_id\",\"type\":\"int\"}],\"type\":\"InputFolderPeer\"},{\"id\":-373643672,\"predicate\":\"folderPeer\",\"params\":[{\"name\":\"peer\",\"type\":\"Peer\"},{\"name\":\"folder_id\",\"type\":\"int\"}],\"type\":\"FolderPeer\"},{\"id\":422972864,\"predicate\":\"updateFolderPeers\",\"params\":[{\"name\":\"folder_peers\",\"type\":\"Vector<FolderPeer>\"},{\"name\":\"pts\",\"type\":\"int\"},{\"name\":\"pts_count\",\"type\":\"int\"}],\"type\":\"Update\"},{\"id\":497305826,\"predicate\":\"inputUserFromMessage\",\"params\":[{\"name\":\"peer\",\"type\":\"InputPeer\"},{\"name\":\"msg_id\",\"type\":\"int\"},{\"name\":\"user_id\",\"type\":\"long\"}],\"type\":\"InputUser\"},{\"id\":1536380829,\"predicate\":\"inputChannelFromMessage\",\"params\":[{\"name\":\"peer\",\"type\":\"InputPeer\"},{\"name\":\"msg_id\",\"type\":\"int\"},{\"name\":\"channel_id\",\"type\":\"long\"}],\"type\":\"InputChannel\"},{\"id\":-1468331492,\"predicate\":\"inputPeerUserFromMessage\",\"params\":[{\"name\":\"peer\",\"type\":\"InputPeer\"},{\"name\":\"msg_id\",\"type\":\"int\"},{\"name\":\"user_id\",\"type\":\"long\"}],\"type\":\"InputPeer\"},{\"id\":-1121318848,\"predicate\":\"inputPeerChannelFromMessage\",\"params\":[{\"name\":\"peer\",\"type\":\"InputPeer\"},{\"name\":\"msg_id\",\"type\":\"int\"},{\"name\":\"channel_id\",\"type\":\"long\"}],\"type\":\"InputPeer\"},{\"id\":55761658,\"predicate\":\"inputPrivacyKeyPhoneNumber\",\"params\":[],\"type\":\"InputPrivacyKey\"},{\"id\":-778378131,\"predicate\":\"privacyKeyPhoneNumber\",\"params\":[],\"type\":\"PrivacyKey\"},{\"id\":-1472172887,\"predicate\":\"topPeerCategoryForwardUsers\",\"params\":[],\"type\":\"TopPeerCategory\"},{\"id\":-68239120,\"predicate\":\"topPeerCategoryForwardChats\",\"params\":[],\"type\":\"TopPeerCategory\"},{\"id\":84703944,\"predicate\":\"channelAdminLogEventActionChangeLinkedChat\",\"params\":[{\"name\":\"prev_value\",\"type\":\"long\"},{\"name\":\"new_value\",\"type\":\"long\"}],\"type\":\"ChannelAdminLogEventAction\"},{\"id\":-398136321,\"predicate\":\"messages.searchCounter\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"inexact\",\"type\":\"flags.1?true\"},{\"name\":\"filter\",\"type\":\"MessagesFilter\"},{\"name\":\"count\",\"type\":\"int\"}],\"type\":\"messages.SearchCounter\"},{\"id\":280464681,\"predicate\":\"keyboardButtonUrlAuth\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"text\",\"type\":\"string\"},{\"name\":\"fwd_text\",\"type\":\"flags.0?string\"},{\"name\":\"url\",\"type\":\"string\"},{\"name\":\"button_id\",\"type\":\"int\"}],\"type\":\"KeyboardButton\"},{\"id\":-802258988,\"predicate\":\"inputKeyboardButtonUrlAuth\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"request_write_access\",\"type\":\"flags.0?true\"},{\"name\":\"text\",\"type\":\"string\"},{\"name\":\"fwd_text\",\"type\":\"flags.1?string\"},{\"name\":\"url\",\"type\":\"string\"},{\"name\":\"bot\",\"type\":\"InputUser\"}],\"type\":\"KeyboardButton\"},{\"id\":-1831650802,\"predicate\":\"urlAuthResultRequest\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"request_write_access\",\"type\":\"flags.0?true\"},{\"name\":\"bot\",\"type\":\"User\"},{\"name\":\"domain\",\"type\":\"string\"}],\"type\":\"UrlAuthResult\"},{\"id\":-1886646706,\"predicate\":\"urlAuthResultAccepted\",\"params\":[{\"name\":\"url\",\"type\":\"string\"}],\"type\":\"UrlAuthResult\"},{\"id\":-1445536993,\"predicate\":\"urlAuthResultDefault\",\"params\":[],\"type\":\"UrlAuthResult\"},{\"id\":-2079962673,\"predicate\":\"inputPrivacyValueAllowChatParticipants\",\"params\":[{\"name\":\"chats\",\"type\":\"Vector<long>\"}],\"type\":\"InputPrivacyRule\"},{\"id\":-380694650,\"predicate\":\"inputPrivacyValueDisallowChatParticipants\",\"params\":[{\"name\":\"chats\",\"type\":\"Vector<long>\"}],\"type\":\"InputPrivacyRule\"},{\"id\":1796427406,\"predicate\":\"privacyValueAllowChatParticipants\",\"params\":[{\"name\":\"chats\",\"type\":\"Vector<long>\"}],\"type\":\"PrivacyRule\"},{\"id\":1103656293,\"predicate\":\"privacyValueDisallowChatParticipants\",\"params\":[{\"name\":\"chats\",\"type\":\"Vector<long>\"}],\"type\":\"PrivacyRule\"},{\"id\":-1672577397,\"predicate\":\"messageEntityUnderline\",\"params\":[{\"name\":\"offset\",\"type\":\"int\"},{\"name\":\"length\",\"type\":\"int\"}],\"type\":\"MessageEntity\"},{\"id\":-1090087980,\"predicate\":\"messageEntityStrike\",\"params\":[{\"name\":\"offset\",\"type\":\"int\"},{\"name\":\"length\",\"type\":\"int\"}],\"type\":\"MessageEntity\"},{\"id\":34469328,\"predicate\":\"messageEntityBlockquote\",\"params\":[{\"name\":\"offset\",\"type\":\"int\"},{\"name\":\"length\",\"type\":\"int\"}],\"type\":\"MessageEntity\"},{\"id\":1786671974,\"predicate\":\"updatePeerSettings\",\"params\":[{\"name\":\"peer\",\"type\":\"Peer\"},{\"name\":\"settings\",\"type\":\"PeerSettings\"}],\"type\":\"Update\"},{\"id\":-1078612597,\"predicate\":\"channelLocationEmpty\",\"params\":[],\"type\":\"ChannelLocation\"},{\"id\":547062491,\"predicate\":\"channelLocation\",\"params\":[{\"name\":\"geo_point\",\"type\":\"GeoPoint\"},{\"name\":\"address\",\"type\":\"string\"}],\"type\":\"ChannelLocation\"},{\"id\":-901375139,\"predicate\":\"peerLocated\",\"params\":[{\"name\":\"peer\",\"type\":\"Peer\"},{\"name\":\"expires\",\"type\":\"int\"},{\"name\":\"distance\",\"type\":\"int\"}],\"type\":\"PeerLocated\"},{\"id\":-1263546448,\"predicate\":\"updatePeerLocated\",\"params\":[{\"name\":\"peers\",\"type\":\"Vector<PeerLocated>\"}],\"type\":\"Update\"},{\"id\":241923758,\"predicate\":\"channelAdminLogEventActionChangeLocation\",\"params\":[{\"name\":\"prev_value\",\"type\":\"ChannelLocation\"},{\"name\":\"new_value\",\"type\":\"ChannelLocation\"}],\"type\":\"ChannelAdminLogEventAction\"},{\"id\":-606798099,\"predicate\":\"inputReportReasonGeoIrrelevant\",\"params\":[],\"type\":\"ReportReason\"},{\"id\":1401984889,\"predicate\":\"channelAdminLogEventActionToggleSlowMode\",\"params\":[{\"name\":\"prev_value\",\"type\":\"int\"},{\"name\":\"new_value\",\"type\":\"int\"}],\"type\":\"ChannelAdminLogEventAction\"},{\"id\":1148485274,\"predicate\":\"auth.authorizationSignUpRequired\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"terms_of_service\",\"type\":\"flags.0?help.TermsOfService\"}],\"type\":\"auth.Authorization\"},{\"id\":-666824391,\"predicate\":\"payments.paymentVerificationNeeded\",\"params\":[{\"name\":\"url\",\"type\":\"string\"}],\"type\":\"payments.PaymentResult\"},{\"id\":42402760,\"predicate\":\"inputStickerSetAnimatedEmoji\",\"params\":[],\"type\":\"InputStickerSet\"},{\"id\":967122427,\"predicate\":\"updateNewScheduledMessage\",\"params\":[{\"name\":\"message\",\"type\":\"Message\"}],\"type\":\"Update\"},{\"id\":-1870238482,\"predicate\":\"updateDeleteScheduledMessages\",\"params\":[{\"name\":\"peer\",\"type\":\"Peer\"},{\"name\":\"messages\",\"type\":\"Vector<int>\"}],\"type\":\"Update\"},{\"id\":-797791052,\"predicate\":\"restrictionReason\",\"params\":[{\"name\":\"platform\",\"type\":\"string\"},{\"name\":\"reason\",\"type\":\"string\"},{\"name\":\"text\",\"type\":\"string\"}],\"type\":\"RestrictionReason\"},{\"id\":1012306921,\"predicate\":\"inputTheme\",\"params\":[{\"name\":\"id\",\"type\":\"long\"},{\"name\":\"access_hash\",\"type\":\"long\"}],\"type\":\"InputTheme\"},{\"id\":-175567375,\"predicate\":\"inputThemeSlug\",\"params\":[{\"name\":\"slug\",\"type\":\"string\"}],\"type\":\"InputTheme\"},{\"id\":-1609668650,\"predicate\":\"theme\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"creator\",\"type\":\"flags.0?true\"},{\"name\":\"default\",\"type\":\"flags.1?true\"},{\"name\":\"for_chat\",\"type\":\"flags.5?true\"},{\"name\":\"id\",\"type\":\"long\"},{\"name\":\"access_hash\",\"type\":\"long\"},{\"name\":\"slug\",\"type\":\"string\"},{\"name\":\"title\",\"type\":\"string\"},{\"name\":\"document\",\"type\":\"flags.2?Document\"},{\"name\":\"settings\",\"type\":\"flags.3?Vector<ThemeSettings>\"},{\"name\":\"emoticon\",\"type\":\"flags.6?string\"},{\"name\":\"installs_count\",\"type\":\"flags.4?int\"}],\"type\":\"Theme\"},{\"id\":-199313886,\"predicate\":\"account.themesNotModified\",\"params\":[],\"type\":\"account.Themes\"},{\"id\":-1707242387,\"predicate\":\"account.themes\",\"params\":[{\"name\":\"hash\",\"type\":\"long\"},{\"name\":\"themes\",\"type\":\"Vector<Theme>\"}],\"type\":\"account.Themes\"},{\"id\":-2112423005,\"predicate\":\"updateTheme\",\"params\":[{\"name\":\"theme\",\"type\":\"Theme\"}],\"type\":\"Update\"},{\"id\":-786326563,\"predicate\":\"inputPrivacyKeyAddedByPhone\",\"params\":[],\"type\":\"InputPrivacyKey\"},{\"id\":1124062251,\"predicate\":\"privacyKeyAddedByPhone\",\"params\":[],\"type\":\"PrivacyKey\"},{\"id\":-2027964103,\"predicate\":\"updateGeoLiveViewed\",\"params\":[{\"name\":\"peer\",\"type\":\"Peer\"},{\"name\":\"msg_id\",\"type\":\"int\"}],\"type\":\"Update\"},{\"id\":1448076945,\"predicate\":\"updateLoginToken\",\"params\":[],\"type\":\"Update\"},{\"id\":1654593920,\"predicate\":\"auth.loginToken\",\"params\":[{\"name\":\"expires\",\"type\":\"int\"},{\"name\":\"token\",\"type\":\"bytes\"}],\"type\":\"auth.LoginToken\"},{\"id\":110008598,\"predicate\":\"auth.loginTokenMigrateTo\",\"params\":[{\"name\":\"dc_id\",\"type\":\"int\"},{\"name\":\"token\",\"type\":\"bytes\"}],\"type\":\"auth.LoginToken\"},{\"id\":957176926,\"predicate\":\"auth.loginTokenSuccess\",\"params\":[{\"name\":\"authorization\",\"type\":\"auth.Authorization\"}],\"type\":\"auth.LoginToken\"},{\"id\":1474462241,\"predicate\":\"account.contentSettings\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"sensitive_enabled\",\"type\":\"flags.0?true\"},{\"name\":\"sensitive_can_change\",\"type\":\"flags.1?true\"}],\"type\":\"account.ContentSettings\"},{\"id\":-1456996667,\"predicate\":\"messages.inactiveChats\",\"params\":[{\"name\":\"dates\",\"type\":\"Vector<int>\"},{\"name\":\"chats\",\"type\":\"Vector<Chat>\"},{\"name\":\"users\",\"type\":\"Vector<User>\"}],\"type\":\"messages.InactiveChats\"},{\"id\":-1012849566,\"predicate\":\"baseThemeClassic\",\"params\":[],\"type\":\"BaseTheme\"},{\"id\":-69724536,\"predicate\":\"baseThemeDay\",\"params\":[],\"type\":\"BaseTheme\"},{\"id\":-1212997976,\"predicate\":\"baseThemeNight\",\"params\":[],\"type\":\"BaseTheme\"},{\"id\":1834973166,\"predicate\":\"baseThemeTinted\",\"params\":[],\"type\":\"BaseTheme\"},{\"id\":1527845466,\"predicate\":\"baseThemeArctic\",\"params\":[],\"type\":\"BaseTheme\"},{\"id\":-1770371538,\"predicate\":\"inputWallPaperNoFile\",\"params\":[{\"name\":\"id\",\"type\":\"long\"}],\"type\":\"InputWallPaper\"},{\"id\":-528465642,\"predicate\":\"wallPaperNoFile\",\"params\":[{\"name\":\"id\",\"type\":\"long\"},{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"default\",\"type\":\"flags.1?true\"},{\"name\":\"dark\",\"type\":\"flags.4?true\"},{\"name\":\"settings\",\"type\":\"flags.2?WallPaperSettings\"}],\"type\":\"WallPaper\"},{\"id\":-1881255857,\"predicate\":\"inputThemeSettings\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"message_colors_animated\",\"type\":\"flags.2?true\"},{\"name\":\"base_theme\",\"type\":\"BaseTheme\"},{\"name\":\"accent_color\",\"type\":\"int\"},{\"name\":\"outbox_accent_color\",\"type\":\"flags.3?int\"},{\"name\":\"message_colors\",\"type\":\"flags.0?Vector<int>\"},{\"name\":\"wallpaper\",\"type\":\"flags.1?InputWallPaper\"},{\"name\":\"wallpaper_settings\",\"type\":\"flags.1?WallPaperSettings\"}],\"type\":\"InputThemeSettings\"},{\"id\":-94849324,\"predicate\":\"themeSettings\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"message_colors_animated\",\"type\":\"flags.2?true\"},{\"name\":\"base_theme\",\"type\":\"BaseTheme\"},{\"name\":\"accent_color\",\"type\":\"int\"},{\"name\":\"outbox_accent_color\",\"type\":\"flags.3?int\"},{\"name\":\"message_colors\",\"type\":\"flags.0?Vector<int>\"},{\"name\":\"wallpaper\",\"type\":\"flags.1?WallPaper\"}],\"type\":\"ThemeSettings\"},{\"id\":1421174295,\"predicate\":\"webPageAttributeTheme\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"documents\",\"type\":\"flags.0?Vector<Document>\"},{\"name\":\"settings\",\"type\":\"flags.1?ThemeSettings\"}],\"type\":\"WebPageAttribute\"},{\"id\":274961865,\"predicate\":\"updateMessagePollVote\",\"params\":[{\"name\":\"poll_id\",\"type\":\"long\"},{\"name\":\"user_id\",\"type\":\"long\"},{\"name\":\"options\",\"type\":\"Vector<bytes>\"},{\"name\":\"qts\",\"type\":\"int\"}],\"type\":\"Update\"},{\"id\":886196148,\"predicate\":\"messageUserVote\",\"params\":[{\"name\":\"user_id\",\"type\":\"long\"},{\"name\":\"option\",\"type\":\"bytes\"},{\"name\":\"date\",\"type\":\"int\"}],\"type\":\"MessageUserVote\"},{\"id\":1017491692,\"predicate\":\"messageUserVoteInputOption\",\"params\":[{\"name\":\"user_id\",\"type\":\"long\"},{\"name\":\"date\",\"type\":\"int\"}],\"type\":\"MessageUserVote\"},{\"id\":-1973033641,\"predicate\":\"messageUserVoteMultiple\",\"params\":[{\"name\":\"user_id\",\"type\":\"long\"},{\"name\":\"options\",\"type\":\"Vector<bytes>\"},{\"name\":\"date\",\"type\":\"int\"}],\"type\":\"MessageUserVote\"},{\"id\":136574537,\"predicate\":\"messages.votesList\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"count\",\"type\":\"int\"},{\"name\":\"votes\",\"type\":\"Vector<MessageUserVote>\"},{\"name\":\"users\",\"type\":\"Vector<User>\"},{\"name\":\"next_offset\",\"type\":\"flags.0?string\"}],\"type\":\"messages.VotesList\"},{\"id\":-1144565411,\"predicate\":\"keyboardButtonRequestPoll\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"quiz\",\"type\":\"flags.0?Bool\"},{\"name\":\"text\",\"type\":\"string\"}],\"type\":\"KeyboardButton\"},{\"id\":1981704948,\"predicate\":\"messageEntityBankCard\",\"params\":[{\"name\":\"offset\",\"type\":\"int\"},{\"name\":\"length\",\"type\":\"int\"}],\"type\":\"MessageEntity\"},{\"id\":-177732982,\"predicate\":\"bankCardOpenUrl\",\"params\":[{\"name\":\"url\",\"type\":\"string\"},{\"name\":\"name\",\"type\":\"string\"}],\"type\":\"BankCardOpenUrl\"},{\"id\":1042605427,\"predicate\":\"payments.bankCardData\",\"params\":[{\"name\":\"title\",\"type\":\"string\"},{\"name\":\"open_urls\",\"type\":\"Vector<BankCardOpenUrl>\"}],\"type\":\"payments.BankCardData\"},{\"id\":-118740917,\"predicate\":\"peerSelfLocated\",\"params\":[{\"name\":\"expires\",\"type\":\"int\"}],\"type\":\"PeerLocated\"},{\"id\":1949890536,\"predicate\":\"dialogFilter\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"contacts\",\"type\":\"flags.0?true\"},{\"name\":\"non_contacts\",\"type\":\"flags.1?true\"},{\"name\":\"groups\",\"type\":\"flags.2?true\"},{\"name\":\"broadcasts\",\"type\":\"flags.3?true\"},{\"name\":\"bots\",\"type\":\"flags.4?true\"},{\"name\":\"exclude_muted\",\"type\":\"flags.11?true\"},{\"name\":\"exclude_read\",\"type\":\"flags.12?true\"},{\"name\":\"exclude_archived\",\"type\":\"flags.13?true\"},{\"name\":\"id\",\"type\":\"int\"},{\"name\":\"title\",\"type\":\"string\"},{\"name\":\"emoticon\",\"type\":\"flags.25?string\"},{\"name\":\"pinned_peers\",\"type\":\"Vector<InputPeer>\"},{\"name\":\"include_peers\",\"type\":\"Vector<InputPeer>\"},{\"name\":\"exclude_peers\",\"type\":\"Vector<InputPeer>\"}],\"type\":\"DialogFilter\"},{\"id\":2004110666,\"predicate\":\"dialogFilterSuggested\",\"params\":[{\"name\":\"filter\",\"type\":\"DialogFilter\"},{\"name\":\"description\",\"type\":\"string\"}],\"type\":\"DialogFilterSuggested\"},{\"id\":654302845,\"predicate\":\"updateDialogFilter\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"id\",\"type\":\"int\"},{\"name\":\"filter\",\"type\":\"flags.0?DialogFilter\"}],\"type\":\"Update\"},{\"id\":-1512627963,\"predicate\":\"updateDialogFilterOrder\",\"params\":[{\"name\":\"order\",\"type\":\"Vector<int>\"}],\"type\":\"Update\"},{\"id\":889491791,\"predicate\":\"updateDialogFilters\",\"params\":[],\"type\":\"Update\"},{\"id\":-1237848657,\"predicate\":\"statsDateRangeDays\",\"params\":[{\"name\":\"min_date\",\"type\":\"int\"},{\"name\":\"max_date\",\"type\":\"int\"}],\"type\":\"StatsDateRangeDays\"},{\"id\":-884757282,\"predicate\":\"statsAbsValueAndPrev\",\"params\":[{\"name\":\"current\",\"type\":\"double\"},{\"name\":\"previous\",\"type\":\"double\"}],\"type\":\"StatsAbsValueAndPrev\"},{\"id\":-875679776,\"predicate\":\"statsPercentValue\",\"params\":[{\"name\":\"part\",\"type\":\"double\"},{\"name\":\"total\",\"type\":\"double\"}],\"type\":\"StatsPercentValue\"},{\"id\":1244130093,\"predicate\":\"statsGraphAsync\",\"params\":[{\"name\":\"token\",\"type\":\"string\"}],\"type\":\"StatsGraph\"},{\"id\":-1092839390,\"predicate\":\"statsGraphError\",\"params\":[{\"name\":\"error\",\"type\":\"string\"}],\"type\":\"StatsGraph\"},{\"id\":-1901828938,\"predicate\":\"statsGraph\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"json\",\"type\":\"DataJSON\"},{\"name\":\"zoom_token\",\"type\":\"flags.0?string\"}],\"type\":\"StatsGraph\"},{\"id\":-1387279939,\"predicate\":\"messageInteractionCounters\",\"params\":[{\"name\":\"msg_id\",\"type\":\"int\"},{\"name\":\"views\",\"type\":\"int\"},{\"name\":\"forwards\",\"type\":\"int\"}],\"type\":\"MessageInteractionCounters\"},{\"id\":-1107852396,\"predicate\":\"stats.broadcastStats\",\"params\":[{\"name\":\"period\",\"type\":\"StatsDateRangeDays\"},{\"name\":\"followers\",\"type\":\"StatsAbsValueAndPrev\"},{\"name\":\"views_per_post\",\"type\":\"StatsAbsValueAndPrev\"},{\"name\":\"shares_per_post\",\"type\":\"StatsAbsValueAndPrev\"},{\"name\":\"enabled_notifications\",\"type\":\"StatsPercentValue\"},{\"name\":\"growth_graph\",\"type\":\"StatsGraph\"},{\"name\":\"followers_graph\",\"type\":\"StatsGraph\"},{\"name\":\"mute_graph\",\"type\":\"StatsGraph\"},{\"name\":\"top_hours_graph\",\"type\":\"StatsGraph\"},{\"name\":\"interactions_graph\",\"type\":\"StatsGraph\"},{\"name\":\"iv_interactions_graph\",\"type\":\"StatsGraph\"},{\"name\":\"views_by_source_graph\",\"type\":\"StatsGraph\"},{\"name\":\"new_followers_by_source_graph\",\"type\":\"StatsGraph\"},{\"name\":\"languages_graph\",\"type\":\"StatsGraph\"},{\"name\":\"recent_message_interactions\",\"type\":\"Vector<MessageInteractionCounters>\"}],\"type\":\"stats.BroadcastStats\"},{\"id\":-428884101,\"predicate\":\"inputMediaDice\",\"params\":[{\"name\":\"emoticon\",\"type\":\"string\"}],\"type\":\"InputMedia\"},{\"id\":1065280907,\"predicate\":\"messageMediaDice\",\"params\":[{\"name\":\"value\",\"type\":\"int\"},{\"name\":\"emoticon\",\"type\":\"string\"}],\"type\":\"MessageMedia\"},{\"id\":-427863538,\"predicate\":\"inputStickerSetDice\",\"params\":[{\"name\":\"emoticon\",\"type\":\"string\"}],\"type\":\"InputStickerSet\"},{\"id\":-1728664459,\"predicate\":\"help.promoDataEmpty\",\"params\":[{\"name\":\"expires\",\"type\":\"int\"}],\"type\":\"help.PromoData\"},{\"id\":-1942390465,\"predicate\":\"help.promoData\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"proxy\",\"type\":\"flags.0?true\"},{\"name\":\"expires\",\"type\":\"int\"},{\"name\":\"peer\",\"type\":\"Peer\"},{\"name\":\"chats\",\"type\":\"Vector<Chat>\"},{\"name\":\"users\",\"type\":\"Vector<User>\"},{\"name\":\"psa_type\",\"type\":\"flags.1?string\"},{\"name\":\"psa_message\",\"type\":\"flags.2?string\"}],\"type\":\"help.PromoData\"},{\"id\":-567037804,\"predicate\":\"videoSize\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"type\",\"type\":\"string\"},{\"name\":\"w\",\"type\":\"int\"},{\"name\":\"h\",\"type\":\"int\"},{\"name\":\"size\",\"type\":\"int\"},{\"name\":\"video_start_ts\",\"type\":\"flags.0?double\"}],\"type\":\"VideoSize\"},{\"id\":643940105,\"predicate\":\"updatePhoneCallSignalingData\",\"params\":[{\"name\":\"phone_call_id\",\"type\":\"long\"},{\"name\":\"data\",\"type\":\"bytes\"}],\"type\":\"Update\"},{\"id\":1634294960,\"predicate\":\"chatInvitePeek\",\"params\":[{\"name\":\"chat\",\"type\":\"Chat\"},{\"name\":\"expires\",\"type\":\"int\"}],\"type\":\"ChatInvite\"},{\"id\":-1660637285,\"predicate\":\"statsGroupTopPoster\",\"params\":[{\"name\":\"user_id\",\"type\":\"long\"},{\"name\":\"messages\",\"type\":\"int\"},{\"name\":\"avg_chars\",\"type\":\"int\"}],\"type\":\"StatsGroupTopPoster\"},{\"id\":-682079097,\"predicate\":\"statsGroupTopAdmin\",\"params\":[{\"name\":\"user_id\",\"type\":\"long\"},{\"name\":\"deleted\",\"type\":\"int\"},{\"name\":\"kicked\",\"type\":\"int\"},{\"name\":\"banned\",\"type\":\"int\"}],\"type\":\"StatsGroupTopAdmin\"},{\"id\":1398765469,\"predicate\":\"statsGroupTopInviter\",\"params\":[{\"name\":\"user_id\",\"type\":\"long\"},{\"name\":\"invitations\",\"type\":\"int\"}],\"type\":\"StatsGroupTopInviter\"},{\"id\":-276825834,\"predicate\":\"stats.megagroupStats\",\"params\":[{\"name\":\"period\",\"type\":\"StatsDateRangeDays\"},{\"name\":\"members\",\"type\":\"StatsAbsValueAndPrev\"},{\"name\":\"messages\",\"type\":\"StatsAbsValueAndPrev\"},{\"name\":\"viewers\",\"type\":\"StatsAbsValueAndPrev\"},{\"name\":\"posters\",\"type\":\"StatsAbsValueAndPrev\"},{\"name\":\"growth_graph\",\"type\":\"StatsGraph\"},{\"name\":\"members_graph\",\"type\":\"StatsGraph\"},{\"name\":\"new_members_by_source_graph\",\"type\":\"StatsGraph\"},{\"name\":\"languages_graph\",\"type\":\"StatsGraph\"},{\"name\":\"messages_graph\",\"type\":\"StatsGraph\"},{\"name\":\"actions_graph\",\"type\":\"StatsGraph\"},{\"name\":\"top_hours_graph\",\"type\":\"StatsGraph\"},{\"name\":\"weekdays_graph\",\"type\":\"StatsGraph\"},{\"name\":\"top_posters\",\"type\":\"Vector<StatsGroupTopPoster>\"},{\"name\":\"top_admins\",\"type\":\"Vector<StatsGroupTopAdmin>\"},{\"name\":\"top_inviters\",\"type\":\"Vector<StatsGroupTopInviter>\"},{\"name\":\"users\",\"type\":\"Vector<User>\"}],\"type\":\"stats.MegagroupStats\"},{\"id\":-1096616924,\"predicate\":\"globalPrivacySettings\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"archive_and_mute_new_noncontact_peers\",\"type\":\"flags.0?Bool\"}],\"type\":\"GlobalPrivacySettings\"},{\"id\":1667228533,\"predicate\":\"phoneConnectionWebrtc\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"turn\",\"type\":\"flags.0?true\"},{\"name\":\"stun\",\"type\":\"flags.1?true\"},{\"name\":\"id\",\"type\":\"long\"},{\"name\":\"ip\",\"type\":\"string\"},{\"name\":\"ipv6\",\"type\":\"string\"},{\"name\":\"port\",\"type\":\"int\"},{\"name\":\"username\",\"type\":\"string\"},{\"name\":\"password\",\"type\":\"string\"}],\"type\":\"PhoneConnection\"},{\"id\":1107543535,\"predicate\":\"help.countryCode\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"country_code\",\"type\":\"string\"},{\"name\":\"prefixes\",\"type\":\"flags.0?Vector<string>\"},{\"name\":\"patterns\",\"type\":\"flags.1?Vector<string>\"}],\"type\":\"help.CountryCode\"},{\"id\":-1014526429,\"predicate\":\"help.country\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"hidden\",\"type\":\"flags.0?true\"},{\"name\":\"iso2\",\"type\":\"string\"},{\"name\":\"default_name\",\"type\":\"string\"},{\"name\":\"name\",\"type\":\"flags.1?string\"},{\"name\":\"country_codes\",\"type\":\"Vector<help.CountryCode>\"}],\"type\":\"help.Country\"},{\"id\":-1815339214,\"predicate\":\"help.countriesListNotModified\",\"params\":[],\"type\":\"help.CountriesList\"},{\"id\":-2016381538,\"predicate\":\"help.countriesList\",\"params\":[{\"name\":\"countries\",\"type\":\"Vector<help.Country>\"},{\"name\":\"hash\",\"type\":\"int\"}],\"type\":\"help.CountriesList\"},{\"id\":1163625789,\"predicate\":\"messageViews\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"views\",\"type\":\"flags.0?int\"},{\"name\":\"forwards\",\"type\":\"flags.1?int\"},{\"name\":\"replies\",\"type\":\"flags.2?MessageReplies\"}],\"type\":\"MessageViews\"},{\"id\":-761649164,\"predicate\":\"updateChannelMessageForwards\",\"params\":[{\"name\":\"channel_id\",\"type\":\"long\"},{\"name\":\"id\",\"type\":\"int\"},{\"name\":\"forwards\",\"type\":\"int\"}],\"type\":\"Update\"},{\"id\":-96535659,\"predicate\":\"photoSizeProgressive\",\"params\":[{\"name\":\"type\",\"type\":\"string\"},{\"name\":\"w\",\"type\":\"int\"},{\"name\":\"h\",\"type\":\"int\"},{\"name\":\"sizes\",\"type\":\"Vector<int>\"}],\"type\":\"PhotoSize\"},{\"id\":-1228606141,\"predicate\":\"messages.messageViews\",\"params\":[{\"name\":\"views\",\"type\":\"Vector<MessageViews>\"},{\"name\":\"chats\",\"type\":\"Vector<Chat>\"},{\"name\":\"users\",\"type\":\"Vector<User>\"}],\"type\":\"messages.MessageViews\"},{\"id\":-693004986,\"predicate\":\"updateReadChannelDiscussionInbox\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"channel_id\",\"type\":\"long\"},{\"name\":\"top_msg_id\",\"type\":\"int\"},{\"name\":\"read_max_id\",\"type\":\"int\"},{\"name\":\"broadcast_id\",\"type\":\"flags.0?long\"},{\"name\":\"broadcast_post\",\"type\":\"flags.0?int\"}],\"type\":\"Update\"},{\"id\":1767677564,\"predicate\":\"updateReadChannelDiscussionOutbox\",\"params\":[{\"name\":\"channel_id\",\"type\":\"long\"},{\"name\":\"top_msg_id\",\"type\":\"int\"},{\"name\":\"read_max_id\",\"type\":\"int\"}],\"type\":\"Update\"},{\"id\":-1506535550,\"predicate\":\"messages.discussionMessage\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"messages\",\"type\":\"Vector<Message>\"},{\"name\":\"max_id\",\"type\":\"flags.0?int\"},{\"name\":\"read_inbox_max_id\",\"type\":\"flags.1?int\"},{\"name\":\"read_outbox_max_id\",\"type\":\"flags.2?int\"},{\"name\":\"unread_count\",\"type\":\"int\"},{\"name\":\"chats\",\"type\":\"Vector<Chat>\"},{\"name\":\"users\",\"type\":\"Vector<User>\"}],\"type\":\"messages.DiscussionMessage\"},{\"id\":-1495959709,\"predicate\":\"messageReplyHeader\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"reply_to_scheduled\",\"type\":\"flags.2?true\"},{\"name\":\"reply_to_msg_id\",\"type\":\"int\"},{\"name\":\"reply_to_peer_id\",\"type\":\"flags.0?Peer\"},{\"name\":\"reply_to_top_id\",\"type\":\"flags.1?int\"}],\"type\":\"MessageReplyHeader\"},{\"id\":-2083123262,\"predicate\":\"messageReplies\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"comments\",\"type\":\"flags.0?true\"},{\"name\":\"replies\",\"type\":\"int\"},{\"name\":\"replies_pts\",\"type\":\"int\"},{\"name\":\"recent_repliers\",\"type\":\"flags.1?Vector<Peer>\"},{\"name\":\"channel_id\",\"type\":\"flags.0?long\"},{\"name\":\"max_id\",\"type\":\"flags.2?int\"},{\"name\":\"read_max_id\",\"type\":\"flags.3?int\"}],\"type\":\"MessageReplies\"},{\"id\":610945826,\"predicate\":\"updatePeerBlocked\",\"params\":[{\"name\":\"peer_id\",\"type\":\"Peer\"},{\"name\":\"blocked\",\"type\":\"Bool\"}],\"type\":\"Update\"},{\"id\":-386039788,\"predicate\":\"peerBlocked\",\"params\":[{\"name\":\"peer_id\",\"type\":\"Peer\"},{\"name\":\"date\",\"type\":\"int\"}],\"type\":\"PeerBlocked\"},{\"id\":-1937192669,\"predicate\":\"updateChannelUserTyping\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"channel_id\",\"type\":\"long\"},{\"name\":\"top_msg_id\",\"type\":\"flags.0?int\"},{\"name\":\"from_id\",\"type\":\"Peer\"},{\"name\":\"action\",\"type\":\"SendMessageAction\"}],\"type\":\"Update\"},{\"id\":-1392895362,\"predicate\":\"inputMessageCallbackQuery\",\"params\":[{\"name\":\"id\",\"type\":\"int\"},{\"name\":\"query_id\",\"type\":\"long\"}],\"type\":\"InputMessage\"},{\"id\":453242886,\"predicate\":\"channelParticipantLeft\",\"params\":[{\"name\":\"peer\",\"type\":\"Peer\"}],\"type\":\"ChannelParticipant\"},{\"id\":-531931925,\"predicate\":\"channelParticipantsMentions\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"q\",\"type\":\"flags.0?string\"},{\"name\":\"top_msg_id\",\"type\":\"flags.1?int\"}],\"type\":\"ChannelParticipantsFilter\"},{\"id\":-309990731,\"predicate\":\"updatePinnedMessages\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"pinned\",\"type\":\"flags.0?true\"},{\"name\":\"peer\",\"type\":\"Peer\"},{\"name\":\"messages\",\"type\":\"Vector<int>\"},{\"name\":\"pts\",\"type\":\"int\"},{\"name\":\"pts_count\",\"type\":\"int\"}],\"type\":\"Update\"},{\"id\":1538885128,\"predicate\":\"updatePinnedChannelMessages\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"pinned\",\"type\":\"flags.0?true\"},{\"name\":\"channel_id\",\"type\":\"long\"},{\"name\":\"messages\",\"type\":\"Vector<int>\"},{\"name\":\"pts\",\"type\":\"int\"},{\"name\":\"pts_count\",\"type\":\"int\"}],\"type\":\"Update\"},{\"id\":464520273,\"predicate\":\"inputMessagesFilterPinned\",\"params\":[],\"type\":\"MessagesFilter\"},{\"id\":-1986399595,\"predicate\":\"stats.messageStats\",\"params\":[{\"name\":\"views_graph\",\"type\":\"StatsGraph\"}],\"type\":\"stats.MessageStats\"},{\"id\":-1730095465,\"predicate\":\"messageActionGeoProximityReached\",\"params\":[{\"name\":\"from_id\",\"type\":\"Peer\"},{\"name\":\"to_id\",\"type\":\"Peer\"},{\"name\":\"distance\",\"type\":\"int\"}],\"type\":\"MessageAction\"},{\"id\":-668906175,\"predicate\":\"photoPathSize\",\"params\":[{\"name\":\"type\",\"type\":\"string\"},{\"name\":\"bytes\",\"type\":\"bytes\"}],\"type\":\"PhotoSize\"},{\"id\":-651419003,\"predicate\":\"speakingInGroupCallAction\",\"params\":[],\"type\":\"SendMessageAction\"},{\"id\":2004925620,\"predicate\":\"groupCallDiscarded\",\"params\":[{\"name\":\"id\",\"type\":\"long\"},{\"name\":\"access_hash\",\"type\":\"long\"},{\"name\":\"duration\",\"type\":\"int\"}],\"type\":\"GroupCall\"},{\"id\":-711498484,\"predicate\":\"groupCall\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"join_muted\",\"type\":\"flags.1?true\"},{\"name\":\"can_change_join_muted\",\"type\":\"flags.2?true\"},{\"name\":\"join_date_asc\",\"type\":\"flags.6?true\"},{\"name\":\"schedule_start_subscribed\",\"type\":\"flags.8?true\"},{\"name\":\"can_start_video\",\"type\":\"flags.9?true\"},{\"name\":\"record_video_active\",\"type\":\"flags.11?true\"},{\"name\":\"rtmp_stream\",\"type\":\"flags.12?true\"},{\"name\":\"listeners_hidden\",\"type\":\"flags.13?true\"},{\"name\":\"id\",\"type\":\"long\"},{\"name\":\"access_hash\",\"type\":\"long\"},{\"name\":\"participants_count\",\"type\":\"int\"},{\"name\":\"title\",\"type\":\"flags.3?string\"},{\"name\":\"stream_dc_id\",\"type\":\"flags.4?int\"},{\"name\":\"record_start_date\",\"type\":\"flags.5?int\"},{\"name\":\"schedule_date\",\"type\":\"flags.7?int\"},{\"name\":\"unmuted_video_count\",\"type\":\"flags.10?int\"},{\"name\":\"unmuted_video_limit\",\"type\":\"int\"},{\"name\":\"version\",\"type\":\"int\"}],\"type\":\"GroupCall\"},{\"id\":-659913713,\"predicate\":\"inputGroupCall\",\"params\":[{\"name\":\"id\",\"type\":\"long\"},{\"name\":\"access_hash\",\"type\":\"long\"}],\"type\":\"InputGroupCall\"},{\"id\":2047704898,\"predicate\":\"messageActionGroupCall\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"call\",\"type\":\"InputGroupCall\"},{\"name\":\"duration\",\"type\":\"flags.0?int\"}],\"type\":\"MessageAction\"},{\"id\":1345295095,\"predicate\":\"messageActionInviteToGroupCall\",\"params\":[{\"name\":\"call\",\"type\":\"InputGroupCall\"},{\"name\":\"users\",\"type\":\"Vector<long>\"}],\"type\":\"MessageAction\"},{\"id\":-341428482,\"predicate\":\"groupCallParticipant\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"muted\",\"type\":\"flags.0?true\"},{\"name\":\"left\",\"type\":\"flags.1?true\"},{\"name\":\"can_self_unmute\",\"type\":\"flags.2?true\"},{\"name\":\"just_joined\",\"type\":\"flags.4?true\"},{\"name\":\"versioned\",\"type\":\"flags.5?true\"},{\"name\":\"min\",\"type\":\"flags.8?true\"},{\"name\":\"muted_by_you\",\"type\":\"flags.9?true\"},{\"name\":\"volume_by_admin\",\"type\":\"flags.10?true\"},{\"name\":\"self\",\"type\":\"flags.12?true\"},{\"name\":\"video_joined\",\"type\":\"flags.15?true\"},{\"name\":\"peer\",\"type\":\"Peer\"},{\"name\":\"date\",\"type\":\"int\"},{\"name\":\"active_date\",\"type\":\"flags.3?int\"},{\"name\":\"source\",\"type\":\"int\"},{\"name\":\"volume\",\"type\":\"flags.7?int\"},{\"name\":\"about\",\"type\":\"flags.11?string\"},{\"name\":\"raise_hand_rating\",\"type\":\"flags.13?long\"},{\"name\":\"video\",\"type\":\"flags.6?GroupCallParticipantVideo\"},{\"name\":\"presentation\",\"type\":\"flags.14?GroupCallParticipantVideo\"}],\"type\":\"GroupCallParticipant\"},{\"id\":-124097970,\"predicate\":\"updateChat\",\"params\":[{\"name\":\"chat_id\",\"type\":\"long\"}],\"type\":\"Update\"},{\"id\":-219423922,\"predicate\":\"updateGroupCallParticipants\",\"params\":[{\"name\":\"call\",\"type\":\"InputGroupCall\"},{\"name\":\"participants\",\"type\":\"Vector<GroupCallParticipant>\"},{\"name\":\"version\",\"type\":\"int\"}],\"type\":\"Update\"},{\"id\":347227392,\"predicate\":\"updateGroupCall\",\"params\":[{\"name\":\"chat_id\",\"type\":\"long\"},{\"name\":\"call\",\"type\":\"GroupCall\"}],\"type\":\"Update\"},{\"id\":-1636664659,\"predicate\":\"phone.groupCall\",\"params\":[{\"name\":\"call\",\"type\":\"GroupCall\"},{\"name\":\"participants\",\"type\":\"Vector<GroupCallParticipant>\"},{\"name\":\"participants_next_offset\",\"type\":\"string\"},{\"name\":\"chats\",\"type\":\"Vector<Chat>\"},{\"name\":\"users\",\"type\":\"Vector<User>\"}],\"type\":\"phone.GroupCall\"},{\"id\":-193506890,\"predicate\":\"phone.groupParticipants\",\"params\":[{\"name\":\"count\",\"type\":\"int\"},{\"name\":\"participants\",\"type\":\"Vector<GroupCallParticipant>\"},{\"name\":\"next_offset\",\"type\":\"string\"},{\"name\":\"chats\",\"type\":\"Vector<Chat>\"},{\"name\":\"users\",\"type\":\"Vector<User>\"},{\"name\":\"version\",\"type\":\"int\"}],\"type\":\"phone.GroupParticipants\"},{\"id\":813821341,\"predicate\":\"inlineQueryPeerTypeSameBotPM\",\"params\":[],\"type\":\"InlineQueryPeerType\"},{\"id\":-2093215828,\"predicate\":\"inlineQueryPeerTypePM\",\"params\":[],\"type\":\"InlineQueryPeerType\"},{\"id\":-681130742,\"predicate\":\"inlineQueryPeerTypeChat\",\"params\":[],\"type\":\"InlineQueryPeerType\"},{\"id\":1589952067,\"predicate\":\"inlineQueryPeerTypeMegagroup\",\"params\":[],\"type\":\"InlineQueryPeerType\"},{\"id\":1664413338,\"predicate\":\"inlineQueryPeerTypeBroadcast\",\"params\":[],\"type\":\"InlineQueryPeerType\"},{\"id\":589338437,\"predicate\":\"channelAdminLogEventActionStartGroupCall\",\"params\":[{\"name\":\"call\",\"type\":\"InputGroupCall\"}],\"type\":\"ChannelAdminLogEventAction\"},{\"id\":-610299584,\"predicate\":\"channelAdminLogEventActionDiscardGroupCall\",\"params\":[{\"name\":\"call\",\"type\":\"InputGroupCall\"}],\"type\":\"ChannelAdminLogEventAction\"},{\"id\":-115071790,\"predicate\":\"channelAdminLogEventActionParticipantMute\",\"params\":[{\"name\":\"participant\",\"type\":\"GroupCallParticipant\"}],\"type\":\"ChannelAdminLogEventAction\"},{\"id\":-431740480,\"predicate\":\"channelAdminLogEventActionParticipantUnmute\",\"params\":[{\"name\":\"participant\",\"type\":\"GroupCallParticipant\"}],\"type\":\"ChannelAdminLogEventAction\"},{\"id\":1456906823,\"predicate\":\"channelAdminLogEventActionToggleGroupCallSetting\",\"params\":[{\"name\":\"join_muted\",\"type\":\"Bool\"}],\"type\":\"ChannelAdminLogEventAction\"},{\"id\":-1966921727,\"predicate\":\"inputPaymentCredentialsGooglePay\",\"params\":[{\"name\":\"payment_token\",\"type\":\"DataJSON\"}],\"type\":\"InputPaymentCredentials\"},{\"id\":375566091,\"predicate\":\"messages.historyImport\",\"params\":[{\"name\":\"id\",\"type\":\"long\"}],\"type\":\"messages.HistoryImport\"},{\"id\":-606432698,\"predicate\":\"sendMessageHistoryImportAction\",\"params\":[{\"name\":\"progress\",\"type\":\"int\"}],\"type\":\"SendMessageAction\"},{\"id\":1578088377,\"predicate\":\"messages.historyImportParsed\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"pm\",\"type\":\"flags.0?true\"},{\"name\":\"group\",\"type\":\"flags.1?true\"},{\"name\":\"title\",\"type\":\"flags.2?string\"}],\"type\":\"messages.HistoryImportParsed\"},{\"id\":-170010905,\"predicate\":\"inputReportReasonFake\",\"params\":[],\"type\":\"ReportReason\"},{\"id\":-275956116,\"predicate\":\"messages.affectedFoundMessages\",\"params\":[{\"name\":\"pts\",\"type\":\"int\"},{\"name\":\"pts_count\",\"type\":\"int\"},{\"name\":\"offset\",\"type\":\"int\"},{\"name\":\"messages\",\"type\":\"Vector<int>\"}],\"type\":\"messages.AffectedFoundMessages\"},{\"id\":-1441072131,\"predicate\":\"messageActionSetMessagesTTL\",\"params\":[{\"name\":\"period\",\"type\":\"int\"}],\"type\":\"MessageAction\"},{\"id\":-1147422299,\"predicate\":\"updatePeerHistoryTTL\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"peer\",\"type\":\"Peer\"},{\"name\":\"ttl_period\",\"type\":\"flags.0?int\"}],\"type\":\"Update\"},{\"id\":-796432838,\"predicate\":\"updateChatParticipant\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"chat_id\",\"type\":\"long\"},{\"name\":\"date\",\"type\":\"int\"},{\"name\":\"actor_id\",\"type\":\"long\"},{\"name\":\"user_id\",\"type\":\"long\"},{\"name\":\"prev_participant\",\"type\":\"flags.0?ChatParticipant\"},{\"name\":\"new_participant\",\"type\":\"flags.1?ChatParticipant\"},{\"name\":\"invite\",\"type\":\"flags.2?ExportedChatInvite\"},{\"name\":\"qts\",\"type\":\"int\"}],\"type\":\"Update\"},{\"id\":-1738720581,\"predicate\":\"updateChannelParticipant\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"channel_id\",\"type\":\"long\"},{\"name\":\"date\",\"type\":\"int\"},{\"name\":\"actor_id\",\"type\":\"long\"},{\"name\":\"user_id\",\"type\":\"long\"},{\"name\":\"prev_participant\",\"type\":\"flags.0?ChannelParticipant\"},{\"name\":\"new_participant\",\"type\":\"flags.1?ChannelParticipant\"},{\"name\":\"invite\",\"type\":\"flags.2?ExportedChatInvite\"},{\"name\":\"qts\",\"type\":\"int\"}],\"type\":\"Update\"},{\"id\":-997782967,\"predicate\":\"updateBotStopped\",\"params\":[{\"name\":\"user_id\",\"type\":\"long\"},{\"name\":\"date\",\"type\":\"int\"},{\"name\":\"stopped\",\"type\":\"Bool\"},{\"name\":\"qts\",\"type\":\"int\"}],\"type\":\"Update\"},{\"id\":-1940201511,\"predicate\":\"chatInviteImporter\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"requested\",\"type\":\"flags.0?true\"},{\"name\":\"user_id\",\"type\":\"long\"},{\"name\":\"date\",\"type\":\"int\"},{\"name\":\"about\",\"type\":\"flags.2?string\"},{\"name\":\"approved_by\",\"type\":\"flags.1?long\"}],\"type\":\"ChatInviteImporter\"},{\"id\":-1111085620,\"predicate\":\"messages.exportedChatInvites\",\"params\":[{\"name\":\"count\",\"type\":\"int\"},{\"name\":\"invites\",\"type\":\"Vector<ExportedChatInvite>\"},{\"name\":\"users\",\"type\":\"Vector<User>\"}],\"type\":\"messages.ExportedChatInvites\"},{\"id\":410107472,\"predicate\":\"messages.exportedChatInvite\",\"params\":[{\"name\":\"invite\",\"type\":\"ExportedChatInvite\"},{\"name\":\"users\",\"type\":\"Vector<User>\"}],\"type\":\"messages.ExportedChatInvite\"},{\"id\":572915951,\"predicate\":\"messages.exportedChatInviteReplaced\",\"params\":[{\"name\":\"invite\",\"type\":\"ExportedChatInvite\"},{\"name\":\"new_invite\",\"type\":\"ExportedChatInvite\"},{\"name\":\"users\",\"type\":\"Vector<User>\"}],\"type\":\"messages.ExportedChatInvite\"},{\"id\":-2118733814,\"predicate\":\"messages.chatInviteImporters\",\"params\":[{\"name\":\"count\",\"type\":\"int\"},{\"name\":\"importers\",\"type\":\"Vector<ChatInviteImporter>\"},{\"name\":\"users\",\"type\":\"Vector<User>\"}],\"type\":\"messages.ChatInviteImporters\"},{\"id\":-219353309,\"predicate\":\"chatAdminWithInvites\",\"params\":[{\"name\":\"admin_id\",\"type\":\"long\"},{\"name\":\"invites_count\",\"type\":\"int\"},{\"name\":\"revoked_invites_count\",\"type\":\"int\"}],\"type\":\"ChatAdminWithInvites\"},{\"id\":-1231326505,\"predicate\":\"messages.chatAdminsWithInvites\",\"params\":[{\"name\":\"admins\",\"type\":\"Vector<ChatAdminWithInvites>\"},{\"name\":\"users\",\"type\":\"Vector<User>\"}],\"type\":\"messages.ChatAdminsWithInvites\"},{\"id\":1557846647,\"predicate\":\"channelAdminLogEventActionParticipantJoinByInvite\",\"params\":[{\"name\":\"invite\",\"type\":\"ExportedChatInvite\"}],\"type\":\"ChannelAdminLogEventAction\"},{\"id\":1515256996,\"predicate\":\"channelAdminLogEventActionExportedInviteDelete\",\"params\":[{\"name\":\"invite\",\"type\":\"ExportedChatInvite\"}],\"type\":\"ChannelAdminLogEventAction\"},{\"id\":1091179342,\"predicate\":\"channelAdminLogEventActionExportedInviteRevoke\",\"params\":[{\"name\":\"invite\",\"type\":\"ExportedChatInvite\"}],\"type\":\"ChannelAdminLogEventAction\"},{\"id\":-384910503,\"predicate\":\"channelAdminLogEventActionExportedInviteEdit\",\"params\":[{\"name\":\"prev_invite\",\"type\":\"ExportedChatInvite\"},{\"name\":\"new_invite\",\"type\":\"ExportedChatInvite\"}],\"type\":\"ChannelAdminLogEventAction\"},{\"id\":1048537159,\"predicate\":\"channelAdminLogEventActionParticipantVolume\",\"params\":[{\"name\":\"participant\",\"type\":\"GroupCallParticipant\"}],\"type\":\"ChannelAdminLogEventAction\"},{\"id\":1855199800,\"predicate\":\"channelAdminLogEventActionChangeHistoryTTL\",\"params\":[{\"name\":\"prev_value\",\"type\":\"int\"},{\"name\":\"new_value\",\"type\":\"int\"}],\"type\":\"ChannelAdminLogEventAction\"},{\"id\":-1571952873,\"predicate\":\"messages.checkedHistoryImportPeer\",\"params\":[{\"name\":\"confirm_text\",\"type\":\"string\"}],\"type\":\"messages.CheckedHistoryImportPeer\"},{\"id\":93890858,\"predicate\":\"inputGroupCallStream\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"call\",\"type\":\"InputGroupCall\"},{\"name\":\"time_ms\",\"type\":\"long\"},{\"name\":\"scale\",\"type\":\"int\"},{\"name\":\"video_channel\",\"type\":\"flags.0?int\"},{\"name\":\"video_quality\",\"type\":\"flags.0?int\"}],\"type\":\"InputFileLocation\"},{\"id\":-1343921601,\"predicate\":\"phone.joinAsPeers\",\"params\":[{\"name\":\"peers\",\"type\":\"Vector<Peer>\"},{\"name\":\"chats\",\"type\":\"Vector<Chat>\"},{\"name\":\"users\",\"type\":\"Vector<User>\"}],\"type\":\"phone.JoinAsPeers\"},{\"id\":541839704,\"predicate\":\"phone.exportedGroupCallInvite\",\"params\":[{\"name\":\"link\",\"type\":\"string\"}],\"type\":\"phone.ExportedGroupCallInvite\"},{\"id\":-672693723,\"predicate\":\"inputBotInlineMessageMediaInvoice\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"title\",\"type\":\"string\"},{\"name\":\"description\",\"type\":\"string\"},{\"name\":\"photo\",\"type\":\"flags.0?InputWebDocument\"},{\"name\":\"invoice\",\"type\":\"Invoice\"},{\"name\":\"payload\",\"type\":\"bytes\"},{\"name\":\"provider\",\"type\":\"string\"},{\"name\":\"provider_data\",\"type\":\"DataJSON\"},{\"name\":\"reply_markup\",\"type\":\"flags.2?ReplyMarkup\"}],\"type\":\"InputBotInlineMessage\"},{\"id\":894081801,\"predicate\":\"botInlineMessageMediaInvoice\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"shipping_address_requested\",\"type\":\"flags.1?true\"},{\"name\":\"test\",\"type\":\"flags.3?true\"},{\"name\":\"title\",\"type\":\"string\"},{\"name\":\"description\",\"type\":\"string\"},{\"name\":\"photo\",\"type\":\"flags.0?WebDocument\"},{\"name\":\"currency\",\"type\":\"string\"},{\"name\":\"total_amount\",\"type\":\"long\"},{\"name\":\"reply_markup\",\"type\":\"flags.2?ReplyMarkup\"}],\"type\":\"BotInlineMessage\"},{\"id\":-1281329567,\"predicate\":\"messageActionGroupCallScheduled\",\"params\":[{\"name\":\"call\",\"type\":\"InputGroupCall\"},{\"name\":\"schedule_date\",\"type\":\"int\"}],\"type\":\"MessageAction\"},{\"id\":-592373577,\"predicate\":\"groupCallParticipantVideoSourceGroup\",\"params\":[{\"name\":\"semantics\",\"type\":\"string\"},{\"name\":\"sources\",\"type\":\"Vector<int>\"}],\"type\":\"GroupCallParticipantVideoSourceGroup\"},{\"id\":1735736008,\"predicate\":\"groupCallParticipantVideo\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"paused\",\"type\":\"flags.0?true\"},{\"name\":\"endpoint\",\"type\":\"string\"},{\"name\":\"source_groups\",\"type\":\"Vector<GroupCallParticipantVideoSourceGroup>\"},{\"name\":\"audio_source\",\"type\":\"flags.1?int\"}],\"type\":\"GroupCallParticipantVideo\"},{\"id\":192428418,\"predicate\":\"updateGroupCallConnection\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"presentation\",\"type\":\"flags.0?true\"},{\"name\":\"params\",\"type\":\"DataJSON\"}],\"type\":\"Update\"},{\"id\":-2046910401,\"predicate\":\"stickers.suggestedShortName\",\"params\":[{\"name\":\"short_name\",\"type\":\"string\"}],\"type\":\"stickers.SuggestedShortName\"},{\"id\":795652779,\"predicate\":\"botCommandScopeDefault\",\"params\":[],\"type\":\"BotCommandScope\"},{\"id\":1011811544,\"predicate\":\"botCommandScopeUsers\",\"params\":[],\"type\":\"BotCommandScope\"},{\"id\":1877059713,\"predicate\":\"botCommandScopeChats\",\"params\":[],\"type\":\"BotCommandScope\"},{\"id\":-1180016534,\"predicate\":\"botCommandScopeChatAdmins\",\"params\":[],\"type\":\"BotCommandScope\"},{\"id\":-610432643,\"predicate\":\"botCommandScopePeer\",\"params\":[{\"name\":\"peer\",\"type\":\"InputPeer\"}],\"type\":\"BotCommandScope\"},{\"id\":1071145937,\"predicate\":\"botCommandScopePeerAdmins\",\"params\":[{\"name\":\"peer\",\"type\":\"InputPeer\"}],\"type\":\"BotCommandScope\"},{\"id\":169026035,\"predicate\":\"botCommandScopePeerUser\",\"params\":[{\"name\":\"peer\",\"type\":\"InputPeer\"},{\"name\":\"user_id\",\"type\":\"InputUser\"}],\"type\":\"BotCommandScope\"},{\"id\":-478701471,\"predicate\":\"account.resetPasswordFailedWait\",\"params\":[{\"name\":\"retry_date\",\"type\":\"int\"}],\"type\":\"account.ResetPasswordResult\"},{\"id\":-370148227,\"predicate\":\"account.resetPasswordRequestedWait\",\"params\":[{\"name\":\"until_date\",\"type\":\"int\"}],\"type\":\"account.ResetPasswordResult\"},{\"id\":-383330754,\"predicate\":\"account.resetPasswordOk\",\"params\":[],\"type\":\"account.ResetPasswordResult\"},{\"id\":1299263278,\"predicate\":\"updateBotCommands\",\"params\":[{\"name\":\"peer\",\"type\":\"Peer\"},{\"name\":\"bot_id\",\"type\":\"long\"},{\"name\":\"commands\",\"type\":\"Vector<BotCommand>\"}],\"type\":\"Update\"},{\"id\":-1434950843,\"predicate\":\"messageActionSetChatTheme\",\"params\":[{\"name\":\"emoticon\",\"type\":\"string\"}],\"type\":\"MessageAction\"},{\"id\":-1336228175,\"predicate\":\"sendMessageChooseStickerAction\",\"params\":[],\"type\":\"SendMessageAction\"},{\"id\":981691896,\"predicate\":\"sponsoredMessage\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"random_id\",\"type\":\"bytes\"},{\"name\":\"from_id\",\"type\":\"flags.3?Peer\"},{\"name\":\"chat_invite\",\"type\":\"flags.4?ChatInvite\"},{\"name\":\"chat_invite_hash\",\"type\":\"flags.4?string\"},{\"name\":\"channel_post\",\"type\":\"flags.2?int\"},{\"name\":\"start_param\",\"type\":\"flags.0?string\"},{\"name\":\"message\",\"type\":\"string\"},{\"name\":\"entities\",\"type\":\"flags.1?Vector<MessageEntity>\"}],\"type\":\"SponsoredMessage\"},{\"id\":1705297877,\"predicate\":\"messages.sponsoredMessages\",\"params\":[{\"name\":\"messages\",\"type\":\"Vector<SponsoredMessage>\"},{\"name\":\"chats\",\"type\":\"Vector<Chat>\"},{\"name\":\"users\",\"type\":\"Vector<User>\"}],\"type\":\"messages.SponsoredMessages\"},{\"id\":215889721,\"predicate\":\"inputStickerSetAnimatedEmojiAnimations\",\"params\":[],\"type\":\"InputStickerSet\"},{\"id\":630664139,\"predicate\":\"sendMessageEmojiInteraction\",\"params\":[{\"name\":\"emoticon\",\"type\":\"string\"},{\"name\":\"msg_id\",\"type\":\"int\"},{\"name\":\"interaction\",\"type\":\"DataJSON\"}],\"type\":\"SendMessageAction\"},{\"id\":-1234857938,\"predicate\":\"sendMessageEmojiInteractionSeen\",\"params\":[{\"name\":\"emoticon\",\"type\":\"string\"}],\"type\":\"SendMessageAction\"},{\"id\":-1227287081,\"predicate\":\"inputBotInlineMessageID64\",\"params\":[{\"name\":\"dc_id\",\"type\":\"int\"},{\"name\":\"owner_id\",\"type\":\"long\"},{\"name\":\"id\",\"type\":\"int\"},{\"name\":\"access_hash\",\"type\":\"long\"}],\"type\":\"InputBotInlineMessageID\"},{\"id\":-911191137,\"predicate\":\"searchResultsCalendarPeriod\",\"params\":[{\"name\":\"date\",\"type\":\"int\"},{\"name\":\"min_msg_id\",\"type\":\"int\"},{\"name\":\"max_msg_id\",\"type\":\"int\"},{\"name\":\"count\",\"type\":\"int\"}],\"type\":\"SearchResultsCalendarPeriod\"},{\"id\":343859772,\"predicate\":\"messages.searchResultsCalendar\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"inexact\",\"type\":\"flags.0?true\"},{\"name\":\"count\",\"type\":\"int\"},{\"name\":\"min_date\",\"type\":\"int\"},{\"name\":\"min_msg_id\",\"type\":\"int\"},{\"name\":\"offset_id_offset\",\"type\":\"flags.1?int\"},{\"name\":\"periods\",\"type\":\"Vector<SearchResultsCalendarPeriod>\"},{\"name\":\"messages\",\"type\":\"Vector<Message>\"},{\"name\":\"chats\",\"type\":\"Vector<Chat>\"},{\"name\":\"users\",\"type\":\"Vector<User>\"}],\"type\":\"messages.SearchResultsCalendar\"},{\"id\":2137295719,\"predicate\":\"searchResultPosition\",\"params\":[{\"name\":\"msg_id\",\"type\":\"int\"},{\"name\":\"date\",\"type\":\"int\"},{\"name\":\"offset\",\"type\":\"int\"}],\"type\":\"SearchResultsPosition\"},{\"id\":1404185519,\"predicate\":\"messages.searchResultsPositions\",\"params\":[{\"name\":\"count\",\"type\":\"int\"},{\"name\":\"positions\",\"type\":\"Vector<SearchResultsPosition>\"}],\"type\":\"messages.SearchResultsPositions\"},{\"id\":-339958837,\"predicate\":\"messageActionChatJoinedByRequest\",\"params\":[],\"type\":\"MessageAction\"},{\"id\":1885586395,\"predicate\":\"updatePendingJoinRequests\",\"params\":[{\"name\":\"peer\",\"type\":\"Peer\"},{\"name\":\"requests_pending\",\"type\":\"int\"},{\"name\":\"recent_requesters\",\"type\":\"Vector<long>\"}],\"type\":\"Update\"},{\"id\":299870598,\"predicate\":\"updateBotChatInviteRequester\",\"params\":[{\"name\":\"peer\",\"type\":\"Peer\"},{\"name\":\"date\",\"type\":\"int\"},{\"name\":\"user_id\",\"type\":\"long\"},{\"name\":\"about\",\"type\":\"string\"},{\"name\":\"invite\",\"type\":\"ExportedChatInvite\"},{\"name\":\"qts\",\"type\":\"int\"}],\"type\":\"Update\"},{\"id\":-1347021750,\"predicate\":\"channelAdminLogEventActionParticipantJoinByRequest\",\"params\":[{\"name\":\"invite\",\"type\":\"ExportedChatInvite\"},{\"name\":\"approved_by\",\"type\":\"long\"}],\"type\":\"ChannelAdminLogEventAction\"},{\"id\":-376962181,\"predicate\":\"inputKeyboardButtonUserProfile\",\"params\":[{\"name\":\"text\",\"type\":\"string\"},{\"name\":\"user_id\",\"type\":\"InputUser\"}],\"type\":\"KeyboardButton\"},{\"id\":814112961,\"predicate\":\"keyboardButtonUserProfile\",\"params\":[{\"name\":\"text\",\"type\":\"string\"},{\"name\":\"user_id\",\"type\":\"long\"}],\"type\":\"KeyboardButton\"},{\"id\":-2091463255,\"predicate\":\"channels.sendAsPeers\",\"params\":[{\"name\":\"peers\",\"type\":\"Vector<Peer>\"},{\"name\":\"chats\",\"type\":\"Vector<Chat>\"},{\"name\":\"users\",\"type\":\"Vector<User>\"}],\"type\":\"channels.SendAsPeers\"},{\"id\":-886388890,\"predicate\":\"channelAdminLogEventActionToggleNoForwards\",\"params\":[{\"name\":\"new_value\",\"type\":\"Bool\"}],\"type\":\"ChannelAdminLogEventAction\"},{\"id\":-738646805,\"predicate\":\"messages.stickerSetNotModified\",\"params\":[],\"type\":\"messages.StickerSet\"},{\"id\":997004590,\"predicate\":\"users.userFull\",\"params\":[{\"name\":\"full_user\",\"type\":\"UserFull\"},{\"name\":\"chats\",\"type\":\"Vector<Chat>\"},{\"name\":\"users\",\"type\":\"Vector<User>\"}],\"type\":\"users.UserFull\"},{\"id\":1753266509,\"predicate\":\"messages.peerSettings\",\"params\":[{\"name\":\"settings\",\"type\":\"PeerSettings\"},{\"name\":\"chats\",\"type\":\"Vector<Chat>\"},{\"name\":\"users\",\"type\":\"Vector<User>\"}],\"type\":\"messages.PeerSettings\"},{\"id\":663693416,\"predicate\":\"channelAdminLogEventActionSendMessage\",\"params\":[{\"name\":\"message\",\"type\":\"Message\"}],\"type\":\"ChannelAdminLogEventAction\"},{\"id\":-702884114,\"predicate\":\"auth.codeTypeMissedCall\",\"params\":[],\"type\":\"auth.CodeType\"},{\"id\":-2113903484,\"predicate\":\"auth.sentCodeTypeMissedCall\",\"params\":[{\"name\":\"prefix\",\"type\":\"string\"},{\"name\":\"length\",\"type\":\"int\"}],\"type\":\"auth.SentCodeType\"},{\"id\":-1012759713,\"predicate\":\"auth.loggedOut\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"future_auth_token\",\"type\":\"flags.0?bytes\"}],\"type\":\"auth.LoggedOut\"},{\"id\":357013699,\"predicate\":\"updateMessageReactions\",\"params\":[{\"name\":\"peer\",\"type\":\"Peer\"},{\"name\":\"msg_id\",\"type\":\"int\"},{\"name\":\"reactions\",\"type\":\"MessageReactions\"}],\"type\":\"Update\"},{\"id\":1873957073,\"predicate\":\"reactionCount\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"chosen\",\"type\":\"flags.0?true\"},{\"name\":\"reaction\",\"type\":\"string\"},{\"name\":\"count\",\"type\":\"int\"}],\"type\":\"ReactionCount\"},{\"id\":1328256121,\"predicate\":\"messageReactions\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"min\",\"type\":\"flags.0?true\"},{\"name\":\"can_see_list\",\"type\":\"flags.2?true\"},{\"name\":\"results\",\"type\":\"Vector<ReactionCount>\"},{\"name\":\"recent_reactions\",\"type\":\"flags.1?Vector<MessagePeerReaction>\"}],\"type\":\"MessageReactions\"},{\"id\":834488621,\"predicate\":\"messages.messageReactionsList\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"count\",\"type\":\"int\"},{\"name\":\"reactions\",\"type\":\"Vector<MessagePeerReaction>\"},{\"name\":\"chats\",\"type\":\"Vector<Chat>\"},{\"name\":\"users\",\"type\":\"Vector<User>\"},{\"name\":\"next_offset\",\"type\":\"flags.0?string\"}],\"type\":\"messages.MessageReactionsList\"},{\"id\":-1065882623,\"predicate\":\"availableReaction\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"inactive\",\"type\":\"flags.0?true\"},{\"name\":\"reaction\",\"type\":\"string\"},{\"name\":\"title\",\"type\":\"string\"},{\"name\":\"static_icon\",\"type\":\"Document\"},{\"name\":\"appear_animation\",\"type\":\"Document\"},{\"name\":\"select_animation\",\"type\":\"Document\"},{\"name\":\"activate_animation\",\"type\":\"Document\"},{\"name\":\"effect_animation\",\"type\":\"Document\"},{\"name\":\"around_animation\",\"type\":\"flags.1?Document\"},{\"name\":\"center_icon\",\"type\":\"flags.1?Document\"}],\"type\":\"AvailableReaction\"},{\"id\":-1626924713,\"predicate\":\"messages.availableReactionsNotModified\",\"params\":[],\"type\":\"messages.AvailableReactions\"},{\"id\":1989032621,\"predicate\":\"messages.availableReactions\",\"params\":[{\"name\":\"hash\",\"type\":\"int\"},{\"name\":\"reactions\",\"type\":\"Vector<AvailableReaction>\"}],\"type\":\"messages.AvailableReactions\"},{\"id\":852137487,\"predicate\":\"messageEntitySpoiler\",\"params\":[{\"name\":\"offset\",\"type\":\"int\"},{\"name\":\"length\",\"type\":\"int\"}],\"type\":\"MessageEntity\"},{\"id\":-1661470870,\"predicate\":\"channelAdminLogEventActionChangeAvailableReactions\",\"params\":[{\"name\":\"prev_value\",\"type\":\"Vector<string>\"},{\"name\":\"new_value\",\"type\":\"Vector<string>\"}],\"type\":\"ChannelAdminLogEventAction\"},{\"id\":1741309751,\"predicate\":\"messages.translateNoResult\",\"params\":[],\"type\":\"messages.TranslatedText\"},{\"id\":-1575684144,\"predicate\":\"messages.translateResultText\",\"params\":[{\"name\":\"text\",\"type\":\"string\"}],\"type\":\"messages.TranslatedText\"},{\"id\":1370914559,\"predicate\":\"messagePeerReaction\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"big\",\"type\":\"flags.0?true\"},{\"name\":\"unread\",\"type\":\"flags.1?true\"},{\"name\":\"peer_id\",\"type\":\"Peer\"},{\"name\":\"reaction\",\"type\":\"string\"}],\"type\":\"MessagePeerReaction\"},{\"id\":-2132064081,\"predicate\":\"groupCallStreamChannel\",\"params\":[{\"name\":\"channel\",\"type\":\"int\"},{\"name\":\"scale\",\"type\":\"int\"},{\"name\":\"last_timestamp_ms\",\"type\":\"long\"}],\"type\":\"GroupCallStreamChannel\"},{\"id\":-790330702,\"predicate\":\"phone.groupCallStreamChannels\",\"params\":[{\"name\":\"channels\",\"type\":\"Vector<GroupCallStreamChannel>\"}],\"type\":\"phone.GroupCallStreamChannels\"},{\"id\":177124030,\"predicate\":\"inputReportReasonIllegalDrugs\",\"params\":[],\"type\":\"ReportReason\"},{\"id\":-1631091139,\"predicate\":\"inputReportReasonPersonalDetails\",\"params\":[],\"type\":\"ReportReason\"},{\"id\":767505458,\"predicate\":\"phone.groupCallStreamRtmpUrl\",\"params\":[{\"name\":\"url\",\"type\":\"string\"},{\"name\":\"key\",\"type\":\"string\"}],\"type\":\"phone.GroupCallStreamRtmpUrl\"},{\"id\":1165423600,\"predicate\":\"attachMenuBotIconColor\",\"params\":[{\"name\":\"name\",\"type\":\"string\"},{\"name\":\"color\",\"type\":\"int\"}],\"type\":\"AttachMenuBotIconColor\"},{\"id\":-1297663893,\"predicate\":\"attachMenuBotIcon\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"name\",\"type\":\"string\"},{\"name\":\"icon\",\"type\":\"Document\"},{\"name\":\"colors\",\"type\":\"flags.0?Vector<AttachMenuBotIconColor>\"}],\"type\":\"AttachMenuBotIcon\"},{\"id\":-381896846,\"predicate\":\"attachMenuBot\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"inactive\",\"type\":\"flags.0?true\"},{\"name\":\"bot_id\",\"type\":\"long\"},{\"name\":\"short_name\",\"type\":\"string\"},{\"name\":\"icons\",\"type\":\"Vector<AttachMenuBotIcon>\"}],\"type\":\"AttachMenuBot\"},{\"id\":-237467044,\"predicate\":\"attachMenuBotsNotModified\",\"params\":[],\"type\":\"AttachMenuBots\"},{\"id\":1011024320,\"predicate\":\"attachMenuBots\",\"params\":[{\"name\":\"hash\",\"type\":\"long\"},{\"name\":\"bots\",\"type\":\"Vector<AttachMenuBot>\"},{\"name\":\"users\",\"type\":\"Vector<User>\"}],\"type\":\"AttachMenuBots\"},{\"id\":-1816172929,\"predicate\":\"attachMenuBotsBot\",\"params\":[{\"name\":\"bot\",\"type\":\"AttachMenuBot\"},{\"name\":\"users\",\"type\":\"Vector<User>\"}],\"type\":\"AttachMenuBotsBot\"},{\"id\":397910539,\"predicate\":\"updateAttachMenuBots\",\"params\":[],\"type\":\"Update\"},{\"id\":202659196,\"predicate\":\"webViewResultUrl\",\"params\":[{\"name\":\"query_id\",\"type\":\"long\"},{\"name\":\"url\",\"type\":\"string\"}],\"type\":\"WebViewResult\"},{\"id\":-2010155333,\"predicate\":\"simpleWebViewResultUrl\",\"params\":[{\"name\":\"url\",\"type\":\"string\"}],\"type\":\"SimpleWebViewResult\"},{\"id\":211046684,\"predicate\":\"webViewMessageSent\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"msg_id\",\"type\":\"flags.0?InputBotInlineMessageID\"}],\"type\":\"WebViewMessageSent\"},{\"id\":361936797,\"predicate\":\"updateWebViewResultSent\",\"params\":[{\"name\":\"query_id\",\"type\":\"long\"}],\"type\":\"Update\"},{\"id\":326529584,\"predicate\":\"keyboardButtonWebView\",\"params\":[{\"name\":\"text\",\"type\":\"string\"},{\"name\":\"url\",\"type\":\"string\"}],\"type\":\"KeyboardButton\"},{\"id\":-1598009252,\"predicate\":\"keyboardButtonSimpleWebView\",\"params\":[{\"name\":\"text\",\"type\":\"string\"},{\"name\":\"url\",\"type\":\"string\"}],\"type\":\"KeyboardButton\"},{\"id\":1205698681,\"predicate\":\"messageActionWebViewDataSentMe\",\"params\":[{\"name\":\"text\",\"type\":\"string\"},{\"name\":\"data\",\"type\":\"string\"}],\"type\":\"MessageAction\"},{\"id\":-1262252875,\"predicate\":\"messageActionWebViewDataSent\",\"params\":[{\"name\":\"text\",\"type\":\"string\"}],\"type\":\"MessageAction\"},{\"id\":347625491,\"predicate\":\"updateBotMenuButton\",\"params\":[{\"name\":\"bot_id\",\"type\":\"long\"},{\"name\":\"button\",\"type\":\"BotMenuButton\"}],\"type\":\"Update\"},{\"id\":1966318984,\"predicate\":\"botMenuButtonDefault\",\"params\":[],\"type\":\"BotMenuButton\"},{\"id\":1113113093,\"predicate\":\"botMenuButtonCommands\",\"params\":[],\"type\":\"BotMenuButton\"},{\"id\":-944407322,\"predicate\":\"botMenuButton\",\"params\":[{\"name\":\"text\",\"type\":\"string\"},{\"name\":\"url\",\"type\":\"string\"}],\"type\":\"BotMenuButton\"},{\"id\":-67704655,\"predicate\":\"account.savedRingtonesNotModified\",\"params\":[],\"type\":\"account.SavedRingtones\"},{\"id\":-1041683259,\"predicate\":\"account.savedRingtones\",\"params\":[{\"name\":\"hash\",\"type\":\"long\"},{\"name\":\"ringtones\",\"type\":\"Vector<Document>\"}],\"type\":\"account.SavedRingtones\"},{\"id\":1960361625,\"predicate\":\"updateSavedRingtones\",\"params\":[],\"type\":\"Update\"},{\"id\":-1746354498,\"predicate\":\"notificationSoundDefault\",\"params\":[],\"type\":\"NotificationSound\"},{\"id\":1863070943,\"predicate\":\"notificationSoundNone\",\"params\":[],\"type\":\"NotificationSound\"},{\"id\":-2096391452,\"predicate\":\"notificationSoundLocal\",\"params\":[{\"name\":\"title\",\"type\":\"string\"},{\"name\":\"data\",\"type\":\"string\"}],\"type\":\"NotificationSound\"},{\"id\":-9666487,\"predicate\":\"notificationSoundRingtone\",\"params\":[{\"name\":\"id\",\"type\":\"long\"}],\"type\":\"NotificationSound\"},{\"id\":-1222230163,\"predicate\":\"account.savedRingtone\",\"params\":[],\"type\":\"account.SavedRingtone\"},{\"id\":523271863,\"predicate\":\"account.savedRingtoneConverted\",\"params\":[{\"name\":\"document\",\"type\":\"Document\"}],\"type\":\"account.SavedRingtone\"}],\"methods\":[{\"id\":-878758099,\"method\":\"invokeAfterMsg\",\"params\":[{\"name\":\"msg_id\",\"type\":\"long\"},{\"name\":\"query\",\"type\":\"!X\"}],\"type\":\"X\"},{\"id\":1036301552,\"method\":\"invokeAfterMsgs\",\"params\":[{\"name\":\"msg_ids\",\"type\":\"Vector<long>\"},{\"name\":\"query\",\"type\":\"!X\"}],\"type\":\"X\"},{\"id\":-1502141361,\"method\":\"auth.sendCode\",\"params\":[{\"name\":\"phone_number\",\"type\":\"string\"},{\"name\":\"api_id\",\"type\":\"int\"},{\"name\":\"api_hash\",\"type\":\"string\"},{\"name\":\"settings\",\"type\":\"CodeSettings\"}],\"type\":\"auth.SentCode\"},{\"id\":-2131827673,\"method\":\"auth.signUp\",\"params\":[{\"name\":\"phone_number\",\"type\":\"string\"},{\"name\":\"phone_code_hash\",\"type\":\"string\"},{\"name\":\"first_name\",\"type\":\"string\"},{\"name\":\"last_name\",\"type\":\"string\"}],\"type\":\"auth.Authorization\"},{\"id\":-1126886015,\"method\":\"auth.signIn\",\"params\":[{\"name\":\"phone_number\",\"type\":\"string\"},{\"name\":\"phone_code_hash\",\"type\":\"string\"},{\"name\":\"phone_code\",\"type\":\"string\"}],\"type\":\"auth.Authorization\"},{\"id\":1047706137,\"method\":\"auth.logOut\",\"params\":[],\"type\":\"auth.LoggedOut\"},{\"id\":-1616179942,\"method\":\"auth.resetAuthorizations\",\"params\":[],\"type\":\"Bool\"},{\"id\":-440401971,\"method\":\"auth.exportAuthorization\",\"params\":[{\"name\":\"dc_id\",\"type\":\"int\"}],\"type\":\"auth.ExportedAuthorization\"},{\"id\":-1518699091,\"method\":\"auth.importAuthorization\",\"params\":[{\"name\":\"id\",\"type\":\"long\"},{\"name\":\"bytes\",\"type\":\"bytes\"}],\"type\":\"auth.Authorization\"},{\"id\":-841733627,\"method\":\"auth.bindTempAuthKey\",\"params\":[{\"name\":\"perm_auth_key_id\",\"type\":\"long\"},{\"name\":\"nonce\",\"type\":\"long\"},{\"name\":\"expires_at\",\"type\":\"int\"},{\"name\":\"encrypted_message\",\"type\":\"bytes\"}],\"type\":\"Bool\"},{\"id\":-326762118,\"method\":\"account.registerDevice\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"no_muted\",\"type\":\"flags.0?true\"},{\"name\":\"token_type\",\"type\":\"int\"},{\"name\":\"token\",\"type\":\"string\"},{\"name\":\"app_sandbox\",\"type\":\"Bool\"},{\"name\":\"secret\",\"type\":\"bytes\"},{\"name\":\"other_uids\",\"type\":\"Vector<long>\"}],\"type\":\"Bool\"},{\"id\":1779249670,\"method\":\"account.unregisterDevice\",\"params\":[{\"name\":\"token_type\",\"type\":\"int\"},{\"name\":\"token\",\"type\":\"string\"},{\"name\":\"other_uids\",\"type\":\"Vector<long>\"}],\"type\":\"Bool\"},{\"id\":-2067899501,\"method\":\"account.updateNotifySettings\",\"params\":[{\"name\":\"peer\",\"type\":\"InputNotifyPeer\"},{\"name\":\"settings\",\"type\":\"InputPeerNotifySettings\"}],\"type\":\"Bool\"},{\"id\":313765169,\"method\":\"account.getNotifySettings\",\"params\":[{\"name\":\"peer\",\"type\":\"InputNotifyPeer\"}],\"type\":\"PeerNotifySettings\"},{\"id\":-612493497,\"method\":\"account.resetNotifySettings\",\"params\":[],\"type\":\"Bool\"},{\"id\":2018596725,\"method\":\"account.updateProfile\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"first_name\",\"type\":\"flags.0?string\"},{\"name\":\"last_name\",\"type\":\"flags.1?string\"},{\"name\":\"about\",\"type\":\"flags.2?string\"}],\"type\":\"User\"},{\"id\":1713919532,\"method\":\"account.updateStatus\",\"params\":[{\"name\":\"offline\",\"type\":\"Bool\"}],\"type\":\"Bool\"},{\"id\":127302966,\"method\":\"account.getWallPapers\",\"params\":[{\"name\":\"hash\",\"type\":\"long\"}],\"type\":\"account.WallPapers\"},{\"id\":-977650298,\"method\":\"account.reportPeer\",\"params\":[{\"name\":\"peer\",\"type\":\"InputPeer\"},{\"name\":\"reason\",\"type\":\"ReportReason\"},{\"name\":\"message\",\"type\":\"string\"}],\"type\":\"Bool\"},{\"id\":227648840,\"method\":\"users.getUsers\",\"params\":[{\"name\":\"id\",\"type\":\"Vector<InputUser>\"}],\"type\":\"Vector<User>\"},{\"id\":-1240508136,\"method\":\"users.getFullUser\",\"params\":[{\"name\":\"id\",\"type\":\"InputUser\"}],\"type\":\"users.UserFull\"},{\"id\":2061264541,\"method\":\"contacts.getContactIDs\",\"params\":[{\"name\":\"hash\",\"type\":\"long\"}],\"type\":\"Vector<int>\"},{\"id\":-995929106,\"method\":\"contacts.getStatuses\",\"params\":[],\"type\":\"Vector<ContactStatus>\"},{\"id\":1574346258,\"method\":\"contacts.getContacts\",\"params\":[{\"name\":\"hash\",\"type\":\"long\"}],\"type\":\"contacts.Contacts\"},{\"id\":746589157,\"method\":\"contacts.importContacts\",\"params\":[{\"name\":\"contacts\",\"type\":\"Vector<InputContact>\"}],\"type\":\"contacts.ImportedContacts\"},{\"id\":157945344,\"method\":\"contacts.deleteContacts\",\"params\":[{\"name\":\"id\",\"type\":\"Vector<InputUser>\"}],\"type\":\"Updates\"},{\"id\":269745566,\"method\":\"contacts.deleteByPhones\",\"params\":[{\"name\":\"phones\",\"type\":\"Vector<string>\"}],\"type\":\"Bool\"},{\"id\":1758204945,\"method\":\"contacts.block\",\"params\":[{\"name\":\"id\",\"type\":\"InputPeer\"}],\"type\":\"Bool\"},{\"id\":-1096393392,\"method\":\"contacts.unblock\",\"params\":[{\"name\":\"id\",\"type\":\"InputPeer\"}],\"type\":\"Bool\"},{\"id\":-176409329,\"method\":\"contacts.getBlocked\",\"params\":[{\"name\":\"offset\",\"type\":\"int\"},{\"name\":\"limit\",\"type\":\"int\"}],\"type\":\"contacts.Blocked\"},{\"id\":1673946374,\"method\":\"messages.getMessages\",\"params\":[{\"name\":\"id\",\"type\":\"Vector<InputMessage>\"}],\"type\":\"messages.Messages\"},{\"id\":-1594569905,\"method\":\"messages.getDialogs\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"exclude_pinned\",\"type\":\"flags.0?true\"},{\"name\":\"folder_id\",\"type\":\"flags.1?int\"},{\"name\":\"offset_date\",\"type\":\"int\"},{\"name\":\"offset_id\",\"type\":\"int\"},{\"name\":\"offset_peer\",\"type\":\"InputPeer\"},{\"name\":\"limit\",\"type\":\"int\"},{\"name\":\"hash\",\"type\":\"long\"}],\"type\":\"messages.Dialogs\"},{\"id\":1143203525,\"method\":\"messages.getHistory\",\"params\":[{\"name\":\"peer\",\"type\":\"InputPeer\"},{\"name\":\"offset_id\",\"type\":\"int\"},{\"name\":\"offset_date\",\"type\":\"int\"},{\"name\":\"add_offset\",\"type\":\"int\"},{\"name\":\"limit\",\"type\":\"int\"},{\"name\":\"max_id\",\"type\":\"int\"},{\"name\":\"min_id\",\"type\":\"int\"},{\"name\":\"hash\",\"type\":\"long\"}],\"type\":\"messages.Messages\"},{\"id\":-1593989278,\"method\":\"messages.search\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"peer\",\"type\":\"InputPeer\"},{\"name\":\"q\",\"type\":\"string\"},{\"name\":\"from_id\",\"type\":\"flags.0?InputPeer\"},{\"name\":\"top_msg_id\",\"type\":\"flags.1?int\"},{\"name\":\"filter\",\"type\":\"MessagesFilter\"},{\"name\":\"min_date\",\"type\":\"int\"},{\"name\":\"max_date\",\"type\":\"int\"},{\"name\":\"offset_id\",\"type\":\"int\"},{\"name\":\"add_offset\",\"type\":\"int\"},{\"name\":\"limit\",\"type\":\"int\"},{\"name\":\"max_id\",\"type\":\"int\"},{\"name\":\"min_id\",\"type\":\"int\"},{\"name\":\"hash\",\"type\":\"long\"}],\"type\":\"messages.Messages\"},{\"id\":238054714,\"method\":\"messages.readHistory\",\"params\":[{\"name\":\"peer\",\"type\":\"InputPeer\"},{\"name\":\"max_id\",\"type\":\"int\"}],\"type\":\"messages.AffectedMessages\"},{\"id\":-1332768214,\"method\":\"messages.deleteHistory\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"just_clear\",\"type\":\"flags.0?true\"},{\"name\":\"revoke\",\"type\":\"flags.1?true\"},{\"name\":\"peer\",\"type\":\"InputPeer\"},{\"name\":\"max_id\",\"type\":\"int\"},{\"name\":\"min_date\",\"type\":\"flags.2?int\"},{\"name\":\"max_date\",\"type\":\"flags.3?int\"}],\"type\":\"messages.AffectedHistory\"},{\"id\":-443640366,\"method\":\"messages.deleteMessages\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"revoke\",\"type\":\"flags.0?true\"},{\"name\":\"id\",\"type\":\"Vector<int>\"}],\"type\":\"messages.AffectedMessages\"},{\"id\":94983360,\"method\":\"messages.receivedMessages\",\"params\":[{\"name\":\"max_id\",\"type\":\"int\"}],\"type\":\"Vector<ReceivedNotifyMessage>\"},{\"id\":1486110434,\"method\":\"messages.setTyping\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"peer\",\"type\":\"InputPeer\"},{\"name\":\"top_msg_id\",\"type\":\"flags.0?int\"},{\"name\":\"action\",\"type\":\"SendMessageAction\"}],\"type\":\"Bool\"},{\"id\":228423076,\"method\":\"messages.sendMessage\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"no_webpage\",\"type\":\"flags.1?true\"},{\"name\":\"silent\",\"type\":\"flags.5?true\"},{\"name\":\"background\",\"type\":\"flags.6?true\"},{\"name\":\"clear_draft\",\"type\":\"flags.7?true\"},{\"name\":\"noforwards\",\"type\":\"flags.14?true\"},{\"name\":\"peer\",\"type\":\"InputPeer\"},{\"name\":\"reply_to_msg_id\",\"type\":\"flags.0?int\"},{\"name\":\"message\",\"type\":\"string\"},{\"name\":\"random_id\",\"type\":\"long\"},{\"name\":\"reply_markup\",\"type\":\"flags.2?ReplyMarkup\"},{\"name\":\"entities\",\"type\":\"flags.3?Vector<MessageEntity>\"},{\"name\":\"schedule_date\",\"type\":\"flags.10?int\"},{\"name\":\"send_as\",\"type\":\"flags.13?InputPeer\"}],\"type\":\"Updates\"},{\"id\":-497026848,\"method\":\"messages.sendMedia\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"silent\",\"type\":\"flags.5?true\"},{\"name\":\"background\",\"type\":\"flags.6?true\"},{\"name\":\"clear_draft\",\"type\":\"flags.7?true\"},{\"name\":\"noforwards\",\"type\":\"flags.14?true\"},{\"name\":\"peer\",\"type\":\"InputPeer\"},{\"name\":\"reply_to_msg_id\",\"type\":\"flags.0?int\"},{\"name\":\"media\",\"type\":\"InputMedia\"},{\"name\":\"message\",\"type\":\"string\"},{\"name\":\"random_id\",\"type\":\"long\"},{\"name\":\"reply_markup\",\"type\":\"flags.2?ReplyMarkup\"},{\"name\":\"entities\",\"type\":\"flags.3?Vector<MessageEntity>\"},{\"name\":\"schedule_date\",\"type\":\"flags.10?int\"},{\"name\":\"send_as\",\"type\":\"flags.13?InputPeer\"}],\"type\":\"Updates\"},{\"id\":-869258997,\"method\":\"messages.forwardMessages\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"silent\",\"type\":\"flags.5?true\"},{\"name\":\"background\",\"type\":\"flags.6?true\"},{\"name\":\"with_my_score\",\"type\":\"flags.8?true\"},{\"name\":\"drop_author\",\"type\":\"flags.11?true\"},{\"name\":\"drop_media_captions\",\"type\":\"flags.12?true\"},{\"name\":\"noforwards\",\"type\":\"flags.14?true\"},{\"name\":\"from_peer\",\"type\":\"InputPeer\"},{\"name\":\"id\",\"type\":\"Vector<int>\"},{\"name\":\"random_id\",\"type\":\"Vector<long>\"},{\"name\":\"to_peer\",\"type\":\"InputPeer\"},{\"name\":\"schedule_date\",\"type\":\"flags.10?int\"},{\"name\":\"send_as\",\"type\":\"flags.13?InputPeer\"}],\"type\":\"Updates\"},{\"id\":-820669733,\"method\":\"messages.reportSpam\",\"params\":[{\"name\":\"peer\",\"type\":\"InputPeer\"}],\"type\":\"Bool\"},{\"id\":-270948702,\"method\":\"messages.getPeerSettings\",\"params\":[{\"name\":\"peer\",\"type\":\"InputPeer\"}],\"type\":\"messages.PeerSettings\"},{\"id\":-1991005362,\"method\":\"messages.report\",\"params\":[{\"name\":\"peer\",\"type\":\"InputPeer\"},{\"name\":\"id\",\"type\":\"Vector<int>\"},{\"name\":\"reason\",\"type\":\"ReportReason\"},{\"name\":\"message\",\"type\":\"string\"}],\"type\":\"Bool\"},{\"id\":1240027791,\"method\":\"messages.getChats\",\"params\":[{\"name\":\"id\",\"type\":\"Vector<long>\"}],\"type\":\"messages.Chats\"},{\"id\":-1364194508,\"method\":\"messages.getFullChat\",\"params\":[{\"name\":\"chat_id\",\"type\":\"long\"}],\"type\":\"messages.ChatFull\"},{\"id\":1937260541,\"method\":\"messages.editChatTitle\",\"params\":[{\"name\":\"chat_id\",\"type\":\"long\"},{\"name\":\"title\",\"type\":\"string\"}],\"type\":\"Updates\"},{\"id\":903730804,\"method\":\"messages.editChatPhoto\",\"params\":[{\"name\":\"chat_id\",\"type\":\"long\"},{\"name\":\"photo\",\"type\":\"InputChatPhoto\"}],\"type\":\"Updates\"},{\"id\":-230206493,\"method\":\"messages.addChatUser\",\"params\":[{\"name\":\"chat_id\",\"type\":\"long\"},{\"name\":\"user_id\",\"type\":\"InputUser\"},{\"name\":\"fwd_limit\",\"type\":\"int\"}],\"type\":\"Updates\"},{\"id\":-1575461717,\"method\":\"messages.deleteChatUser\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"revoke_history\",\"type\":\"flags.0?true\"},{\"name\":\"chat_id\",\"type\":\"long\"},{\"name\":\"user_id\",\"type\":\"InputUser\"}],\"type\":\"Updates\"},{\"id\":164303470,\"method\":\"messages.createChat\",\"params\":[{\"name\":\"users\",\"type\":\"Vector<InputUser>\"},{\"name\":\"title\",\"type\":\"string\"}],\"type\":\"Updates\"},{\"id\":-304838614,\"method\":\"updates.getState\",\"params\":[],\"type\":\"updates.State\"},{\"id\":630429265,\"method\":\"updates.getDifference\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"pts\",\"type\":\"int\"},{\"name\":\"pts_total_limit\",\"type\":\"flags.0?int\"},{\"name\":\"date\",\"type\":\"int\"},{\"name\":\"qts\",\"type\":\"int\"}],\"type\":\"updates.Difference\"},{\"id\":1926525996,\"method\":\"photos.updateProfilePhoto\",\"params\":[{\"name\":\"id\",\"type\":\"InputPhoto\"}],\"type\":\"photos.Photo\"},{\"id\":-1980559511,\"method\":\"photos.uploadProfilePhoto\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"file\",\"type\":\"flags.0?InputFile\"},{\"name\":\"video\",\"type\":\"flags.1?InputFile\"},{\"name\":\"video_start_ts\",\"type\":\"flags.2?double\"}],\"type\":\"photos.Photo\"},{\"id\":-2016444625,\"method\":\"photos.deletePhotos\",\"params\":[{\"name\":\"id\",\"type\":\"Vector<InputPhoto>\"}],\"type\":\"Vector<long>\"},{\"id\":-1291540959,\"method\":\"upload.saveFilePart\",\"params\":[{\"name\":\"file_id\",\"type\":\"long\"},{\"name\":\"file_part\",\"type\":\"int\"},{\"name\":\"bytes\",\"type\":\"bytes\"}],\"type\":\"Bool\"},{\"id\":-1319462148,\"method\":\"upload.getFile\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"precise\",\"type\":\"flags.0?true\"},{\"name\":\"cdn_supported\",\"type\":\"flags.1?true\"},{\"name\":\"location\",\"type\":\"InputFileLocation\"},{\"name\":\"offset\",\"type\":\"int\"},{\"name\":\"limit\",\"type\":\"int\"}],\"type\":\"upload.File\"},{\"id\":-990308245,\"method\":\"help.getConfig\",\"params\":[],\"type\":\"Config\"},{\"id\":531836966,\"method\":\"help.getNearestDc\",\"params\":[],\"type\":\"NearestDc\"},{\"id\":1378703997,\"method\":\"help.getAppUpdate\",\"params\":[{\"name\":\"source\",\"type\":\"string\"}],\"type\":\"help.AppUpdate\"},{\"id\":1295590211,\"method\":\"help.getInviteText\",\"params\":[],\"type\":\"help.InviteText\"},{\"id\":-1848823128,\"method\":\"photos.getUserPhotos\",\"params\":[{\"name\":\"user_id\",\"type\":\"InputUser\"},{\"name\":\"offset\",\"type\":\"int\"},{\"name\":\"max_id\",\"type\":\"long\"},{\"name\":\"limit\",\"type\":\"int\"}],\"type\":\"photos.Photos\"},{\"id\":651135312,\"method\":\"messages.getDhConfig\",\"params\":[{\"name\":\"version\",\"type\":\"int\"},{\"name\":\"random_length\",\"type\":\"int\"}],\"type\":\"messages.DhConfig\"},{\"id\":-162681021,\"method\":\"messages.requestEncryption\",\"params\":[{\"name\":\"user_id\",\"type\":\"InputUser\"},{\"name\":\"random_id\",\"type\":\"int\"},{\"name\":\"g_a\",\"type\":\"bytes\"}],\"type\":\"EncryptedChat\"},{\"id\":1035731989,\"method\":\"messages.acceptEncryption\",\"params\":[{\"name\":\"peer\",\"type\":\"InputEncryptedChat\"},{\"name\":\"g_b\",\"type\":\"bytes\"},{\"name\":\"key_fingerprint\",\"type\":\"long\"}],\"type\":\"EncryptedChat\"},{\"id\":-208425312,\"method\":\"messages.discardEncryption\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"delete_history\",\"type\":\"flags.0?true\"},{\"name\":\"chat_id\",\"type\":\"int\"}],\"type\":\"Bool\"},{\"id\":2031374829,\"method\":\"messages.setEncryptedTyping\",\"params\":[{\"name\":\"peer\",\"type\":\"InputEncryptedChat\"},{\"name\":\"typing\",\"type\":\"Bool\"}],\"type\":\"Bool\"},{\"id\":2135648522,\"method\":\"messages.readEncryptedHistory\",\"params\":[{\"name\":\"peer\",\"type\":\"InputEncryptedChat\"},{\"name\":\"max_date\",\"type\":\"int\"}],\"type\":\"Bool\"},{\"id\":1157265941,\"method\":\"messages.sendEncrypted\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"silent\",\"type\":\"flags.0?true\"},{\"name\":\"peer\",\"type\":\"InputEncryptedChat\"},{\"name\":\"random_id\",\"type\":\"long\"},{\"name\":\"data\",\"type\":\"bytes\"}],\"type\":\"messages.SentEncryptedMessage\"},{\"id\":1431914525,\"method\":\"messages.sendEncryptedFile\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"silent\",\"type\":\"flags.0?true\"},{\"name\":\"peer\",\"type\":\"InputEncryptedChat\"},{\"name\":\"random_id\",\"type\":\"long\"},{\"name\":\"data\",\"type\":\"bytes\"},{\"name\":\"file\",\"type\":\"InputEncryptedFile\"}],\"type\":\"messages.SentEncryptedMessage\"},{\"id\":852769188,\"method\":\"messages.sendEncryptedService\",\"params\":[{\"name\":\"peer\",\"type\":\"InputEncryptedChat\"},{\"name\":\"random_id\",\"type\":\"long\"},{\"name\":\"data\",\"type\":\"bytes\"}],\"type\":\"messages.SentEncryptedMessage\"},{\"id\":1436924774,\"method\":\"messages.receivedQueue\",\"params\":[{\"name\":\"max_qts\",\"type\":\"int\"}],\"type\":\"Vector<long>\"},{\"id\":1259113487,\"method\":\"messages.reportEncryptedSpam\",\"params\":[{\"name\":\"peer\",\"type\":\"InputEncryptedChat\"}],\"type\":\"Bool\"},{\"id\":-562337987,\"method\":\"upload.saveBigFilePart\",\"params\":[{\"name\":\"file_id\",\"type\":\"long\"},{\"name\":\"file_part\",\"type\":\"int\"},{\"name\":\"file_total_parts\",\"type\":\"int\"},{\"name\":\"bytes\",\"type\":\"bytes\"}],\"type\":\"Bool\"},{\"id\":-1043505495,\"method\":\"initConnection\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"api_id\",\"type\":\"int\"},{\"name\":\"device_model\",\"type\":\"string\"},{\"name\":\"system_version\",\"type\":\"string\"},{\"name\":\"app_version\",\"type\":\"string\"},{\"name\":\"system_lang_code\",\"type\":\"string\"},{\"name\":\"lang_pack\",\"type\":\"string\"},{\"name\":\"lang_code\",\"type\":\"string\"},{\"name\":\"proxy\",\"type\":\"flags.0?InputClientProxy\"},{\"name\":\"params\",\"type\":\"flags.1?JSONValue\"},{\"name\":\"query\",\"type\":\"!X\"}],\"type\":\"X\"},{\"id\":-1663104819,\"method\":\"help.getSupport\",\"params\":[],\"type\":\"help.Support\"},{\"id\":916930423,\"method\":\"messages.readMessageContents\",\"params\":[{\"name\":\"id\",\"type\":\"Vector<int>\"}],\"type\":\"messages.AffectedMessages\"},{\"id\":655677548,\"method\":\"account.checkUsername\",\"params\":[{\"name\":\"username\",\"type\":\"string\"}],\"type\":\"Bool\"},{\"id\":1040964988,\"method\":\"account.updateUsername\",\"params\":[{\"name\":\"username\",\"type\":\"string\"}],\"type\":\"User\"},{\"id\":301470424,\"method\":\"contacts.search\",\"params\":[{\"name\":\"q\",\"type\":\"string\"},{\"name\":\"limit\",\"type\":\"int\"}],\"type\":\"contacts.Found\"},{\"id\":-623130288,\"method\":\"account.getPrivacy\",\"params\":[{\"name\":\"key\",\"type\":\"InputPrivacyKey\"}],\"type\":\"account.PrivacyRules\"},{\"id\":-906486552,\"method\":\"account.setPrivacy\",\"params\":[{\"name\":\"key\",\"type\":\"InputPrivacyKey\"},{\"name\":\"rules\",\"type\":\"Vector<InputPrivacyRule>\"}],\"type\":\"account.PrivacyRules\"},{\"id\":1099779595,\"method\":\"account.deleteAccount\",\"params\":[{\"name\":\"reason\",\"type\":\"string\"}],\"type\":\"Bool\"},{\"id\":150761757,\"method\":\"account.getAccountTTL\",\"params\":[],\"type\":\"AccountDaysTTL\"},{\"id\":608323678,\"method\":\"account.setAccountTTL\",\"params\":[{\"name\":\"ttl\",\"type\":\"AccountDaysTTL\"}],\"type\":\"Bool\"},{\"id\":-627372787,\"method\":\"invokeWithLayer\",\"params\":[{\"name\":\"layer\",\"type\":\"int\"},{\"name\":\"query\",\"type\":\"!X\"}],\"type\":\"X\"},{\"id\":-113456221,\"method\":\"contacts.resolveUsername\",\"params\":[{\"name\":\"username\",\"type\":\"string\"}],\"type\":\"contacts.ResolvedPeer\"},{\"id\":-2108208411,\"method\":\"account.sendChangePhoneCode\",\"params\":[{\"name\":\"phone_number\",\"type\":\"string\"},{\"name\":\"settings\",\"type\":\"CodeSettings\"}],\"type\":\"auth.SentCode\"},{\"id\":1891839707,\"method\":\"account.changePhone\",\"params\":[{\"name\":\"phone_number\",\"type\":\"string\"},{\"name\":\"phone_code_hash\",\"type\":\"string\"},{\"name\":\"phone_code\",\"type\":\"string\"}],\"type\":\"User\"},{\"id\":-710552671,\"method\":\"messages.getStickers\",\"params\":[{\"name\":\"emoticon\",\"type\":\"string\"},{\"name\":\"hash\",\"type\":\"long\"}],\"type\":\"messages.Stickers\"},{\"id\":-1197432408,\"method\":\"messages.getAllStickers\",\"params\":[{\"name\":\"hash\",\"type\":\"long\"}],\"type\":\"messages.AllStickers\"},{\"id\":954152242,\"method\":\"account.updateDeviceLocked\",\"params\":[{\"name\":\"period\",\"type\":\"int\"}],\"type\":\"Bool\"},{\"id\":1738800940,\"method\":\"auth.importBotAuthorization\",\"params\":[{\"name\":\"flags\",\"type\":\"int\"},{\"name\":\"api_id\",\"type\":\"int\"},{\"name\":\"api_hash\",\"type\":\"string\"},{\"name\":\"bot_auth_token\",\"type\":\"string\"}],\"type\":\"auth.Authorization\"},{\"id\":-1956073268,\"method\":\"messages.getWebPagePreview\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"message\",\"type\":\"string\"},{\"name\":\"entities\",\"type\":\"flags.3?Vector<MessageEntity>\"}],\"type\":\"MessageMedia\"},{\"id\":-484392616,\"method\":\"account.getAuthorizations\",\"params\":[],\"type\":\"account.Authorizations\"},{\"id\":-545786948,\"method\":\"account.resetAuthorization\",\"params\":[{\"name\":\"hash\",\"type\":\"long\"}],\"type\":\"Bool\"},{\"id\":1418342645,\"method\":\"account.getPassword\",\"params\":[],\"type\":\"account.Password\"},{\"id\":-1663767815,\"method\":\"account.getPasswordSettings\",\"params\":[{\"name\":\"password\",\"type\":\"InputCheckPasswordSRP\"}],\"type\":\"account.PasswordSettings\"},{\"id\":-1516564433,\"method\":\"account.updatePasswordSettings\",\"params\":[{\"name\":\"password\",\"type\":\"InputCheckPasswordSRP\"},{\"name\":\"new_settings\",\"type\":\"account.PasswordInputSettings\"}],\"type\":\"Bool\"},{\"id\":-779399914,\"method\":\"auth.checkPassword\",\"params\":[{\"name\":\"password\",\"type\":\"InputCheckPasswordSRP\"}],\"type\":\"auth.Authorization\"},{\"id\":-661144474,\"method\":\"auth.requestPasswordRecovery\",\"params\":[],\"type\":\"auth.PasswordRecovery\"},{\"id\":923364464,\"method\":\"auth.recoverPassword\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"code\",\"type\":\"string\"},{\"name\":\"new_settings\",\"type\":\"flags.0?account.PasswordInputSettings\"}],\"type\":\"auth.Authorization\"},{\"id\":-1080796745,\"method\":\"invokeWithoutUpdates\",\"params\":[{\"name\":\"query\",\"type\":\"!X\"}],\"type\":\"X\"},{\"id\":-1607670315,\"method\":\"messages.exportChatInvite\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"legacy_revoke_permanent\",\"type\":\"flags.2?true\"},{\"name\":\"request_needed\",\"type\":\"flags.3?true\"},{\"name\":\"peer\",\"type\":\"InputPeer\"},{\"name\":\"expire_date\",\"type\":\"flags.0?int\"},{\"name\":\"usage_limit\",\"type\":\"flags.1?int\"},{\"name\":\"title\",\"type\":\"flags.4?string\"}],\"type\":\"ExportedChatInvite\"},{\"id\":1051570619,\"method\":\"messages.checkChatInvite\",\"params\":[{\"name\":\"hash\",\"type\":\"string\"}],\"type\":\"ChatInvite\"},{\"id\":1817183516,\"method\":\"messages.importChatInvite\",\"params\":[{\"name\":\"hash\",\"type\":\"string\"}],\"type\":\"Updates\"},{\"id\":-928977804,\"method\":\"messages.getStickerSet\",\"params\":[{\"name\":\"stickerset\",\"type\":\"InputStickerSet\"},{\"name\":\"hash\",\"type\":\"int\"}],\"type\":\"messages.StickerSet\"},{\"id\":-946871200,\"method\":\"messages.installStickerSet\",\"params\":[{\"name\":\"stickerset\",\"type\":\"InputStickerSet\"},{\"name\":\"archived\",\"type\":\"Bool\"}],\"type\":\"messages.StickerSetInstallResult\"},{\"id\":-110209570,\"method\":\"messages.uninstallStickerSet\",\"params\":[{\"name\":\"stickerset\",\"type\":\"InputStickerSet\"}],\"type\":\"Bool\"},{\"id\":-421563528,\"method\":\"messages.startBot\",\"params\":[{\"name\":\"bot\",\"type\":\"InputUser\"},{\"name\":\"peer\",\"type\":\"InputPeer\"},{\"name\":\"random_id\",\"type\":\"long\"},{\"name\":\"start_param\",\"type\":\"string\"}],\"type\":\"Updates\"},{\"id\":-1877938321,\"method\":\"help.getAppChangelog\",\"params\":[{\"name\":\"prev_app_version\",\"type\":\"string\"}],\"type\":\"Updates\"},{\"id\":1468322785,\"method\":\"messages.getMessagesViews\",\"params\":[{\"name\":\"peer\",\"type\":\"InputPeer\"},{\"name\":\"id\",\"type\":\"Vector<int>\"},{\"name\":\"increment\",\"type\":\"Bool\"}],\"type\":\"messages.MessageViews\"},{\"id\":-871347913,\"method\":\"channels.readHistory\",\"params\":[{\"name\":\"channel\",\"type\":\"InputChannel\"},{\"name\":\"max_id\",\"type\":\"int\"}],\"type\":\"Bool\"},{\"id\":-2067661490,\"method\":\"channels.deleteMessages\",\"params\":[{\"name\":\"channel\",\"type\":\"InputChannel\"},{\"name\":\"id\",\"type\":\"Vector<int>\"}],\"type\":\"messages.AffectedMessages\"},{\"id\":-196443371,\"method\":\"channels.reportSpam\",\"params\":[{\"name\":\"channel\",\"type\":\"InputChannel\"},{\"name\":\"participant\",\"type\":\"InputPeer\"},{\"name\":\"id\",\"type\":\"Vector<int>\"}],\"type\":\"Bool\"},{\"id\":-1383294429,\"method\":\"channels.getMessages\",\"params\":[{\"name\":\"channel\",\"type\":\"InputChannel\"},{\"name\":\"id\",\"type\":\"Vector<InputMessage>\"}],\"type\":\"messages.Messages\"},{\"id\":2010044880,\"method\":\"channels.getParticipants\",\"params\":[{\"name\":\"channel\",\"type\":\"InputChannel\"},{\"name\":\"filter\",\"type\":\"ChannelParticipantsFilter\"},{\"name\":\"offset\",\"type\":\"int\"},{\"name\":\"limit\",\"type\":\"int\"},{\"name\":\"hash\",\"type\":\"long\"}],\"type\":\"channels.ChannelParticipants\"},{\"id\":-1599378234,\"method\":\"channels.getParticipant\",\"params\":[{\"name\":\"channel\",\"type\":\"InputChannel\"},{\"name\":\"participant\",\"type\":\"InputPeer\"}],\"type\":\"channels.ChannelParticipant\"},{\"id\":176122811,\"method\":\"channels.getChannels\",\"params\":[{\"name\":\"id\",\"type\":\"Vector<InputChannel>\"}],\"type\":\"messages.Chats\"},{\"id\":141781513,\"method\":\"channels.getFullChannel\",\"params\":[{\"name\":\"channel\",\"type\":\"InputChannel\"}],\"type\":\"messages.ChatFull\"},{\"id\":1029681423,\"method\":\"channels.createChannel\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"broadcast\",\"type\":\"flags.0?true\"},{\"name\":\"megagroup\",\"type\":\"flags.1?true\"},{\"name\":\"for_import\",\"type\":\"flags.3?true\"},{\"name\":\"title\",\"type\":\"string\"},{\"name\":\"about\",\"type\":\"string\"},{\"name\":\"geo_point\",\"type\":\"flags.2?InputGeoPoint\"},{\"name\":\"address\",\"type\":\"flags.2?string\"}],\"type\":\"Updates\"},{\"id\":-751007486,\"method\":\"channels.editAdmin\",\"params\":[{\"name\":\"channel\",\"type\":\"InputChannel\"},{\"name\":\"user_id\",\"type\":\"InputUser\"},{\"name\":\"admin_rights\",\"type\":\"ChatAdminRights\"},{\"name\":\"rank\",\"type\":\"string\"}],\"type\":\"Updates\"},{\"id\":1450044624,\"method\":\"channels.editTitle\",\"params\":[{\"name\":\"channel\",\"type\":\"InputChannel\"},{\"name\":\"title\",\"type\":\"string\"}],\"type\":\"Updates\"},{\"id\":-248621111,\"method\":\"channels.editPhoto\",\"params\":[{\"name\":\"channel\",\"type\":\"InputChannel\"},{\"name\":\"photo\",\"type\":\"InputChatPhoto\"}],\"type\":\"Updates\"},{\"id\":283557164,\"method\":\"channels.checkUsername\",\"params\":[{\"name\":\"channel\",\"type\":\"InputChannel\"},{\"name\":\"username\",\"type\":\"string\"}],\"type\":\"Bool\"},{\"id\":890549214,\"method\":\"channels.updateUsername\",\"params\":[{\"name\":\"channel\",\"type\":\"InputChannel\"},{\"name\":\"username\",\"type\":\"string\"}],\"type\":\"Bool\"},{\"id\":615851205,\"method\":\"channels.joinChannel\",\"params\":[{\"name\":\"channel\",\"type\":\"InputChannel\"}],\"type\":\"Updates\"},{\"id\":-130635115,\"method\":\"channels.leaveChannel\",\"params\":[{\"name\":\"channel\",\"type\":\"InputChannel\"}],\"type\":\"Updates\"},{\"id\":429865580,\"method\":\"channels.inviteToChannel\",\"params\":[{\"name\":\"channel\",\"type\":\"InputChannel\"},{\"name\":\"users\",\"type\":\"Vector<InputUser>\"}],\"type\":\"Updates\"},{\"id\":-1072619549,\"method\":\"channels.deleteChannel\",\"params\":[{\"name\":\"channel\",\"type\":\"InputChannel\"}],\"type\":\"Updates\"},{\"id\":51854712,\"method\":\"updates.getChannelDifference\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"force\",\"type\":\"flags.0?true\"},{\"name\":\"channel\",\"type\":\"InputChannel\"},{\"name\":\"filter\",\"type\":\"ChannelMessagesFilter\"},{\"name\":\"pts\",\"type\":\"int\"},{\"name\":\"limit\",\"type\":\"int\"}],\"type\":\"updates.ChannelDifference\"},{\"id\":-1470377534,\"method\":\"messages.editChatAdmin\",\"params\":[{\"name\":\"chat_id\",\"type\":\"long\"},{\"name\":\"user_id\",\"type\":\"InputUser\"},{\"name\":\"is_admin\",\"type\":\"Bool\"}],\"type\":\"Bool\"},{\"id\":-1568189671,\"method\":\"messages.migrateChat\",\"params\":[{\"name\":\"chat_id\",\"type\":\"long\"}],\"type\":\"Updates\"},{\"id\":1271290010,\"method\":\"messages.searchGlobal\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"folder_id\",\"type\":\"flags.0?int\"},{\"name\":\"q\",\"type\":\"string\"},{\"name\":\"filter\",\"type\":\"MessagesFilter\"},{\"name\":\"min_date\",\"type\":\"int\"},{\"name\":\"max_date\",\"type\":\"int\"},{\"name\":\"offset_rate\",\"type\":\"int\"},{\"name\":\"offset_peer\",\"type\":\"InputPeer\"},{\"name\":\"offset_id\",\"type\":\"int\"},{\"name\":\"limit\",\"type\":\"int\"}],\"type\":\"messages.Messages\"},{\"id\":2016638777,\"method\":\"messages.reorderStickerSets\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"masks\",\"type\":\"flags.0?true\"},{\"name\":\"order\",\"type\":\"Vector<long>\"}],\"type\":\"Bool\"},{\"id\":864953444,\"method\":\"messages.getDocumentByHash\",\"params\":[{\"name\":\"sha256\",\"type\":\"bytes\"},{\"name\":\"size\",\"type\":\"int\"},{\"name\":\"mime_type\",\"type\":\"string\"}],\"type\":\"Document\"},{\"id\":1559270965,\"method\":\"messages.getSavedGifs\",\"params\":[{\"name\":\"hash\",\"type\":\"long\"}],\"type\":\"messages.SavedGifs\"},{\"id\":846868683,\"method\":\"messages.saveGif\",\"params\":[{\"name\":\"id\",\"type\":\"InputDocument\"},{\"name\":\"unsave\",\"type\":\"Bool\"}],\"type\":\"Bool\"},{\"id\":1364105629,\"method\":\"messages.getInlineBotResults\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"bot\",\"type\":\"InputUser\"},{\"name\":\"peer\",\"type\":\"InputPeer\"},{\"name\":\"geo_point\",\"type\":\"flags.0?InputGeoPoint\"},{\"name\":\"query\",\"type\":\"string\"},{\"name\":\"offset\",\"type\":\"string\"}],\"type\":\"messages.BotResults\"},{\"id\":-346119674,\"method\":\"messages.setInlineBotResults\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"gallery\",\"type\":\"flags.0?true\"},{\"name\":\"private\",\"type\":\"flags.1?true\"},{\"name\":\"query_id\",\"type\":\"long\"},{\"name\":\"results\",\"type\":\"Vector<InputBotInlineResult>\"},{\"name\":\"cache_time\",\"type\":\"int\"},{\"name\":\"next_offset\",\"type\":\"flags.2?string\"},{\"name\":\"switch_pm\",\"type\":\"flags.3?InlineBotSwitchPM\"}],\"type\":\"Bool\"},{\"id\":2057376407,\"method\":\"messages.sendInlineBotResult\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"silent\",\"type\":\"flags.5?true\"},{\"name\":\"background\",\"type\":\"flags.6?true\"},{\"name\":\"clear_draft\",\"type\":\"flags.7?true\"},{\"name\":\"hide_via\",\"type\":\"flags.11?true\"},{\"name\":\"peer\",\"type\":\"InputPeer\"},{\"name\":\"reply_to_msg_id\",\"type\":\"flags.0?int\"},{\"name\":\"random_id\",\"type\":\"long\"},{\"name\":\"query_id\",\"type\":\"long\"},{\"name\":\"id\",\"type\":\"string\"},{\"name\":\"schedule_date\",\"type\":\"flags.10?int\"},{\"name\":\"send_as\",\"type\":\"flags.13?InputPeer\"}],\"type\":\"Updates\"},{\"id\":-432034325,\"method\":\"channels.exportMessageLink\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"grouped\",\"type\":\"flags.0?true\"},{\"name\":\"thread\",\"type\":\"flags.1?true\"},{\"name\":\"channel\",\"type\":\"InputChannel\"},{\"name\":\"id\",\"type\":\"int\"}],\"type\":\"ExportedMessageLink\"},{\"id\":527021574,\"method\":\"channels.toggleSignatures\",\"params\":[{\"name\":\"channel\",\"type\":\"InputChannel\"},{\"name\":\"enabled\",\"type\":\"Bool\"}],\"type\":\"Updates\"},{\"id\":1056025023,\"method\":\"auth.resendCode\",\"params\":[{\"name\":\"phone_number\",\"type\":\"string\"},{\"name\":\"phone_code_hash\",\"type\":\"string\"}],\"type\":\"auth.SentCode\"},{\"id\":520357240,\"method\":\"auth.cancelCode\",\"params\":[{\"name\":\"phone_number\",\"type\":\"string\"},{\"name\":\"phone_code_hash\",\"type\":\"string\"}],\"type\":\"Bool\"},{\"id\":-39416522,\"method\":\"messages.getMessageEditData\",\"params\":[{\"name\":\"peer\",\"type\":\"InputPeer\"},{\"name\":\"id\",\"type\":\"int\"}],\"type\":\"messages.MessageEditData\"},{\"id\":1224152952,\"method\":\"messages.editMessage\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"no_webpage\",\"type\":\"flags.1?true\"},{\"name\":\"peer\",\"type\":\"InputPeer\"},{\"name\":\"id\",\"type\":\"int\"},{\"name\":\"message\",\"type\":\"flags.11?string\"},{\"name\":\"media\",\"type\":\"flags.14?InputMedia\"},{\"name\":\"reply_markup\",\"type\":\"flags.2?ReplyMarkup\"},{\"name\":\"entities\",\"type\":\"flags.3?Vector<MessageEntity>\"},{\"name\":\"schedule_date\",\"type\":\"flags.15?int\"}],\"type\":\"Updates\"},{\"id\":-2091549254,\"method\":\"messages.editInlineBotMessage\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"no_webpage\",\"type\":\"flags.1?true\"},{\"name\":\"id\",\"type\":\"InputBotInlineMessageID\"},{\"name\":\"message\",\"type\":\"flags.11?string\"},{\"name\":\"media\",\"type\":\"flags.14?InputMedia\"},{\"name\":\"reply_markup\",\"type\":\"flags.2?ReplyMarkup\"},{\"name\":\"entities\",\"type\":\"flags.3?Vector<MessageEntity>\"}],\"type\":\"Bool\"},{\"id\":-1824339449,\"method\":\"messages.getBotCallbackAnswer\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"game\",\"type\":\"flags.1?true\"},{\"name\":\"peer\",\"type\":\"InputPeer\"},{\"name\":\"msg_id\",\"type\":\"int\"},{\"name\":\"data\",\"type\":\"flags.0?bytes\"},{\"name\":\"password\",\"type\":\"flags.2?InputCheckPasswordSRP\"}],\"type\":\"messages.BotCallbackAnswer\"},{\"id\":-712043766,\"method\":\"messages.setBotCallbackAnswer\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"alert\",\"type\":\"flags.1?true\"},{\"name\":\"query_id\",\"type\":\"long\"},{\"name\":\"message\",\"type\":\"flags.0?string\"},{\"name\":\"url\",\"type\":\"flags.2?string\"},{\"name\":\"cache_time\",\"type\":\"int\"}],\"type\":\"Bool\"},{\"id\":-1758168906,\"method\":\"contacts.getTopPeers\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"correspondents\",\"type\":\"flags.0?true\"},{\"name\":\"bots_pm\",\"type\":\"flags.1?true\"},{\"name\":\"bots_inline\",\"type\":\"flags.2?true\"},{\"name\":\"phone_calls\",\"type\":\"flags.3?true\"},{\"name\":\"forward_users\",\"type\":\"flags.4?true\"},{\"name\":\"forward_chats\",\"type\":\"flags.5?true\"},{\"name\":\"groups\",\"type\":\"flags.10?true\"},{\"name\":\"channels\",\"type\":\"flags.15?true\"},{\"name\":\"offset\",\"type\":\"int\"},{\"name\":\"limit\",\"type\":\"int\"},{\"name\":\"hash\",\"type\":\"long\"}],\"type\":\"contacts.TopPeers\"},{\"id\":451113900,\"method\":\"contacts.resetTopPeerRating\",\"params\":[{\"name\":\"category\",\"type\":\"TopPeerCategory\"},{\"name\":\"peer\",\"type\":\"InputPeer\"}],\"type\":\"Bool\"},{\"id\":-462373635,\"method\":\"messages.getPeerDialogs\",\"params\":[{\"name\":\"peers\",\"type\":\"Vector<InputDialogPeer>\"}],\"type\":\"messages.PeerDialogs\"},{\"id\":-1137057461,\"method\":\"messages.saveDraft\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"no_webpage\",\"type\":\"flags.1?true\"},{\"name\":\"reply_to_msg_id\",\"type\":\"flags.0?int\"},{\"name\":\"peer\",\"type\":\"InputPeer\"},{\"name\":\"message\",\"type\":\"string\"},{\"name\":\"entities\",\"type\":\"flags.3?Vector<MessageEntity>\"}],\"type\":\"Bool\"},{\"id\":1782549861,\"method\":\"messages.getAllDrafts\",\"params\":[],\"type\":\"Updates\"},{\"id\":1685588756,\"method\":\"messages.getFeaturedStickers\",\"params\":[{\"name\":\"hash\",\"type\":\"long\"}],\"type\":\"messages.FeaturedStickers\"},{\"id\":1527873830,\"method\":\"messages.readFeaturedStickers\",\"params\":[{\"name\":\"id\",\"type\":\"Vector<long>\"}],\"type\":\"Bool\"},{\"id\":-1649852357,\"method\":\"messages.getRecentStickers\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"attached\",\"type\":\"flags.0?true\"},{\"name\":\"hash\",\"type\":\"long\"}],\"type\":\"messages.RecentStickers\"},{\"id\":958863608,\"method\":\"messages.saveRecentSticker\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"attached\",\"type\":\"flags.0?true\"},{\"name\":\"id\",\"type\":\"InputDocument\"},{\"name\":\"unsave\",\"type\":\"Bool\"}],\"type\":\"Bool\"},{\"id\":-1986437075,\"method\":\"messages.clearRecentStickers\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"attached\",\"type\":\"flags.0?true\"}],\"type\":\"Bool\"},{\"id\":1475442322,\"method\":\"messages.getArchivedStickers\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"masks\",\"type\":\"flags.0?true\"},{\"name\":\"offset_id\",\"type\":\"long\"},{\"name\":\"limit\",\"type\":\"int\"}],\"type\":\"messages.ArchivedStickers\"},{\"id\":457157256,\"method\":\"account.sendConfirmPhoneCode\",\"params\":[{\"name\":\"hash\",\"type\":\"string\"},{\"name\":\"settings\",\"type\":\"CodeSettings\"}],\"type\":\"auth.SentCode\"},{\"id\":1596029123,\"method\":\"account.confirmPhone\",\"params\":[{\"name\":\"phone_code_hash\",\"type\":\"string\"},{\"name\":\"phone_code\",\"type\":\"string\"}],\"type\":\"Bool\"},{\"id\":-122669393,\"method\":\"channels.getAdminedPublicChannels\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"by_location\",\"type\":\"flags.0?true\"},{\"name\":\"check_limit\",\"type\":\"flags.1?true\"}],\"type\":\"messages.Chats\"},{\"id\":1678738104,\"method\":\"messages.getMaskStickers\",\"params\":[{\"name\":\"hash\",\"type\":\"long\"}],\"type\":\"messages.AllStickers\"},{\"id\":-866424884,\"method\":\"messages.getAttachedStickers\",\"params\":[{\"name\":\"media\",\"type\":\"InputStickeredMedia\"}],\"type\":\"Vector<StickerSetCovered>\"},{\"id\":-1907842680,\"method\":\"auth.dropTempAuthKeys\",\"params\":[{\"name\":\"except_auth_keys\",\"type\":\"Vector<long>\"}],\"type\":\"Bool\"},{\"id\":-1896289088,\"method\":\"messages.setGameScore\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"edit_message\",\"type\":\"flags.0?true\"},{\"name\":\"force\",\"type\":\"flags.1?true\"},{\"name\":\"peer\",\"type\":\"InputPeer\"},{\"name\":\"id\",\"type\":\"int\"},{\"name\":\"user_id\",\"type\":\"InputUser\"},{\"name\":\"score\",\"type\":\"int\"}],\"type\":\"Updates\"},{\"id\":363700068,\"method\":\"messages.setInlineGameScore\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"edit_message\",\"type\":\"flags.0?true\"},{\"name\":\"force\",\"type\":\"flags.1?true\"},{\"name\":\"id\",\"type\":\"InputBotInlineMessageID\"},{\"name\":\"user_id\",\"type\":\"InputUser\"},{\"name\":\"score\",\"type\":\"int\"}],\"type\":\"Bool\"},{\"id\":-400399203,\"method\":\"messages.getGameHighScores\",\"params\":[{\"name\":\"peer\",\"type\":\"InputPeer\"},{\"name\":\"id\",\"type\":\"int\"},{\"name\":\"user_id\",\"type\":\"InputUser\"}],\"type\":\"messages.HighScores\"},{\"id\":258170395,\"method\":\"messages.getInlineGameHighScores\",\"params\":[{\"name\":\"id\",\"type\":\"InputBotInlineMessageID\"},{\"name\":\"user_id\",\"type\":\"InputUser\"}],\"type\":\"messages.HighScores\"},{\"id\":-468934396,\"method\":\"messages.getCommonChats\",\"params\":[{\"name\":\"user_id\",\"type\":\"InputUser\"},{\"name\":\"max_id\",\"type\":\"long\"},{\"name\":\"limit\",\"type\":\"int\"}],\"type\":\"messages.Chats\"},{\"id\":-2023787330,\"method\":\"messages.getAllChats\",\"params\":[{\"name\":\"except_ids\",\"type\":\"Vector<long>\"}],\"type\":\"messages.Chats\"},{\"id\":-333262899,\"method\":\"help.setBotUpdatesStatus\",\"params\":[{\"name\":\"pending_updates_count\",\"type\":\"int\"},{\"name\":\"message\",\"type\":\"string\"}],\"type\":\"Bool\"},{\"id\":852135825,\"method\":\"messages.getWebPage\",\"params\":[{\"name\":\"url\",\"type\":\"string\"},{\"name\":\"hash\",\"type\":\"int\"}],\"type\":\"WebPage\"},{\"id\":-1489903017,\"method\":\"messages.toggleDialogPin\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"pinned\",\"type\":\"flags.0?true\"},{\"name\":\"peer\",\"type\":\"InputDialogPeer\"}],\"type\":\"Bool\"},{\"id\":991616823,\"method\":\"messages.reorderPinnedDialogs\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"force\",\"type\":\"flags.0?true\"},{\"name\":\"folder_id\",\"type\":\"int\"},{\"name\":\"order\",\"type\":\"Vector<InputDialogPeer>\"}],\"type\":\"Bool\"},{\"id\":-692498958,\"method\":\"messages.getPinnedDialogs\",\"params\":[{\"name\":\"folder_id\",\"type\":\"int\"}],\"type\":\"messages.PeerDialogs\"},{\"id\":-1440257555,\"method\":\"bots.sendCustomRequest\",\"params\":[{\"name\":\"custom_method\",\"type\":\"string\"},{\"name\":\"params\",\"type\":\"DataJSON\"}],\"type\":\"DataJSON\"},{\"id\":-434028723,\"method\":\"bots.answerWebhookJSONQuery\",\"params\":[{\"name\":\"query_id\",\"type\":\"long\"},{\"name\":\"data\",\"type\":\"DataJSON\"}],\"type\":\"Bool\"},{\"id\":619086221,\"method\":\"upload.getWebFile\",\"params\":[{\"name\":\"location\",\"type\":\"InputWebFileLocation\"},{\"name\":\"offset\",\"type\":\"int\"},{\"name\":\"limit\",\"type\":\"int\"}],\"type\":\"upload.WebFile\"},{\"id\":-1976353651,\"method\":\"payments.getPaymentForm\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"peer\",\"type\":\"InputPeer\"},{\"name\":\"msg_id\",\"type\":\"int\"},{\"name\":\"theme_params\",\"type\":\"flags.0?DataJSON\"}],\"type\":\"payments.PaymentForm\"},{\"id\":611897804,\"method\":\"payments.getPaymentReceipt\",\"params\":[{\"name\":\"peer\",\"type\":\"InputPeer\"},{\"name\":\"msg_id\",\"type\":\"int\"}],\"type\":\"payments.PaymentReceipt\"},{\"id\":-619695760,\"method\":\"payments.validateRequestedInfo\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"save\",\"type\":\"flags.0?true\"},{\"name\":\"peer\",\"type\":\"InputPeer\"},{\"name\":\"msg_id\",\"type\":\"int\"},{\"name\":\"info\",\"type\":\"PaymentRequestedInfo\"}],\"type\":\"payments.ValidatedRequestedInfo\"},{\"id\":818134173,\"method\":\"payments.sendPaymentForm\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"form_id\",\"type\":\"long\"},{\"name\":\"peer\",\"type\":\"InputPeer\"},{\"name\":\"msg_id\",\"type\":\"int\"},{\"name\":\"requested_info_id\",\"type\":\"flags.0?string\"},{\"name\":\"shipping_option_id\",\"type\":\"flags.1?string\"},{\"name\":\"credentials\",\"type\":\"InputPaymentCredentials\"},{\"name\":\"tip_amount\",\"type\":\"flags.2?long\"}],\"type\":\"payments.PaymentResult\"},{\"id\":1151208273,\"method\":\"account.getTmpPassword\",\"params\":[{\"name\":\"password\",\"type\":\"InputCheckPasswordSRP\"},{\"name\":\"period\",\"type\":\"int\"}],\"type\":\"account.TmpPassword\"},{\"id\":578650699,\"method\":\"payments.getSavedInfo\",\"params\":[],\"type\":\"payments.SavedInfo\"},{\"id\":-667062079,\"method\":\"payments.clearSavedInfo\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"credentials\",\"type\":\"flags.0?true\"},{\"name\":\"info\",\"type\":\"flags.1?true\"}],\"type\":\"Bool\"},{\"id\":-436833542,\"method\":\"messages.setBotShippingResults\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"query_id\",\"type\":\"long\"},{\"name\":\"error\",\"type\":\"flags.0?string\"},{\"name\":\"shipping_options\",\"type\":\"flags.1?Vector<ShippingOption>\"}],\"type\":\"Bool\"},{\"id\":163765653,\"method\":\"messages.setBotPrecheckoutResults\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"success\",\"type\":\"flags.1?true\"},{\"name\":\"query_id\",\"type\":\"long\"},{\"name\":\"error\",\"type\":\"flags.0?string\"}],\"type\":\"Bool\"},{\"id\":-1876841625,\"method\":\"stickers.createStickerSet\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"masks\",\"type\":\"flags.0?true\"},{\"name\":\"animated\",\"type\":\"flags.1?true\"},{\"name\":\"videos\",\"type\":\"flags.4?true\"},{\"name\":\"user_id\",\"type\":\"InputUser\"},{\"name\":\"title\",\"type\":\"string\"},{\"name\":\"short_name\",\"type\":\"string\"},{\"name\":\"thumb\",\"type\":\"flags.2?InputDocument\"},{\"name\":\"stickers\",\"type\":\"Vector<InputStickerSetItem>\"},{\"name\":\"software\",\"type\":\"flags.3?string\"}],\"type\":\"messages.StickerSet\"},{\"id\":-143257775,\"method\":\"stickers.removeStickerFromSet\",\"params\":[{\"name\":\"sticker\",\"type\":\"InputDocument\"}],\"type\":\"messages.StickerSet\"},{\"id\":-4795190,\"method\":\"stickers.changeStickerPosition\",\"params\":[{\"name\":\"sticker\",\"type\":\"InputDocument\"},{\"name\":\"position\",\"type\":\"int\"}],\"type\":\"messages.StickerSet\"},{\"id\":-2041315650,\"method\":\"stickers.addStickerToSet\",\"params\":[{\"name\":\"stickerset\",\"type\":\"InputStickerSet\"},{\"name\":\"sticker\",\"type\":\"InputStickerSetItem\"}],\"type\":\"messages.StickerSet\"},{\"id\":1369162417,\"method\":\"messages.uploadMedia\",\"params\":[{\"name\":\"peer\",\"type\":\"InputPeer\"},{\"name\":\"media\",\"type\":\"InputMedia\"}],\"type\":\"MessageMedia\"},{\"id\":1430593449,\"method\":\"phone.getCallConfig\",\"params\":[],\"type\":\"DataJSON\"},{\"id\":1124046573,\"method\":\"phone.requestCall\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"video\",\"type\":\"flags.0?true\"},{\"name\":\"user_id\",\"type\":\"InputUser\"},{\"name\":\"random_id\",\"type\":\"int\"},{\"name\":\"g_a_hash\",\"type\":\"bytes\"},{\"name\":\"protocol\",\"type\":\"PhoneCallProtocol\"}],\"type\":\"phone.PhoneCall\"},{\"id\":1003664544,\"method\":\"phone.acceptCall\",\"params\":[{\"name\":\"peer\",\"type\":\"InputPhoneCall\"},{\"name\":\"g_b\",\"type\":\"bytes\"},{\"name\":\"protocol\",\"type\":\"PhoneCallProtocol\"}],\"type\":\"phone.PhoneCall\"},{\"id\":788404002,\"method\":\"phone.confirmCall\",\"params\":[{\"name\":\"peer\",\"type\":\"InputPhoneCall\"},{\"name\":\"g_a\",\"type\":\"bytes\"},{\"name\":\"key_fingerprint\",\"type\":\"long\"},{\"name\":\"protocol\",\"type\":\"PhoneCallProtocol\"}],\"type\":\"phone.PhoneCall\"},{\"id\":399855457,\"method\":\"phone.receivedCall\",\"params\":[{\"name\":\"peer\",\"type\":\"InputPhoneCall\"}],\"type\":\"Bool\"},{\"id\":-1295269440,\"method\":\"phone.discardCall\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"video\",\"type\":\"flags.0?true\"},{\"name\":\"peer\",\"type\":\"InputPhoneCall\"},{\"name\":\"duration\",\"type\":\"int\"},{\"name\":\"reason\",\"type\":\"PhoneCallDiscardReason\"},{\"name\":\"connection_id\",\"type\":\"long\"}],\"type\":\"Updates\"},{\"id\":1508562471,\"method\":\"phone.setCallRating\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"user_initiative\",\"type\":\"flags.0?true\"},{\"name\":\"peer\",\"type\":\"InputPhoneCall\"},{\"name\":\"rating\",\"type\":\"int\"},{\"name\":\"comment\",\"type\":\"string\"}],\"type\":\"Updates\"},{\"id\":662363518,\"method\":\"phone.saveCallDebug\",\"params\":[{\"name\":\"peer\",\"type\":\"InputPhoneCall\"},{\"name\":\"debug\",\"type\":\"DataJSON\"}],\"type\":\"Bool\"},{\"id\":536919235,\"method\":\"upload.getCdnFile\",\"params\":[{\"name\":\"file_token\",\"type\":\"bytes\"},{\"name\":\"offset\",\"type\":\"int\"},{\"name\":\"limit\",\"type\":\"int\"}],\"type\":\"upload.CdnFile\"},{\"id\":-1691921240,\"method\":\"upload.reuploadCdnFile\",\"params\":[{\"name\":\"file_token\",\"type\":\"bytes\"},{\"name\":\"request_token\",\"type\":\"bytes\"}],\"type\":\"Vector<FileHash>\"},{\"id\":1375900482,\"method\":\"help.getCdnConfig\",\"params\":[],\"type\":\"CdnConfig\"},{\"id\":-219008246,\"method\":\"langpack.getLangPack\",\"params\":[{\"name\":\"lang_pack\",\"type\":\"string\"},{\"name\":\"lang_code\",\"type\":\"string\"}],\"type\":\"LangPackDifference\"},{\"id\":-269862909,\"method\":\"langpack.getStrings\",\"params\":[{\"name\":\"lang_pack\",\"type\":\"string\"},{\"name\":\"lang_code\",\"type\":\"string\"},{\"name\":\"keys\",\"type\":\"Vector<string>\"}],\"type\":\"Vector<LangPackString>\"},{\"id\":-845657435,\"method\":\"langpack.getDifference\",\"params\":[{\"name\":\"lang_pack\",\"type\":\"string\"},{\"name\":\"lang_code\",\"type\":\"string\"},{\"name\":\"from_version\",\"type\":\"int\"}],\"type\":\"LangPackDifference\"},{\"id\":1120311183,\"method\":\"langpack.getLanguages\",\"params\":[{\"name\":\"lang_pack\",\"type\":\"string\"}],\"type\":\"Vector<LangPackLanguage>\"},{\"id\":-1763259007,\"method\":\"channels.editBanned\",\"params\":[{\"name\":\"channel\",\"type\":\"InputChannel\"},{\"name\":\"participant\",\"type\":\"InputPeer\"},{\"name\":\"banned_rights\",\"type\":\"ChatBannedRights\"}],\"type\":\"Updates\"},{\"id\":870184064,\"method\":\"channels.getAdminLog\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"channel\",\"type\":\"InputChannel\"},{\"name\":\"q\",\"type\":\"string\"},{\"name\":\"events_filter\",\"type\":\"flags.0?ChannelAdminLogEventsFilter\"},{\"name\":\"admins\",\"type\":\"flags.1?Vector<InputUser>\"},{\"name\":\"max_id\",\"type\":\"long\"},{\"name\":\"min_id\",\"type\":\"long\"},{\"name\":\"limit\",\"type\":\"int\"}],\"type\":\"channels.AdminLogResults\"},{\"id\":1302676017,\"method\":\"upload.getCdnFileHashes\",\"params\":[{\"name\":\"file_token\",\"type\":\"bytes\"},{\"name\":\"offset\",\"type\":\"int\"}],\"type\":\"Vector<FileHash>\"},{\"id\":-914493408,\"method\":\"messages.sendScreenshotNotification\",\"params\":[{\"name\":\"peer\",\"type\":\"InputPeer\"},{\"name\":\"reply_to_msg_id\",\"type\":\"int\"},{\"name\":\"random_id\",\"type\":\"long\"}],\"type\":\"Updates\"},{\"id\":-359881479,\"method\":\"channels.setStickers\",\"params\":[{\"name\":\"channel\",\"type\":\"InputChannel\"},{\"name\":\"stickerset\",\"type\":\"InputStickerSet\"}],\"type\":\"Bool\"},{\"id\":82946729,\"method\":\"messages.getFavedStickers\",\"params\":[{\"name\":\"hash\",\"type\":\"long\"}],\"type\":\"messages.FavedStickers\"},{\"id\":-1174420133,\"method\":\"messages.faveSticker\",\"params\":[{\"name\":\"id\",\"type\":\"InputDocument\"},{\"name\":\"unfave\",\"type\":\"Bool\"}],\"type\":\"Bool\"},{\"id\":-357180360,\"method\":\"channels.readMessageContents\",\"params\":[{\"name\":\"channel\",\"type\":\"InputChannel\"},{\"name\":\"id\",\"type\":\"Vector<int>\"}],\"type\":\"Bool\"},{\"id\":-2020263951,\"method\":\"contacts.resetSaved\",\"params\":[],\"type\":\"Bool\"},{\"id\":1180140658,\"method\":\"messages.getUnreadMentions\",\"params\":[{\"name\":\"peer\",\"type\":\"InputPeer\"},{\"name\":\"offset_id\",\"type\":\"int\"},{\"name\":\"add_offset\",\"type\":\"int\"},{\"name\":\"limit\",\"type\":\"int\"},{\"name\":\"max_id\",\"type\":\"int\"},{\"name\":\"min_id\",\"type\":\"int\"}],\"type\":\"messages.Messages\"},{\"id\":-1683319225,\"method\":\"channels.deleteHistory\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"for_everyone\",\"type\":\"flags.0?true\"},{\"name\":\"channel\",\"type\":\"InputChannel\"},{\"name\":\"max_id\",\"type\":\"int\"}],\"type\":\"Updates\"},{\"id\":1036054804,\"method\":\"help.getRecentMeUrls\",\"params\":[{\"name\":\"referer\",\"type\":\"string\"}],\"type\":\"help.RecentMeUrls\"},{\"id\":-356796084,\"method\":\"channels.togglePreHistoryHidden\",\"params\":[{\"name\":\"channel\",\"type\":\"InputChannel\"},{\"name\":\"enabled\",\"type\":\"Bool\"}],\"type\":\"Updates\"},{\"id\":251759059,\"method\":\"messages.readMentions\",\"params\":[{\"name\":\"peer\",\"type\":\"InputPeer\"}],\"type\":\"messages.AffectedHistory\"},{\"id\":1881817312,\"method\":\"messages.getRecentLocations\",\"params\":[{\"name\":\"peer\",\"type\":\"InputPeer\"},{\"name\":\"limit\",\"type\":\"int\"},{\"name\":\"hash\",\"type\":\"long\"}],\"type\":\"messages.Messages\"},{\"id\":-134016113,\"method\":\"messages.sendMultiMedia\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"silent\",\"type\":\"flags.5?true\"},{\"name\":\"background\",\"type\":\"flags.6?true\"},{\"name\":\"clear_draft\",\"type\":\"flags.7?true\"},{\"name\":\"noforwards\",\"type\":\"flags.14?true\"},{\"name\":\"peer\",\"type\":\"InputPeer\"},{\"name\":\"reply_to_msg_id\",\"type\":\"flags.0?int\"},{\"name\":\"multi_media\",\"type\":\"Vector<InputSingleMedia>\"},{\"name\":\"schedule_date\",\"type\":\"flags.10?int\"},{\"name\":\"send_as\",\"type\":\"flags.13?InputPeer\"}],\"type\":\"Updates\"},{\"id\":1347929239,\"method\":\"messages.uploadEncryptedFile\",\"params\":[{\"name\":\"peer\",\"type\":\"InputEncryptedChat\"},{\"name\":\"file\",\"type\":\"InputEncryptedFile\"}],\"type\":\"EncryptedFile\"},{\"id\":405695855,\"method\":\"account.getWebAuthorizations\",\"params\":[],\"type\":\"account.WebAuthorizations\"},{\"id\":755087855,\"method\":\"account.resetWebAuthorization\",\"params\":[{\"name\":\"hash\",\"type\":\"long\"}],\"type\":\"Bool\"},{\"id\":1747789204,\"method\":\"account.resetWebAuthorizations\",\"params\":[],\"type\":\"Bool\"},{\"id\":896555914,\"method\":\"messages.searchStickerSets\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"exclude_featured\",\"type\":\"flags.0?true\"},{\"name\":\"q\",\"type\":\"string\"},{\"name\":\"hash\",\"type\":\"long\"}],\"type\":\"messages.FoundStickerSets\"},{\"id\":-956147407,\"method\":\"upload.getFileHashes\",\"params\":[{\"name\":\"location\",\"type\":\"InputFileLocation\"},{\"name\":\"offset\",\"type\":\"int\"}],\"type\":\"Vector<FileHash>\"},{\"id\":749019089,\"method\":\"help.getTermsOfServiceUpdate\",\"params\":[],\"type\":\"help.TermsOfServiceUpdate\"},{\"id\":-294455398,\"method\":\"help.acceptTermsOfService\",\"params\":[{\"name\":\"id\",\"type\":\"DataJSON\"}],\"type\":\"Bool\"},{\"id\":-1299661699,\"method\":\"account.getAllSecureValues\",\"params\":[],\"type\":\"Vector<SecureValue>\"},{\"id\":1936088002,\"method\":\"account.getSecureValue\",\"params\":[{\"name\":\"types\",\"type\":\"Vector<SecureValueType>\"}],\"type\":\"Vector<SecureValue>\"},{\"id\":-1986010339,\"method\":\"account.saveSecureValue\",\"params\":[{\"name\":\"value\",\"type\":\"InputSecureValue\"},{\"name\":\"secure_secret_id\",\"type\":\"long\"}],\"type\":\"SecureValue\"},{\"id\":-1199522741,\"method\":\"account.deleteSecureValue\",\"params\":[{\"name\":\"types\",\"type\":\"Vector<SecureValueType>\"}],\"type\":\"Bool\"},{\"id\":-1865902923,\"method\":\"users.setSecureValueErrors\",\"params\":[{\"name\":\"id\",\"type\":\"InputUser\"},{\"name\":\"errors\",\"type\":\"Vector<SecureValueError>\"}],\"type\":\"Bool\"},{\"id\":-1456907910,\"method\":\"account.getAuthorizationForm\",\"params\":[{\"name\":\"bot_id\",\"type\":\"long\"},{\"name\":\"scope\",\"type\":\"string\"},{\"name\":\"public_key\",\"type\":\"string\"}],\"type\":\"account.AuthorizationForm\"},{\"id\":-202552205,\"method\":\"account.acceptAuthorization\",\"params\":[{\"name\":\"bot_id\",\"type\":\"long\"},{\"name\":\"scope\",\"type\":\"string\"},{\"name\":\"public_key\",\"type\":\"string\"},{\"name\":\"value_hashes\",\"type\":\"Vector<SecureValueHash>\"},{\"name\":\"credentials\",\"type\":\"SecureCredentialsEncrypted\"}],\"type\":\"Bool\"},{\"id\":-1516022023,\"method\":\"account.sendVerifyPhoneCode\",\"params\":[{\"name\":\"phone_number\",\"type\":\"string\"},{\"name\":\"settings\",\"type\":\"CodeSettings\"}],\"type\":\"auth.SentCode\"},{\"id\":1305716726,\"method\":\"account.verifyPhone\",\"params\":[{\"name\":\"phone_number\",\"type\":\"string\"},{\"name\":\"phone_code_hash\",\"type\":\"string\"},{\"name\":\"phone_code\",\"type\":\"string\"}],\"type\":\"Bool\"},{\"id\":1880182943,\"method\":\"account.sendVerifyEmailCode\",\"params\":[{\"name\":\"email\",\"type\":\"string\"}],\"type\":\"account.SentEmailCode\"},{\"id\":-323339813,\"method\":\"account.verifyEmail\",\"params\":[{\"name\":\"email\",\"type\":\"string\"},{\"name\":\"code\",\"type\":\"string\"}],\"type\":\"Bool\"},{\"id\":1072547679,\"method\":\"help.getDeepLinkInfo\",\"params\":[{\"name\":\"path\",\"type\":\"string\"}],\"type\":\"help.DeepLinkInfo\"},{\"id\":-2098076769,\"method\":\"contacts.getSaved\",\"params\":[],\"type\":\"Vector<SavedContact>\"},{\"id\":-2092831552,\"method\":\"channels.getLeftChannels\",\"params\":[{\"name\":\"offset\",\"type\":\"int\"}],\"type\":\"messages.Chats\"},{\"id\":-262453244,\"method\":\"account.initTakeoutSession\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"contacts\",\"type\":\"flags.0?true\"},{\"name\":\"message_users\",\"type\":\"flags.1?true\"},{\"name\":\"message_chats\",\"type\":\"flags.2?true\"},{\"name\":\"message_megagroups\",\"type\":\"flags.3?true\"},{\"name\":\"message_channels\",\"type\":\"flags.4?true\"},{\"name\":\"files\",\"type\":\"flags.5?true\"},{\"name\":\"file_max_size\",\"type\":\"flags.5?int\"}],\"type\":\"account.Takeout\"},{\"id\":489050862,\"method\":\"account.finishTakeoutSession\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"success\",\"type\":\"flags.0?true\"}],\"type\":\"Bool\"},{\"id\":486505992,\"method\":\"messages.getSplitRanges\",\"params\":[],\"type\":\"Vector<MessageRange>\"},{\"id\":911373810,\"method\":\"invokeWithMessagesRange\",\"params\":[{\"name\":\"range\",\"type\":\"MessageRange\"},{\"name\":\"query\",\"type\":\"!X\"}],\"type\":\"X\"},{\"id\":-1398145746,\"method\":\"invokeWithTakeout\",\"params\":[{\"name\":\"takeout_id\",\"type\":\"long\"},{\"name\":\"query\",\"type\":\"!X\"}],\"type\":\"X\"},{\"id\":-1031349873,\"method\":\"messages.markDialogUnread\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"unread\",\"type\":\"flags.0?true\"},{\"name\":\"peer\",\"type\":\"InputDialogPeer\"}],\"type\":\"Bool\"},{\"id\":585256482,\"method\":\"messages.getDialogUnreadMarks\",\"params\":[],\"type\":\"Vector<DialogPeer>\"},{\"id\":-2062238246,\"method\":\"contacts.toggleTopPeers\",\"params\":[{\"name\":\"enabled\",\"type\":\"Bool\"}],\"type\":\"Bool\"},{\"id\":2119757468,\"method\":\"messages.clearAllDrafts\",\"params\":[],\"type\":\"Bool\"},{\"id\":-1735311088,\"method\":\"help.getAppConfig\",\"params\":[],\"type\":\"JSONValue\"},{\"id\":1862465352,\"method\":\"help.saveAppLog\",\"params\":[{\"name\":\"events\",\"type\":\"Vector<InputAppEvent>\"}],\"type\":\"Bool\"},{\"id\":-966677240,\"method\":\"help.getPassportConfig\",\"params\":[{\"name\":\"hash\",\"type\":\"int\"}],\"type\":\"help.PassportConfig\"},{\"id\":1784243458,\"method\":\"langpack.getLanguage\",\"params\":[{\"name\":\"lang_pack\",\"type\":\"string\"},{\"name\":\"lang_code\",\"type\":\"string\"}],\"type\":\"LangPackLanguage\"},{\"id\":-760547348,\"method\":\"messages.updatePinnedMessage\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"silent\",\"type\":\"flags.0?true\"},{\"name\":\"unpin\",\"type\":\"flags.1?true\"},{\"name\":\"pm_oneside\",\"type\":\"flags.2?true\"},{\"name\":\"peer\",\"type\":\"InputPeer\"},{\"name\":\"id\",\"type\":\"int\"}],\"type\":\"Updates\"},{\"id\":-1881204448,\"method\":\"account.confirmPasswordEmail\",\"params\":[{\"name\":\"code\",\"type\":\"string\"}],\"type\":\"Bool\"},{\"id\":2055154197,\"method\":\"account.resendPasswordEmail\",\"params\":[],\"type\":\"Bool\"},{\"id\":-1043606090,\"method\":\"account.cancelPasswordEmail\",\"params\":[],\"type\":\"Bool\"},{\"id\":-748624084,\"method\":\"help.getSupportName\",\"params\":[],\"type\":\"help.SupportName\"},{\"id\":59377875,\"method\":\"help.getUserInfo\",\"params\":[{\"name\":\"user_id\",\"type\":\"InputUser\"}],\"type\":\"help.UserInfo\"},{\"id\":1723407216,\"method\":\"help.editUserInfo\",\"params\":[{\"name\":\"user_id\",\"type\":\"InputUser\"},{\"name\":\"message\",\"type\":\"string\"},{\"name\":\"entities\",\"type\":\"Vector<MessageEntity>\"}],\"type\":\"help.UserInfo\"},{\"id\":-1626880216,\"method\":\"account.getContactSignUpNotification\",\"params\":[],\"type\":\"Bool\"},{\"id\":-806076575,\"method\":\"account.setContactSignUpNotification\",\"params\":[{\"name\":\"silent\",\"type\":\"Bool\"}],\"type\":\"Bool\"},{\"id\":1398240377,\"method\":\"account.getNotifyExceptions\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"compare_sound\",\"type\":\"flags.1?true\"},{\"name\":\"peer\",\"type\":\"flags.0?InputNotifyPeer\"}],\"type\":\"Updates\"},{\"id\":283795844,\"method\":\"messages.sendVote\",\"params\":[{\"name\":\"peer\",\"type\":\"InputPeer\"},{\"name\":\"msg_id\",\"type\":\"int\"},{\"name\":\"options\",\"type\":\"Vector<bytes>\"}],\"type\":\"Updates\"},{\"id\":1941660731,\"method\":\"messages.getPollResults\",\"params\":[{\"name\":\"peer\",\"type\":\"InputPeer\"},{\"name\":\"msg_id\",\"type\":\"int\"}],\"type\":\"Updates\"},{\"id\":1848369232,\"method\":\"messages.getOnlines\",\"params\":[{\"name\":\"peer\",\"type\":\"InputPeer\"}],\"type\":\"ChatOnlines\"},{\"id\":-554301545,\"method\":\"messages.editChatAbout\",\"params\":[{\"name\":\"peer\",\"type\":\"InputPeer\"},{\"name\":\"about\",\"type\":\"string\"}],\"type\":\"Bool\"},{\"id\":-1517917375,\"method\":\"messages.editChatDefaultBannedRights\",\"params\":[{\"name\":\"peer\",\"type\":\"InputPeer\"},{\"name\":\"banned_rights\",\"type\":\"ChatBannedRights\"}],\"type\":\"Updates\"},{\"id\":-57811990,\"method\":\"account.getWallPaper\",\"params\":[{\"name\":\"wallpaper\",\"type\":\"InputWallPaper\"}],\"type\":\"WallPaper\"},{\"id\":-578472351,\"method\":\"account.uploadWallPaper\",\"params\":[{\"name\":\"file\",\"type\":\"InputFile\"},{\"name\":\"mime_type\",\"type\":\"string\"},{\"name\":\"settings\",\"type\":\"WallPaperSettings\"}],\"type\":\"WallPaper\"},{\"id\":1817860919,\"method\":\"account.saveWallPaper\",\"params\":[{\"name\":\"wallpaper\",\"type\":\"InputWallPaper\"},{\"name\":\"unsave\",\"type\":\"Bool\"},{\"name\":\"settings\",\"type\":\"WallPaperSettings\"}],\"type\":\"Bool\"},{\"id\":-18000023,\"method\":\"account.installWallPaper\",\"params\":[{\"name\":\"wallpaper\",\"type\":\"InputWallPaper\"},{\"name\":\"settings\",\"type\":\"WallPaperSettings\"}],\"type\":\"Bool\"},{\"id\":-1153722364,\"method\":\"account.resetWallPapers\",\"params\":[],\"type\":\"Bool\"},{\"id\":1457130303,\"method\":\"account.getAutoDownloadSettings\",\"params\":[],\"type\":\"account.AutoDownloadSettings\"},{\"id\":1995661875,\"method\":\"account.saveAutoDownloadSettings\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"low\",\"type\":\"flags.0?true\"},{\"name\":\"high\",\"type\":\"flags.1?true\"},{\"name\":\"settings\",\"type\":\"AutoDownloadSettings\"}],\"type\":\"Bool\"},{\"id\":899735650,\"method\":\"messages.getEmojiKeywords\",\"params\":[{\"name\":\"lang_code\",\"type\":\"string\"}],\"type\":\"EmojiKeywordsDifference\"},{\"id\":352892591,\"method\":\"messages.getEmojiKeywordsDifference\",\"params\":[{\"name\":\"lang_code\",\"type\":\"string\"},{\"name\":\"from_version\",\"type\":\"int\"}],\"type\":\"EmojiKeywordsDifference\"},{\"id\":1318675378,\"method\":\"messages.getEmojiKeywordsLanguages\",\"params\":[{\"name\":\"lang_codes\",\"type\":\"Vector<string>\"}],\"type\":\"Vector<EmojiLanguage>\"},{\"id\":-709817306,\"method\":\"messages.getEmojiURL\",\"params\":[{\"name\":\"lang_code\",\"type\":\"string\"}],\"type\":\"EmojiURL\"},{\"id\":1749536939,\"method\":\"folders.editPeerFolders\",\"params\":[{\"name\":\"folder_peers\",\"type\":\"Vector<InputFolderPeer>\"}],\"type\":\"Updates\"},{\"id\":472471681,\"method\":\"folders.deleteFolder\",\"params\":[{\"name\":\"folder_id\",\"type\":\"int\"}],\"type\":\"Updates\"},{\"id\":1932455680,\"method\":\"messages.getSearchCounters\",\"params\":[{\"name\":\"peer\",\"type\":\"InputPeer\"},{\"name\":\"filters\",\"type\":\"Vector<MessagesFilter>\"}],\"type\":\"Vector<messages.SearchCounter>\"},{\"id\":-170208392,\"method\":\"channels.getGroupsForDiscussion\",\"params\":[],\"type\":\"messages.Chats\"},{\"id\":1079520178,\"method\":\"channels.setDiscussionGroup\",\"params\":[{\"name\":\"broadcast\",\"type\":\"InputChannel\"},{\"name\":\"group\",\"type\":\"InputChannel\"}],\"type\":\"Bool\"},{\"id\":428848198,\"method\":\"messages.requestUrlAuth\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"peer\",\"type\":\"flags.1?InputPeer\"},{\"name\":\"msg_id\",\"type\":\"flags.1?int\"},{\"name\":\"button_id\",\"type\":\"flags.1?int\"},{\"name\":\"url\",\"type\":\"flags.2?string\"}],\"type\":\"UrlAuthResult\"},{\"id\":-1322487515,\"method\":\"messages.acceptUrlAuth\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"write_allowed\",\"type\":\"flags.0?true\"},{\"name\":\"peer\",\"type\":\"flags.1?InputPeer\"},{\"name\":\"msg_id\",\"type\":\"flags.1?int\"},{\"name\":\"button_id\",\"type\":\"flags.1?int\"},{\"name\":\"url\",\"type\":\"flags.2?string\"}],\"type\":\"UrlAuthResult\"},{\"id\":1336717624,\"method\":\"messages.hidePeerSettingsBar\",\"params\":[{\"name\":\"peer\",\"type\":\"InputPeer\"}],\"type\":\"Bool\"},{\"id\":-386636848,\"method\":\"contacts.addContact\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"add_phone_privacy_exception\",\"type\":\"flags.0?true\"},{\"name\":\"id\",\"type\":\"InputUser\"},{\"name\":\"first_name\",\"type\":\"string\"},{\"name\":\"last_name\",\"type\":\"string\"},{\"name\":\"phone\",\"type\":\"string\"}],\"type\":\"Updates\"},{\"id\":-130964977,\"method\":\"contacts.acceptContact\",\"params\":[{\"name\":\"id\",\"type\":\"InputUser\"}],\"type\":\"Updates\"},{\"id\":-1892102881,\"method\":\"channels.editCreator\",\"params\":[{\"name\":\"channel\",\"type\":\"InputChannel\"},{\"name\":\"user_id\",\"type\":\"InputUser\"},{\"name\":\"password\",\"type\":\"InputCheckPasswordSRP\"}],\"type\":\"Updates\"},{\"id\":-750207932,\"method\":\"contacts.getLocated\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"background\",\"type\":\"flags.1?true\"},{\"name\":\"geo_point\",\"type\":\"InputGeoPoint\"},{\"name\":\"self_expires\",\"type\":\"flags.0?int\"}],\"type\":\"Updates\"},{\"id\":1491484525,\"method\":\"channels.editLocation\",\"params\":[{\"name\":\"channel\",\"type\":\"InputChannel\"},{\"name\":\"geo_point\",\"type\":\"InputGeoPoint\"},{\"name\":\"address\",\"type\":\"string\"}],\"type\":\"Bool\"},{\"id\":-304832784,\"method\":\"channels.toggleSlowMode\",\"params\":[{\"name\":\"channel\",\"type\":\"InputChannel\"},{\"name\":\"seconds\",\"type\":\"int\"}],\"type\":\"Updates\"},{\"id\":-183077365,\"method\":\"messages.getScheduledHistory\",\"params\":[{\"name\":\"peer\",\"type\":\"InputPeer\"},{\"name\":\"hash\",\"type\":\"long\"}],\"type\":\"messages.Messages\"},{\"id\":-1111817116,\"method\":\"messages.getScheduledMessages\",\"params\":[{\"name\":\"peer\",\"type\":\"InputPeer\"},{\"name\":\"id\",\"type\":\"Vector<int>\"}],\"type\":\"messages.Messages\"},{\"id\":-1120369398,\"method\":\"messages.sendScheduledMessages\",\"params\":[{\"name\":\"peer\",\"type\":\"InputPeer\"},{\"name\":\"id\",\"type\":\"Vector<int>\"}],\"type\":\"Updates\"},{\"id\":1504586518,\"method\":\"messages.deleteScheduledMessages\",\"params\":[{\"name\":\"peer\",\"type\":\"InputPeer\"},{\"name\":\"id\",\"type\":\"Vector<int>\"}],\"type\":\"Updates\"},{\"id\":473805619,\"method\":\"account.uploadTheme\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"file\",\"type\":\"InputFile\"},{\"name\":\"thumb\",\"type\":\"flags.0?InputFile\"},{\"name\":\"file_name\",\"type\":\"string\"},{\"name\":\"mime_type\",\"type\":\"string\"}],\"type\":\"Document\"},{\"id\":1697530880,\"method\":\"account.createTheme\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"slug\",\"type\":\"string\"},{\"name\":\"title\",\"type\":\"string\"},{\"name\":\"document\",\"type\":\"flags.2?InputDocument\"},{\"name\":\"settings\",\"type\":\"flags.3?Vector<InputThemeSettings>\"}],\"type\":\"Theme\"},{\"id\":737414348,\"method\":\"account.updateTheme\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"format\",\"type\":\"string\"},{\"name\":\"theme\",\"type\":\"InputTheme\"},{\"name\":\"slug\",\"type\":\"flags.0?string\"},{\"name\":\"title\",\"type\":\"flags.1?string\"},{\"name\":\"document\",\"type\":\"flags.2?InputDocument\"},{\"name\":\"settings\",\"type\":\"flags.3?Vector<InputThemeSettings>\"}],\"type\":\"Theme\"},{\"id\":-229175188,\"method\":\"account.saveTheme\",\"params\":[{\"name\":\"theme\",\"type\":\"InputTheme\"},{\"name\":\"unsave\",\"type\":\"Bool\"}],\"type\":\"Bool\"},{\"id\":-953697477,\"method\":\"account.installTheme\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"dark\",\"type\":\"flags.0?true\"},{\"name\":\"theme\",\"type\":\"flags.1?InputTheme\"},{\"name\":\"format\",\"type\":\"flags.2?string\"},{\"name\":\"base_theme\",\"type\":\"flags.3?BaseTheme\"}],\"type\":\"Bool\"},{\"id\":-1919060949,\"method\":\"account.getTheme\",\"params\":[{\"name\":\"format\",\"type\":\"string\"},{\"name\":\"theme\",\"type\":\"InputTheme\"},{\"name\":\"document_id\",\"type\":\"long\"}],\"type\":\"Theme\"},{\"id\":1913054296,\"method\":\"account.getThemes\",\"params\":[{\"name\":\"format\",\"type\":\"string\"},{\"name\":\"hash\",\"type\":\"long\"}],\"type\":\"account.Themes\"},{\"id\":-1210022402,\"method\":\"auth.exportLoginToken\",\"params\":[{\"name\":\"api_id\",\"type\":\"int\"},{\"name\":\"api_hash\",\"type\":\"string\"},{\"name\":\"except_ids\",\"type\":\"Vector<long>\"}],\"type\":\"auth.LoginToken\"},{\"id\":-1783866140,\"method\":\"auth.importLoginToken\",\"params\":[{\"name\":\"token\",\"type\":\"bytes\"}],\"type\":\"auth.LoginToken\"},{\"id\":-392909491,\"method\":\"auth.acceptLoginToken\",\"params\":[{\"name\":\"token\",\"type\":\"bytes\"}],\"type\":\"Authorization\"},{\"id\":-1250643605,\"method\":\"account.setContentSettings\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"sensitive_enabled\",\"type\":\"flags.0?true\"}],\"type\":\"Bool\"},{\"id\":-1952756306,\"method\":\"account.getContentSettings\",\"params\":[],\"type\":\"account.ContentSettings\"},{\"id\":300429806,\"method\":\"channels.getInactiveChannels\",\"params\":[],\"type\":\"messages.InactiveChats\"},{\"id\":1705865692,\"method\":\"account.getMultiWallPapers\",\"params\":[{\"name\":\"wallpapers\",\"type\":\"Vector<InputWallPaper>\"}],\"type\":\"Vector<WallPaper>\"},{\"id\":-1200736242,\"method\":\"messages.getPollVotes\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"peer\",\"type\":\"InputPeer\"},{\"name\":\"id\",\"type\":\"int\"},{\"name\":\"option\",\"type\":\"flags.0?bytes\"},{\"name\":\"offset\",\"type\":\"flags.1?string\"},{\"name\":\"limit\",\"type\":\"int\"}],\"type\":\"messages.VotesList\"},{\"id\":-1257951254,\"method\":\"messages.toggleStickerSets\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"uninstall\",\"type\":\"flags.0?true\"},{\"name\":\"archive\",\"type\":\"flags.1?true\"},{\"name\":\"unarchive\",\"type\":\"flags.2?true\"},{\"name\":\"stickersets\",\"type\":\"Vector<InputStickerSet>\"}],\"type\":\"Bool\"},{\"id\":779736953,\"method\":\"payments.getBankCardData\",\"params\":[{\"name\":\"number\",\"type\":\"string\"}],\"type\":\"payments.BankCardData\"},{\"id\":-241247891,\"method\":\"messages.getDialogFilters\",\"params\":[],\"type\":\"Vector<DialogFilter>\"},{\"id\":-1566780372,\"method\":\"messages.getSuggestedDialogFilters\",\"params\":[],\"type\":\"Vector<DialogFilterSuggested>\"},{\"id\":450142282,\"method\":\"messages.updateDialogFilter\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"id\",\"type\":\"int\"},{\"name\":\"filter\",\"type\":\"flags.0?DialogFilter\"}],\"type\":\"Bool\"},{\"id\":-983318044,\"method\":\"messages.updateDialogFiltersOrder\",\"params\":[{\"name\":\"order\",\"type\":\"Vector<int>\"}],\"type\":\"Bool\"},{\"id\":-1421720550,\"method\":\"stats.getBroadcastStats\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"dark\",\"type\":\"flags.0?true\"},{\"name\":\"channel\",\"type\":\"InputChannel\"}],\"type\":\"stats.BroadcastStats\"},{\"id\":1646092192,\"method\":\"stats.loadAsyncGraph\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"token\",\"type\":\"string\"},{\"name\":\"x\",\"type\":\"flags.0?long\"}],\"type\":\"StatsGraph\"},{\"id\":-1707717072,\"method\":\"stickers.setStickerSetThumb\",\"params\":[{\"name\":\"stickerset\",\"type\":\"InputStickerSet\"},{\"name\":\"thumb\",\"type\":\"InputDocument\"}],\"type\":\"messages.StickerSet\"},{\"id\":85399130,\"method\":\"bots.setBotCommands\",\"params\":[{\"name\":\"scope\",\"type\":\"BotCommandScope\"},{\"name\":\"lang_code\",\"type\":\"string\"},{\"name\":\"commands\",\"type\":\"Vector<BotCommand>\"}],\"type\":\"Bool\"},{\"id\":2127598753,\"method\":\"messages.getOldFeaturedStickers\",\"params\":[{\"name\":\"offset\",\"type\":\"int\"},{\"name\":\"limit\",\"type\":\"int\"},{\"name\":\"hash\",\"type\":\"long\"}],\"type\":\"messages.FeaturedStickers\"},{\"id\":-1063816159,\"method\":\"help.getPromoData\",\"params\":[],\"type\":\"help.PromoData\"},{\"id\":505748629,\"method\":\"help.hidePromoData\",\"params\":[{\"name\":\"peer\",\"type\":\"InputPeer\"}],\"type\":\"Bool\"},{\"id\":-8744061,\"method\":\"phone.sendSignalingData\",\"params\":[{\"name\":\"peer\",\"type\":\"InputPhoneCall\"},{\"name\":\"data\",\"type\":\"bytes\"}],\"type\":\"Bool\"},{\"id\":-589330937,\"method\":\"stats.getMegagroupStats\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"dark\",\"type\":\"flags.0?true\"},{\"name\":\"channel\",\"type\":\"InputChannel\"}],\"type\":\"stats.MegagroupStats\"},{\"id\":-349483786,\"method\":\"account.getGlobalPrivacySettings\",\"params\":[],\"type\":\"GlobalPrivacySettings\"},{\"id\":517647042,\"method\":\"account.setGlobalPrivacySettings\",\"params\":[{\"name\":\"settings\",\"type\":\"GlobalPrivacySettings\"}],\"type\":\"GlobalPrivacySettings\"},{\"id\":-183649631,\"method\":\"help.dismissSuggestion\",\"params\":[{\"name\":\"peer\",\"type\":\"InputPeer\"},{\"name\":\"suggestion\",\"type\":\"string\"}],\"type\":\"Bool\"},{\"id\":1935116200,\"method\":\"help.getCountriesList\",\"params\":[{\"name\":\"lang_code\",\"type\":\"string\"},{\"name\":\"hash\",\"type\":\"int\"}],\"type\":\"help.CountriesList\"},{\"id\":584962828,\"method\":\"messages.getReplies\",\"params\":[{\"name\":\"peer\",\"type\":\"InputPeer\"},{\"name\":\"msg_id\",\"type\":\"int\"},{\"name\":\"offset_id\",\"type\":\"int\"},{\"name\":\"offset_date\",\"type\":\"int\"},{\"name\":\"add_offset\",\"type\":\"int\"},{\"name\":\"limit\",\"type\":\"int\"},{\"name\":\"max_id\",\"type\":\"int\"},{\"name\":\"min_id\",\"type\":\"int\"},{\"name\":\"hash\",\"type\":\"long\"}],\"type\":\"messages.Messages\"},{\"id\":1147761405,\"method\":\"messages.getDiscussionMessage\",\"params\":[{\"name\":\"peer\",\"type\":\"InputPeer\"},{\"name\":\"msg_id\",\"type\":\"int\"}],\"type\":\"messages.DiscussionMessage\"},{\"id\":-147740172,\"method\":\"messages.readDiscussion\",\"params\":[{\"name\":\"peer\",\"type\":\"InputPeer\"},{\"name\":\"msg_id\",\"type\":\"int\"},{\"name\":\"read_max_id\",\"type\":\"int\"}],\"type\":\"Bool\"},{\"id\":698914348,\"method\":\"contacts.blockFromReplies\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"delete_message\",\"type\":\"flags.0?true\"},{\"name\":\"delete_history\",\"type\":\"flags.1?true\"},{\"name\":\"report_spam\",\"type\":\"flags.2?true\"},{\"name\":\"msg_id\",\"type\":\"int\"}],\"type\":\"Updates\"},{\"id\":1445996571,\"method\":\"stats.getMessagePublicForwards\",\"params\":[{\"name\":\"channel\",\"type\":\"InputChannel\"},{\"name\":\"msg_id\",\"type\":\"int\"},{\"name\":\"offset_rate\",\"type\":\"int\"},{\"name\":\"offset_peer\",\"type\":\"InputPeer\"},{\"name\":\"offset_id\",\"type\":\"int\"},{\"name\":\"limit\",\"type\":\"int\"}],\"type\":\"messages.Messages\"},{\"id\":-1226791947,\"method\":\"stats.getMessageStats\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"dark\",\"type\":\"flags.0?true\"},{\"name\":\"channel\",\"type\":\"InputChannel\"},{\"name\":\"msg_id\",\"type\":\"int\"}],\"type\":\"stats.MessageStats\"},{\"id\":-265962357,\"method\":\"messages.unpinAllMessages\",\"params\":[{\"name\":\"peer\",\"type\":\"InputPeer\"}],\"type\":\"messages.AffectedHistory\"},{\"id\":1221445336,\"method\":\"phone.createGroupCall\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"rtmp_stream\",\"type\":\"flags.2?true\"},{\"name\":\"peer\",\"type\":\"InputPeer\"},{\"name\":\"random_id\",\"type\":\"int\"},{\"name\":\"title\",\"type\":\"flags.0?string\"},{\"name\":\"schedule_date\",\"type\":\"flags.1?int\"}],\"type\":\"Updates\"},{\"id\":-1322057861,\"method\":\"phone.joinGroupCall\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"muted\",\"type\":\"flags.0?true\"},{\"name\":\"video_stopped\",\"type\":\"flags.2?true\"},{\"name\":\"call\",\"type\":\"InputGroupCall\"},{\"name\":\"join_as\",\"type\":\"InputPeer\"},{\"name\":\"invite_hash\",\"type\":\"flags.1?string\"},{\"name\":\"params\",\"type\":\"DataJSON\"}],\"type\":\"Updates\"},{\"id\":1342404601,\"method\":\"phone.leaveGroupCall\",\"params\":[{\"name\":\"call\",\"type\":\"InputGroupCall\"},{\"name\":\"source\",\"type\":\"int\"}],\"type\":\"Updates\"},{\"id\":2067345760,\"method\":\"phone.inviteToGroupCall\",\"params\":[{\"name\":\"call\",\"type\":\"InputGroupCall\"},{\"name\":\"users\",\"type\":\"Vector<InputUser>\"}],\"type\":\"Updates\"},{\"id\":2054648117,\"method\":\"phone.discardGroupCall\",\"params\":[{\"name\":\"call\",\"type\":\"InputGroupCall\"}],\"type\":\"Updates\"},{\"id\":1958458429,\"method\":\"phone.toggleGroupCallSettings\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"reset_invite_hash\",\"type\":\"flags.1?true\"},{\"name\":\"call\",\"type\":\"InputGroupCall\"},{\"name\":\"join_muted\",\"type\":\"flags.0?Bool\"}],\"type\":\"Updates\"},{\"id\":68699611,\"method\":\"phone.getGroupCall\",\"params\":[{\"name\":\"call\",\"type\":\"InputGroupCall\"},{\"name\":\"limit\",\"type\":\"int\"}],\"type\":\"phone.GroupCall\"},{\"id\":-984033109,\"method\":\"phone.getGroupParticipants\",\"params\":[{\"name\":\"call\",\"type\":\"InputGroupCall\"},{\"name\":\"ids\",\"type\":\"Vector<InputPeer>\"},{\"name\":\"sources\",\"type\":\"Vector<int>\"},{\"name\":\"offset\",\"type\":\"string\"},{\"name\":\"limit\",\"type\":\"int\"}],\"type\":\"phone.GroupParticipants\"},{\"id\":-1248003721,\"method\":\"phone.checkGroupCall\",\"params\":[{\"name\":\"call\",\"type\":\"InputGroupCall\"},{\"name\":\"sources\",\"type\":\"Vector<int>\"}],\"type\":\"Vector<int>\"},{\"id\":1540419152,\"method\":\"messages.deleteChat\",\"params\":[{\"name\":\"chat_id\",\"type\":\"long\"}],\"type\":\"Bool\"},{\"id\":-104078327,\"method\":\"messages.deletePhoneCallHistory\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"revoke\",\"type\":\"flags.0?true\"}],\"type\":\"messages.AffectedFoundMessages\"},{\"id\":1140726259,\"method\":\"messages.checkHistoryImport\",\"params\":[{\"name\":\"import_head\",\"type\":\"string\"}],\"type\":\"messages.HistoryImportParsed\"},{\"id\":873008187,\"method\":\"messages.initHistoryImport\",\"params\":[{\"name\":\"peer\",\"type\":\"InputPeer\"},{\"name\":\"file\",\"type\":\"InputFile\"},{\"name\":\"media_count\",\"type\":\"int\"}],\"type\":\"messages.HistoryImport\"},{\"id\":713433234,\"method\":\"messages.uploadImportedMedia\",\"params\":[{\"name\":\"peer\",\"type\":\"InputPeer\"},{\"name\":\"import_id\",\"type\":\"long\"},{\"name\":\"file_name\",\"type\":\"string\"},{\"name\":\"media\",\"type\":\"InputMedia\"}],\"type\":\"MessageMedia\"},{\"id\":-1271008444,\"method\":\"messages.startHistoryImport\",\"params\":[{\"name\":\"peer\",\"type\":\"InputPeer\"},{\"name\":\"import_id\",\"type\":\"long\"}],\"type\":\"Bool\"},{\"id\":-1565154314,\"method\":\"messages.getExportedChatInvites\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"revoked\",\"type\":\"flags.3?true\"},{\"name\":\"peer\",\"type\":\"InputPeer\"},{\"name\":\"admin_id\",\"type\":\"InputUser\"},{\"name\":\"offset_date\",\"type\":\"flags.2?int\"},{\"name\":\"offset_link\",\"type\":\"flags.2?string\"},{\"name\":\"limit\",\"type\":\"int\"}],\"type\":\"messages.ExportedChatInvites\"},{\"id\":1937010524,\"method\":\"messages.getExportedChatInvite\",\"params\":[{\"name\":\"peer\",\"type\":\"InputPeer\"},{\"name\":\"link\",\"type\":\"string\"}],\"type\":\"messages.ExportedChatInvite\"},{\"id\":-1110823051,\"method\":\"messages.editExportedChatInvite\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"revoked\",\"type\":\"flags.2?true\"},{\"name\":\"peer\",\"type\":\"InputPeer\"},{\"name\":\"link\",\"type\":\"string\"},{\"name\":\"expire_date\",\"type\":\"flags.0?int\"},{\"name\":\"usage_limit\",\"type\":\"flags.1?int\"},{\"name\":\"request_needed\",\"type\":\"flags.3?Bool\"},{\"name\":\"title\",\"type\":\"flags.4?string\"}],\"type\":\"messages.ExportedChatInvite\"},{\"id\":1452833749,\"method\":\"messages.deleteRevokedExportedChatInvites\",\"params\":[{\"name\":\"peer\",\"type\":\"InputPeer\"},{\"name\":\"admin_id\",\"type\":\"InputUser\"}],\"type\":\"Bool\"},{\"id\":-731601877,\"method\":\"messages.deleteExportedChatInvite\",\"params\":[{\"name\":\"peer\",\"type\":\"InputPeer\"},{\"name\":\"link\",\"type\":\"string\"}],\"type\":\"Bool\"},{\"id\":958457583,\"method\":\"messages.getAdminsWithInvites\",\"params\":[{\"name\":\"peer\",\"type\":\"InputPeer\"}],\"type\":\"messages.ChatAdminsWithInvites\"},{\"id\":-553329330,\"method\":\"messages.getChatInviteImporters\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"requested\",\"type\":\"flags.0?true\"},{\"name\":\"peer\",\"type\":\"InputPeer\"},{\"name\":\"link\",\"type\":\"flags.1?string\"},{\"name\":\"q\",\"type\":\"flags.2?string\"},{\"name\":\"offset_date\",\"type\":\"int\"},{\"name\":\"offset_user\",\"type\":\"InputUser\"},{\"name\":\"limit\",\"type\":\"int\"}],\"type\":\"messages.ChatInviteImporters\"},{\"id\":-1207017500,\"method\":\"messages.setHistoryTTL\",\"params\":[{\"name\":\"peer\",\"type\":\"InputPeer\"},{\"name\":\"period\",\"type\":\"int\"}],\"type\":\"Updates\"},{\"id\":-91437323,\"method\":\"account.reportProfilePhoto\",\"params\":[{\"name\":\"peer\",\"type\":\"InputPeer\"},{\"name\":\"photo_id\",\"type\":\"InputPhoto\"},{\"name\":\"reason\",\"type\":\"ReportReason\"},{\"name\":\"message\",\"type\":\"string\"}],\"type\":\"Bool\"},{\"id\":187239529,\"method\":\"channels.convertToGigagroup\",\"params\":[{\"name\":\"channel\",\"type\":\"InputChannel\"}],\"type\":\"Updates\"},{\"id\":1573261059,\"method\":\"messages.checkHistoryImportPeer\",\"params\":[{\"name\":\"peer\",\"type\":\"InputPeer\"}],\"type\":\"messages.CheckedHistoryImportPeer\"},{\"id\":-248985848,\"method\":\"phone.toggleGroupCallRecord\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"start\",\"type\":\"flags.0?true\"},{\"name\":\"video\",\"type\":\"flags.2?true\"},{\"name\":\"call\",\"type\":\"InputGroupCall\"},{\"name\":\"title\",\"type\":\"flags.1?string\"},{\"name\":\"video_portrait\",\"type\":\"flags.2?Bool\"}],\"type\":\"Updates\"},{\"id\":-1524155713,\"method\":\"phone.editGroupCallParticipant\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"call\",\"type\":\"InputGroupCall\"},{\"name\":\"participant\",\"type\":\"InputPeer\"},{\"name\":\"muted\",\"type\":\"flags.0?Bool\"},{\"name\":\"volume\",\"type\":\"flags.1?int\"},{\"name\":\"raise_hand\",\"type\":\"flags.2?Bool\"},{\"name\":\"video_stopped\",\"type\":\"flags.3?Bool\"},{\"name\":\"video_paused\",\"type\":\"flags.4?Bool\"},{\"name\":\"presentation_paused\",\"type\":\"flags.5?Bool\"}],\"type\":\"Updates\"},{\"id\":480685066,\"method\":\"phone.editGroupCallTitle\",\"params\":[{\"name\":\"call\",\"type\":\"InputGroupCall\"},{\"name\":\"title\",\"type\":\"string\"}],\"type\":\"Updates\"},{\"id\":-277077702,\"method\":\"phone.getGroupCallJoinAs\",\"params\":[{\"name\":\"peer\",\"type\":\"InputPeer\"}],\"type\":\"phone.JoinAsPeers\"},{\"id\":-425040769,\"method\":\"phone.exportGroupCallInvite\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"can_self_unmute\",\"type\":\"flags.0?true\"},{\"name\":\"call\",\"type\":\"InputGroupCall\"}],\"type\":\"phone.ExportedGroupCallInvite\"},{\"id\":563885286,\"method\":\"phone.toggleGroupCallStartSubscription\",\"params\":[{\"name\":\"call\",\"type\":\"InputGroupCall\"},{\"name\":\"subscribed\",\"type\":\"Bool\"}],\"type\":\"Updates\"},{\"id\":1451287362,\"method\":\"phone.startScheduledGroupCall\",\"params\":[{\"name\":\"call\",\"type\":\"InputGroupCall\"}],\"type\":\"Updates\"},{\"id\":1465786252,\"method\":\"phone.saveDefaultGroupCallJoinAs\",\"params\":[{\"name\":\"peer\",\"type\":\"InputPeer\"},{\"name\":\"join_as\",\"type\":\"InputPeer\"}],\"type\":\"Bool\"},{\"id\":-873829436,\"method\":\"phone.joinGroupCallPresentation\",\"params\":[{\"name\":\"call\",\"type\":\"InputGroupCall\"},{\"name\":\"params\",\"type\":\"DataJSON\"}],\"type\":\"Updates\"},{\"id\":475058500,\"method\":\"phone.leaveGroupCallPresentation\",\"params\":[{\"name\":\"call\",\"type\":\"InputGroupCall\"}],\"type\":\"Updates\"},{\"id\":676017721,\"method\":\"stickers.checkShortName\",\"params\":[{\"name\":\"short_name\",\"type\":\"string\"}],\"type\":\"Bool\"},{\"id\":1303364867,\"method\":\"stickers.suggestShortName\",\"params\":[{\"name\":\"title\",\"type\":\"string\"}],\"type\":\"stickers.SuggestedShortName\"},{\"id\":1032708345,\"method\":\"bots.resetBotCommands\",\"params\":[{\"name\":\"scope\",\"type\":\"BotCommandScope\"},{\"name\":\"lang_code\",\"type\":\"string\"}],\"type\":\"Bool\"},{\"id\":-481554986,\"method\":\"bots.getBotCommands\",\"params\":[{\"name\":\"scope\",\"type\":\"BotCommandScope\"},{\"name\":\"lang_code\",\"type\":\"string\"}],\"type\":\"Vector<BotCommand>\"},{\"id\":-1828139493,\"method\":\"account.resetPassword\",\"params\":[],\"type\":\"account.ResetPasswordResult\"},{\"id\":1284770294,\"method\":\"account.declinePasswordReset\",\"params\":[],\"type\":\"Bool\"},{\"id\":221691769,\"method\":\"auth.checkRecoveryPassword\",\"params\":[{\"name\":\"code\",\"type\":\"string\"}],\"type\":\"Bool\"},{\"id\":-700916087,\"method\":\"account.getChatThemes\",\"params\":[{\"name\":\"hash\",\"type\":\"long\"}],\"type\":\"account.Themes\"},{\"id\":-432283329,\"method\":\"messages.setChatTheme\",\"params\":[{\"name\":\"peer\",\"type\":\"InputPeer\"},{\"name\":\"emoticon\",\"type\":\"string\"}],\"type\":\"Updates\"},{\"id\":-1095836780,\"method\":\"channels.viewSponsoredMessage\",\"params\":[{\"name\":\"channel\",\"type\":\"InputChannel\"},{\"name\":\"random_id\",\"type\":\"bytes\"}],\"type\":\"Bool\"},{\"id\":-333377601,\"method\":\"channels.getSponsoredMessages\",\"params\":[{\"name\":\"channel\",\"type\":\"InputChannel\"}],\"type\":\"messages.SponsoredMessages\"},{\"id\":745510839,\"method\":\"messages.getMessageReadParticipants\",\"params\":[{\"name\":\"peer\",\"type\":\"InputPeer\"},{\"name\":\"msg_id\",\"type\":\"int\"}],\"type\":\"Vector<long>\"},{\"id\":1240514025,\"method\":\"messages.getSearchResultsCalendar\",\"params\":[{\"name\":\"peer\",\"type\":\"InputPeer\"},{\"name\":\"filter\",\"type\":\"MessagesFilter\"},{\"name\":\"offset_id\",\"type\":\"int\"},{\"name\":\"offset_date\",\"type\":\"int\"}],\"type\":\"messages.SearchResultsCalendar\"},{\"id\":1855292323,\"method\":\"messages.getSearchResultsPositions\",\"params\":[{\"name\":\"peer\",\"type\":\"InputPeer\"},{\"name\":\"filter\",\"type\":\"MessagesFilter\"},{\"name\":\"offset_id\",\"type\":\"int\"},{\"name\":\"limit\",\"type\":\"int\"}],\"type\":\"messages.SearchResultsPositions\"},{\"id\":2145904661,\"method\":\"messages.hideChatJoinRequest\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"approved\",\"type\":\"flags.0?true\"},{\"name\":\"peer\",\"type\":\"InputPeer\"},{\"name\":\"user_id\",\"type\":\"InputUser\"}],\"type\":\"Updates\"},{\"id\":-528091926,\"method\":\"messages.hideAllChatJoinRequests\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"approved\",\"type\":\"flags.0?true\"},{\"name\":\"peer\",\"type\":\"InputPeer\"},{\"name\":\"link\",\"type\":\"flags.1?string\"}],\"type\":\"Updates\"},{\"id\":-1323389022,\"method\":\"messages.toggleNoForwards\",\"params\":[{\"name\":\"peer\",\"type\":\"InputPeer\"},{\"name\":\"enabled\",\"type\":\"Bool\"}],\"type\":\"Updates\"},{\"id\":-855777386,\"method\":\"messages.saveDefaultSendAs\",\"params\":[{\"name\":\"peer\",\"type\":\"InputPeer\"},{\"name\":\"send_as\",\"type\":\"InputPeer\"}],\"type\":\"Bool\"},{\"id\":231174382,\"method\":\"channels.getSendAs\",\"params\":[{\"name\":\"peer\",\"type\":\"InputPeer\"}],\"type\":\"channels.SendAsPeers\"},{\"id\":-1081501024,\"method\":\"account.setAuthorizationTTL\",\"params\":[{\"name\":\"authorization_ttl_days\",\"type\":\"int\"}],\"type\":\"Bool\"},{\"id\":1089766498,\"method\":\"account.changeAuthorizationSettings\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"hash\",\"type\":\"long\"},{\"name\":\"encrypted_requests_disabled\",\"type\":\"flags.0?Bool\"},{\"name\":\"call_requests_disabled\",\"type\":\"flags.1?Bool\"}],\"type\":\"Bool\"},{\"id\":913655003,\"method\":\"channels.deleteParticipantHistory\",\"params\":[{\"name\":\"channel\",\"type\":\"InputChannel\"},{\"name\":\"participant\",\"type\":\"InputPeer\"}],\"type\":\"messages.AffectedHistory\"},{\"id\":627641572,\"method\":\"messages.sendReaction\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"big\",\"type\":\"flags.1?true\"},{\"name\":\"peer\",\"type\":\"InputPeer\"},{\"name\":\"msg_id\",\"type\":\"int\"},{\"name\":\"reaction\",\"type\":\"flags.0?string\"}],\"type\":\"Updates\"},{\"id\":-1950707482,\"method\":\"messages.getMessagesReactions\",\"params\":[{\"name\":\"peer\",\"type\":\"InputPeer\"},{\"name\":\"id\",\"type\":\"Vector<int>\"}],\"type\":\"Updates\"},{\"id\":-521245833,\"method\":\"messages.getMessageReactionsList\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"peer\",\"type\":\"InputPeer\"},{\"name\":\"id\",\"type\":\"int\"},{\"name\":\"reaction\",\"type\":\"flags.0?string\"},{\"name\":\"offset\",\"type\":\"flags.1?string\"},{\"name\":\"limit\",\"type\":\"int\"}],\"type\":\"messages.MessageReactionsList\"},{\"id\":335875750,\"method\":\"messages.setChatAvailableReactions\",\"params\":[{\"name\":\"peer\",\"type\":\"InputPeer\"},{\"name\":\"available_reactions\",\"type\":\"Vector<string>\"}],\"type\":\"Updates\"},{\"id\":417243308,\"method\":\"messages.getAvailableReactions\",\"params\":[{\"name\":\"hash\",\"type\":\"int\"}],\"type\":\"messages.AvailableReactions\"},{\"id\":-647969580,\"method\":\"messages.setDefaultReaction\",\"params\":[{\"name\":\"reaction\",\"type\":\"string\"}],\"type\":\"Bool\"},{\"id\":617508334,\"method\":\"messages.translateText\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"peer\",\"type\":\"flags.0?InputPeer\"},{\"name\":\"msg_id\",\"type\":\"flags.0?int\"},{\"name\":\"text\",\"type\":\"flags.1?string\"},{\"name\":\"from_lang\",\"type\":\"flags.2?string\"},{\"name\":\"to_lang\",\"type\":\"string\"}],\"type\":\"messages.TranslatedText\"},{\"id\":-396644838,\"method\":\"messages.getUnreadReactions\",\"params\":[{\"name\":\"peer\",\"type\":\"InputPeer\"},{\"name\":\"offset_id\",\"type\":\"int\"},{\"name\":\"add_offset\",\"type\":\"int\"},{\"name\":\"limit\",\"type\":\"int\"},{\"name\":\"max_id\",\"type\":\"int\"},{\"name\":\"min_id\",\"type\":\"int\"}],\"type\":\"messages.Messages\"},{\"id\":-2099097129,\"method\":\"messages.readReactions\",\"params\":[{\"name\":\"peer\",\"type\":\"InputPeer\"}],\"type\":\"messages.AffectedHistory\"},{\"id\":-1963375804,\"method\":\"contacts.resolvePhone\",\"params\":[{\"name\":\"phone\",\"type\":\"string\"}],\"type\":\"contacts.ResolvedPeer\"},{\"id\":447879488,\"method\":\"phone.getGroupCallStreamChannels\",\"params\":[{\"name\":\"call\",\"type\":\"InputGroupCall\"}],\"type\":\"phone.GroupCallStreamChannels\"},{\"id\":-558650433,\"method\":\"phone.getGroupCallStreamRtmpUrl\",\"params\":[{\"name\":\"peer\",\"type\":\"InputPeer\"},{\"name\":\"revoke\",\"type\":\"Bool\"}],\"type\":\"phone.GroupCallStreamRtmpUrl\"},{\"id\":276705696,\"method\":\"messages.searchSentMedia\",\"params\":[{\"name\":\"q\",\"type\":\"string\"},{\"name\":\"filter\",\"type\":\"MessagesFilter\"},{\"name\":\"limit\",\"type\":\"int\"}],\"type\":\"messages.Messages\"},{\"id\":385663691,\"method\":\"messages.getAttachMenuBots\",\"params\":[{\"name\":\"hash\",\"type\":\"long\"}],\"type\":\"AttachMenuBots\"},{\"id\":1998676370,\"method\":\"messages.getAttachMenuBot\",\"params\":[{\"name\":\"bot\",\"type\":\"InputUser\"}],\"type\":\"AttachMenuBotsBot\"},{\"id\":451818415,\"method\":\"messages.toggleBotInAttachMenu\",\"params\":[{\"name\":\"bot\",\"type\":\"InputUser\"},{\"name\":\"enabled\",\"type\":\"Bool\"}],\"type\":\"Bool\"},{\"id\":262163967,\"method\":\"messages.requestWebView\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"from_bot_menu\",\"type\":\"flags.4?true\"},{\"name\":\"silent\",\"type\":\"flags.5?true\"},{\"name\":\"peer\",\"type\":\"InputPeer\"},{\"name\":\"bot\",\"type\":\"InputUser\"},{\"name\":\"url\",\"type\":\"flags.1?string\"},{\"name\":\"start_param\",\"type\":\"flags.3?string\"},{\"name\":\"theme_params\",\"type\":\"flags.2?DataJSON\"},{\"name\":\"reply_to_msg_id\",\"type\":\"flags.0?int\"}],\"type\":\"WebViewResult\"},{\"id\":-768945848,\"method\":\"messages.prolongWebView\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"silent\",\"type\":\"flags.5?true\"},{\"name\":\"peer\",\"type\":\"InputPeer\"},{\"name\":\"bot\",\"type\":\"InputUser\"},{\"name\":\"query_id\",\"type\":\"long\"},{\"name\":\"reply_to_msg_id\",\"type\":\"flags.0?int\"}],\"type\":\"Bool\"},{\"id\":1790652275,\"method\":\"messages.requestSimpleWebView\",\"params\":[{\"name\":\"flags\",\"type\":\"#\"},{\"name\":\"bot\",\"type\":\"InputUser\"},{\"name\":\"url\",\"type\":\"string\"},{\"name\":\"theme_params\",\"type\":\"flags.0?DataJSON\"}],\"type\":\"SimpleWebViewResult\"},{\"id\":172168437,\"method\":\"messages.sendWebViewResultMessage\",\"params\":[{\"name\":\"bot_query_id\",\"type\":\"string\"},{\"name\":\"result\",\"type\":\"InputBotInlineResult\"}],\"type\":\"WebViewMessageSent\"},{\"id\":-603831608,\"method\":\"messages.sendWebViewData\",\"params\":[{\"name\":\"bot\",\"type\":\"InputUser\"},{\"name\":\"random_id\",\"type\":\"long\"},{\"name\":\"button_text\",\"type\":\"string\"},{\"name\":\"data\",\"type\":\"string\"}],\"type\":\"Updates\"},{\"id\":1157944655,\"method\":\"bots.setBotMenuButton\",\"params\":[{\"name\":\"user_id\",\"type\":\"InputUser\"},{\"name\":\"button\",\"type\":\"BotMenuButton\"}],\"type\":\"Bool\"},{\"id\":-1671369944,\"method\":\"bots.getBotMenuButton\",\"params\":[{\"name\":\"user_id\",\"type\":\"InputUser\"}],\"type\":\"BotMenuButton\"},{\"id\":-510647672,\"method\":\"account.getSavedRingtones\",\"params\":[{\"name\":\"hash\",\"type\":\"long\"}],\"type\":\"account.SavedRingtones\"},{\"id\":1038768899,\"method\":\"account.saveRingtone\",\"params\":[{\"name\":\"id\",\"type\":\"InputDocument\"},{\"name\":\"unsave\",\"type\":\"Bool\"}],\"type\":\"account.SavedRingtone\"},{\"id\":-2095414366,\"method\":\"account.uploadRingtone\",\"params\":[{\"name\":\"file\",\"type\":\"InputFile\"},{\"name\":\"file_name\",\"type\":\"string\"},{\"name\":\"mime_type\",\"type\":\"string\"}],\"type\":\"Document\"},{\"id\":2021942497,\"method\":\"bots.setBotBroadcastDefaultAdminRights\",\"params\":[{\"name\":\"admin_rights\",\"type\":\"ChatAdminRights\"}],\"type\":\"Bool\"},{\"id\":-1839281686,\"method\":\"bots.setBotGroupDefaultAdminRights\",\"params\":[{\"name\":\"admin_rights\",\"type\":\"ChatAdminRights\"}],\"type\":\"Bool\"}]},\"layer\":140} as {\r\n  MTProto: {\r\n    constructors: MTProtoConstructor[],\r\n    methods: MTProtoMethod[],\r\n    constructorsIndex?: {[id: number]: number}\r\n  },\r\n  API: {\r\n    constructors: MTProtoConstructor[],\r\n    methods: MTProtoMethod[],\r\n    constructorsIndex?: {[id: number]: number}\r\n  },\r\n  layer: number,\r\n};","export default function intToUint(val: number) {\r\n  // return val < 0 ? val + 4294967296 : val; // 0 <= val <= Infinity\r\n  return val >>> 0; // (4294967296 >>> 0) === 0; 0 <= val <= 4294967295\r\n}\r\n","import bigInt from \"big-integer\";\r\nimport intToUint from \"../number/intToUint\";\r\n\r\nexport default function ulongFromInts(high: number, low: number) {\r\n  high = intToUint(high), low = intToUint(low);\r\n  return bigInt(high).shiftLeft(32).add(bigInt(low));\r\n}\r\n","import bigInt from 'big-integer';\r\n\r\nexport const safeBigInt = bigInt(Number.MAX_SAFE_INTEGER);\r\nexport const ulongBigInt = bigInt(bigInt[2]).pow(64);\r\nexport const longBigInt = ulongBigInt.divide(bigInt[2]);\r\n","import bigInt from 'big-integer';\r\nimport { longBigInt, ulongBigInt } from './bigIntConstants';\r\n\r\nexport function bigIntFromBytes(bytes: Uint8Array | number[], base = 256) {\r\n  return bigInt.fromArray(bytes instanceof Uint8Array ? [...bytes] : bytes, base);\r\n}\r\n\r\nexport function bigIntToBytes(bigInt: bigInt.BigInteger) {\r\n  return new Uint8Array(bigInt.toArray(256).value);\r\n}\r\n\r\nexport function bigIntToSigned(bigInt: bigInt.BigInteger) {\r\n  return bigInt.greater(longBigInt) ? bigInt.minus(ulongBigInt) : bigInt;\r\n}\r\n\r\nexport function bigIntToUnsigned(bigInt: bigInt.BigInteger) {\r\n  return bigInt.isNegative() ? ulongBigInt.add(bigInt) : bigInt;\r\n}\r\n","/*\r\n * https://github.com/morethanwords/tweb\r\n * Copyright (C) 2019-2021 Eduard Kuzmenko\r\n * https://github.com/morethanwords/tweb/blob/master/LICENSE\r\n * \r\n * Originally from:\r\n * https://github.com/zhukov/webogram\r\n * Copyright (C) 2014 Igor Zhukov <igor.beatle@gmail.com>\r\n * https://github.com/zhukov/webogram/blob/master/LICENSE\r\n */\r\n\r\nimport Schema, { MTProtoConstructor } from './schema';\r\nimport { JSONValue } from '../../layer';\r\nimport { MOUNT_CLASS_TO } from '../../config/debug';\r\nimport bytesToHex from '../../helpers/bytes/bytesToHex';\r\nimport isObject from '../../helpers/object/isObject';\r\nimport gzipUncompress from '../../helpers/gzipUncompress';\r\nimport bigInt from 'big-integer';\r\nimport ulongFromInts from '../../helpers/long/ulongFromInts';\r\nimport { safeBigInt } from '../../helpers/bigInt/bigIntConstants';\r\nimport { bigIntToSigned, bigIntToUnsigned } from '../../helpers/bigInt/bigIntConversion';\r\n\r\nconst boolFalse = +Schema.API.constructors.find((c) => c.predicate === 'boolFalse').id;\r\nconst boolTrue = +Schema.API.constructors.find((c) => c.predicate === 'boolTrue').id;\r\nconst vector = +Schema.API.constructors.find((c) => c.predicate === 'vector').id;\r\nconst gzipPacked = +Schema.MTProto.constructors.find((c) => c.predicate === 'gzip_packed').id;\r\n\r\nclass TLSerialization {\r\n  private maxLength = 2048; // 2Kb\r\n  private offset = 0; // in bytes\r\n  private mtproto = false;\r\n  private debug = false;//Modes.debug;\r\n\r\n  private buffer: ArrayBuffer;\r\n  private intView: Int32Array;\r\n  private byteView: Uint8Array;\r\n\r\n  constructor(options: Partial<{startMaxLength: number, mtproto: true}> = {}) {\r\n    this.maxLength = options.startMaxLength || 2048; // 2Kb\r\n    this.mtproto = options.mtproto || false;\r\n    this.createBuffer();\r\n  }\r\n\r\n  public createBuffer() {\r\n    this.buffer = new ArrayBuffer(this.maxLength);\r\n    this.intView = new Int32Array(this.buffer);\r\n    this.byteView = new Uint8Array(this.buffer);\r\n  }\r\n\r\n  public getArray() {\r\n    const resultBuffer = new ArrayBuffer(this.offset);\r\n\r\n    //let perf = performance.now();\r\n    /* const resultUint8: any = new Uint8Array(resultBuffer);\r\n    resultUint8.set(this.byteView.subarray(0, this.offset)); */\r\n    //console.log('perf uint8', performance.now() - perf);\r\n\r\n    //perf = performance.now();\r\n    const resultInt32 = new Int32Array(resultBuffer);\r\n    resultInt32.set(this.intView.subarray(0, this.offset / 4));\r\n    //console.log('perf int32', performance.now() - perf);\r\n\r\n    /* if(resultUint8.buffer.byteLength !== resultInt32.buffer.byteLength) {\r\n      console.error(resultUint8, resultInt32);\r\n    } */\r\n  \r\n    return resultInt32;\r\n  }\r\n\r\n  public getBuffer() {\r\n    return this.getArray().buffer;\r\n  }\r\n\r\n  public getBytes(typed: true): Uint8Array;\r\n  public getBytes(typed?: false): number[];\r\n  public getBytes(typed: boolean = true): number[] | Uint8Array {\r\n    if(typed) {\r\n      const resultBuffer = new ArrayBuffer(this.offset);\r\n      const resultArray = new Uint8Array(resultBuffer);\r\n  \r\n      resultArray.set(this.byteView.subarray(0, this.offset));\r\n  \r\n      return resultArray;\r\n    }\r\n  \r\n    const bytes: number[] = new Array(this.offset);\r\n    for(let i = 0; i < this.offset; i++) {\r\n      bytes[i] = this.byteView[i];\r\n    }\r\n    return bytes;\r\n  }\r\n\r\n  public getOffset() {\r\n    return this.offset;\r\n  }\r\n\r\n  public checkLength(needBytes: number) {\r\n    if(this.offset + needBytes < this.maxLength) {\r\n      return;\r\n    }\r\n  \r\n    //console.log('Increase buffer start', this.offset, needBytes, this.maxLength, this.byteView.slice(0, 32));\r\n    this.maxLength = Math.ceil(Math.max(this.maxLength * 2, this.offset + needBytes + 16) / 4) * 4;\r\n    const previousBuffer = this.buffer;\r\n    //const previousByteView = this.byteView;\r\n    const previousArray = new Int32Array(previousBuffer);\r\n    \r\n    this.createBuffer();\r\n    \r\n    new Int32Array(this.buffer).set(previousArray);\r\n    /* console.log('Increase buffer end', this.offset, needBytes, this.maxLength, this.byteView.slice(0, 32), \r\n      bytesCmp(previousByteView, this.byteView.slice(0, previousByteView.length))); */\r\n  }\r\n\r\n  public writeInt(i: number, field: string) {\r\n    this.debug && console.log('>>>', i.toString(16), i, field);\r\n  \r\n    const offset = this.offset / 4;\r\n    this.checkLength(4);\r\n    this.intView[offset] = i;\r\n    this.offset += 4;\r\n\r\n    return offset;\r\n  }\r\n  \r\n  public storeInt(i: number, field?: string) {\r\n    return this.writeInt(i, (field || '') + ':int');\r\n  }\r\n  \r\n  public storeBool(i: boolean, field?: string) {\r\n    if(i) {\r\n      this.writeInt(boolTrue, (field || '') + ':bool');\r\n    } else {\r\n      this.writeInt(boolFalse, (field || '') + ':bool');\r\n    }\r\n  }\r\n  \r\n  public storeLongP(iHigh: number, iLow: number, field?: string) {\r\n    this.writeInt(iLow, (field || '') + ':long[low]');\r\n    this.writeInt(iHigh, (field || '') + ':long[high]');\r\n  }\r\n\r\n  public storeLong(sLong: Array<number> | string | number, field?: string) {\r\n    if(Array.isArray(sLong)) {\r\n      if(sLong.length === 2) {\r\n        return this.storeLongP(sLong[0], sLong[1], field);\r\n      } else {\r\n        return this.storeIntBytes(sLong, 64, field);\r\n      }\r\n    }\r\n\r\n    const _bigInt = bigIntToUnsigned(bigInt(sLong as string));\r\n    const {quotient, remainder} = _bigInt.divmod(0x100000000);\r\n    const high = quotient.toJSNumber();\r\n    const low = remainder.toJSNumber();\r\n\r\n    this.writeInt(low, (field || '') + ':long[low]');\r\n    this.writeInt(high, (field || '') + ':long[high]');\r\n  }\r\n  \r\n  public storeDouble(f: any, field?: string) {\r\n    const buffer = new ArrayBuffer(8);\r\n    const intView = new Int32Array(buffer);\r\n    const doubleView = new Float64Array(buffer);\r\n  \r\n    doubleView[0] = f;\r\n  \r\n    this.writeInt(intView[0], (field || '') + ':double[low]');\r\n    this.writeInt(intView[1], (field || '') + ':double[high]');\r\n  }\r\n  \r\n  public storeString(s: string, field?: string) {\r\n    this.debug && console.log('>>>', s, (field || '') + ':string');\r\n  \r\n    if(s === undefined) {\r\n      s = '';\r\n    }\r\n    const sUTF8 = unescape(encodeURIComponent(s));\r\n  \r\n    this.checkLength(sUTF8.length + 8);\r\n  \r\n    const len = sUTF8.length;\r\n    if(len <= 253) {\r\n      this.byteView[this.offset++] = len;\r\n    } else {\r\n      this.byteView[this.offset++] = 254;\r\n      this.byteView[this.offset++] = len & 0xFF;\r\n      this.byteView[this.offset++] = (len & 0xFF00) >> 8;\r\n      this.byteView[this.offset++] = (len & 0xFF0000) >> 16;\r\n    }\r\n    for(let i = 0; i < len; i++) {\r\n      this.byteView[this.offset++] = sUTF8.charCodeAt(i);\r\n    }\r\n  \r\n    // Padding\r\n    while(this.offset % 4) {\r\n      this.byteView[this.offset++] = 0;\r\n    }\r\n  }\r\n  \r\n  public storeBytes(bytes: ArrayBuffer | Uint8Array | number[], field?: string) {\r\n    if(bytes instanceof ArrayBuffer) {\r\n      bytes = new Uint8Array(bytes);\r\n    } else if(bytes === undefined) {\r\n      bytes = [];\r\n    }\r\n\r\n    this.debug && console.log('>>>', bytesToHex(bytes as number[]), (field || '') + ':bytes');\r\n  \r\n    // if uint8array was json.stringified, then will be: {'0': 123, '1': 123}\r\n    const len = (bytes as Uint8Array).length;\r\n    this.checkLength(len + 8);\r\n    if(len <= 253) {\r\n      this.byteView[this.offset++] = len;\r\n    } else {\r\n      this.byteView[this.offset++] = 254;\r\n      this.byteView[this.offset++] = len & 0xFF;\r\n      this.byteView[this.offset++] = (len & 0xFF00) >> 8;\r\n      this.byteView[this.offset++] = (len & 0xFF0000) >> 16;\r\n    }\r\n  \r\n    this.byteView.set(bytes as Uint8Array, this.offset);\r\n    this.offset += len;\r\n  \r\n    // Padding\r\n    while(this.offset % 4) {\r\n      this.byteView[this.offset++] = 0;\r\n    }\r\n  }\r\n  \r\n  public storeIntBytes(bytes: ArrayBuffer | Uint8Array | number[], bits: number, field?: string) {\r\n    if(bytes instanceof ArrayBuffer) {\r\n      bytes = new Uint8Array(bytes);\r\n    }\r\n\r\n    const len = (bytes as Uint8Array).length;\r\n    if((bits % 32) || (len * 8) !== bits) {\r\n      const error = new Error('Invalid bits: ' + bits + ', ' + len);\r\n      console.error(error, bytes, field);\r\n      throw error;\r\n    }\r\n  \r\n    this.debug && console.log('>>>', bytesToHex(bytes as Uint8Array), (field || '') + ':int' + bits);\r\n    this.checkLength(len);\r\n  \r\n    this.byteView.set(bytes as Uint8Array, this.offset);\r\n    this.offset += len;\r\n  }\r\n  \r\n  public storeRawBytes(bytes: ArrayLike<number>, field?: string) {\r\n    if(bytes instanceof ArrayBuffer) {\r\n      bytes = new Uint8Array(bytes);\r\n    }\r\n\r\n    const len = bytes.length;\r\n  \r\n    this.debug && console.log('>>>', bytesToHex(bytes), (field || ''));\r\n    this.checkLength(len);\r\n  \r\n    this.byteView.set(bytes, this.offset);\r\n    this.offset += len;\r\n  }\r\n  \r\n  public storeMethod(methodName: string, params: any) {\r\n    const schema = this.mtproto ? Schema.MTProto : Schema.API;\r\n    const methodData = schema.methods.find((m) => m.method === methodName);\r\n\r\n    if(!methodData) {\r\n      throw new Error('No method ' + methodName + ' found');\r\n    }\r\n  \r\n    this.storeInt(methodData.id, methodName + '[id]');\r\n\r\n    const pFlags = params.pFlags || params; // * support pFlags, though am not expecting it to be there\r\n    const flagsOffsets: {[paramName: string]: number} = {};\r\n    //console.log('storeMethod', len, methodData);\r\n    for(const param of methodData.params) {\r\n      let type = param.type;\r\n\r\n      if(type.indexOf('?') !== -1) {\r\n        const condType = type.split('?');\r\n        const fieldBit = condType[0].split('.');\r\n\r\n        if(!(params[fieldBit[0]] & (1 << +fieldBit[1]))) {\r\n          if(condType[1] === 'true' ? pFlags[param.name] : params[param.name] !== undefined) {\r\n            //console.log('storeMethod autocompleting', methodName, param.name, params[param.name], type);\r\n            params[fieldBit[0]] |= 1 << +fieldBit[1];\r\n          } else {\r\n            continue;\r\n          }\r\n        }\r\n        \r\n        //console.log('storeMethod', methodName, fieldBit, params[fieldBit[0]], params, param, condType, !!(params[fieldBit[0]] & (1 << +fieldBit[1])));\r\n        type = condType[1];\r\n      }\r\n      \r\n      //console.log('storeMethod', methodName, param.name, params[param.name], type);\r\n      const result = this.storeObject(params[param.name], type, methodName + '[' + param.name + ']');\r\n\r\n      if(type === '#') {\r\n        params[param.name] = params[param.name] || 0;\r\n        flagsOffsets[param.name] = result as number;\r\n      }\r\n    }\r\n\r\n    for(let paramName in flagsOffsets) {\r\n      this.intView[flagsOffsets[paramName]] = params[paramName];\r\n    }\r\n\r\n    return methodData.type;\r\n  }\r\n  \r\n  public storeObject(obj: any, type: string, field?: string) {\r\n    //console.log('storeObject', obj, type, field, this.offset, this.getBytes(true).hex);\r\n    switch(type) {\r\n      case '#':\r\n        obj = obj || 0;\r\n      case 'int':\r\n        return this.storeInt(obj, field);\r\n      case 'long':\r\n        return this.storeLong(obj, field);\r\n      case 'int128':\r\n        return this.storeIntBytes(obj, 128, field);\r\n      case 'int256':\r\n        return this.storeIntBytes(obj, 256, field);\r\n      case 'int512':\r\n        return this.storeIntBytes(obj, 512, field);\r\n      case 'string':\r\n        return this.storeString(obj, field);\r\n      case 'bytes':\r\n        return this.storeBytes(obj, field);\r\n      case 'double':\r\n        return this.storeDouble(obj, field);\r\n      case 'Bool':\r\n        return this.storeBool(obj, field);\r\n      case 'true':\r\n        return\r\n    }\r\n  \r\n    if(Array.isArray(obj)) {\r\n      if(type.substr(0, 6) === 'Vector') {\r\n        this.writeInt(vector, field + '[id]');\r\n      } else if (type.substr(0, 6) !== 'vector') {\r\n        throw new Error('Invalid vector type ' + type);\r\n      }\r\n\r\n      const itemType = type.substr(7, type.length - 8); // for \"Vector<itemType>\"\r\n      this.writeInt(obj.length, field + '[count]');\r\n      for(let i = 0; i < obj.length; i++) {\r\n        this.storeObject(obj[i], itemType, field + '[' + i + ']');\r\n      }\r\n\r\n      return true;\r\n    } else if (type.substr(0, 6).toLowerCase() === 'vector') {\r\n      throw new Error('Invalid vector object');\r\n    }\r\n    \r\n    if(!isObject(obj)) {\r\n      throw new Error('Invalid object for type ' + type);\r\n    }\r\n  \r\n    const schema = this.mtproto ? Schema.MTProto : Schema.API;\r\n    const predicate = obj['_'];\r\n    let isBare = false;\r\n    const constructorData: MTProtoConstructor = schema.constructors.find((c) => c.predicate === predicate);\r\n  \r\n    if(isBare = (type.charAt(0) === '%')) {\r\n      type = type.substr(1);\r\n    }\r\n\r\n    if(!constructorData) {\r\n      throw new Error('No predicate ' + predicate + ' found');\r\n    }\r\n  \r\n    if(predicate === type) {\r\n      isBare = true;\r\n    }\r\n  \r\n    if(!isBare) {\r\n      this.writeInt(constructorData.id, field + '[' + predicate + '][id]');\r\n    }\r\n\r\n    const pFlags = obj.pFlags;\r\n    const flagsOffsets: {[paramName: string]: number} = {};\r\n    //console.log('storeObject', len, constructorData);\r\n    for(const param of constructorData.params) {\r\n      let type = param.type;\r\n\r\n      //console.log('storeObject', param, type);\r\n      if(type.indexOf('?') !== -1) {\r\n        const condType = type.split('?');\r\n        const fieldBit = condType[0].split('.');\r\n\r\n        //console.log('storeObject fieldBit', fieldBit, obj[fieldBit[0]]);\r\n\r\n        if(!(obj[fieldBit[0]] & (1 << +fieldBit[1]))) {\r\n          if(condType[1] === 'true' ? pFlags && pFlags[param.name] : obj[param.name] !== undefined) {\r\n            //console.log('storeObject autocompleting', param.name, obj[param.name], type);\r\n            obj[fieldBit[0]] |= 1 << +fieldBit[1];\r\n          } else {\r\n            continue;\r\n          }\r\n        }\r\n\r\n        type = condType[1];\r\n      }\r\n      //console.log('storeObject', param, type);\r\n  \r\n      const result = this.storeObject(obj[param.name], type, field + '[' + predicate + '][' + param.name + ']');\r\n\r\n      if(type === '#') {\r\n        obj[param.name] = obj[param.name] || 0;\r\n        flagsOffsets[param.name] = result as number;\r\n      }\r\n    }\r\n\r\n    for(let paramName in flagsOffsets) {\r\n      this.intView[flagsOffsets[paramName]] = obj[paramName];\r\n    }\r\n  \r\n    return constructorData.type;\r\n  }\r\n}\r\n\r\nclass TLDeserialization<FetchLongAs extends Long> {\r\n  private offset = 0; // in bytes\r\n  private override: {[key: string]: (result: any, field: string) => void};\r\n\r\n  private buffer: ArrayBuffer;\r\n  private intView: Int32Array;\r\n  private byteView: Uint8Array;\r\n\r\n  // this.debug = \r\n  private mtproto: boolean = false;\r\n  private debug: boolean;\r\n\r\n  constructor(buffer: ArrayBuffer | Uint8Array, options: Partial<{override: any, mtproto: true, debug: true}> = {}) {\r\n    //buffer = addPadding(buffer, 4, true); // fix 21.01.2020 for wss\r\n    if(buffer instanceof ArrayBuffer) {\r\n      this.buffer = buffer;\r\n      this.intView = new Int32Array(buffer);\r\n      this.byteView = new Uint8Array(this.buffer);\r\n    } else {\r\n      this.buffer = buffer.buffer;\r\n      this.intView = new Int32Array(buffer.buffer);\r\n      this.byteView = buffer;\r\n    }\r\n\r\n    //console.log(this.intView);\r\n\r\n    this.override = options.override || {};\r\n    this.mtproto = !!options.mtproto;\r\n    this.debug = options.debug !== undefined ? options.debug : /* Modes.debug */false;\r\n  }\r\n\r\n  /* public setMtproto(mtproto: boolean) {\r\n    this.mtproto = mtproto;\r\n  } */\r\n\r\n  private readInt(field: string) {\r\n    //if(this.offset >= this.intView.length * 4) {\r\n    if((this.byteView.length - this.offset) < 4) {\r\n      console.error(this.byteView, this.offset);\r\n      throw new Error('Nothing to fetch: ' + field);\r\n    }\r\n  \r\n    const i = this.intView[this.offset / 4];\r\n    // const i = new Uint32Array(this.byteView.buffer.slice(this.offset, this.offset + 4))[0];\r\n  \r\n    this.debug/*  || field.includes('[dialog][read_outbox_max_id]') */ \r\n      && console.log('<<<', i.toString(16), i, field, \r\n      this.byteView.slice(this.offset - 16, this.offset + 16), \r\n      bytesToHex(this.byteView.slice(this.offset - 16, this.offset + 16)));\r\n  \r\n    this.offset += 4;\r\n  \r\n    return i;\r\n  }\r\n  \r\n  public fetchInt(field?: string) {\r\n    return this.readInt((field || '') + ':int');\r\n  }\r\n  \r\n  public fetchDouble(field?: string) {\r\n    const buffer = new ArrayBuffer(8);\r\n    const intView = new Int32Array(buffer);\r\n    const doubleView = new Float64Array(buffer);\r\n  \r\n    intView[0] = this.readInt((field || '') + ':double[low]'),\r\n    intView[1] = this.readInt((field || '') + ':double[high]');\r\n  \r\n    return doubleView[0];\r\n  }\r\n  \r\n  // ! it should've been signed\r\n  public fetchLong(field?: string): FetchLongAs {\r\n    const iLow = this.readInt((field || '') + ':long[low]');\r\n    const iHigh = this.readInt((field || '') + ':long[high]');\r\n\r\n    let ulong = ulongFromInts(iHigh, iLow);\r\n    if(/* !unsigned &&  */!this.mtproto) { // make it signed\r\n      ulong = bigIntToSigned(ulong);\r\n    }\r\n\r\n    if(!this.mtproto) {\r\n      if(safeBigInt.greaterOrEquals(ulong.abs())) {\r\n        // @ts-ignore\r\n        return ulong.toJSNumber();\r\n      }\r\n    }\r\n  \r\n    // @ts-ignore\r\n    return ulong.toString(10);\r\n  }\r\n  \r\n  public fetchBool(field?: string): boolean {\r\n    const i = this.readInt((field || '') + ':bool');\r\n    if(i === boolTrue) {\r\n      return true;\r\n    } else if(i === boolFalse) {\r\n      return false;\r\n    }\r\n\r\n    this.offset -= 4;\r\n    return this.fetchObject('Object', field);\r\n  }\r\n  \r\n  public fetchString(field?: string): string {\r\n    let len = this.byteView[this.offset++];\r\n  \r\n    if(len === 254) {\r\n      len = this.byteView[this.offset++] |\r\n        (this.byteView[this.offset++] << 8) |\r\n        (this.byteView[this.offset++] << 16);\r\n    }\r\n  \r\n    let sUTF8 = '';\r\n    for(let i = 0; i < len; i++) {\r\n      sUTF8 += String.fromCharCode(this.byteView[this.offset++]);\r\n    }\r\n  \r\n    // Padding\r\n    while(this.offset % 4) {\r\n      this.offset++;\r\n    }\r\n  \r\n    let s: string;\r\n    try {\r\n      s = decodeURIComponent(escape(sUTF8));\r\n    } catch (e) {\r\n      s = sUTF8;\r\n    }\r\n  \r\n    this.debug && console.log('<<<', s, (field || '') + ':string');\r\n  \r\n    return s;\r\n  }\r\n  \r\n  public fetchBytes(field?: string) {\r\n    let len = this.byteView[this.offset++];\r\n  \r\n    if(len === 254) {\r\n      len = this.byteView[this.offset++] |\r\n        (this.byteView[this.offset++] << 8) |\r\n        (this.byteView[this.offset++] << 16);\r\n    }\r\n  \r\n    const bytes = this.byteView.subarray(this.offset, this.offset + len);\r\n    this.offset += len;\r\n  \r\n    // Padding\r\n    while(this.offset % 4) {\r\n      this.offset++;\r\n    }\r\n  \r\n    this.debug && console.log('<<<', bytesToHex(bytes), (field || '') + ':bytes');\r\n  \r\n    return bytes;\r\n  }\r\n  \r\n  public fetchIntBytes(bits: number, typed: true, field?: string): Uint8Array;\r\n  public fetchIntBytes(bits: number, typed?: false, field?: string): number[];\r\n  public fetchIntBytes(bits: number, typed: boolean = true, field?: string) {\r\n    if(bits % 32) {\r\n      throw new Error('Invalid bits: ' + bits);\r\n    }\r\n  \r\n    const len = bits / 8;\r\n    if(typed) {\r\n      const result = this.byteView.subarray(this.offset, this.offset + len);\r\n      this.offset += len;\r\n      return result;\r\n    }\r\n  \r\n    const bytes: number[] = new Array(len);\r\n    for(let i = 0; i < len; i++) {\r\n      bytes[i] = this.byteView[this.offset++];\r\n    }\r\n  \r\n    this.debug && console.log('<<<', bytesToHex(bytes), (field || '') + ':int' + bits);\r\n  \r\n    return bytes;\r\n  }\r\n  \r\n  public fetchRawBytes(len: number | false, typed: true, field: string): Uint8Array;\r\n  public fetchRawBytes(len: number | false, typed: false, field: string): number[];\r\n  public fetchRawBytes(len: number | false, typed: boolean = true, field: string) {\r\n    if(len === false) {\r\n      len = this.readInt((field || '') + '_length');\r\n      if(len > this.byteView.byteLength) {\r\n        throw new Error('Invalid raw bytes length: ' + len + ', buffer len: ' + this.byteView.byteLength);\r\n      }\r\n    }\r\n  \r\n    if(typed) {\r\n      const bytes = new Uint8Array(len);\r\n      bytes.set(this.byteView.subarray(this.offset, this.offset + len));\r\n      this.offset += len;\r\n      return bytes;\r\n    }\r\n  \r\n    const bytes: number[] = new Array(len);\r\n    for(let i = 0; i < len; i++) {\r\n      bytes[i] = this.byteView[this.offset++];\r\n    }\r\n  \r\n    this.debug && console.log('<<<', bytesToHex(bytes), (field || ''));\r\n  \r\n    return bytes;\r\n  }\r\n\r\n  private fetchVector(type: string, field?: string) {\r\n    const len = this.readInt(field + '[count]');\r\n    const result: any[] = new Array(len);\r\n    if(len > 0) {\r\n      const itemType = type.substr(7, type.length - 8); // for \"Vector<itemType>\"\r\n      for(let i = 0; i < len; ++i) {\r\n        result[i] = this.fetchObject(itemType, field + '[' + i + ']');\r\n      }\r\n    }\r\n  \r\n    return result;\r\n  }\r\n  \r\n  public fetchObject(type: string, field?: string): any {\r\n    switch(type) {\r\n      case '#':\r\n      case 'int':\r\n        return this.fetchInt(field);\r\n      case 'long':\r\n        return this.fetchLong(field);\r\n      case 'int128':\r\n        return this.fetchIntBytes(128, true, field);\r\n      case 'int256':\r\n        return this.fetchIntBytes(256, true, field);\r\n      case 'int512':\r\n        return this.fetchIntBytes(512, true, field);\r\n      case 'string':\r\n        return this.fetchString(field);\r\n      case 'bytes':\r\n        return this.fetchBytes(field);\r\n      case 'double':\r\n        return this.fetchDouble(field);\r\n      case 'Bool':\r\n        return this.fetchBool(field);\r\n      case 'true':\r\n        return true;\r\n    }\r\n  \r\n    field = field || type || 'Object';\r\n  \r\n    if(type.charAt(0) === 'v' && type.substr(1, 5) === 'ector') {\r\n      return this.fetchVector(type, field);\r\n    }\r\n  \r\n    const schema = this.mtproto ? Schema.MTProto : Schema.API;\r\n    let constructorData: MTProtoConstructor = null;\r\n    let fallback = false;\r\n  \r\n    if(type.charAt(0) === '%') {\r\n      const checkType = type.substr(1);\r\n      constructorData = schema.constructors.find((c) => c.type === checkType);\r\n      if(!constructorData) {\r\n        throw new Error('Constructor not found for type: ' + type);\r\n      }\r\n    }/*  else if(type.charAt(0) >= 97 && type.charAt(0) <= 122) {\r\n      constructorData = schema.constructors.find((c) => c.predicate === type);\r\n      if(!constructorData) {\r\n        throw new Error('Constructor not found for predicate: ' + type);\r\n      }\r\n    } */ else {\r\n      const constructorCmp = this.readInt(field + '[id]');\r\n  \r\n      if(constructorCmp === gzipPacked) { // Gzip packed\r\n        const compressed = this.fetchBytes(field + '[packed_string]');\r\n        const uncompressed = gzipUncompress(compressed) as Uint8Array;\r\n        const newDeserializer = new TLDeserialization(uncompressed); // rpc_result is packed here\r\n  \r\n        return newDeserializer.fetchObject(type, field);\r\n      }\r\n\r\n      if(constructorCmp === vector) {\r\n        return this.fetchVector(type, field);\r\n      }\r\n  \r\n      let index = schema.constructorsIndex;\r\n      if(!index) {\r\n        schema.constructorsIndex = index = {};\r\n        for(let i = 0, len = schema.constructors.length; i < len; i++) {\r\n          index[schema.constructors[i].id] = i;\r\n        }\r\n      }\r\n\r\n      const i = index[constructorCmp];\r\n      if(i !== undefined) {\r\n        constructorData = schema.constructors[i];\r\n      }\r\n  \r\n      if(!constructorData && this.mtproto) {\r\n        const schemaFallback = Schema.API;\r\n        for(let i = 0, len = schemaFallback.constructors.length; i < len; i++) {\r\n          if(+schemaFallback.constructors[i].id === constructorCmp) {\r\n            constructorData = schemaFallback.constructors[i];\r\n  \r\n            delete this.mtproto;\r\n            fallback = true;\r\n            break;\r\n          }\r\n        }\r\n      }\r\n\r\n      if(!constructorData) {\r\n        console.error('Constructor not found:', constructorCmp);\r\n        \r\n        let int1: number, int2: number;\r\n        try {\r\n          int1 = this.fetchInt(field);\r\n          int2 = this.fetchInt(field);\r\n        } catch(err) {\r\n\r\n        }\r\n\r\n        throw new Error('Constructor not found: ' + constructorCmp + ' ' + int1 + ' ' + int2 + ' ' + field);\r\n      }\r\n    }\r\n  \r\n    const predicate = constructorData.predicate;\r\n  \r\n    const result: any = {'_': predicate};\r\n    const overrideKey = (this.mtproto ? 'mt_' : '') + predicate;\r\n    if(this.override[overrideKey]) {\r\n      this.override[overrideKey](result, field + '[' + predicate + ']');\r\n    } else {\r\n      for(let i = 0, len = constructorData.params.length; i < len; i++) {\r\n        const param = constructorData.params[i];\r\n        let type = param.type;\r\n\r\n        if(type === '#' && result.pFlags === undefined) {\r\n          result.pFlags = {};\r\n        }\r\n\r\n        const isCond = (type.indexOf('?') !== -1);\r\n        if(isCond) {\r\n          const condType = type.split('?');\r\n          const fieldBit = condType[0].split('.');\r\n\r\n          if(!(result[fieldBit[0]] & (1 << +fieldBit[1]))) {\r\n            //console.log('fetchObject bad', constructorData, result[fieldBit[0]], fieldBit);\r\n            continue;\r\n          }\r\n\r\n          //console.log('fetchObject good', constructorData, result[fieldBit[0]], fieldBit);\r\n\r\n          type = condType[1];\r\n        }\r\n  \r\n        const value = this.fetchObject(type, field + '[' + predicate + '][' + param.name + ']');\r\n  \r\n        if(isCond && type === 'true') {\r\n          result.pFlags[param.name] = value;\r\n        } else {\r\n          /* if(param.name === 'read_outbox_max_id') {\r\n            console.log(result, param.name, value, field + '[' + predicate + '][' + param.name + ']');\r\n          } */\r\n            \r\n          result[param.name] = value;\r\n        }\r\n      }\r\n    }\r\n  \r\n    if(fallback) {\r\n      this.mtproto = true;\r\n    }\r\n\r\n    if(type === 'JSONValue') {\r\n      return this.formatJSONValue(result);\r\n    }\r\n  \r\n    return result;\r\n  }\r\n\r\n  private formatJSONValue(jsonValue: JSONValue): any {\r\n    if(!jsonValue._) return jsonValue;\r\n    switch(jsonValue._) {\r\n      case 'jsonNull':\r\n        return null;\r\n      case 'jsonObject': {\r\n        const out: any = {};\r\n        const objectValues = jsonValue.value;\r\n        for(let i = 0, length = objectValues.length; i < length; ++i) {\r\n          const objectValue = objectValues[i];\r\n          out[objectValue.key] = this.formatJSONValue(objectValue.value);\r\n        }\r\n        return out;\r\n      }\r\n      default:\r\n        return jsonValue.value;\r\n    }\r\n  }\r\n  \r\n  public getOffset() {\r\n    return this.offset;\r\n  }\r\n\r\n  public setOffset(offset: number) {\r\n    this.offset = offset;\r\n  }\r\n  \r\n  /* public fetchEnd() {\r\n    if(this.offset !== this.byteView.length) {\r\n      throw new Error('Fetch end with non-empty buffer');\r\n    }\r\n\r\n    return true;\r\n  } */\r\n}\r\n\r\nMOUNT_CLASS_TO.TLDeserialization = TLDeserialization;\r\nMOUNT_CLASS_TO.TLSerialization = TLSerialization;\r\nexport { TLDeserialization, TLSerialization };\r\n","//export function gzipUncompress(bytes: ArrayBuffer, toString: true): string;\r\n\r\n// @ts-ignore\r\nimport pako from 'pako/dist/pako_inflate.min.js';\r\n// import dT from './dT';\r\n\r\n//export function gzipUncompress(bytes: ArrayBuffer, toString?: false): Uint8Array;\r\nexport default function gzipUncompress(bytes: ArrayBuffer, toString?: boolean): string | Uint8Array {\r\n  // console.log(dT(), 'Gzip uncompress start');\r\n  const result = pako.inflate(bytes, toString ? {to: 'string'} : undefined);\r\n  // console.log(dT(), 'Gzip uncompress finish'/* , result */);\r\n  return result;\r\n}\r\n","import randomize from \"../array/randomize\";\r\nimport bufferConcats from \"./bufferConcats\";\r\n\r\nexport default function addPadding<T extends number[] | ArrayBuffer | Uint8Array>(\r\n  bytes: T, \r\n  blockSize: number = 16, \r\n  zeroes?: boolean, \r\n  blockSizeAsTotalLength = false, \r\n  prepend = false\r\n): T {\r\n  const len = (bytes as ArrayBuffer).byteLength || (bytes as Uint8Array).length;\r\n  const needPadding = blockSizeAsTotalLength ? blockSize - len : blockSize - (len % blockSize);\r\n  if(needPadding > 0 && needPadding < blockSize) {\r\n    ////console.log('addPadding()', len, blockSize, needPadding);\r\n    const padding = new Uint8Array(needPadding);\r\n    if(zeroes) {\r\n      for(let i = 0; i < needPadding; ++i) {\r\n        padding[i] = 0;\r\n      }\r\n    } else {\r\n      randomize(padding);\r\n    }\r\n\r\n    if(bytes instanceof ArrayBuffer) {\r\n      return (prepend ? bufferConcats(padding, bytes) : bufferConcats(bytes, padding)).buffer as T;\r\n    } else if(bytes instanceof Uint8Array) {\r\n      return (prepend ? bufferConcats(padding, bytes) : bufferConcats(bytes, padding)) as T;\r\n    } else {\r\n      // @ts-ignore\r\n      return (prepend ? [...padding].concat(bytes) : bytes.concat([...padding])) as T;\r\n    }\r\n  }\r\n\r\n  return bytes;\r\n}\r\n","/*\n * https://github.com/morethanwords/tweb\n * Copyright (C) 2019-2021 Eduard Kuzmenko\n * https://github.com/morethanwords/tweb/blob/master/LICENSE\n * \n * Originally from:\n * https://github.com/zhukov/webogram\n * Copyright (C) 2014 Igor Zhukov <igor.beatle@gmail.com>\n * https://github.com/zhukov/webogram/blob/master/LICENSE\n */\n\nimport { TLDeserialization, TLSerialization } from './tl_utils';\nimport CryptoWorker from '../crypto/cryptoMessagePort';\nimport sessionStorage from '../sessionStorage';\nimport Schema from './schema';\nimport { NetworkerFactory } from './networkerFactory';\nimport { logger, LogTypes } from '../logger';\nimport { InvokeApiOptions } from '../../types';\nimport longToBytes from '../../helpers/long/longToBytes';\nimport MTTransport from './transports/transport';\nimport { nextRandomUint, randomLong } from '../../helpers/random';\nimport App from '../../config/app';\nimport DEBUG from '../../config/debug';\nimport Modes from '../../config/modes';\nimport noop from '../../helpers/noop';\n\n                        \nimport HTTP from './transports/http';\n          \n\nimport type TcpObfuscated from './transports/tcpObfuscated';\nimport bigInt from 'big-integer';\nimport { ConnectionStatus } from './connectionStatus';\nimport ctx from '../../environment/ctx';\nimport bufferConcats from '../../helpers/bytes/bufferConcats';\nimport bytesCmp from '../../helpers/bytes/bytesCmp';\nimport bytesToHex from '../../helpers/bytes/bytesToHex';\nimport convertToUint8Array from '../../helpers/bytes/convertToUint8Array';\nimport isObject from '../../helpers/object/isObject';\nimport forEachReverse from '../../helpers/array/forEachReverse';\nimport sortLongsArray from '../../helpers/long/sortLongsArray';\nimport randomize from '../../helpers/array/randomize';\nimport deferredPromise, { CancellablePromise } from '../../helpers/cancellablePromise';\nimport pause from '../../helpers/schedulers/pause';\nimport { getEnvironment } from '../../environment/utils';\nimport { TimeManager } from './timeManager';\n\n//console.error('networker included!', new Error().stack);\n\nexport type MTMessageOptions = InvokeApiOptions & Partial<{\n  noResponse: true, // http_wait\n  longPoll: true,\n  \n  notContentRelated: true, // ACK\n  noSchedule: true,\n  // withResult: true,\n  messageId: MTLong,\n}>;\n\nexport type MTMessage = InvokeApiOptions & MTMessageOptions & {\n  msg_id: MTLong,\n  seq_no: number,\n  body?: Uint8Array | number[],\n  isAPI?: boolean,\n  // only these four are important\n\n  acked?: boolean,\n\n  deferred?: CancellablePromise<void>,\n\n  container?: boolean,\n  inner?: MTLong[],\n\n  // below - options\n\n  notContentRelated?: true,\n  noSchedule?: true,\n\n  resultType?: string,\n\n  longPoll?: true,\n  noResponse?: true, // only with http (http_wait for longPoll)\n};\n\nconst DRAIN_TIMEOUT = 10000;\nconst delays: {\n  [k in 'client' | 'file']: {\n    disconnectDelayMin: number,\n    disconnectDelayMax: number,\n    pingInterval: number,\n    pingMaxTime: number,\n    connectionTimeout: number\n  }\n} = {\n  client: {\n    disconnectDelayMin: 7,\n    disconnectDelayMax: 20,\n    pingInterval: 2000,\n    pingMaxTime: 5,\n    connectionTimeout: 5000\n  },\n  file: {\n    disconnectDelayMin: 10,\n    disconnectDelayMax: 24,\n    pingInterval: 3000,\n    pingMaxTime: 7,\n    connectionTimeout: 7500\n  }\n};\nconst RESEND_OPTIONS: MTMessageOptions = {\n  noSchedule: true,\n  notContentRelated: true\n};\nlet invokeAfterMsgConstructor: number;\n\nexport default class MTPNetworker {\n  private authKeyUint8: Uint8Array;\n\n  public isFileNetworker: boolean;\n  private isFileUpload: boolean;\n  private isFileDownload: boolean;\n\n  private lastServerMessages: Array<MTLong> = [];\n\n  private sentMessages: {\n    [msgId: MTLong]: MTMessage\n  } = {};\n\n  private pendingMessages: {[msgId: MTLong]: number} = {};\n  private pendingAcks: Array<MTLong> = [];\n  private pendingResendReq: MTLong[] = [];\n  // private pendingResendAnsReq: MTLong[] = [];\n  public connectionInited: boolean;\n\n  private nextReqTimeout: number;\n  private nextReq: number = 0;\n  \n                          \n  private longPollInterval: number;\n  private longPollPending: number;\n  private checkConnectionRetryAt: number;\n  private checkConnectionTimeout: number;\n  private checkConnectionPeriod = 0;\n  private sleepAfter: number;\n  private offline = false;\n  private sendingLongPoll: boolean;\n            \n\n  private seqNo: number;\n  private prevSessionId: Uint8Array;\n  private sessionId: Uint8Array;\n  private serverSalt: Uint8Array;\n\n  private lastResendReq: {\n    reqMsgId: MTLong,\n    msgIds: MTPNetworker['pendingResendReq']\n  };\n  // private lastResendAnsReq: MTPNetworker['lastResendReq'];\n\n  private name: string;\n  private log: ReturnType<typeof logger>;\n  \n  public isOnline = false;\n  private status: ConnectionStatus = ConnectionStatus.Closed;\n  private lastResponseTime = 0;\n\n  private debug = DEBUG /* && false */ || Modes.debug;\n\n  public activeRequests = 0;\n\n  public onDrain: () => void;\n  private onDrainTimeout: number;\n\n  public transport: MTTransport;\n\n                        \n  private pingDelayDisconnectDeferred: CancellablePromise<string>;\n  private pingPromise: Promise<void>;\n  // private pingInterval: number;\n  private lastPingTime: number;\n  private lastPingDelayDisconnectId: string;\n            \n  //public onConnectionStatusChange: (online: boolean) => void;\n\n  //private debugRequests: Array<{before: Uint8Array, after: Uint8Array}> = [];\n\n  private delays: typeof delays[keyof typeof delays];\n  // private getNewTimeOffset: boolean;\n\n  constructor(\n    private networkerFactory: NetworkerFactory,\n    private timeManager: TimeManager,\n    public dcId: number, \n    private authKey: Uint8Array, \n    private authKeyId: Uint8Array,\n    serverSalt: Uint8Array, \n    options: InvokeApiOptions = {}\n  ) {\n    this.authKeyUint8 = convertToUint8Array(this.authKey);\n    this.serverSalt = convertToUint8Array(serverSalt);\n\n    this.isFileUpload = !!options.fileUpload;\n    this.isFileDownload = !!options.fileDownload;\n    this.isFileNetworker = this.isFileUpload || this.isFileDownload;\n    this.delays = this.isFileNetworker ? delays.file : delays.client;\n\n    const suffix = this.isFileUpload ? '-U' : this.isFileDownload ? '-D' : '';\n    this.name = 'NET-' + dcId + suffix;\n    //this.log = logger(this.name, this.upload && this.dcId === 2 ? LogLevels.debug | LogLevels.warn | LogLevels.log | LogLevels.error : LogLevels.error);\n    this.log = logger(this.name, LogTypes.Log | LogTypes.Debug | LogTypes.Error | LogTypes.Warn, undefined);\n    this.log('constructor'/* , this.authKey, this.authKeyID, this.serverSalt */);\n\n    // Test resend after bad_server_salt\n    /* if(this.dcId === 2 && this.upload) {\n      //timeManager.applyServerTime((Date.now() / 1000 - 86400) | 0);\n      this.serverSalt[0] = 0;\n    } */\n\n    this.updateSession();\n\n    // if(!NetworkerFactory.offlineInited) {\n    //   NetworkerFactory.offlineInited = true;\n    //   /* rootScope.offline = true\n    //   rootScope.offlineConnecting = true */\n    // }\n  }\n\n  private updateSession() {\n    this.seqNo = 0;\n    this.prevSessionId = this.sessionId;\n    this.sessionId = randomize(new Uint8Array(8));\n  }\n\n  /* private clearContainers() {\n    for(const messageId in this.sentMessages) {\n      const message = this.sentMessages[messageId];\n      if(message.container) {\n        delete this.sentMessages[messageId];\n      }\n    }\n  } */\n\n  private updateSentMessage(sentMessageId: string) {\n    const sentMessage = this.sentMessages[sentMessageId];\n    if(!sentMessage) {\n      return false;\n    }\n\n    if(sentMessage.container) {\n      forEachReverse(sentMessage.inner, (innerSentMessageId, idx) => {\n        const innerSentMessage = this.updateSentMessage(innerSentMessageId);\n        if(!innerSentMessage) {\n          sentMessage.inner.splice(idx, 1);\n        } else {\n          sentMessage.inner[idx] = innerSentMessage.msg_id;\n        }\n      });\n    }\n  \n    sentMessage.msg_id = this.timeManager.generateId();\n    sentMessage.seq_no = this.generateSeqNo(sentMessage.notContentRelated || sentMessage.container);\n\n    if(this.debug) {\n      this.log(`updateSentMessage, old=${sentMessageId}, new=${sentMessage.msg_id}`);\n    }\n\n    this.sentMessages[sentMessage.msg_id] = sentMessage;\n    delete this.sentMessages[sentMessageId];\n  \n    return sentMessage;\n  }\n\n  private generateSeqNo(notContentRelated?: boolean) {\n    let seqNo = this.seqNo * 2;\n  \n    if(!notContentRelated) {\n      seqNo++;\n      this.seqNo++;\n    }\n  \n    return seqNo;\n  }\n\n  public wrapMtpCall(method: string, params: any, options: MTMessageOptions) {\n    const serializer = new TLSerialization({mtproto: true});\n  \n    serializer.storeMethod(method, params);\n  \n    const messageId = this.timeManager.generateId();\n    const seqNo = this.generateSeqNo();\n    const message = {\n      msg_id: messageId,\n      seq_no: seqNo,\n      body: serializer.getBytes(true)\n    };\n  \n    if(Modes.debug) {\n      this.log('MT call', method, params, messageId, seqNo);\n    }\n  \n    return this.pushMessage(message, options);\n  }\n  \n  public wrapMtpMessage(object: any, options: MTMessageOptions) {\n    const serializer = new TLSerialization({mtproto: true});\n    serializer.storeObject(object, 'Object');\n  \n    const messageId = this.timeManager.generateId();\n    const seqNo = this.generateSeqNo(options.notContentRelated);\n    const message = {\n      msg_id: messageId,\n      seq_no: seqNo,\n      body: serializer.getBytes(true)\n    };\n  \n    if(Modes.debug) {\n      this.log('MT message', object, messageId, seqNo);\n    }\n  \n    return this.pushMessage(message, options);\n  }\n\n  public wrapApiCall(method: string, params: any = {}, options: InvokeApiOptions = {}) {\n    const serializer = new TLSerialization(options);\n  \n    if(!this.connectionInited) { // this will call once for each new session\n      ///////this.log('Wrap api call !this.connectionInited');\n\n      const invokeWithLayer = Schema.API.methods.find((m) => m.method === 'invokeWithLayer');\n      if(!invokeWithLayer) throw new Error('no invokeWithLayer!');\n      serializer.storeInt(+invokeWithLayer.id, 'invokeWithLayer');\n\n      // @ts-ignore\n      serializer.storeInt(Schema.layer, 'layer');\n  \n      const initConnection = Schema.API.methods.find((m) => m.method === 'initConnection');\n      if(!initConnection) throw new Error('no initConnection!');\n  \n      serializer.storeInt(+initConnection.id, 'initConnection');\n      serializer.storeInt(0x0, 'flags');\n      serializer.storeInt(App.id, 'api_id');\n      serializer.storeString(getEnvironment().USER_AGENT || 'Unknown UserAgent', 'device_model');\n      serializer.storeString(navigator.platform || 'Unknown Platform', 'system_version');\n      serializer.storeString(App.version + (App.isMainDomain ? ' ' + App.suffix : ''), 'app_version');\n      serializer.storeString(navigator.language || 'en', 'system_lang_code');\n      serializer.storeString(App.langPack, 'lang_pack');\n      serializer.storeString(this.networkerFactory.language, 'lang_code');\n      //serializer.storeInt(0x0, 'proxy');\n      /* serializer.storeMethod('initConnection', {\n        'flags': 0,\n        'api_id': App.id,\n        'device_model': navigator.userAgent || 'Unknown UserAgent',\n        'system_version': navigator.platform || 'Unknown Platform',\n        'app_version': App.version,\n        'system_lang_code': navigator.language || 'en',\n        'lang_pack': '',\n        'lang_code': navigator.language || 'en'\n      }); */\n    }\n  \n    if(options.afterMessageId) {\n      if(invokeAfterMsgConstructor === undefined) {\n        const m = Schema.API.methods.find((m) => m.method === 'invokeAfterMsg');\n        invokeAfterMsgConstructor = m ? +m.id : 0;\n      }\n      \n      if(invokeAfterMsgConstructor) {\n        // if(this.debug) {\n        //   this.log('invokeApi: store invokeAfterMsg');\n        // }\n    \n        serializer.storeInt(invokeAfterMsgConstructor, 'invokeAfterMsg');\n        serializer.storeLong(options.afterMessageId, 'msg_id');\n      } else {\n        this.log.error('no invokeAfterMsg!');\n      }\n    }\n  \n    options.resultType = serializer.storeMethod(method, params);\n\n    /* if(method === 'account.updateNotifySettings') {\n      this.log('api call body:', serializer.getBytes(true));\n    } */\n  \n    const messageId = this.timeManager.generateId();\n    const seqNo = this.generateSeqNo();\n    const message = {\n      msg_id: messageId,\n      seq_no: seqNo,\n      body: serializer.getBytes(true),\n      isAPI: true\n    };\n  \n    if(Modes.debug/*  || true */) {\n      this.log('Api call', method, message, params, options);\n    } else if(this.debug) {\n      this.log('Api call', method, params, options);\n    }\n  \n    return this.pushMessage(message, options);\n  }\n\n  public changeTransport(transport?: MTTransport) {\n    const oldTransport = this.transport;\n    if(oldTransport) {\n      oldTransport.destroy();\n\n      if(this.nextReqTimeout) {\n        clearTimeout(this.nextReqTimeout);\n        this.nextReqTimeout = 0;\n        this.nextReq = 0;\n      }\n\n      this.connectionInited = false;\n\n                              \n      if(this.longPollInterval !== undefined) {\n        clearInterval(this.longPollInterval);\n        this.longPollInterval = undefined;\n      }\n\n      this.clearCheckConnectionTimeout();\n                \n    }\n\n    this.log('change transport', transport, oldTransport);\n\n                          \n    this.clearPingDelayDisconnect();\n\n    // if(this.pingInterval !== undefined) {\n    //   clearInterval(this.pingInterval);\n    //   this.pingInterval = undefined;\n    // }\n\n    // this.clearPing();\n              \n\n    this.transport = transport;\n    if(!transport) {\n      return;\n    }\n\n    transport.networker = this;\n\n                            \n                          \n    if(transport instanceof HTTP) {\n              \n      this.longPollInterval = ctx.setInterval(this.checkLongPoll, 10000);\n      this.checkLongPoll();\n      this.checkConnection('changed transport');\n                          \n    }\n              \n              \n\n                          \n    // * handle outcoming dead socket, server will close the connection\n    if((transport as TcpObfuscated).connection) {\n      // this.sendPingDelayDisconnect();\n\n      if(transport.connected) {\n        this.setConnectionStatus(ConnectionStatus.Connected);\n      }\n\n      // this.pingInterval = ctx.setInterval(this.sendPing, PING_INTERVAL);\n      // this.sendPing();\n    }\n              \n\n    this.resend();\n  }\n\n  public destroy() {\n    this.log('destroy');\n  }\n\n  public forceReconnectTimeout() {\n    if((this.transport as TcpObfuscated).reconnect) {\n      (this.transport as TcpObfuscated).reconnect();\n    } else {\n      this.resend();\n    }\n  }\n\n  public forceReconnect() {\n    if((this.transport as TcpObfuscated).forceReconnect) {\n      (this.transport as TcpObfuscated).forceReconnect();\n    } else {\n      this.checkConnection('force reconnect');\n    }\n  }\n\n  /* private clearPing() {\n    if(this.pingPromise) {\n      this.pingPromise = undefined;\n    }\n\n    this.lastPingTime = undefined;\n  }\n  \n  private sendPing = () => {\n    // return;\n    \n    // if(!(this.transport as TcpObfuscated).connected) {\n    //   this.clearPing();\n    //   return;\n    // }\n\n    if(this.pingPromise) {\n      return;\n    }\n\n    const startTime = Date.now();\n    this.log('sendPing: ping', startTime);\n    const promise = this.pingPromise = this.wrapMtpCall('ping', {\n      ping_id: randomLong()\n    }, {\n      notContentRelated: true\n    }).then(() => {\n      const elapsedTime = Date.now() - startTime;\n      this.lastPingTime = elapsedTime / 1000;\n      this.log('sendPing: pong', elapsedTime);\n      \n      setTimeout(() => {\n        if(this.pingPromise !== promise) {\n          return;\n        }\n        \n        this.pingPromise = undefined;\n        this.sendPing();\n      }, Math.max(0, PING_INTERVAL - elapsedTime));\n    });\n  }; */\n\n  private clearPingDelayDisconnect() {\n    const deferred = this.pingDelayDisconnectDeferred;\n    this.pingDelayDisconnectDeferred = undefined;\n    this.lastPingDelayDisconnectId = undefined;\n\n    if(deferred) {\n      deferred.reject();\n    }\n  }\n\n  private sendPingDelayDisconnect = () => {\n    // return;\n\n    if(this.pingDelayDisconnectDeferred || !this.transport || !this.transport.connected) return;\n\n    /* if(!this.isOnline) {\n      if((this.transport as TcpObfuscated).connected) {\n        (this.transport as TcpObfuscated).connection.close();\n      }\n\n      return;\n    } */\n\n    const deferred = this.pingDelayDisconnectDeferred = deferredPromise();\n    const delays = this.delays;\n    const pingMaxTime = this.delays.pingMaxTime;\n    const lastPingTime = Math.min(this.lastPingTime ?? 0, pingMaxTime);\n    const disconnectDelay = Math.round(delays.disconnectDelayMin + lastPingTime / pingMaxTime * (delays.disconnectDelayMax - delays.disconnectDelayMin));\n    const timeoutTime = disconnectDelay * 1000;\n    const startTime = Date.now();\n    const pingId = this.lastPingDelayDisconnectId = randomLong();\n    const options: MTMessageOptions = {notContentRelated: true};\n    this.wrapMtpCall('ping_delay_disconnect', {\n      ping_id: pingId,\n      disconnect_delay: disconnectDelay\n    }, options);\n    \n    this.debug && this.log.debug(`sendPingDelayDisconnect: ping, timeout=${timeoutTime}, lastPingTime=${this.lastPingTime}, msgId=${options.messageId}`);\n    const rejectTimeout = ctx.setTimeout(deferred.reject, timeoutTime);\n\n    const onResolved = (reason: string) => {\n      clearTimeout(rejectTimeout);\n      const elapsedTime = Date.now() - startTime;\n      this.lastPingTime = elapsedTime / 1000;\n      this.debug && this.log.debug(`sendPingDelayDisconnect: pong, reason='${reason}', time=${lastPingTime}, msgId=${options.messageId}`);\n      if(elapsedTime > timeoutTime) {\n        throw undefined;\n      } else {\n        return pause(Math.max(0, this.delays.pingInterval - elapsedTime/* timeoutTime - elapsedTime - PING_INTERVAL */));\n      }\n    };\n    \n    const onTimeout = () => {\n      clearTimeout(rejectTimeout);\n      const transport = this.transport as TcpObfuscated;\n      if(this.pingDelayDisconnectDeferred !== deferred || !transport?.connection) {\n        return;\n      }\n\n      this.log.error('sendPingDelayDisconnect: catch, closing connection', this.lastPingTime, options.messageId);\n      transport.connection.close();\n    };\n\n    const onFinally = () => {\n      if(this.pingDelayDisconnectDeferred !== deferred) {\n        return;\n      }\n\n      this.pingDelayDisconnectDeferred = undefined;\n      this.sendPingDelayDisconnect();\n    };\n\n    deferred\n    .then(onResolved)\n    .catch(onTimeout)\n    .finally(onFinally);\n  };\n\n                          \n  private checkLongPoll = () => {\n    const isClean = this.cleanupSent();\n    //this.log.error('Check lp', this.longPollPending, this.dcId, isClean, this);\n    if((this.longPollPending && Date.now() < this.longPollPending) ||\n      this.offline ||\n      this.isStopped() ||\n      this.isFileNetworker) {\n      //this.log('No lp this time');\n      return false;\n    }\n\n    sessionStorage.get('dc').then((baseDcId) => {\n      if(isClean && (\n          baseDcId !== this.dcId ||\n          (this.sleepAfter && Date.now() > this.sleepAfter)\n        )) {\n        //console.warn(dT(), 'Send long-poll for DC is delayed', this.dcId, this.sleepAfter);\n        return;\n      }\n\n      this.sendLongPoll();\n    });\n  };\n\n  private sendLongPoll() {\n    if(this.sendingLongPoll) return;\n    this.sendingLongPoll = true;\n    const maxWait = 25000;\n\n    this.longPollPending = Date.now() + maxWait;\n    this.debug && this.log.debug('sendLongPoll', this.longPollPending);\n  \n    this.wrapMtpCall('http_wait', {\n      max_delay: 500,\n      wait_after: 150,\n      max_wait: maxWait\n    }, {\n      noResponse: true,\n      // notContentRelated: true,\n      longPoll: true\n    }).then(() => {\n      this.longPollPending = undefined;\n      setTimeout(this.checkLongPoll, 0);\n    }, (error: ErrorEvent) => {\n      this.log('Long-poll failed', error);\n    }).finally(() => {\n      this.sendingLongPoll = undefined;\n    });\n  }\n\n  private checkConnection = (event: Event | string) => {\n    this.debug && this.log('Check connection', event);\n    this.clearCheckConnectionTimeout();\n\n    if(!this.transport) {\n      this.log.warn('No transport for checkConnection');\n      return;\n    }\n  \n    const serializer = new TLSerialization({mtproto: true});\n    const pingId = randomLong();\n  \n    serializer.storeMethod('ping', {\n      ping_id: pingId\n    });\n  \n    const pingMessage = {\n      msg_id: this.timeManager.generateId(),\n      seq_no: this.generateSeqNo(true),\n      body: serializer.getBytes(true)\n    };\n\n    if(this.offline) {\n      this.setConnectionStatus(ConnectionStatus.Connecting);\n    }\n\n    this.sendEncryptedRequest(pingMessage).then(() => {\n      this.toggleOffline(false);\n    }, () => {\n      this.debug && this.log('Delay', this.checkConnectionPeriod * 1000);\n      this.checkConnectionTimeout = ctx.setTimeout(() => this.checkConnection('from failed checkConnection request'), this.checkConnectionPeriod * 1000 | 0);\n      this.checkConnectionPeriod = Math.min(60, this.checkConnectionPeriod * 1.5);\n    });\n  };\n\n  private clearCheckConnectionTimeout() {\n    if(this.checkConnectionTimeout !== undefined) {\n      clearTimeout(this.checkConnectionTimeout);\n      this.checkConnectionTimeout = undefined;\n    }\n  }\n\n  private toggleOffline(offline: boolean) {\n    if(this.offline !== offline) {\n      this.offline = offline;\n\n      this.clearCheckConnectionTimeout();\n      if(offline) {\n        clearTimeout(this.nextReqTimeout);\n        this.nextReqTimeout = 0;\n        this.nextReq = 0;\n        \n        if(this.checkConnectionPeriod < 1.5) {\n          this.checkConnectionPeriod = 0;\n        }\n        \n        const delay = this.checkConnectionPeriod * 1000 | 0;\n        this.checkConnectionRetryAt = Date.now() + delay;\n        this.setConnectionStatus(ConnectionStatus.Closed, this.checkConnectionRetryAt);\n        this.checkConnectionTimeout = ctx.setTimeout(() => this.checkConnection('from toggleOfline'), delay);\n        this.checkConnectionPeriod = Math.min(30, (1 + this.checkConnectionPeriod) * 1.5);\n    \n                               \n                                                                              \n                                                                             \n                  \n      } else {\n        this.setConnectionStatus(ConnectionStatus.Connected);\n        this.checkLongPoll();\n\n        this.scheduleRequest();\n    \n                               \n                                                                          \n                                                                         \n                  \n      }\n    }\n\n    this.setConnectionStatus(offline ? ConnectionStatus.Closed : ConnectionStatus.Connected, offline ? this.checkConnectionRetryAt : undefined);\n  }\n\n  private handleSentEncryptedRequestHTTP(promise: ReturnType<MTPNetworker['sendEncryptedRequest']>, message: MTMessage, noResponseMsgs: string[]) {\n    // let timeout = setTimeout(() => {\n    //   this.log.error('handleSentEncryptedRequestHTTP timeout', promise, message, noResponseMsgs);\n    // }, 5e3);\n\n    promise.then((result) => {\n      this.toggleOffline(false);\n      // this.log('parse for', message);\n      return this.parseResponse(result).then((response) => {\n        this.debug && this.log.debug('Server response', response);\n  \n        this.processMessage(response.response, response.messageId, response.sessionId);\n\n        this.checkLongPoll();\n        this.checkConnectionPeriod = Math.max(1.1, Math.sqrt(this.checkConnectionPeriod));\n\n        return true;\n      });\n    }, (error) => {\n      this.log.error('Encrypted request failed', error, message);\n  \n      this.pushResend(message.msg_id);\n      this.toggleOffline(true);\n\n      return false;\n    }).then((shouldResolve) => {\n      // clearTimeout(timeout);\n      const sentMessages = this.sentMessages;\n      noResponseMsgs.forEach((msgId) => {\n        const sentMessage = sentMessages[msgId];\n        if(sentMessage) {\n          const deferred = sentMessage.deferred;\n          delete sentMessages[msgId];\n          delete this.pendingMessages[msgId];\n          shouldResolve ? deferred.resolve() : deferred.reject();\n        }\n      });\n    });\n  }\n            \n\n  // тут можно сделать таймаут и выводить дисконнект\n  private pushMessage(message: {\n    msg_id: string,\n    seq_no: number,\n    body: Uint8Array | number[],\n    isAPI?: boolean\n  }, options: MTMessageOptions) {\n    let promise: CancellablePromise<void>;\n    if(!options.notContentRelated || options.noResponse) {\n      promise = deferredPromise();\n    }\n    \n    this.sentMessages[message.msg_id] = Object.assign(\n      message, \n      options, \n      promise ? {deferred: promise} : undefined\n    );\n\n    //this.log.error('Networker pushMessage:', this.sentMessages[message.msg_id]);\n\n    this.pendingMessages[message.msg_id] = 0;\n  \n    if(!options.noSchedule) {\n      this.scheduleRequest();\n    }\n\n    if(isObject(options)) {\n      options.messageId = message.msg_id;\n    }\n\n    return promise;\n  }\n\n  public attachPromise(promise: Promise<any>, message: MTMessage) {\n    const canIncrement = true;\n    const timeout = setTimeout(() => {\n      if(this.lastResponseTime && (Date.now() - this.lastResponseTime) < this.delays.connectionTimeout) {\n        return;\n      }\n\n      this.log.error('timeout', message);\n      if(this.isOnline) {\n        this.setConnectionStatus(ConnectionStatus.TimedOut);\n      }\n\n      /* this.getEncryptedOutput(message).then((bytes) => {\n        this.log.error('timeout encrypted', bytes);\n      }); */\n    }, this.delays.connectionTimeout);\n\n    promise.catch(noop).finally(() => {\n      clearTimeout(timeout);\n      this.setConnectionStatus(ConnectionStatus.Connected);\n\n      if(canIncrement) {\n        --this.activeRequests;\n        this.setDrainTimeout();\n      }\n    });\n    \n    if(canIncrement) {\n      ++this.activeRequests;\n      if(this.onDrainTimeout !== undefined) {\n        clearTimeout(this.onDrainTimeout);\n        this.onDrainTimeout = undefined;\n      }\n    }\n  }\n\n  public setDrainTimeout() {\n    if(!this.activeRequests && this.onDrain && this.onDrainTimeout === undefined) {\n      this.onDrainTimeout = ctx.setTimeout(() => {\n        this.onDrainTimeout = undefined;\n        this.log('drain');\n        this.onDrain();\n      }, DRAIN_TIMEOUT);\n    }\n  }\n\n  public setConnectionStatus(status: ConnectionStatus, retryAt?: number) {\n    const isOnline = status === ConnectionStatus.Connected;\n    const willChange = this.status !== status;\n    this.isOnline = isOnline;\n    this.status = status;\n\n    if(willChange) {\n      if(this.networkerFactory.onConnectionStatusChange) {\n        this.networkerFactory.onConnectionStatusChange({\n          _: 'networkerStatus',\n          status,\n          dcId: this.dcId,\n          name: this.name,\n          isFileNetworker: this.isFileNetworker,\n          isFileDownload: this.isFileDownload,\n          isFileUpload: this.isFileUpload,\n          retryAt\n        });\n      }\n\n      if(this.isOnline) {\n        this.scheduleRequest();\n      }\n\n      if((this.transport as TcpObfuscated)?.connection) {\n        this.clearPingDelayDisconnect();\n        this.sendPingDelayDisconnect();\n      }\n\n      // this.getNewTimeOffset = true;\n    }\n    /* if(this.onConnectionStatusChange) {\n      this.onConnectionStatusChange(this.isOnline);\n    } */\n  }\n\n  private pushResend(messageId: string, delay = 100) {\n    const value = delay ? Date.now() + delay : 0;\n    const sentMessage = this.sentMessages[messageId];\n    if(sentMessage.container) {\n      for(const innerMsgId of sentMessage.inner) {\n        this.pendingMessages[innerMsgId] = value;\n      }\n    } else {\n      this.pendingMessages[messageId] = value;\n    }\n\n    if(sentMessage.acked) {\n      this.log.error('pushResend: acked message?', sentMessage);\n    }\n  \n    if(this.debug) {\n      this.log.debug('pushResend:', messageId, sentMessage, this.pendingMessages, delay);\n    }\n  \n    this.scheduleRequest(delay);\n  }\n\n  // * correct, fully checked\n  private async getMsgKey(dataWithPadding: Uint8Array, isOut: boolean) {\n    const x = isOut ? 0 : 8;\n    const msgKeyLargePlain = bufferConcats(this.authKeyUint8.subarray(88 + x, 88 + x + 32), dataWithPadding);\n\n    const msgKeyLarge = await CryptoWorker.invokeCrypto('sha256', msgKeyLargePlain);\n    const msgKey = new Uint8Array(msgKeyLarge).subarray(8, 24);\n    return msgKey;\n  };\n\n  // * correct, fully checked\n  private getAesKeyIv(msgKey: Uint8Array, isOut: boolean): Promise<[Uint8Array, Uint8Array]> {\n    const x = isOut ? 0 : 8;\n    const sha2aText = new Uint8Array(52);\n    const sha2bText = new Uint8Array(52);\n    const promises: Array<Promise<Uint8Array>> = [];\n  \n    sha2aText.set(msgKey, 0);\n    sha2aText.set(this.authKeyUint8.subarray(x, x + 36), 16);\n    promises.push(CryptoWorker.invokeCrypto('sha256', sha2aText));\n  \n    sha2bText.set(this.authKeyUint8.subarray(40 + x, 40 + x + 36), 0);\n    sha2bText.set(msgKey, 36);\n    promises.push(CryptoWorker.invokeCrypto('sha256', sha2bText));\n\n    return Promise.all(promises).then((results) => {\n      const aesKey = new Uint8Array(32);\n      const aesIv = new Uint8Array(32);\n      const sha2a = new Uint8Array(results[0]);\n      const sha2b = new Uint8Array(results[1]);\n  \n      aesKey.set(sha2a.subarray(0, 8));\n      aesKey.set(sha2b.subarray(8, 24), 8);\n      aesKey.set(sha2a.subarray(24, 32), 24);\n  \n      aesIv.set(sha2b.subarray(0, 8));\n      aesIv.set(sha2a.subarray(8, 24), 8);\n      aesIv.set(sha2b.subarray(24, 32), 24);\n  \n      return [aesKey, aesIv];\n    });\n  }\n\n  public isStopped() {\n    return this.networkerFactory.akStopped && !this.isFileNetworker;\n  }\n\n  private performScheduledRequest() {\n    if(this.isStopped()) {\n      return false;\n    }\n\n    if(this.pendingAcks.length) {\n      const ackMsgIds = this.pendingAcks.slice();\n\n      // this.log('acking messages', ackMsgIDs)\n      this.wrapMtpMessage({\n        _: 'msgs_ack',\n        msg_ids: ackMsgIds\n      }, {\n        notContentRelated: true,\n        noSchedule: true\n      });\n    }\n  \n    const pendingResendReqLength = this.pendingResendReq.length;\n    if(pendingResendReqLength) {\n      const options: MTMessageOptions = {...RESEND_OPTIONS};\n      const msgIds = this.pendingResendReq.splice(0, pendingResendReqLength);\n      this.wrapMtpMessage({\n        _: 'msg_resend_req',\n        msg_ids: msgIds\n      }, options);\n\n      this.log('resend: resending requests', options.messageId, msgIds);\n      /* this.lastResendReq = {\n        reqMsgId: options.messageId,\n        msgIds: msgIds\n      }; */\n\n      // this.pendingResendReq.length = 0;\n    }\n\n    // if(this.pendingResendAnsReq.length) {\n    //   const options: MTMessageOptions = {...RESEND_OPTIONS};\n    //   const msgIds = this.pendingResendAnsReq.slice();\n    //   this.wrapMtpMessage({\n    //     _: 'msg_resend_ans_req',\n    //     msg_ids: msgIds\n    //   }, options);\n\n    //   this.log('resend: requesting answers', options.messageId, msgIds);\n    //   this.lastResendAnsReq = {\n    //     reqMsgId: options.messageId,\n    //     msgIds: msgIds\n    //   };\n\n    //   // this.pendingResendAnsReq.length = 0;\n    // }\n  \n    let outMessage: MTMessage;\n    const messages: typeof outMessage[] = [];\n      \n    //const currentTime = Date.now();\n    let messagesByteLen = 0;\n\n                            \n    let hasApiCall = false;\n    let hasHttpWait = false;\n              \n\n    let lengthOverflow = false;\n\n    // * Сюда никогда не попадут контейнеры, так как их не будет в pendingMessages\n    const keys = sortLongsArray(Object.keys(this.pendingMessages));\n    for(const messageId of keys) {\n      //const value = this.pendingMessages[messageId];\n\n      //if(!value || value <= currentTime) {\n        const message = this.sentMessages[messageId];\n        if(message && message.body) {\n          /* if(message.fileUpload) {\n            this.log('performScheduledRequest message:', message, message.body.length, (message.body as Uint8Array).byteLength, (message.body as Uint8Array).buffer.byteLength);\n          } */\n\n          const messageByteLength = message.body.length + 32;\n\n          if((messagesByteLen + messageByteLength) > 655360) { // 640 Kb\n            this.log.warn('lengthOverflow', message, messages);\n            lengthOverflow = true;\n\n            if(outMessage) { // if it's not a first message\n              break;\n            }\n          }\n\n          messages.push(message);\n          messagesByteLen += messageByteLength;\n\n                                  \n          if(message.isAPI) {\n            hasApiCall = true;\n          } else if(message.longPoll) {\n            hasHttpWait = true;\n          }\n                    \n\n          outMessage = message;\n        } else {\n          // this.log(message, messageId)\n        }\n\n        delete this.pendingMessages[messageId];\n      //}\n    }\n  \n                            \n                          \n    if(this.transport instanceof HTTP)\n              \n    if(hasApiCall && !hasHttpWait) {\n      const serializer = new TLSerialization({mtproto: true});\n      serializer.storeMethod('http_wait', {\n        max_delay: 500,\n        wait_after: 150,\n        max_wait: 3000\n      });\n\n      messages.push({\n        msg_id: this.timeManager.generateId(),\n        seq_no: this.generateSeqNo(),\n        body: serializer.getBytes(true)\n      });\n    }\n              \n  \n    if(!messages.length) {\n      // this.log('no scheduled messages')\n      return;\n    }\n  \n                            \n    const noResponseMsgs: Array<string> = messages.filter((message) => message.noResponse).map((message) => message.msg_id);\n              \n  \n    if(messages.length > 1) {\n      const container = this.generateContainerMessage(messagesByteLen, messages);\n      outMessage = container.messageWithBody;\n  \n      this.sentMessages[outMessage.msg_id] = container.message;\n    } else {\n      this.sentMessages[outMessage.msg_id] = outMessage;\n    }\n  \n    this.pendingAcks = [];\n\n    const promise = this.sendEncryptedRequest(outMessage);\n\n                            \n                          \n    if(this.transport instanceof HTTP)\n              \n    this.handleSentEncryptedRequestHTTP(promise, outMessage, noResponseMsgs);\n              \n\n                          \n                            \n    if(!(this.transport instanceof HTTP))\n              \n    this.cleanupSent(); // ! WARNING\n              \n  \n    if(lengthOverflow) {\n      this.scheduleRequest();\n    }\n  }\n\n  private generateContainerMessage(messagesByteLen: number, messages: MTMessage[]) {\n    const container = new TLSerialization({\n      mtproto: true,\n      startMaxLength: messagesByteLen + 64\n    });\n\n    container.storeInt(0x73f1f8dc, 'CONTAINER[id]');\n    container.storeInt(messages.length, 'CONTAINER[count]');\n\n    const innerMessages: string[] = [];\n    messages.forEach((message, i) => {\n      innerMessages.push(message.msg_id);\n      // this.log('Pushing to container:', message.msg_id);\n      container.storeLong(message.msg_id, 'CONTAINER[' + i + '][msg_id]');\n      container.storeInt(message.seq_no, 'CONTAINER[' + i + '][seq_no]');\n      container.storeInt(message.body.length, 'CONTAINER[' + i + '][bytes]');\n      container.storeRawBytes(message.body, 'CONTAINER[' + i + '][body]');\n    });\n\n    const message: MTMessage = {\n      msg_id: this.timeManager.generateId(),\n      seq_no: this.generateSeqNo(true),\n      container: true,\n      inner: innerMessages\n    };\n\n    if(Modes.debug/*  || true */) {\n      this.log.warn('Container', innerMessages, message.msg_id, message.seq_no);\n    }\n\n    return {\n      message,\n      messageWithBody: Object.assign({body: container.getBytes(true)}, message),\n    };\n  }\n\n  private async getEncryptedMessage(dataWithPadding: Uint8Array) {\n    const msgKey = await this.getMsgKey(dataWithPadding, true);\n    const keyIv = await this.getAesKeyIv(msgKey, true);\n    // this.log('after msg key iv')\n\n    const encryptedBytes = await CryptoWorker.invokeCrypto('aes-encrypt', dataWithPadding, keyIv[0], keyIv[1]);\n    // this.log('Finish encrypt')\n\n    return {\n      bytes: encryptedBytes,\n      msgKey\n    };\n  }\n\n  private getDecryptedMessage(msgKey: Uint8Array, encryptedData: Uint8Array) {\n    // this.log('get decrypted start')\n    return this.getAesKeyIv(msgKey, false).then((keyIv) => {\n      // this.log('after msg key iv')\n      return CryptoWorker.invokeCrypto('aes-decrypt', encryptedData, keyIv[0], keyIv[1]);\n    });\n  }\n\n  private getEncryptedOutput(message: MTMessage) {\n    /* if(DEBUG) {\n      this.log.debug('Send encrypted', message, this.authKeyId);\n    } */\n    /* if(!this.isOnline) {\n      this.log('trying to send message when offline:', Object.assign({}, message));\n      //debugger;\n    } */\n\n    const data = new TLSerialization({\n      startMaxLength: message.body.length + 2048\n    });\n\n    data.storeIntBytes(this.serverSalt, 64, 'salt');\n    data.storeIntBytes(this.sessionId, 64, 'session_id');\n  \n    data.storeLong(message.msg_id, 'message_id');\n    data.storeInt(message.seq_no, 'seq_no');\n\n    data.storeInt(message.body.length, 'message_data_length');\n    data.storeRawBytes(message.body, 'message_data');\n\n    /* const des = new TLDeserialization(data.getBuffer().slice(16));\n    const desSalt = des.fetchLong();\n    const desSessionId = des.fetchLong();\n\n    if(!this.isOnline) {\n      this.log.error('trying to send message when offline', message, new Uint8Array(des.buffer), desSalt, desSessionId);\n    } */\n\n    /* const messageDataLength = message.body.length;\n    let canBeLength = 0; // bytes\n    canBeLength += 8;\n    canBeLength += 8;\n    canBeLength += 8;\n    canBeLength += 4;\n    canBeLength += 4;\n    canBeLength += message.body.length; */\n  \n    const dataBuffer = data.getBuffer();\n\n    /* if(dataBuffer.byteLength !== canBeLength || !bytesCmp(new Uint8Array(dataBuffer.slice(dataBuffer.byteLength - message.body.length)), new Uint8Array(message.body))) {\n      this.log.error('wrong length', dataBuffer, canBeLength, message.msg_id);\n    } */\n\n    const paddingLength = (16 - (data.getOffset() % 16)) + 16 * (1 + nextRandomUint(8) % 5);\n    const padding = /* (message as any).padding ||  */randomize(new Uint8Array(paddingLength))/* .fill(0) */;\n    /* const padding = [167, 148, 207, 226, 86, 192, 193, 57, 124, 153, 174, 145, 159, 1, 5, 70, 127, 157, \n      51, 241, 46, 85, 141, 212, 139, 234, 213, 164, 197, 116, 245, 70, 184, 40, 40, 201, 233, 211, 150, \n      94, 57, 84, 1, 135, 108, 253, 34, 139, 222, 208, 71, 214, 90, 67, 36, 28, 167, 148, 207, 226, 86, 192, 193, 57, 124, 153, 174, 145, 159, 1, 5, 70, 127, 157, \n      51, 241, 46, 85, 141, 212, 139, 234, 213, 164, 197, 116, 245, 70, 184, 40, 40, 201, 233, 211, 150, \n      94, 57, 84, 1, 135, 108, 253, 34, 139, 222, 208, 71, 214, 90, 67, 36, 28].slice(0, paddingLength); */\n\n    //(message as any).padding = padding;\n\n    const dataWithPadding = bufferConcats(dataBuffer, padding);\n    // this.log('Adding padding', dataBuffer, padding, dataWithPadding)\n    // this.log('auth_key_id', bytesToHex(self.authKeyID))\n\n    /* if(dataWithPadding.byteLength % 16) {\n      this.log.error('aaa', dataWithPadding, paddingLength);\n    }\n\n    if(message.fileUpload) {\n      this.log('Send encrypted: body length:', (message.body as ArrayBuffer).byteLength, paddingLength, dataWithPadding);\n    } */\n\n    // * full next block is correct\n    return this.getEncryptedMessage(dataWithPadding).then((encryptedResult) => {\n      /* if(DEBUG) {\n        this.log('Got encrypted out message', encryptedResult);\n      } */\n\n      const request = new TLSerialization({\n        startMaxLength: encryptedResult.bytes.length + 256\n      });\n      request.storeIntBytes(this.authKeyId, 64, 'auth_key_id');\n      request.storeIntBytes(encryptedResult.msgKey, 128, 'msg_key');\n      request.storeRawBytes(encryptedResult.bytes, 'encrypted_data');\n  \n      const requestData = request.getBytes(true);\n\n      // if(this.isFileNetworker) {\n      //   //this.log('Send encrypted: requestData length:', requestData.length, requestData.length % 16, paddingLength % 16, paddingLength, data.offset, encryptedResult.msgKey.length % 16, encryptedResult.bytes.length % 16);\n      //   //this.log('Send encrypted: messageId:', message.msg_id, requestData.length);\n      //   //this.log('Send encrypted:', message, new Uint8Array(bufferConcat(des.buffer, padding)), requestData, this.serverSalt.hex, this.sessionId.hex/* new Uint8Array(des.buffer) */);\n      //   this.debugRequests.push({before: new Uint8Array(bufferConcat(des.buffer, padding)), after: requestData});\n      // }\n\n      return requestData;\n    });\n  }\n\n  private async sendEncryptedRequest(message: MTMessage) {\n    const requestData = await this.getEncryptedOutput(message);\n\n    if(!this.transport) {\n      this.log.error('trying to send something when offline', this.transport, this);\n    }\n\n    this.debug && this.log.debug('sending:', message, [message.msg_id].concat(message.inner || []), requestData.length);\n    const promise: Promise<Uint8Array> = this.transport ? this.transport.send(requestData) as any : Promise.reject({});\n    // this.debug && this.log.debug('sendEncryptedRequest: launched message into space:', message, promise);\n    \n                             \n                   \n             \n    \n                          \n    if(!(this.transport instanceof HTTP)) return promise;\n              \n    \n    const baseError = {\n      code: 406,\n      type: 'NETWORK_BAD_RESPONSE',\n      transport: this.transport\n    };\n    \n    return promise.then((result) => {\n      if(!result?.byteLength) {\n        throw baseError;\n      }\n      \n      // this.debug && this.log.debug('sendEncryptedRequest: got response for:', message, [message.msg_id].concat(message.inner || []));\n      return result;\n    }, (error) => {\n      if(!error.message && !error.type) {\n        error = Object.assign(baseError, {\n          type: 'NETWORK_BAD_REQUEST',\n          originalError: error\n        });\n      }\n\n      throw error;\n    });\n              \n  }\n\n  public parseResponse(responseBuffer: Uint8Array) {\n    //const perf = performance.now();\n    /* if(this.debug) {\n      this.log.debug('Start parsing response', responseBuffer);\n    } */\n\n    this.lastResponseTime = Date.now();\n\n    const deserializer = new TLDeserialization(responseBuffer);\n  \n    const authKeyId = deserializer.fetchIntBytes(64, true, 'auth_key_id');\n    if(!bytesCmp(authKeyId, this.authKeyId)) {\n      throw new Error('[MT] Invalid server auth_key_id: ' + bytesToHex(authKeyId));\n    }\n\n    const msgKey = deserializer.fetchIntBytes(128, true, 'msg_key');\n    const encryptedData = deserializer.fetchRawBytes(responseBuffer.byteLength - deserializer.getOffset(), true, 'encrypted_data');\n  \n    return this.getDecryptedMessage(msgKey, encryptedData).then((dataWithPadding) => {\n      // this.log('after decrypt')\n      return this.getMsgKey(dataWithPadding, false).then((calcMsgKey) => {\n        if(!bytesCmp(msgKey, calcMsgKey)) {\n          this.log.warn('[MT] msg_keys', msgKey, calcMsgKey);\n          this.updateSession(); // fix 28.01.2020\n          throw new Error('[MT] server msgKey mismatch, updating session');\n        }\n        // this.log('after msgKey check')\n  \n        let deserializer = new TLDeserialization<MTLong>(dataWithPadding, {mtproto: true});\n  \n        /* const salt =  */deserializer.fetchIntBytes(64, true, 'salt'); // need\n        const sessionId = deserializer.fetchIntBytes(64, true, 'session_id');\n        const messageId = deserializer.fetchLong('message_id');\n  \n        if(!bytesCmp(sessionId, this.sessionId) &&\n          (!this.prevSessionId || !bytesCmp(sessionId, this.prevSessionId))) {\n          this.log.warn('Sessions', sessionId, this.sessionId, this.prevSessionId, dataWithPadding);\n          //this.updateSession();\n          //this.sessionID = sessionID;\n          throw new Error('[MT] Invalid server session_id: ' + bytesToHex(sessionId));\n        }\n  \n        const seqNo = deserializer.fetchInt('seq_no');\n  \n        const totalLength = dataWithPadding.byteLength;\n  \n        const messageBodyLength = deserializer.fetchInt('message_data[length]');\n        let offset = deserializer.getOffset();\n  \n        if((messageBodyLength % 4) ||\n          messageBodyLength > totalLength - offset) {\n          throw new Error('[MT] Invalid body length: ' + messageBodyLength);\n        }\n        const messageBody = deserializer.fetchRawBytes(messageBodyLength, true, 'message_data');\n  \n        offset = deserializer.getOffset();\n        const paddingLength = totalLength - offset;\n        if(paddingLength < 12 || paddingLength > 1024) {\n          throw new Error('[MT] Invalid padding length: ' + paddingLength);\n        }\n  \n        //let buffer = bytesToArrayBuffer(messageBody);\n        deserializer = new TLDeserialization<MTLong>(/* buffer */messageBody, {\n          mtproto: true, \n          override: {\n            mt_message: (result: any, field: string) => {\n              result.msg_id = deserializer.fetchLong(field + '[msg_id]');\n              result.seqno = deserializer.fetchInt(field + '[seqno]');\n              result.bytes = deserializer.fetchInt(field + '[bytes]');\n  \n              const offset = deserializer.getOffset();\n  \n              //self.log('mt_message!!!!!', result, field);\n  \n              try {\n                result.body = deserializer.fetchObject('Object', field + '[body]');\n              } catch(e) {\n                this.log.error('parse error', (e as Error).message, (e as Error).stack);\n                result.body = {\n                  _: 'parse_error',\n                  error: e\n                };\n              }\n\n              if(deserializer.getOffset() !== offset + result.bytes) {\n                // console.warn(dT(), 'set offset', this.offset, offset, result.bytes)\n                // this.log(result)\n                deserializer.setOffset(offset + result.bytes);\n              }\n              // this.log('override message', result)\n            },\n            mt_rpc_result: (result: any, field: any) => {\n              result.req_msg_id = deserializer.fetchLong(field + '[req_msg_id]');\n  \n              const sentMessage = this.sentMessages[result.req_msg_id];\n              const type = sentMessage && sentMessage.resultType || 'Object';\n  \n              if(result.req_msg_id && !sentMessage) {\n                // console.warn(dT(), 'Result for unknown message', result);\n                return;\n              }\n  \n              // deserializer.setMtproto(false);\n              result.result = deserializer.fetchObject(type, field + '[result]');\n              // deserializer.setMtproto(true);\n              // self.log(dT(), 'override rpc_result', sentMessage, type, result);\n            }\n          }\n        });\n\n        const response = deserializer.fetchObject('', 'INPUT');\n        //this.log.error('Parse response time:', performance.now() - perf);\n        return {\n          response,\n          messageId,\n          sessionId,\n          seqNo\n        };\n      });\n    });\n  }\n\n  private applyServerSalt(newServerSalt: string) {\n    const serverSalt = longToBytes(newServerSalt);\n  \n    sessionStorage.set({\n      ['dc' + this.dcId + '_server_salt']: bytesToHex(serverSalt)\n    });\n  \n    this.serverSalt = new Uint8Array(serverSalt);\n  }\n\n  // ! таймаут очень сильно тормозит скорость работы сокета (даже нулевой) \n  public scheduleRequest(delay?: number) {\n    /* if(!this.isOnline) {\n      return;\n    } */\n\n                            \n                          \n    if(this.transport instanceof HTTP) {\n              \n      if(this.offline) {\n        this.checkConnection('forced schedule');\n      }\n\n      delay ||= 0; // set zero timeout to pack other messages too\n                          \n    }\n              \n              \n\n    const nextReq = Date.now() + (delay || 0);\n    if(this.nextReq && (delay === undefined || this.nextReq <= nextReq)) {\n      //this.debug && this.log('scheduleRequest: nextReq', this.nextReq, nextReq);\n      return;\n    }\n  \n    //this.debug && this.log('scheduleRequest: delay', delay);\n\n    /* if(this.nextReqTimeout) {\n      return;\n    } */\n    \n    //const perf = performance.now();\n    if(this.nextReqTimeout) {\n      clearTimeout(this.nextReqTimeout);\n    }\n\n    const cb = () => {\n      //this.debug && this.log('scheduleRequest: timeout delay was:', performance.now() - perf);\n\n      this.nextReqTimeout = 0;\n      this.nextReq = 0;\n\n                              \n                            \n      if(this.transport instanceof HTTP)\n                \n      if(this.offline) {\n        //this.log('Cancel scheduled');\n        return;\n      }\n                \n\n      this.performScheduledRequest();\n    };\n\n    this.nextReq = nextReq;\n\n    if(delay !== undefined) {\n      this.nextReqTimeout = ctx.setTimeout(cb, delay);\n    } else {\n      cb();\n    }\n  }\n\n  private ackMessage(msgId: MTLong) {\n    // this.log('ack message', msgID)\n    this.pendingAcks.push(msgId);\n\n    let delay: number;\n\n                            \n                          \n    if(this.transport instanceof HTTP)\n              \n    delay = 30000;\n              \n\n    this.scheduleRequest(delay);\n  }\n  \n  private reqResend(msgId: MTLong/* , isAnswer?: boolean */) {\n    if(this.debug) {\n      this.log.debug('Req resend', msgId/* , isAnswer */);\n    }\n\n    // (isAnswer ? this.pendingResendAnsReq : this.pendingResendReq).push(msgId);\n    this.pendingResendReq.push(msgId);\n    this.scheduleRequest(100);\n  }\n\n  public cleanupSent() {\n    let notEmpty = false;\n    const sentMessages = this.sentMessages;\n    // this.log('clean start', this.dcId/*, sentMessages*/)\n    Object.keys(sentMessages).forEach((msgId) => {\n      const message = sentMessages[msgId];\n    \n      // this.log('clean iter', msgID, message)\n      if(message.notContentRelated && this.pendingMessages[msgId] === undefined) {\n        // this.log('clean notContentRelated', msgID)\n        delete sentMessages[msgId];\n      } else if(message.container) {\n        for(const innerMsgId of message.inner) {\n          if(sentMessages[innerMsgId] !== undefined) {\n            // this.log('clean failed, found', msgID, message.inner[i], sentMessages[message.inner[i]].seq_no)\n            notEmpty = true;\n            return;\n          }\n        }\n        // this.log('clean container', msgID)\n        delete sentMessages[msgId];\n      } else {\n        notEmpty = true;\n      }\n    });\n  \n    return !notEmpty;\n  }\n\n  private processMessageAck(messageId: Long) {\n    const sentMessage = this.sentMessages[messageId];\n    if(sentMessage && !sentMessage.acked) {\n      //delete sentMessage.body;\n      sentMessage.acked = true;\n    }\n  }\n\n  private processError(rawError: {error_message: string, error_code: number}) {\n    const matches = (rawError.error_message || '').match(/^([A-Z_0-9]+\\b)(: (.+))?/) || [];\n    rawError.error_code = rawError.error_code;\n  \n    return {\n      code: !rawError.error_code || rawError.error_code <= 0 ? 500 : rawError.error_code,\n      type: matches[1] || 'UNKNOWN',\n      description: matches[3] || ('CODE#' + rawError.error_code + ' ' + rawError.error_message),\n      originalError: rawError\n    };\n  }\n\n  /**\n   * * только для сокета\n   * TODO: consider about containers resend\n   */\n  public resend() {\n    const sentMessages = this.sentMessages;\n    for(const id in sentMessages) {\n      const msg = sentMessages[id];\n      if(msg.body || msg.container) {\n        this.pushResend(id);\n      }\n    }\n\n    if((this.transport as TcpObfuscated).connection) {\n      this.clearPingDelayDisconnect();\n      this.sendPingDelayDisconnect();\n    }\n  }\n\n  /* public requestMessageStatus() {\n    const ids: string[] = [];\n    for(const id in this.sentMessages) {\n      const message = this.sentMessages[id];\n      if(message.isAPI && message.fileUpload) {\n        ids.push(message.msg_id);\n      }\n    }\n\n    this.wrapMtpMessage({\n      _: 'msgs_state_req',\n      msg_ids: ids\n    }, {\n      notContentRelated: true\n    }).then((res) => {\n      this.log('status', res);\n    });\n  } */\n\n  private applyServerTime(messageId: string) {\n    const serverTime = bigInt(messageId).shiftRight(32).toJSNumber();\n    this.log('applying server time', serverTime);\n    return this.timeManager.applyServerTime(serverTime);\n  }\n\n  // * https://core.telegram.org/mtproto/service_messages_about_messages#notice-of-ignored-error-message\n  public processMessage(message: any, messageId: MTLong, sessionId: Uint8Array | number[]) {\n    if(message._ === 'messageEmpty') {\n      this.log.warn('processMessage: messageEmpty', message, messageId);\n      return;\n    }\n\n    // messageId = messageId.toString();\n\n    const msgidInt = parseInt(messageId.substr(0, -10), 10);\n    if(msgidInt % 2) {\n      this.log.warn('Server even message id: ', messageId, message);\n      return;\n    }\n\n    if(this.debug) {\n      this.log.debug('process message', message, messageId);\n    }\n\n    if(this.pingDelayDisconnectDeferred) {\n      this.pingDelayDisconnectDeferred.resolve('any message');\n    }\n\n    // let changedTimeOffset: boolean;\n    // if(this.getNewTimeOffset) {\n    //   changedTimeOffset = this.applyServerTime(messageId);\n    //   this.getNewTimeOffset = undefined;\n    // }\n\n    switch(message._) {\n      case 'msg_container': {\n        for(const innerMessage of message.messages) {\n          this.processMessage(innerMessage, innerMessage.msg_id, sessionId);\n        }\n\n        break;\n      }\n  \n      case 'bad_server_salt': {\n        this.log('Bad server salt', message);\n\n        this.applyServerSalt(message.new_server_salt);\n\n        if(this.sentMessages[message.bad_msg_id]) {\n          this.pushResend(message.bad_msg_id);\n        }\n        \n        this.ackMessage(messageId);\n        \n        // simulate disconnect\n        /* try {\n          this.log('networker state:', this);\n          // @ts-ignore\n          this.transport.ws.close(1000);\n        } catch(err) {\n          this.log.error('transport', this.transport, err);\n        } */\n\n        break;\n      }\n  \n      case 'bad_msg_notification': {\n        this.log.error('Bad msg notification', message);\n\n        switch(message.error_code) {\n          case 16:    // * msg_id too low\n          case 17:    // * msg_id too high\n          case 32:    // * msg_seqno too low\n          case 33:    // * msg_seqno too high\n          case 64: {  // * invalid container\n            // if(changedTimeOffset === undefined) {\n            //   changedTimeOffset = this.applyServerTime(messageId);\n            // }\n\n            const changedTimeOffset = this.applyServerTime(messageId);\n            if(message.error_code === 17 || changedTimeOffset) {\n              this.log('Update session');\n              this.updateSession();\n            }\n\n            const badMessage = this.updateSentMessage(message.bad_msg_id);\n            if(badMessage) this.pushResend(badMessage.msg_id); // fix 23.01.2020\n            //this.ackMessage(messageId);\n          }\n\n          // * invalid container\n          /* case 64: {\n            const badMessage = this.sentMessages[message.bad_msg_id];\n            if(badMessage) {\n              for(const msgId of badMessage.inner) {\n                if(this.sentMessages[msgId] !== undefined) {\n                  this.updateSentMessage\n                }\n              }\n              const inner = badMessage.inner;\n            }\n          } */\n        }\n\n        break;\n      }\n  \n      case 'message': {\n        if(this.lastServerMessages.indexOf(messageId) !== -1) {\n          // console.warn('[MT] Server same messageId: ', messageId)\n          this.ackMessage(messageId);\n          return;\n        }\n\n        this.lastServerMessages.push(messageId);\n        if(this.lastServerMessages.length > 100) {\n          this.lastServerMessages.shift();\n        }\n\n        this.processMessage(message.body, message.msg_id, sessionId);\n        break;\n      }\n        \n      case 'new_session_created': {\n        this.ackMessage(messageId);\n\n        if(this.debug) {\n          this.log.debug('new_session_created', message);\n        }\n        //this.updateSession();\n  \n        this.processMessageAck(message.first_msg_id);\n        this.applyServerSalt(message.server_salt);\n  \n        sessionStorage.get('dc').then((baseDcId) => {\n          if(baseDcId === this.dcId && !this.isFileNetworker && this.networkerFactory.updatesProcessor) {\n            this.networkerFactory.updatesProcessor(message);\n          }\n        });\n        break;\n      }\n        \n      case 'msgs_ack': {\n        for(const msgId of message.msg_ids) {\n          this.processMessageAck(msgId);\n        }\n\n        break;\n      }\n  \n      case 'msg_detailed_info': {\n        const sentMessage = this.sentMessages[message.msg_id];\n        if(!sentMessage) {\n          this.ackMessage(message.answer_msg_id);\n          break;\n        }/*  else if(sentMessage.acked) {\n          this.reqResend(message.answer_msg_id, true);\n        }\n\n        break; */\n      }\n\n      case 'msg_new_detailed_info': {\n        if(this.pendingAcks.indexOf(message.answer_msg_id) !== -1) {\n          break;\n        }\n\n        this.reqResend(message.answer_msg_id);\n        break;\n      }\n  \n      case 'msgs_state_info': {\n        this.ackMessage(message.answer_msg_id);\n        const arr = [\n          [this.lastResendReq, this.pendingResendReq] as const\n          // [this.lastResendAnsReq, this.pendingResendAnsReq] as const\n        ];\n\n        for(const [lastResend, pendingResend] of arr) {\n          if(lastResend?.reqMsgId === message.req_msg_id && pendingResend.length) {\n            for(const badMsgId of lastResend.msgIds) {\n              const pos = pendingResend.indexOf(badMsgId);\n              if(pos !== -1) {\n                pendingResend.splice(pos, 1);\n              }\n            }\n          }\n        }\n\n        break;\n      }\n\n      case 'rpc_result': {\n        this.ackMessage(messageId);\n  \n        const sentMessageId = message.req_msg_id;\n        const sentMessage = this.sentMessages[sentMessageId];\n\n        // if(this.debug) {\n        //   this.log.debug('Rpc response', message.result, sentMessage);\n        // }\n\n        this.processMessageAck(sentMessageId);\n        if(sentMessage) {\n          const deferred = sentMessage.deferred;\n          if(message.result._ === 'rpc_error') {\n            const error = this.processError(message.result);\n            this.log('Rpc error', error);\n            if(deferred) {\n              deferred.reject(error);\n            }\n          } else {\n            if(deferred) {\n              deferred.resolve(message.result);\n            }\n\n            if(sentMessage.isAPI && !this.connectionInited) {\n              this.connectionInited = true;\n            }\n          }\n  \n          delete this.sentMessages[sentMessageId];\n        } else {\n          if(this.debug) {\n            this.log('Rpc result for unknown message:', sentMessageId, message);\n          }\n        }\n\n        break;\n      }\n\n      case 'pong': { // * https://core.telegram.org/mtproto/service_messages#ping-messages-pingpong - These messages don't require acknowledgments\n        /* const sentMessageId = message.msg_id;\n        const sentMessage = this.sentMessages[sentMessageId]; \n\n        if(sentMessage) {\n          sentMessage.deferred.resolve(message);\n          delete this.sentMessages[sentMessageId];\n        } */\n        const pingId = message.ping_id;\n        if(this.lastPingDelayDisconnectId === pingId) {\n          this.pingDelayDisconnectDeferred.resolve('pong');\n        }\n\n        break;\n      }\n  \n      default:\n        this.ackMessage(messageId);\n\n        /* if(this.debug) {\n          this.log.debug('Update', message);\n        } */\n        \n        if(this.networkerFactory.updatesProcessor !== null) {\n          this.networkerFactory.updatesProcessor(message);\n        }\n        break;\n    }\n  }\n}\n","import bigInt from \"big-integer\";\r\n\r\nexport default function sortLongsArray(arr: string[]) {\r\n  return arr.map((long) => {\r\n    return bigInt(long);\r\n  }).sort((a, b) => {\r\n    return a.compare(b);\r\n  }).map((bigInt) => {\r\n    return bigInt.toString(10);\r\n  });\r\n}\r\n","import addPadding from '../bytes/addPadding';\r\nimport bigInt from 'big-integer';\r\nimport { bigIntToBytes } from '../bigInt/bigIntConversion';\r\n\r\nexport default function longToBytes(sLong: string) {\r\n  const bigIntBytes = bigIntToBytes(bigInt(sLong)).reverse();\r\n  const bytes = addPadding(bigIntBytes, 8, true, false, false);\r\n  // console.log('longToBytes', bytes, bigIntBytes);\r\n  \r\n  return bytes;\r\n}\r\n","/*\r\n * https://github.com/morethanwords/tweb\r\n * Copyright (C) 2019-2021 Eduard Kuzmenko\r\n * https://github.com/morethanwords/tweb/blob/master/LICENSE\r\n * \r\n * Originally from:\r\n * https://github.com/zhukov/webogram\r\n * Copyright (C) 2014 Igor Zhukov <igor.beatle@gmail.com>\r\n * https://github.com/zhukov/webogram/blob/master/LICENSE\r\n */\r\n\r\nimport type { ConnectionStatusChange } from \"./connectionStatus\";\r\nimport MTPNetworker from \"./networker\";\r\nimport { InvokeApiOptions } from \"../../types\";\r\nimport App from \"../../config/app\";\r\nimport indexOfAndSplice from \"../../helpers/array/indexOfAndSplice\";\r\nimport { AppManager } from \"../appManagers/manager\";\r\n\r\nexport class NetworkerFactory extends AppManager {\r\n  private networkers: MTPNetworker[] = [];\r\n  public language = navigator.language || App.langPackCode;\r\n  public updatesProcessor: (obj: any) => void = null;\r\n  // public onConnectionStatusChange: (status: ConnectionStatusChange) => void = null;\r\n  public akStopped = false;\r\n\r\n  public onConnectionStatusChange(status: ConnectionStatusChange) {\r\n    this.rootScope.dispatchEvent('connection_status_change', status);\r\n    //  ({type: 'connectionStatusChange', payload: status});\r\n  }\r\n\r\n  public removeNetworker(networker: MTPNetworker) {\r\n    indexOfAndSplice(this.networkers, networker);\r\n  }\r\n\r\n  public setUpdatesProcessor(callback: (obj: any) => void) {\r\n    this.updatesProcessor = callback;\r\n  }\r\n\r\n  public getNetworker(dcId: number, authKey: Uint8Array, authKeyId: Uint8Array, serverSalt: Uint8Array, options: InvokeApiOptions) {\r\n    //console.log('NetworkerFactory: creating new instance of MTPNetworker:', dcId, options);\r\n    const networker = new MTPNetworker(this, this.timeManager, dcId, authKey, authKeyId, serverSalt, options);\r\n    this.networkers.push(networker);\r\n    return networker;\r\n  }\r\n\r\n  public startAll() {\r\n    if(this.akStopped) {\r\n      const stoppedNetworkers = this.networkers.filter((networker) => networker.isStopped());\r\n\r\n      this.akStopped = false;\r\n      this.updatesProcessor && this.updatesProcessor({_: 'new_session_created'});\r\n      \r\n      for(const networker of stoppedNetworkers) {\r\n        networker.scheduleRequest();\r\n      }\r\n    }\r\n  }\r\n\r\n  public stopAll() {\r\n    this.akStopped = true;\r\n  }\r\n\r\n  public setLanguage(langCode: string) {\r\n    this.language = langCode;\r\n    for(const networker of this.networkers) {\r\n      if(!networker.isFileNetworker) {\r\n        networker.connectionInited = false;\r\n      }\r\n    }\r\n  }\r\n\r\n  public unsetConnectionInited() {\r\n    for(const networker of this.networkers) {\r\n      networker.connectionInited = false;\r\n    }\r\n  }\r\n\r\n  public forceReconnectTimeout() {\r\n    for(const networker of this.networkers) {\r\n      networker.forceReconnectTimeout();\r\n    }\r\n  }\r\n\r\n  public forceReconnect() {\r\n    for(const networker of this.networkers) {\r\n      if(!networker.isFileNetworker) {\r\n        networker.forceReconnect();\r\n        break;\r\n      }\r\n    }\r\n  }\r\n}\r\n","/*\r\n * https://github.com/morethanwords/tweb\r\n * Copyright (C) 2019-2021 Eduard Kuzmenko\r\n * https://github.com/morethanwords/tweb/blob/master/LICENSE\r\n * \r\n * Originally from:\r\n * https://github.com/zhukov/webogram\r\n * Copyright (C) 2014 Igor Zhukov <igor.beatle@gmail.com>\r\n * https://github.com/zhukov/webogram/blob/master/LICENSE\r\n */\r\n\r\nimport { TLSerialization } from \"./tl_utils\";\r\nimport cryptoWorker from '../crypto/cryptoMessagePort';\r\nimport Modes from \"../../config/modes\";\r\nimport bytesFromHex from \"../../helpers/bytes/bytesFromHex\";\r\nimport bytesToHex from \"../../helpers/bytes/bytesToHex\";\r\nimport bigInt from 'big-integer';\r\n\r\nexport type RSAPublicKeyHex = {\r\n  modulus: string,\r\n  exponent: string\r\n};\r\n\r\nexport class RSAKeysManager {\r\n\r\n  /**\r\n   *  Server public key, obtained from here: https://core.telegram.org/api/obtaining_api_id\r\n   * \r\n   * \r\n   *  -----BEGIN RSA PUBLIC KEY-----\r\n   *  MIIBCgKCAQEA6LszBcC1LGzyr992NzE0ieY+BSaOW622Aa9Bd4ZHLl+TuFQ4lo4g\r\n   *  5nKaMBwK/BIb9xUfg0Q29/2mgIR6Zr9krM7HjuIcCzFvDtr+L0GQjae9H0pRB2OO\r\n   *  62cECs5HKhT5DZ98K33vmWiLowc621dQuwKWSQKjWf50XYFw42h21P2KXUGyp2y/\r\n   *  +aEyZ+uVgLLQbRA1dEjSDZ2iGRy12Mk5gpYc397aYp438fsJoHIgJ2lgMv5h7WY9\r\n   *  t6N/byY9Nw9p21Og3AoXSL2q/2IJ1WRUhebgAdGVMlV1fkuOQoEzR7EdpqtQD9Cs\r\n   *  5+bfo3Nhmcyvk5ftB0WkJ9z6bNZ7yxrP8wIDAQAB\r\n   *  -----END RSA PUBLIC KEY-----\r\n   *\r\n   *  -----BEGIN RSA PUBLIC KEY-----\r\n   *  MIIBCgKCAQEBadMIUYSKhyznMh+Pg+OxTLyDZrWEjQIPZC3oJCtuZX7qUxgcWqFX\r\n   *  Q1952TSY8S8NYuz12sK9Fvp+lil1hIG0U/cuPsK08VB1hB4VA+p0S46fGwVsRovq\r\n   *  4qUiUIzQSjSHDASuXTOinlYEHwmg/GaLc5G7qhePWa0p9YmqYR5Ha3xHJywcXZrn\r\n   *  yE3nC9igL96Aanqv+Prbu1N+r9vAgZeHh9cfbtbV8WWwruOANOTEv2ctQLR0dfr9\r\n   *  MwQXNePTPQlYsO9HNIGS1LWe7hZFtGBAVJH92F7Kig68WqHM3PIZ6Sq7N0VSzfzL\r\n   *  b11Z/YHz2UXYtXADwL/m5pTpKBUtJBXkOQIDAQAB\r\n   *  -----END RSA PUBLIC KEY-----\r\n   *\r\n   * Bytes can be got via \r\n   * $ openssl rsa -in rsa.pem -RSAPublicKey_in -pubout > pub.pem\r\n   * $ openssl rsa -pubin -in pub.pem -text -noout\r\n   */\r\n\r\n  /* private publisKeysHex = [{\r\n    modulus: 'c150023e2f70db7985ded064759cfecf0af328e69a41daf4d6f01b538135a6f91f8f8b2a0ec9ba9720ce352efcf6c5680ffc424bd634864902de0b4bd6d49f4e580230e3ae97d95c8b19442b3c0a10d8f5633fecedd6926a7f6dab0ddb7d457f9ea81b8465fcd6fffeed114011df91c059caedaf97625f6c96ecc74725556934ef781d866b34f011fce4d835a090196e9a5f0e4449af7eb697ddb9076494ca5f81104a305b6dd27665722c46b60e5df680fb16b210607ef217652e60236c255f6a28315f4083a96791d7214bf64c1df4fd0db1944fb26a2a57031b32eee64ad15a8ba68885cde74a5bfc920f6abf59ba5c75506373e7130f9042da922179251f',\r\n    exponent: '010001'\r\n  }, {\r\n    modulus: 'aeec36c8ffc109cb099624685b97815415657bd76d8c9c3e398103d7ad16c9bba6f525ed0412d7ae2c2de2b44e77d72cbf4b7438709a4e646a05c43427c7f184debf72947519680e651500890c6832796dd11f772c25ff8f576755afe055b0a3752c696eb7d8da0d8be1faf38c9bdd97ce0a77d3916230c4032167100edd0f9e7a3a9b602d04367b689536af0d64b613ccba7962939d3b57682beb6dae5b608130b2e52aca78ba023cf6ce806b1dc49c72cf928a7199d22e3d7ac84e47bc9427d0236945d10dbd15177bab413fbf0edfda09f014c7a7da088dde9759702ca760af2b8e4e97cc055c617bd74c3d97008635b98dc4d621b4891da9fb0473047927',\r\n    exponent: '010001'\r\n  }, {\r\n    modulus: 'bdf2c77d81f6afd47bd30f29ac76e55adfe70e487e5e48297e5a9055c9c07d2b93b4ed3994d3eca5098bf18d978d54f8b7c713eb10247607e69af9ef44f38e28f8b439f257a11572945cc0406fe3f37bb92b79112db69eedf2dc71584a661638ea5becb9e23585074b80d57d9f5710dd30d2da940e0ada2f1b878397dc1a72b5ce2531b6f7dd158e09c828d03450ca0ff8a174deacebcaa22dde84ef66ad370f259d18af806638012da0ca4a70baa83d9c158f3552bc9158e69bf332a45809e1c36905a5caa12348dd57941a482131be7b2355a5f4635374f3bd3ddf5ff925bf4809ee27c1e67d9120c5fe08a9de458b1b4a3c5d0a428437f2beca81f4e2d5ff',\r\n    exponent: '010001'\r\n  }, {\r\n    modulus: 'b3f762b739be98f343eb1921cf0148cfa27ff7af02b6471213fed9daa0098976e667750324f1abcea4c31e43b7d11f1579133f2b3d9fe27474e462058884e5e1b123be9cbbc6a443b2925c08520e7325e6f1a6d50e117eb61ea49d2534c8bb4d2ae4153fabe832b9edf4c5755fdd8b19940b81d1d96cf433d19e6a22968a85dc80f0312f596bd2530c1cfb28b5fe019ac9bc25cd9c2a5d8a0f3a1c0c79bcca524d315b5e21b5c26b46babe3d75d06d1cd33329ec782a0f22891ed1db42a1d6c0dea431428bc4d7aabdcf3e0eb6fda4e23eb7733e7727e9a1915580796c55188d2596d2665ad1182ba7abf15aaa5a8b779ea996317a20ae044b820bff35b6e8a1',\r\n    exponent: '010001'\r\n  }, {\r\n    modulus: 'be6a71558ee577ff03023cfa17aab4e6c86383cff8a7ad38edb9fafe6f323f2d5106cbc8cafb83b869cffd1ccf121cd743d509e589e68765c96601e813dc5b9dfc4be415c7a6526132d0035ca33d6d6075d4f535122a1cdfe017041f1088d1419f65c8e5490ee613e16dbf662698c0f54870f0475fa893fc41eb55b08ff1ac211bc045ded31be27d12c96d8d3cfc6a7ae8aa50bf2ee0f30ed507cc2581e3dec56de94f5dc0a7abee0be990b893f2887bd2c6310a1e0a9e3e38bd34fded2541508dc102a9c9b4c95effd9dd2dfe96c29be647d6c69d66ca500843cfaed6e440196f1dbe0e2e22163c61ca48c79116fa77216726749a976a1c4b0944b5121e8c01',\r\n    exponent: '010001'\r\n  }]; */\r\n\r\n  private testPublicKeysHex: RSAPublicKeyHex[] = [{\r\n    modulus: 'c8c11d635691fac091dd9489aedced2932aa8a0bcefef05fa800892d9b52ed03200865c9e97211cb2ee6c7ae96d3fb0e15aeffd66019b44a08a240cfdd2868a85e1f54d6fa5deaa041f6941ddf302690d61dc476385c2fa655142353cb4e4b59f6e5b6584db76fe8b1370263246c010c93d011014113ebdf987d093f9d37c2be48352d69a1683f8f6e6c2167983c761e3ab169fde5daaa12123fa1beab621e4da5935e9c198f82f35eae583a99386d8110ea6bd1abb0f568759f62694419ea5f69847c43462abef858b4cb5edc84e7b9226cd7bd7e183aa974a712c079dde85b9dc063b8a5c08e8f859c0ee5dcd824c7807f20153361a7f63cfd2a433a1be7f5',\r\n    exponent: '010001'\r\n  }];\r\n\r\n  private publisKeysHex: RSAPublicKeyHex[] = [{\r\n    // modulus: '00e8bb3305c0b52c6cf2afdf7637313489e63e05268e5badb601af417786472e5f93b85438968e20e6729a301c0afc121bf7151f834436f7fda680847a66bf64accec78ee21c0b316f0edafe2f41908da7bd1f4a5107638eeb67040ace472a14f90d9f7c2b7def99688ba3073adb5750bb02964902a359fe745d8170e36876d4fd8a5d41b2a76cbff9a13267eb9580b2d06d10357448d20d9da2191cb5d8c93982961cdfdeda629e37f1fb09a0722027696032fe61ed663db7a37f6f263d370f69db53a0dc0a1748bdaaff6209d5645485e6e001d1953255757e4b8e42813347b11da6ab500fd0ace7e6dfa3736199ccaf9397ed0745a427dcfa6cd67bcb1acff3',\r\n    modulus: 'e8bb3305c0b52c6cf2afdf7637313489e63e05268e5badb601af417786472e5f93b85438968e20e6729a301c0afc121bf7151f834436f7fda680847a66bf64accec78ee21c0b316f0edafe2f41908da7bd1f4a5107638eeb67040ace472a14f90d9f7c2b7def99688ba3073adb5750bb02964902a359fe745d8170e36876d4fd8a5d41b2a76cbff9a13267eb9580b2d06d10357448d20d9da2191cb5d8c93982961cdfdeda629e37f1fb09a0722027696032fe61ed663db7a37f6f263d370f69db53a0dc0a1748bdaaff6209d5645485e6e001d1953255757e4b8e42813347b11da6ab500fd0ace7e6dfa3736199ccaf9397ed0745a427dcfa6cd67bcb1acff3',\r\n    exponent: '010001'\r\n  }];\r\n\r\n  private publicKeysParsed: {\r\n    [hex: string]: RSAPublicKeyHex\r\n  } = {};\r\n  private prepared = false;\r\n  private preparePromise: Promise<void> = null;\r\n\r\n  constructor() {\r\n    if(Modes.test) {\r\n      this.publisKeysHex = this.testPublicKeysHex;\r\n    }\r\n  }\r\n\r\n  public prepare(): Promise<void> {\r\n    if(this.preparePromise) return this.preparePromise;\r\n    else if(this.prepared) {\r\n      return Promise.resolve();\r\n    }\r\n\r\n    return this.preparePromise = Promise.all(this.publisKeysHex.map((keyParsed) => {\r\n      const RSAPublicKey = new TLSerialization();\r\n      RSAPublicKey.storeBytes(bytesFromHex(keyParsed.modulus), 'n');\r\n      RSAPublicKey.storeBytes(bytesFromHex(keyParsed.exponent), 'e');\r\n\r\n      const buffer = RSAPublicKey.getBuffer();\r\n\r\n      return cryptoWorker.invokeCrypto('sha1', buffer).then((bytes) => {\r\n        const fingerprintBytes = bytes.slice(-8);\r\n        fingerprintBytes.reverse();\r\n  \r\n        this.publicKeysParsed[bytesToHex(fingerprintBytes).toLowerCase()] = {\r\n          modulus: keyParsed.modulus,\r\n          exponent: keyParsed.exponent\r\n        };\r\n      });\r\n    })).then(() => {\r\n      this.prepared = true;\r\n\r\n      //console.log('[MT] Prepared keys');\r\n      this.preparePromise = null;\r\n    });\r\n  }\r\n\r\n  public async select(fingerprints: Array<string>) {\r\n    await this.prepare();\r\n\r\n    for(let i = 0; i < fingerprints.length; ++i) {\r\n      let fingerprintHex = bigInt(fingerprints[i]).toString(16).toLowerCase();\r\n\r\n      if(fingerprintHex.length < 16) {\r\n        fingerprintHex = new Array(16 - fingerprintHex.length).fill('0').join('') + fingerprintHex;\r\n      }\r\n\r\n      //console.log(fingerprintHex, this.publicKeysParsed);\r\n      const foundKey = this.publicKeysParsed[fingerprintHex];\r\n      if(foundKey) {\r\n        return Object.assign({\r\n          fingerprint: fingerprints[i]\r\n        }, foundKey);\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nexport default new RSAKeysManager();\r\n","export default function bytesXor(bytes1: Uint8Array, bytes2: Uint8Array) {\r\n  const len = bytes1.length;\r\n  const bytes = new Uint8Array(len);\r\n\r\n  for(let i = 0; i < len; ++i) {\r\n    bytes[i] = bytes1[i] ^ bytes2[i];\r\n  }\r\n\r\n  return bytes;\r\n}\r\n","/*\n * https://github.com/morethanwords/tweb\n * Copyright (C) 2019-2021 Eduard Kuzmenko\n * https://github.com/morethanwords/tweb/blob/master/LICENSE\n * \n * Originally from:\n * https://github.com/zhukov/webogram\n * Copyright (C) 2014 Igor Zhukov <igor.beatle@gmail.com>\n * https://github.com/zhukov/webogram/blob/master/LICENSE\n */\n\n                    \nimport transportController from \"./transports/controller\";\n          \n\nimport { TLSerialization, TLDeserialization } from \"./tl_utils\";\nimport { TransportType } from \"./dcConfigurator\";\nimport rsaKeysManager from \"./rsaKeysManager\";\n\nimport CryptoWorker from \"../crypto/cryptoMessagePort\";\n\nimport { logger, LogTypes } from \"../logger\";\nimport DEBUG from \"../../config/debug\";\nimport { Awaited, DcId } from \"../../types\";\nimport { ApiError } from \"./apiManager\";\nimport addPadding from \"../../helpers/bytes/addPadding\";\nimport bytesCmp from \"../../helpers/bytes/bytesCmp\";\nimport bytesFromHex from \"../../helpers/bytes/bytesFromHex\";\nimport bytesToHex from \"../../helpers/bytes/bytesToHex\";\nimport bytesXor from \"../../helpers/bytes/bytesXor\";\nimport { bigIntFromBytes } from \"../../helpers/bigInt/bigIntConversion\";\nimport bigInt from \"big-integer\";\nimport randomize from \"../../helpers/array/randomize\";\nimport { AppManager } from \"../appManagers/manager\";\n\n/* let fNewNonce: any = bytesFromHex('8761970c24cb2329b5b2459752c502f3057cb7e8dbab200e526e8767fdc73b3c').reverse();\nlet fNonce: any = bytesFromHex('b597720d11faa5914ef485c529cde414').reverse();\nlet fResult: any = new Uint8Array(bytesFromHex('000000000000000001b473a0661b285e480000006324160514e4cd29c585f44e91a5fa110d7297b5c0c4134c84893db5715ecd56af5ed618082182053cc5de91cd00000015c4b51c02000000a5b7f709355fc30b216be86c022bb4c3'));\n\nfNewNonce = false;\nfNonce = false;\nfResult = false; */\n\ntype AuthOptions = {\n  dcId: number,\n  nonce: Uint8Array,\n  \n  serverNonce?: Uint8Array,\n  pq?: Uint8Array,\n  fingerprints?: string[],\n  publicKey?: {\n    modulus: string,\n    exponent: string,\n    fingerprint: string\n  },\n  \n  // good\n  p?: Uint8Array,\n  q?: Uint8Array,\n  \n  newNonce?: Uint8Array,\n  \n  retry?: number,\n  \n  b?: Uint8Array,\n  g?: number,\n  gA?: Uint8Array,\n  dhPrime?: Uint8Array,\n  \n  tmpAesKey?: Uint8Array,\n  tmpAesIv?: Uint8Array,\n  \n  authKeyId?: Uint8Array,\n  authKey?: Uint8Array,\n  serverSalt?: Uint8Array,\n\n  localTime?: number,\n  serverTime?: any,\n};\n\ntype ResPQ = {\n  _: 'resPQ';\n  nonce: Uint8Array;\n  pq: Uint8Array;\n  server_nonce: Uint8Array;\n  server_public_key_fingerprints: string[];\n};\n\ntype P_Q_inner_data = {\n  _: 'p_q_inner_data_dc';\n  pq: Uint8Array;\n  p: Uint8Array;\n  q: Uint8Array;\n  nonce: Uint8Array;\n  server_nonce: Uint8Array;\n  new_nonce: Uint8Array;\n  dc: number;\n};\n\ntype req_DH_params = {\n  nonce: Uint8Array;\n  server_nonce: Uint8Array;\n  p: Uint8Array;\n  q: Uint8Array;\n  public_key_fingerprint: string;\n  encrypted_data: Uint8Array;\n};\n\nexport class Authorizer extends AppManager {\n  private cached: {\n    [dcId: DcId]: Promise<AuthOptions>\n  };\n  \n  private log: ReturnType<typeof logger>;\n\n  private transportType: TransportType;\n\n                      \n  private getTransportTypePromise: Promise<void>;\n            \n  \n  protected after() {\n    this.cached = {};\n    this.log = logger(`AUTHORIZER`, LogTypes.Error | LogTypes.Log);\n  }\n  \n  private sendPlainRequest(dcId: DcId, requestArray: Uint8Array) {\n    const requestLength = requestArray.byteLength;\n    \n    const header = new TLSerialization();\n    header.storeLongP(0, 0, 'auth_key_id');\n    header.storeLong(this.timeManager.generateId(), 'msg_id');\n    header.storeInt(requestLength, 'request_length');\n    \n    const headerArray = header.getBytes(true) as Uint8Array;\n    const resultArray = new Uint8Array(headerArray.byteLength + requestLength);\n    resultArray.set(headerArray);\n    resultArray.set(requestArray, headerArray.length);\n\n    const transport = this.dcConfigurator.chooseServer(dcId, 'client', this.transportType);\n    const baseError = {\n      code: 406,\n      type: 'NETWORK_BAD_RESPONSE'\n    };\n    \n    if(DEBUG) {\n      this.log('mtpSendPlainRequest: creating requestPromise');\n    }\n    \n    const promise = transport.send(resultArray) as any as Promise<Uint8Array>;\n    return promise.then((result) => {\n      if(DEBUG) {\n        this.log('mtpSendPlainRequest: in good sector', result);\n      }\n      \n      if(!result || !result.byteLength) {\n        throw baseError;\n      }\n      \n      try {\n        /* result = fResult ? fResult : result;\n        fResult = new Uint8Array(0); */\n        \n        const deserializer = new TLDeserialization<MTLong>(result, {mtproto: true});\n\n        if(result.length === 4) {\n          const errorCode = deserializer.fetchInt();\n          this.log.error('mtpSendPlainRequest: wrong response, error code:', errorCode);\n          throw errorCode;\n        }\n\n        const auth_key_id = deserializer.fetchLong('auth_key_id');\n        if(auth_key_id !== '0') this.log.error('auth_key_id !== 0', auth_key_id);\n        \n        const msg_id = deserializer.fetchLong('msg_id');\n        if(msg_id === '0') this.log.error('msg_id === 0', msg_id);\n        \n        const msg_len = deserializer.fetchInt('msg_len');\n        if(!msg_len) this.log.error('no msg_len', msg_len);\n        \n        return deserializer;\n      } catch(e) {\n        this.log.error('mtpSendPlainRequest: deserialization went bad', e);\n        const error = Object.assign(baseError, {originalError: e});\n        throw error;\n      }\n    }, (error) => {\n      if(!error.message && !error.type) {\n        error = Object.assign(baseError, {\n          originalError: error\n        });\n      }\n      \n      throw error;\n    });\n  }\n  \n  private async sendReqPQ(auth: AuthOptions) {\n    const request = new TLSerialization({mtproto: true});\n    \n    request.storeMethod('req_pq_multi', {nonce: auth.nonce});\n\n    if(DEBUG) {\n      this.log('Send req_pq', bytesToHex(auth.nonce));\n    }\n\n    let deserializer: Awaited<ReturnType<Authorizer['sendPlainRequest']>>;\n    try {\n      const promise = this.sendPlainRequest(auth.dcId, request.getBytes(true));\n      rsaKeysManager.prepare();\n      deserializer = await promise;\n    } catch(error) {\n      this.log.error('req_pq error', (error as Error).message);\n      throw error;\n    }\n    \n    const response: ResPQ = deserializer.fetchObject('ResPQ');\n\n    if(response._ !== 'resPQ') {\n      throw new Error('[MT] resPQ response invalid: ' + response._);\n    }\n    \n    if(!bytesCmp(auth.nonce, response.nonce)) {\n      this.log.error(auth.nonce, response.nonce);\n      throw new Error('[MT] resPQ nonce mismatch');\n    }\n    \n    auth.serverNonce = response.server_nonce; // need\n    auth.pq = response.pq;\n    auth.fingerprints = response.server_public_key_fingerprints;\n    \n    if(DEBUG) {\n      this.log('Got ResPQ', bytesToHex(auth.serverNonce), bytesToHex(auth.pq), auth.fingerprints);\n    }\n    \n    const publicKey = await rsaKeysManager.select(auth.fingerprints);\n    if(!publicKey) {\n      throw new Error('[MT] No public key found');\n    }\n    \n    auth.publicKey = publicKey;\n    \n    if(DEBUG) {\n      this.log('PQ factorization start', auth.pq);\n    }\n    \n    // let pAndQ: Awaited<ReturnType<typeof CryptoWorker['factorize']>>;\n    try {\n      var pAndQ = await CryptoWorker.invokeCrypto('factorize', auth.pq);\n    } catch(error) {\n      this.log.error('worker error factorize', error);\n      throw error;\n    }\n    \n    auth.p = pAndQ[0];\n    auth.q = pAndQ[1];\n    \n    if(DEBUG) {\n      this.log('PQ factorization done', pAndQ);\n    }\n    \n    return this.sendReqDhParams(auth);\n  }\n  \n  private async sendReqDhParams(auth: AuthOptions): Promise<AuthOptions> {\n    auth.newNonce = randomize(new Uint8Array(32));\n\n    const p_q_inner_data_dc: P_Q_inner_data = {\n      _: 'p_q_inner_data_dc',\n      pq: auth.pq,\n      p: auth.p,\n      q: auth.q,\n      nonce: auth.nonce,\n      server_nonce: auth.serverNonce,\n      new_nonce: auth.newNonce,\n      dc: 0\n    };\n    \n    const pQInnerDataSerialization = new TLSerialization({mtproto: true});\n    pQInnerDataSerialization.storeObject(p_q_inner_data_dc, 'P_Q_inner_data', 'DECRYPTED_DATA');\n\n    const data = pQInnerDataSerialization.getBytes(true);\n    if(data.length > 144) {\n      throw 'DH_params: data is more than 144 bytes!';\n    }\n\n    const dataWithPadding = addPadding(data, 192, false, true, false);\n    const dataPadReversed = dataWithPadding.slice().reverse();\n\n    const getKeyAesEncrypted = async() => {\n      for(;;) {\n        const tempKey = randomize(new Uint8Array(32));\n        const dataWithHash = dataPadReversed.concat(await CryptoWorker.invokeCrypto('sha256', tempKey.concat(dataWithPadding)));\n        if(dataWithHash.length !== 224) {\n          throw 'DH_params: dataWithHash !== 224 bytes!';\n        }\n    \n        const aesEncrypted = await CryptoWorker.invokeCrypto('aes-encrypt', dataWithHash, tempKey, new Uint8Array([0]));\n        const tempKeyXor = bytesXor(tempKey, await CryptoWorker.invokeCrypto('sha256', aesEncrypted));\n        const keyAesEncrypted = tempKeyXor.concat(aesEncrypted);\n\n        const keyAesEncryptedBigInt = bigIntFromBytes(keyAesEncrypted);\n        const publicKeyModulusBigInt = bigInt(auth.publicKey.modulus, 16);\n\n        if(keyAesEncryptedBigInt.compare(publicKeyModulusBigInt) === -1) {\n          return keyAesEncrypted;\n        }\n      }\n    };\n    \n    const keyAesEncrypted = await getKeyAesEncrypted();\n    const encryptedData = addPadding(await CryptoWorker.invokeCrypto('rsa-encrypt', keyAesEncrypted, auth.publicKey), 256, true, true, true);\n\n    const req_DH_params: req_DH_params = {\n      nonce: auth.nonce,\n      server_nonce: auth.serverNonce,\n      p: auth.p,\n      q: auth.q,\n      public_key_fingerprint: auth.publicKey.fingerprint,\n      encrypted_data: encryptedData\n    };\n    \n    const request = new TLSerialization({mtproto: true});\n    request.storeMethod('req_DH_params', req_DH_params);\n    \n    const requestBytes = request.getBytes(true);\n    \n    if(DEBUG) {\n      this.log('Send req_DH_params', req_DH_params/* , requestBytes.hex */);\n    }\n    \n    let deserializer: Awaited<ReturnType<Authorizer['sendPlainRequest']>>;\n    try {\n      deserializer = await this.sendPlainRequest(auth.dcId, requestBytes);\n    } catch(error) {\n      this.log.error('Send req_DH_params FAIL!', error);\n      throw error;\n    }\n    \n    const response = deserializer.fetchObject('Server_DH_Params', 'RESPONSE');\n    \n    if(DEBUG) {\n      this.log('Sent req_DH_params, response:', response);\n    }\n    \n    if(response._ !== 'server_DH_params_fail' && response._ !== 'server_DH_params_ok') {\n      throw new Error('[MT] Server_DH_Params response invalid: ' + response._);\n    }\n    \n    if(!bytesCmp(auth.nonce, response.nonce)) {\n      throw new Error('[MT] Server_DH_Params nonce mismatch');\n    }\n    \n    if(!bytesCmp(auth.serverNonce, response.server_nonce)) {\n      throw new Error('[MT] Server_DH_Params server_nonce mismatch');\n    }\n    \n    if(response._ === 'server_DH_params_fail') {\n      const newNonceHash = (await CryptoWorker.invokeCrypto('sha1', auth.newNonce)).slice(-16);\n      if(!bytesCmp(newNonceHash, response.new_nonce_hash)) {\n        throw new Error('[MT] server_DH_params_fail new_nonce_hash mismatch');\n      }\n      \n      throw new Error('[MT] server_DH_params_fail');\n    }\n    \n    // fill auth object\n    try {\n      await this.decryptServerDhDataAnswer(auth, response.encrypted_answer);\n    } catch(e) {\n      this.log.error('mtpDecryptServerDhDataAnswer FAILED!', e);\n      throw e;\n    }\n    \n    //console.log(dT(), 'mtpSendReqDhParams: executing mtpSendSetClientDhParams...');\n    \n    return this.sendSetClientDhParams(auth);\n  }\n  \n  private async decryptServerDhDataAnswer(auth: AuthOptions, encryptedAnswer: any) {\n    auth.localTime = Date.now();\n    \n    // ! can't concat Array with Uint8Array!\n    auth.tmpAesKey = (await CryptoWorker.invokeCrypto('sha1', auth.newNonce.concat(auth.serverNonce)))\n    .concat((await CryptoWorker.invokeCrypto('sha1', auth.serverNonce.concat(auth.newNonce))).slice(0, 12));\n    \n    auth.tmpAesIv = (await CryptoWorker.invokeCrypto('sha1', auth.serverNonce.concat(auth.newNonce))).slice(12)\n    .concat(await CryptoWorker.invokeCrypto('sha1', auth.newNonce.concat(auth.newNonce)), auth.newNonce.slice(0, 4));\n    \n    const answerWithHash = new Uint8Array(await CryptoWorker.invokeCrypto('aes-decrypt', encryptedAnswer, auth.tmpAesKey, auth.tmpAesIv));\n    \n    const hash = answerWithHash.slice(0, 20);\n    const answerWithPadding = answerWithHash.slice(20);\n\n    const deserializer = new TLDeserialization<MTLong>(answerWithPadding, {mtproto: true});\n    const response = deserializer.fetchObject('Server_DH_inner_data');\n    \n    if(response._ !== 'server_DH_inner_data') {\n      throw new Error('[MT] server_DH_inner_data response invalid: ' + response);\n    }\n    \n    if(!bytesCmp(auth.nonce, response.nonce)) {\n      throw new Error('[MT] server_DH_inner_data nonce mismatch');\n    }\n    \n    if(!bytesCmp(auth.serverNonce, response.server_nonce)) {\n      throw new Error('[MT] server_DH_inner_data serverNonce mismatch');\n    }\n    \n    if(DEBUG) {\n      this.log('Done decrypting answer');\n    }\n    auth.g = response.g;\n    auth.dhPrime = response.dh_prime;\n    auth.gA = response.g_a;\n    auth.serverTime = response.server_time;\n    auth.retry = 0;\n    \n    this.verifyDhParams(auth.g, auth.dhPrime, auth.gA);\n    \n    const offset = deserializer.getOffset();\n    \n    if(!bytesCmp(hash, await CryptoWorker.invokeCrypto('sha1', answerWithPadding.slice(0, offset)))) {\n      throw new Error('[MT] server_DH_inner_data SHA1 mismatch');\n    }\n    \n    this.timeManager.applyServerTime(auth.serverTime, auth.localTime);\n  }\n  \n  private verifyDhParams(g: number, dhPrime: Uint8Array, gA: Uint8Array) {\n    if(DEBUG) {\n      this.log('Verifying DH params', g, dhPrime, gA);\n    }\n\n    const dhPrimeHex = bytesToHex(dhPrime);\n    if(g !== 3 || dhPrimeHex !== 'c71caeb9c6b1c9048e6c522f70f13f73980d40238e3e21c14934d037563d930f48198a0aa7c14058229493d22530f4dbfa336f6e0ac925139543aed44cce7c3720fd51f69458705ac68cd4fe6b6b13abdc9746512969328454f18faf8c595f642477fe96bb2a941d5bcd1d4ac8cc49880708fa9b378e3c4f3a9060bee67cf9a4a4a695811051907e162753b56b0f6b410dba74d8a84b2a14b3144e0ef1284754fd17ed950d5965b4b9dd46582db1178d169c6bc465b0d6ff9ca3928fef5b9ae4e418fc15e83ebea0f87fa9ff5eed70050ded2849f47bf959d956850ce929851f0d8115f635b105ee2e4e15d04b2454bf6f4fadf034b10403119cd8e3b92fcc5b') {\n      // The verified value is from https://core.telegram.org/mtproto/security_guidelines\n      throw new Error('[MT] DH params are not verified: unknown dhPrime');\n    }\n\n    if(DEBUG) {\n      this.log('dhPrime cmp OK');\n    }\n    \n    const gABigInt = bigIntFromBytes(gA);\n    const dhPrimeBigInt = bigInt(dhPrimeHex, 16);\n\n    if(gABigInt.compare(bigInt.one) <= 0) {\n      throw new Error('[MT] DH params are not verified: gA <= 1');\n    }\n\n    if(gABigInt.compare(dhPrimeBigInt.subtract(bigInt.one)) >= 0) {\n      throw new Error('[MT] DH params are not verified: gA >= dhPrime - 1');\n    }\n\n    if(DEBUG) {\n      this.log('1 < gA < dhPrime-1 OK');\n    }\n    \n    const twoPow = bigInt(2).pow(2048 - 64);\n\n    if(gABigInt.compare(twoPow) < 0) {\n      throw new Error('[MT] DH params are not verified: gA < 2^{2048-64}');\n    }\n    if(gABigInt.compare(dhPrimeBigInt.subtract(twoPow)) >= 0) {\n      throw new Error('[MT] DH params are not verified: gA > dhPrime - 2^{2048-64}');\n    }\n\n    if(DEBUG) {\n      this.log('2^{2048-64} < gA < dhPrime-2^{2048-64} OK');\n    }\n    \n    return true;\n  }\n  \n  private async sendSetClientDhParams(auth: AuthOptions): Promise<AuthOptions> {\n    const gBytes = bytesFromHex(auth.g.toString(16));\n    \n    auth.b = randomize(new Uint8Array(256));\n    //MTProto.secureRandom.nextBytes(auth.b);\n    \n    // let gB: Awaited<ReturnType<typeof CryptoWorker['modPow']>>;\n    try {\n      var gB = await CryptoWorker.invokeCrypto('mod-pow', gBytes, auth.b, auth.dhPrime);\n    } catch(error) {\n      throw error;\n    }\n    \n    const data = new TLSerialization({mtproto: true});\n    data.storeObject({\n      _: 'client_DH_inner_data',\n      nonce: auth.nonce,\n      server_nonce: auth.serverNonce,\n      retry_id: [0, auth.retry++],\n      g_b: gB\n    }, 'Client_DH_Inner_Data');\n    \n    const dataWithHash = (await CryptoWorker.invokeCrypto('sha1', data.getBuffer())).concat(data.getBytes(true));\n    const encryptedData = await CryptoWorker.invokeCrypto('aes-encrypt', dataWithHash, auth.tmpAesKey, auth.tmpAesIv);\n    \n    const request = new TLSerialization({mtproto: true});\n    request.storeMethod('set_client_DH_params', {\n      nonce: auth.nonce,\n      server_nonce: auth.serverNonce,\n      encrypted_data: encryptedData\n    });\n    \n    if(DEBUG) {\n      this.log('Send set_client_DH_params');\n    }\n    \n    let deserializer: Awaited<ReturnType<Authorizer['sendPlainRequest']>>;\n    try {\n      deserializer = await this.sendPlainRequest(auth.dcId, request.getBytes(true));\n    } catch(err) {\n      throw err;\n    }\n    \n    const response = deserializer.fetchObject('Set_client_DH_params_answer');\n    \n    if(response._ !== 'dh_gen_ok' && response._ !== 'dh_gen_retry' && response._ !== 'dh_gen_fail') {\n      throw new Error('[MT] Set_client_DH_params_answer response invalid: ' + response._);\n    }\n    \n    if(!bytesCmp(auth.nonce, response.nonce)) {\n      throw new Error('[MT] Set_client_DH_params_answer nonce mismatch');\n    }\n    \n    if(!bytesCmp(auth.serverNonce, response.server_nonce)) {\n      throw new Error('[MT] Set_client_DH_params_answer server_nonce mismatch');\n    }\n    \n    // let authKey: Uint8Array;\n    try {\n      var authKey = await CryptoWorker.invokeCrypto('mod-pow', auth.gA, auth.b, auth.dhPrime);\n    } catch(err) {\n      throw authKey;\n    }\n    \n    const authKeyHash = await CryptoWorker.invokeCrypto('sha1', authKey),\n    authKeyAux = authKeyHash.slice(0, 8),\n    authKeyId = authKeyHash.slice(-8);\n    \n    if(DEBUG) {\n      this.log('Got Set_client_DH_params_answer', response._, authKey);\n    }\n    switch(response._) {\n      case 'dh_gen_ok': {\n        const newNonceHash1 = (await CryptoWorker.invokeCrypto('sha1', auth.newNonce.concat([1], authKeyAux))).slice(-16);\n        \n        if(!bytesCmp(newNonceHash1, response.new_nonce_hash1)) {\n          this.log.error('Set_client_DH_params_answer new_nonce_hash1 mismatch', newNonceHash1, response);\n          throw new Error('new_nonce_hash1 mismatch');\n        }\n        \n        const serverSalt = bytesXor(auth.newNonce.slice(0, 8), auth.serverNonce.slice(0, 8));\n        if(DEBUG) {\n          this.log('Auth successfull!', authKeyId, authKey, serverSalt);\n        }\n        \n        auth.authKeyId = authKeyId;\n        auth.authKey = authKey;\n        auth.serverSalt = serverSalt;\n        \n        return auth;\n      }\n      \n      case 'dh_gen_retry': {\n        const newNonceHash2 = (await CryptoWorker.invokeCrypto('sha1', auth.newNonce.concat([2], authKeyAux))).slice(-16);\n        if(!bytesCmp(newNonceHash2, response.new_nonce_hash2)) {\n          throw new Error('[MT] Set_client_DH_params_answer new_nonce_hash2 mismatch');\n        }\n        \n        return this.sendSetClientDhParams(auth);\n      }\n      \n      case 'dh_gen_fail': {\n        const newNonceHash3 = (await CryptoWorker.invokeCrypto('sha1', auth.newNonce.concat([3], authKeyAux))).slice(-16);\n        if(!bytesCmp(newNonceHash3, response.new_nonce_hash3)) {\n          throw new Error('[MT] Set_client_DH_params_answer new_nonce_hash3 mismatch');\n        }\n        \n        throw new Error('[MT] Set_client_DH_params_answer fail');\n      }\n    }\n  }\n\n                      \n  private getTransportType() {\n    if(this.getTransportTypePromise) return this.getTransportTypePromise;\n    return this.getTransportTypePromise = transportController.pingTransports().then(({websocket}) => {\n      this.transportType = websocket ? 'websocket' : 'https';\n      this.log('will use transport:', this.transportType);\n    });\n  }\n            \n  \n  public auth(dcId: DcId) {\n    let promise = this.cached[dcId];\n    if(promise) {\n      return promise;\n    }\n\n    promise = new Promise(async(resolve, reject) => {\n                          \n      await this.getTransportType();\n                \n\n      let error: ApiError;\n      let _try = 1;\n      while(_try++ <= 3) {\n        try {\n          const auth: AuthOptions = {\n            dcId, \n            nonce: randomize(new Uint8Array(16))\n          };\n          \n          const promise = this.sendReqPQ(auth);\n          resolve(await promise);\n          return;\n        } catch(err) {\n          error = err;\n        }\n      }\n\n      reject(error);\n    });\n\n    return this.cached[dcId] = promise;\n  }\n}\n","/*\r\n * https://github.com/morethanwords/tweb\r\n * Copyright (C) 2019-2021 Eduard Kuzmenko\r\n * https://github.com/morethanwords/tweb/blob/master/LICENSE\r\n * \r\n * Originally from:\r\n * https://github.com/zhukov/webogram\r\n * Copyright (C) 2014 Igor Zhukov <igor.beatle@gmail.com>\r\n * https://github.com/zhukov/webogram/blob/master/LICENSE\r\n */\r\n\r\nimport sessionStorage from '../sessionStorage';\r\nimport { nextRandomUint } from '../../helpers/random';\r\nimport { WorkerTaskVoidTemplate } from '../../types';\r\nimport ulongFromInts from '../../helpers/long/ulongFromInts';\r\nimport { AppManager } from '../appManagers/manager';\r\n\r\n/*\r\nlet lol: any = {};\r\nfor(var i = 0; i < 100; i++) {\r\n    timeManager.generateId();\r\n}\r\n*/\r\n\r\nexport interface ApplyServerTimeOffsetTask extends WorkerTaskVoidTemplate {\r\n  type: 'applyServerTimeOffset',\r\n  payload: TimeManager['timeOffset']\r\n};\r\n\r\nexport class TimeManager extends AppManager {\r\n  private lastMessageId: [number, number];\r\n  private timeOffset: number;\r\n\r\n  /* private midnightNoOffset: number;\r\n  private midnightOffseted: Date;\r\n\r\n  private midnightOffset: number; */\r\n\r\n  /* private timeParams: {\r\n    midnightOffset: number,\r\n    serverTimeOffset: number\r\n  }; */\r\n\r\n  protected after() {\r\n    this.lastMessageId = [0, 0];\r\n    this.timeOffset = 0;\r\n\r\n    sessionStorage.get('server_time_offset').then((to) => {\r\n      if(to) {\r\n        this.timeOffset = to;\r\n      }\r\n    });\r\n\r\n\r\n\r\n    // * migrated from ServerTimeManager\r\n    /* const timestampNow = tsNow(true);\r\n    this.midnightNoOffset = timestampNow - (timestampNow % 86400);\r\n    this.midnightOffseted = new Date();\r\n    this.midnightOffseted.setHours(0, 0, 0, 0);\r\n    \r\n    this.midnightOffset = this.midnightNoOffset - (Math.floor(+this.midnightOffseted / 1000)); */\r\n\r\n    /* this.timeParams = {\r\n      midnightOffset: this.midnightOffset,\r\n      serverTimeOffset: this.serverTimeOffset\r\n    }; */\r\n  }\r\n\r\n  public getServerTimeOffset() {\r\n    return this.timeOffset;\r\n  }\r\n\r\n  public generateId(): string {\r\n    const timeTicks = Date.now(),\r\n      timeSec = Math.floor(timeTicks / 1000) + this.timeOffset,\r\n      timeMSec = timeTicks % 1000,\r\n      random = nextRandomUint(16);\r\n\r\n    let messageId: TimeManager['lastMessageId'] = [timeSec, (timeMSec << 21) | (random << 3) | 4];\r\n    if(this.lastMessageId[0] > messageId[0] ||\r\n      this.lastMessageId[0] === messageId[0] && this.lastMessageId[1] >= messageId[1]) {\r\n      messageId = [this.lastMessageId[0], this.lastMessageId[1] + 4];\r\n    }\r\n\r\n    this.lastMessageId = messageId;\r\n\r\n    const ret = ulongFromInts(messageId[0], messageId[1]).toString(10);\r\n\r\n    // if(lol[ret]) {\r\n    //   console.error('[TimeManager]: Generated SAME msg id', messageId, this.timeOffset, ret);\r\n    // }\r\n    // lol[ret] = true;\r\n\r\n    // console.log('[TimeManager]: Generated msg id', messageId, this.timeOffset, ret);\r\n\r\n    return ret\r\n  }\r\n\r\n  public applyServerTime(serverTime: number, localTime?: number) {\r\n    localTime = (localTime || Date.now()) / 1000 | 0;\r\n    const newTimeOffset = serverTime - localTime;\r\n    const changed = Math.abs(this.timeOffset - newTimeOffset) > 10;\r\n    this.lastMessageId = [0, 0];\r\n\r\n    if(this.timeOffset !== newTimeOffset) {\r\n      sessionStorage.set({\r\n        server_time_offset: newTimeOffset\r\n      });\r\n\r\n      this.timeOffset = newTimeOffset;\r\n    }\r\n    \r\n    //console.log('[TimeManager]: Apply server time', serverTime, localTime, newTimeOffset, changed);\r\n\r\n    return changed;\r\n  }\r\n}\r\n","/*\r\n * https://github.com/morethanwords/tweb\r\n * Copyright (C) 2019-2021 Eduard Kuzmenko\r\n * https://github.com/morethanwords/tweb/blob/master/LICENSE\r\n */\r\n\r\nimport { DocumentAttribute, WebDocument } from \"../../layer\";\r\n\r\nexport default class AppWebDocsManager {\r\n  public saveWebDocument(webDocument: WebDocument) {\r\n    if(!webDocument) {\r\n      return;\r\n    }\r\n    \r\n    const attribute: DocumentAttribute.documentAttributeImageSize = webDocument.attributes.find((attribute) => attribute._ === 'documentAttributeImageSize') as any;\r\n    if(attribute) {\r\n      webDocument.w = attribute.w;\r\n      webDocument.h = attribute.h;\r\n    }\r\n\r\n    return webDocument;\r\n  }\r\n}\r\n","/*\r\n * https://github.com/morethanwords/tweb\r\n * Copyright (C) 2019-2021 Eduard Kuzmenko\r\n * https://github.com/morethanwords/tweb/blob/master/LICENSE\r\n */\r\n\r\nimport { InputPaymentCredentials, PaymentRequestedInfo, PaymentsPaymentForm } from \"../../layer\";\r\nimport { AppManager } from \"./manager\";\r\nimport getServerMessageId from \"./utils/messageId/getServerMessageId\";\r\n\r\nexport default class AppPaymentsManager extends AppManager {\r\n  public getPaymentForm(peerId: PeerId, mid: number) {\r\n    return this.apiManager.invokeApi('payments.getPaymentForm', {\r\n      peer: this.appPeersManager.getInputPeerById(peerId),\r\n      msg_id: getServerMessageId(mid)\r\n    }).then((paymentForm) => {\r\n      this.appUsersManager.saveApiUsers(paymentForm.users);\r\n      \r\n      return paymentForm;\r\n    });\r\n  }\r\n\r\n  public getPaymentReceipt(peerId: PeerId, mid: number) {\r\n    return this.apiManager.invokeApi('payments.getPaymentReceipt', {\r\n      peer: this.appPeersManager.getInputPeerById(peerId),\r\n      msg_id: getServerMessageId(mid)\r\n    }).then((paymentForm) => {\r\n      this.appUsersManager.saveApiUsers(paymentForm.users);\r\n      \r\n      return paymentForm;\r\n    });\r\n  }\r\n\r\n  public validateRequestedInfo(peerId: PeerId, mid: number, info: PaymentRequestedInfo, save?: boolean) {\r\n    return this.apiManager.invokeApi('payments.validateRequestedInfo', {\r\n      save,\r\n      peer: this.appPeersManager.getInputPeerById(peerId),\r\n      msg_id: getServerMessageId(mid),\r\n      info\r\n    });\r\n  }\r\n\r\n  public sendPaymentForm(\r\n    peerId: PeerId, \r\n    mid: number,\r\n    formId: PaymentsPaymentForm['form_id'],\r\n    requestedInfoId: string,\r\n    shippingOptionId: string,\r\n    credentials: InputPaymentCredentials,\r\n    tipAmount?: number\r\n  ) {\r\n    return this.apiManager.invokeApi('payments.sendPaymentForm', {\r\n      form_id: formId,\r\n      peer: this.appPeersManager.getInputPeerById(peerId),\r\n      msg_id: getServerMessageId(mid),\r\n      requested_info_id: requestedInfoId,\r\n      shipping_option_id: shippingOptionId,\r\n      credentials,\r\n      tip_amount: tipAmount || undefined\r\n    }).then((result) => {\r\n      if(result._ === 'payments.paymentResult') {\r\n        this.apiUpdatesManager.processUpdateMessage(result.updates);\r\n      }\r\n\r\n      return result;\r\n    });\r\n  }\r\n\r\n  public clearSavedInfo(info?: boolean, credentials?: boolean) {\r\n    return this.apiManager.invokeApi('payments.clearSavedInfo', {\r\n      info,\r\n      credentials\r\n    });\r\n  }\r\n}\r\n","/*\r\n * https://github.com/morethanwords/tweb\r\n * Copyright (C) 2019-2021 Eduard Kuzmenko\r\n * https://github.com/morethanwords/tweb/blob/master/LICENSE\r\n */\r\n\r\nimport callbackify from \"../../helpers/callbackify\";\r\nimport deferredPromise, { CancellablePromise } from \"../../helpers/cancellablePromise\";\r\nimport cryptoMessagePort from \"../crypto/cryptoMessagePort\";\r\nimport MTProtoMessagePort from \"../mtproto/mtprotoMessagePort\";\r\nimport appStateManager from \"./appStateManager\";\r\nimport { AppStoragesManager } from \"./appStoragesManager\";\r\nimport createManagers from \"./createManagers\";\r\n\r\ntype Managers = Awaited<ReturnType<typeof createManagers>>;\r\n\r\nexport class AppManagersManager {\r\n  private managers: Managers | Promise<Managers>;\r\n  private cryptoPortAttached: boolean;\r\n  private cryptoPortPromise: CancellablePromise<void>;\r\n\r\n  constructor() {\r\n    this.cryptoPortPromise = deferredPromise();\r\n    this.cryptoPortPromise.then(() => {\r\n      this.cryptoPortPromise = undefined;\r\n    });\r\n  }\r\n\r\n  public start() {\r\n    const port = MTProtoMessagePort.getInstance<false>();\r\n\r\n    port.addEventListener('manager', ({name, method, args}) => {\r\n      return callbackify(this.getManagers(), (managers) => {\r\n        // @ts-ignore\r\n        const manager = managers[name];\r\n        return manager[method].apply(manager, args);\r\n      });\r\n    });\r\n\r\n    port.addEventListener('cryptoPort', (payload, source, event) => {\r\n      if(this.cryptoPortAttached) {\r\n        return;\r\n      }\r\n      \r\n      this.cryptoPortAttached = true;\r\n      const port = event.ports[0];\r\n      cryptoMessagePort.attachPort(port);\r\n      this.cryptoPortPromise.resolve();\r\n    });\r\n  }\r\n\r\n  public async createManagers() {\r\n    const appStoragesManager = new AppStoragesManager();\r\n    \r\n    await Promise.all([\r\n      // new Promise(() => {}),\r\n      appStoragesManager.loadStorages(),\r\n      this.cryptoPortPromise\r\n    ]);\r\n\r\n    const managers = await createManagers(appStoragesManager, appStateManager.userId);\r\n    return this.managers = managers;\r\n  }\r\n\r\n  public getManagers() {\r\n    return this.managers ??= this.createManagers();\r\n  }\r\n}\r\n\r\nconst appManagersManager = new AppManagersManager();\r\nexport default appManagersManager;\r\n","/*\r\n * https://github.com/morethanwords/tweb\r\n * Copyright (C) 2019-2021 Eduard Kuzmenko\r\n * https://github.com/morethanwords/tweb/blob/master/LICENSE\r\n */\r\n\r\nimport { PasswordManager } from \"../mtproto/passwordManager\";\r\nimport { ReferenceDatabase } from \"../mtproto/referenceDatabase\";\r\nimport DialogsStorage from \"../storages/dialogs\";\r\nimport FiltersStorage from \"../storages/filters\";\r\nimport { ApiUpdatesManager } from \"./apiUpdatesManager\";\r\nimport { AppAvatarsManager } from \"./appAvatarsManager\";\r\nimport { AppCallsManager } from \"./appCallsManager\";\r\nimport { AppChatsManager } from \"./appChatsManager\";\r\nimport { AppDocsManager } from \"./appDocsManager\";\r\nimport { AppDraftsManager } from \"./appDraftsManager\";\r\nimport { AppEmojiManager } from \"./appEmojiManager\";\r\nimport { AppGroupCallsManager } from \"./appGroupCallsManager\";\r\nimport { AppInlineBotsManager } from \"./appInlineBotsManager\";\r\nimport { AppMessagesIdsManager } from \"./appMessagesIdsManager\";\r\nimport { AppMessagesManager } from \"./appMessagesManager\";\r\nimport { AppNotificationsManager } from \"./appNotificationsManager\";\r\nimport { AppPeersManager } from \"./appPeersManager\";\r\nimport { AppPhotosManager } from \"./appPhotosManager\";\r\nimport { AppPollsManager } from \"./appPollsManager\";\r\nimport { AppPrivacyManager } from \"./appPrivacyManager\";\r\nimport { AppProfileManager } from \"./appProfileManager\";\r\nimport { AppReactionsManager } from \"./appReactionsManager\";\r\nimport { AppStickersManager } from \"./appStickersManager\";\r\nimport { AppUsersManager } from \"./appUsersManager\";\r\nimport { AppWebPagesManager } from \"./appWebPagesManager\";\r\nimport { ApiFileManager } from \"../mtproto/apiFileManager\";\r\nimport { ApiManager } from \"../mtproto/apiManager\";\r\nimport ctx from \"../../environment/ctx\";\r\nimport PeersStorage from \"../storages/peers\";\r\nimport ThumbsStorage from \"../storages/thumbs\";\r\nimport { NetworkerFactory } from \"../mtproto/networkerFactory\";\r\nimport { RootScope } from \"../rootScope\";\r\nimport { Authorizer } from \"../mtproto/authorizer\";\r\nimport { DcConfigurator } from \"../mtproto/dcConfigurator\";\r\nimport { TimeManager } from \"../mtproto/timeManager\";\r\nimport { AppStoragesManager } from \"./appStoragesManager\";\r\nimport cryptoMessagePort from \"../crypto/cryptoMessagePort\";\r\nimport appStateManager from \"./appStateManager\";\r\nimport filterUnique from \"../../helpers/array/filterUnique\";\r\nimport AppWebDocsManager from \"./appWebDocsManager\";\r\nimport AppPaymentsManager from \"./appPaymentsManager\";\r\n\r\nexport default function createManagers(appStoragesManager: AppStoragesManager, userId: UserId) {\r\n  const managers = {\r\n    appPeersManager: new AppPeersManager,\r\n    appChatsManager: new AppChatsManager,\r\n    appDocsManager: new AppDocsManager,\r\n    appPhotosManager: new AppPhotosManager,\r\n    appPollsManager: new AppPollsManager,\r\n    appUsersManager: new AppUsersManager,\r\n    appWebPagesManager: new AppWebPagesManager,\r\n    appDraftsManager: new AppDraftsManager,\r\n    appProfileManager: new AppProfileManager,\r\n    appNotificationsManager: new AppNotificationsManager,\r\n    apiUpdatesManager: new ApiUpdatesManager,\r\n    appAvatarsManager: new AppAvatarsManager,\r\n    appGroupCallsManager: new AppGroupCallsManager,\r\n    appCallsManager: new AppCallsManager,\r\n    appReactionsManager: new AppReactionsManager,\r\n    appMessagesManager: new AppMessagesManager,\r\n    appMessagesIdsManager: new AppMessagesIdsManager,\r\n    appPrivacyManager: new AppPrivacyManager,\r\n    appInlineBotsManager: new AppInlineBotsManager,\r\n    appStickersManager: new AppStickersManager,\r\n    referenceDatabase: new ReferenceDatabase,\r\n    appEmojiManager: new AppEmojiManager,\r\n    filtersStorage: new FiltersStorage,\r\n    dialogsStorage: new DialogsStorage,\r\n    apiManager: new ApiManager,\r\n    cryptoWorker: cryptoMessagePort,\r\n    passwordManager: new PasswordManager,\r\n    apiFileManager: new ApiFileManager,\r\n    peersStorage: new PeersStorage,\r\n    thumbsStorage: new ThumbsStorage,\r\n    networkerFactory: new NetworkerFactory,\r\n    rootScope: new RootScope,\r\n    authorizer: new Authorizer,\r\n    dcConfigurator: new DcConfigurator,\r\n    timeManager: new TimeManager,\r\n    appStoragesManager: appStoragesManager,\r\n    appStateManager: appStateManager,\r\n    appWebDocsManager: new AppWebDocsManager,\r\n    appPaymentsManager: new AppPaymentsManager\r\n  };\r\n\r\n  type T = typeof managers;\r\n\r\n  for(const name in managers) {\r\n    const manager = managers[name as keyof T];\r\n    if(!manager) {\r\n      continue;\r\n    }\r\n    \r\n    if((manager as AppMessagesManager).setManagers) {\r\n      (manager as AppMessagesManager).setManagers(managers as any);\r\n      delete (manager as AppMessagesManager).setManagers;\r\n    }\r\n\r\n    // @ts-ignore\r\n    ctx[name] = manager;\r\n  }\r\n\r\n  const promises: Array<Promise<(() => void) | void> | void>[] = [];\r\n  let names = Object.keys(managers) as (keyof T)[];\r\n  names.unshift('appUsersManager', 'appChatsManager', 'appNotificationsManager', 'appMessagesManager', 'dialogsStorage');\r\n  names = filterUnique(names);\r\n  for(const name of names) {\r\n    const manager = managers[name];\r\n    if((manager as any)?.after) {\r\n      // console.log('injecting after', name);\r\n      const result = (manager as any).after();\r\n      promises.push(result);\r\n\r\n      // if(result instanceof Promise) {\r\n      //   result.then(() => {\r\n      //     console.log('injected after', name);\r\n      //   });\r\n      // }\r\n    }\r\n  }\r\n\r\n  if(userId) {\r\n    managers.apiManager.setUserAuth(userId);\r\n  }\r\n\r\n  return Promise.all(promises).then(() => managers);\r\n}\r\n","/*\r\n * https://github.com/morethanwords/tweb\r\n * Copyright (C) 2019-2021 Eduard Kuzmenko\r\n * https://github.com/morethanwords/tweb/blob/master/LICENSE\r\n */\r\n\r\n// just to include\r\nimport '../polyfill';\r\nimport '../../helpers/peerIdPolyfill';\r\n\r\nimport cryptoWorker from \"../crypto/cryptoMessagePort\";\r\nimport { setEnvironment } from '../../environment/utils';\r\nimport appStateManager from '../appManagers/appStateManager';\r\nimport transportController from './transports/controller';\r\nimport MTProtoMessagePort from './mtprotoMessagePort';\r\nimport RESET_STORAGES_PROMISE from '../appManagers/utils/storages/resetStoragesPromise';\r\nimport appManagersManager from '../appManagers/appManagersManager';\r\nimport listenMessagePort from '../../helpers/listenMessagePort';\r\nimport { logger } from '../logger';\r\nimport { State } from '../../config/state';\r\nimport toggleStorages from '../../helpers/toggleStorages';\r\nimport appTabsManager from '../appManagers/appTabsManager';\r\n\r\nlet _isServiceWorkerOnline = true;\r\nexport function isServiceWorkerOnline() {\r\n  return _isServiceWorkerOnline;\r\n}\r\n\r\nconst log = logger('MTPROTO');\r\n// let haveState = false;\r\n\r\nconst port = new MTProtoMessagePort<false>();\r\nport.addMultipleEventsListeners({\r\n  environment: (environment) => {\r\n    setEnvironment(environment);\r\n    \r\n    transportController.waitForWebSocket();\r\n  },\r\n\r\n  crypto: ({method, args}) => {\r\n    return cryptoWorker.invokeCrypto(method as any, ...args as any);\r\n  },\r\n\r\n  state: ({state, resetStorages, pushedKeys, newVersion, oldVersion, userId}) => {\r\n    // if(haveState) {\r\n    //   return;\r\n    // }\r\n\r\n    log('got state', state, pushedKeys);\r\n\r\n    appStateManager.userId = userId;\r\n    appStateManager.newVersion = newVersion;\r\n    appStateManager.oldVersion = oldVersion;\r\n    \r\n    (Object.keys(state) as any as (keyof State)[]).forEach((key) => {\r\n      appStateManager.pushToState(key, state[key], true, !pushedKeys.includes(key));\r\n    });\r\n\r\n    RESET_STORAGES_PROMISE.resolve(resetStorages);\r\n    // haveState = true;\r\n  },\r\n\r\n  toggleStorages: ({enabled, clearWrite}) => {\r\n    return toggleStorages(enabled, clearWrite);\r\n  },\r\n\r\n  event: (payload, source) => {\r\n    log('will redirect event', payload, source);\r\n    port.invokeExceptSource('event', payload, source);\r\n  },\r\n\r\n  serviceWorkerOnline: (online) => {\r\n    _isServiceWorkerOnline = online;\r\n  },\r\n\r\n  createObjectURL: (blob) => {\r\n    return URL.createObjectURL(blob);\r\n  },\r\n\r\n  // socketProxy: (task) => {\r\n  //   const socketTask = task.payload;\r\n  //   const id = socketTask.id;\r\n    \r\n  //   const socketProxied = socketsProxied.get(id);\r\n  //   if(socketTask.type === 'message') {\r\n  //     socketProxied.dispatchEvent('message', socketTask.payload);\r\n  //   } else if(socketTask.type === 'open') {\r\n  //     socketProxied.dispatchEvent('open');\r\n  //   } else if(socketTask.type === 'close') {\r\n  //     socketProxied.dispatchEvent('close');\r\n  //     socketsProxied.delete(id);\r\n  //   }\r\n  // },\r\n});\r\n\r\nlog('MTProto start');\r\n\r\nappManagersManager.start();\r\nappManagersManager.getManagers();\r\nappTabsManager.start();\r\n\r\nlistenMessagePort(port, (source) => {\r\n  appTabsManager.addTab(source);\r\n}, (source) => {\r\n  appTabsManager.deleteTab(source);\r\n});\r\n","/*\r\n * https://github.com/morethanwords/tweb\r\n * Copyright (C) 2019-2021 Eduard Kuzmenko\r\n * https://github.com/morethanwords/tweb/blob/master/LICENSE\r\n */\r\n\r\nimport ctx from \"../environment/ctx\";\r\nimport SuperMessagePort from \"../lib/mtproto/superMessagePort\";\r\n\r\nexport default function listenMessagePort(\r\n  messagePort: SuperMessagePort<any, any, any>, \r\n  onConnect?: (source: MessageEventSource) => void,\r\n  onDisconnect?: (source: MessageEventSource) => void\r\n) {\r\n  const attachPort = (s: any) => {\r\n    messagePort.attachPort(s);\r\n    onConnect && onConnect(s);\r\n  };\r\n\r\n  onDisconnect && messagePort.setOnPortDisconnect(onDisconnect);\r\n\r\n  if(typeof(SharedWorkerGlobalScope) !== 'undefined') {\r\n    (ctx as any as SharedWorkerGlobalScope).addEventListener('connect', (e) => attachPort(e.source));\r\n  } else {\r\n    attachPort(ctx);\r\n  }\r\n}\r\n","/*\r\n * https://github.com/morethanwords/tweb\r\n * Copyright (C) 2019-2021 Eduard Kuzmenko\r\n * https://github.com/morethanwords/tweb/blob/master/LICENSE\r\n */\r\n\r\n\r\n/**\r\n * Legacy Webogram's format, don't change dcID to camelCase. date is timestamp\r\n */\r\nexport type UserAuth = {dcID: number | string, date: number, id: PeerId};\r\n\r\nexport const NULL_PEER_ID: PeerId = 0;\r\nexport const REPLIES_PEER_ID: PeerId = 1271266957;\r\nexport const REPLIES_HIDDEN_CHANNEL_ID: ChatId = 777;\r\nexport const SERVICE_PEER_ID: PeerId = 777000;\r\nexport const MUTE_UNTIL = 0x7FFFFFFF;\r\nexport const BOT_START_PARAM = '';\r\n","/*\r\n * https://github.com/morethanwords/tweb\r\n * Copyright (C) 2019-2021 Eduard Kuzmenko\r\n * https://github.com/morethanwords/tweb/blob/master/LICENSE\r\n */\r\n\r\nimport { MessageEntity } from \"../../layer\";\r\n\r\nconst CAN_COMBINE_ENTITIES: Set<MessageEntity['_']> = new Set([\r\n  'messageEntityBold',\r\n  'messageEntityItalic',\r\n  'messageEntityCode',\r\n  'messageEntityPre',\r\n  'messageEntityUnderline',\r\n  'messageEntityStrike',\r\n  'messageEntityBlockquote',\r\n  'messageEntitySpoiler'\r\n]);\r\nexport default function combineSameEntities(entities: MessageEntity[]) {\r\n  //entities = entities.slice();\r\n  for(let i = 0; i < entities.length; ++i) {\r\n    const entity = entities[i];\r\n\r\n    let nextEntityIdx = -1;\r\n    do {\r\n      nextEntityIdx = entities.findIndex((e, _i) => {\r\n        return CAN_COMBINE_ENTITIES.has(e._) && _i !== i && e._ === entity._ && (e.offset - entity.length) === entity.offset;\r\n      });\r\n\r\n      if(nextEntityIdx !== -1) {\r\n        const nextEntity = entities[nextEntityIdx];\r\n        entity.length += nextEntity.length;\r\n        entities.splice(nextEntityIdx, 1);\r\n      }\r\n    } while(nextEntityIdx !== -1);\r\n  }\r\n  //return entities;\r\n}\r\n","/*\r\n * https://github.com/morethanwords/tweb\r\n * Copyright (C) 2019-2021 Eduard Kuzmenko\r\n * https://github.com/morethanwords/tweb/blob/master/LICENSE\r\n */\r\n\r\nimport { PASS_CONFLICTING_ENTITIES } from \".\";\r\nimport { MessageEntity } from \"../../layer\";\r\n\r\nconst SINGLE_ENTITIES: Set<MessageEntity['_']> = new Set(['messageEntityPre', 'messageEntityCode']);\r\n\r\nexport default function findConflictingEntity(currentEntities: MessageEntity[], newEntity: MessageEntity) {\r\n  let singleEnd = -1;\r\n  return currentEntities.find((currentEntity) => {\r\n    if(SINGLE_ENTITIES.has(currentEntity._)) {\r\n      singleEnd = currentEntity.offset + currentEntity.length;\r\n    }\r\n\r\n    if(newEntity.offset < singleEnd && !PASS_CONFLICTING_ENTITIES.has(newEntity._)) {\r\n      return true;\r\n    }\r\n    \r\n    const isConflictingTypes = newEntity._ === currentEntity._ || \r\n    (!PASS_CONFLICTING_ENTITIES.has(newEntity._) && !PASS_CONFLICTING_ENTITIES.has(currentEntity._));\r\n    \r\n    if(!isConflictingTypes) {\r\n      return false;\r\n    }\r\n\r\n    const isConflictingOffset = newEntity.offset >= currentEntity.offset && \r\n      (newEntity.length + newEntity.offset) <= (currentEntity.length + currentEntity.offset);\r\n\r\n    return isConflictingOffset;\r\n  });\r\n}\r\n","/*\r\n * https://github.com/morethanwords/tweb\r\n * Copyright (C) 2019-2021 Eduard Kuzmenko\r\n * https://github.com/morethanwords/tweb/blob/master/LICENSE\r\n * \r\n * Originally from:\r\n * https://github.com/zhukov/webogram\r\n * Copyright (C) 2014 Igor Zhukov <igor.beatle@gmail.com>\r\n * https://github.com/zhukov/webogram/blob/master/LICENSE\r\n */\r\n\r\nimport emojiRegExp from '../../vendor/emoji/regex';\r\nimport { MessageEntity } from '../../layer';\r\n\r\nconst EmojiHelper = {\r\n  emojiMap: (code: string) => { return code; },\r\n  shortcuts: [] as any,\r\n  emojis: [] as any\r\n};\r\n\r\nexport const ALPHA_CHARS_REG_EXP = 'a-z' +\r\n  '\\\\u00c0-\\\\u00d6\\\\u00d8-\\\\u00f6\\\\u00f8-\\\\u00ff' + // Latin-1\r\n  '\\\\u0100-\\\\u024f' + // Latin Extended A and B\r\n  '\\\\u0253\\\\u0254\\\\u0256\\\\u0257\\\\u0259\\\\u025b\\\\u0263\\\\u0268\\\\u026f\\\\u0272\\\\u0289\\\\u028b' + // IPA Extensions\r\n  '\\\\u02bb' + // Hawaiian\r\n  '\\\\u0300-\\\\u036f' + // Combining diacritics\r\n  '\\\\u1e00-\\\\u1eff' + // Latin Extended Additional (mostly for Vietnamese)\r\n  '\\\\u0400-\\\\u04ff\\\\u0500-\\\\u0527' + // Cyrillic\r\n  '\\\\u2de0-\\\\u2dff\\\\ua640-\\\\ua69f' + // Cyrillic Extended A/B\r\n  '\\\\u0591-\\\\u05bf\\\\u05c1-\\\\u05c2\\\\u05c4-\\\\u05c5\\\\u05c7' +\r\n  '\\\\u05d0-\\\\u05ea\\\\u05f0-\\\\u05f4' + // Hebrew\r\n  '\\\\ufb1d-\\\\ufb28\\\\ufb2a-\\\\ufb36\\\\ufb38-\\\\ufb3c\\\\ufb3e\\\\ufb40-\\\\ufb41' +\r\n  '\\\\ufb43-\\\\ufb44\\\\ufb46-\\\\ufb4f' + // Hebrew Pres. Forms\r\n  '\\\\u0610-\\\\u061a\\\\u0620-\\\\u065f\\\\u066e-\\\\u06d3\\\\u06d5-\\\\u06dc' +\r\n  '\\\\u06de-\\\\u06e8\\\\u06ea-\\\\u06ef\\\\u06fa-\\\\u06fc\\\\u06ff' + // Arabic\r\n  '\\\\u0750-\\\\u077f\\\\u08a0\\\\u08a2-\\\\u08ac\\\\u08e4-\\\\u08fe' + // Arabic Supplement and Extended A\r\n  '\\\\ufb50-\\\\ufbb1\\\\ufbd3-\\\\ufd3d\\\\ufd50-\\\\ufd8f\\\\ufd92-\\\\ufdc7\\\\ufdf0-\\\\ufdfb' + // Pres. Forms A\r\n  '\\\\ufe70-\\\\ufe74\\\\ufe76-\\\\ufefc' + // Pres. Forms B\r\n  '\\\\u200c' + // Zero-Width Non-Joiner\r\n  '\\\\u0e01-\\\\u0e3a\\\\u0e40-\\\\u0e4e' + // Thai\r\n  '\\\\u1100-\\\\u11ff\\\\u3130-\\\\u3185\\\\uA960-\\\\uA97F\\\\uAC00-\\\\uD7AF\\\\uD7B0-\\\\uD7FF' + // Hangul (Korean)\r\n  '\\\\u3003\\\\u3005\\\\u303b' + // Kanji/Han iteration marks\r\n  '\\\\uff21-\\\\uff3a\\\\uff41-\\\\uff5a' + // full width Alphabet\r\n  '\\\\uff66-\\\\uff9f' + // half width Katakana\r\n  '\\\\uffa1-\\\\uffdc'; // half width Hangul (Korean)\r\nexport const ALPHA_NUMERIC_REG_EXP = '0-9\\_' + ALPHA_CHARS_REG_EXP;\r\nexport const DOMAIN_ADD_CHARS = '\\u00b7';\r\n// Based on Regular Expression for URL validation by Diego Perini\r\nexport const URL_ALPHANUMERIC_REG_EXP_PART = '[' + ALPHA_CHARS_REG_EXP + '0-9]';\r\nexport const URL_PROTOCOL_REG_EXP_PART = '((?:https?|ftp)://|mailto:)?';\r\nexport const URL_REG_EXP = URL_PROTOCOL_REG_EXP_PART +\r\n  // user:pass authentication\r\n  '(?:' + URL_ALPHANUMERIC_REG_EXP_PART + '{1,64}(?::' + URL_ALPHANUMERIC_REG_EXP_PART + '{0,64})?@)?' +\r\n  '(?:' +\r\n  // sindresorhus/ip-regexp\r\n  '(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])(?:\\\\.(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])){3}' +\r\n  '|' +\r\n  // host name\r\n  URL_ALPHANUMERIC_REG_EXP_PART + '[' + ALPHA_CHARS_REG_EXP + DOMAIN_ADD_CHARS + '0-9\\-]{0,64}' +\r\n  // domain name\r\n  '(?:\\\\.' + URL_ALPHANUMERIC_REG_EXP_PART + '[' + ALPHA_CHARS_REG_EXP + DOMAIN_ADD_CHARS + '0-9\\-]{0,64}){0,10}' +\r\n  // TLD identifier\r\n  '(?:\\\\.(xn--[0-9a-z]{2,16}|[' + ALPHA_CHARS_REG_EXP + ']{2,24}))' +\r\n  ')' +\r\n  // port number\r\n  '(?::\\\\d{2,5})?' +\r\n  // resource path\r\n  '(?:/(?:\\\\S{0,255}[^\\\\s.;,(\\\\[\\\\]{}<>\"\\'])?)?';\r\nexport const URL_PROTOCOL_REG_EXP = new RegExp('^' + URL_PROTOCOL_REG_EXP_PART.slice(0, -1), 'i');\r\nexport const URL_ANY_PROTOCOL_REG_EXP = /^((?:[^\\/]+?):\\/\\/|mailto:)/;\r\nexport const USERNAME_REG_EXP = '[a-zA-Z\\\\d_]{5,32}';\r\nexport const BOT_COMMAND_REG_EXP = '\\\\/([a-zA-Z\\\\d_]{1,32})(?:@(' + USERNAME_REG_EXP + '))?(\\\\b|$)';\r\nexport const FULL_REG_EXP = new RegExp('(^| )(@)(' + USERNAME_REG_EXP + ')|(' + URL_REG_EXP + ')|(\\\\n)|(' + emojiRegExp + ')|(^|[\\\\s\\\\(\\\\]])(#[' + ALPHA_NUMERIC_REG_EXP + ']{2,64})|(^|\\\\s)' + BOT_COMMAND_REG_EXP, 'i');\r\nexport const EMAIL_REG_EXP = /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n//const markdownTestRegExp = /[`_*@~]/;\r\nexport const MARKDOWN_REG_EXP = /(^|\\s|\\n)(````?)([\\s\\S]+?)(````?)([\\s\\n\\.,:?!;]|$)|(^|\\s|\\x01)(`|~~|\\*\\*|__|_-_|\\|\\|)([^\\n]+?)\\7([\\x01\\s\\.,:?!;]|$)|@(\\d+)\\s*\\((.+?)\\)|(\\[(.+?)\\]\\((.+?)\\))/m;\r\nexport const SITE_HASHTAGS: {[siteName: string]: string} = {\r\n  Telegram: 'tg://search_hashtag?hashtag={1}',\r\n  Twitter: 'https://twitter.com/hashtag/{1}',\r\n  Instagram: 'https://instagram.com/explore/tags/{1}/',\r\n  'Google Plus': 'https://plus.google.com/explore/{1}'\r\n};\r\n\r\n// export const SITE_MENTIONS: {[siteName in 'Telegram' | 'Twitter' | 'Instagram' | 'GitHub']: string} = {\r\n//   Telegram: '#{1}',\r\n//   Twitter: 'https://twitter.com/{1}',\r\n//   Instagram: 'https://instagram.com/{1}/',\r\n//   GitHub: 'https://github.com/{1}'\r\n// };\r\n\r\nexport const MARKDOWN_ENTITIES: {[markdown: string]: MessageEntity['_']} = {\r\n  '`': 'messageEntityCode',\r\n  '``': 'messageEntityPre',\r\n  '**': 'messageEntityBold',\r\n  '__': 'messageEntityItalic',\r\n  '~~': 'messageEntityStrike',\r\n  '_-_': 'messageEntityUnderline',\r\n  '||': 'messageEntitySpoiler'\r\n};\r\n\r\nexport const PASS_CONFLICTING_ENTITIES: Set<MessageEntity['_']> = new Set([\r\n  'messageEntityEmoji',\r\n  'messageEntityLinebreak',\r\n  'messageEntityCaret'\r\n]);\r\nfor(let i in MARKDOWN_ENTITIES) {\r\n  PASS_CONFLICTING_ENTITIES.add(MARKDOWN_ENTITIES[i]);\r\n}\r\n\r\nexport const PHONE_NUMBER_REG_EXP = /^\\+\\d+$/;\r\n\r\n/* export function parseEmojis(text: string) {\r\n  return text.replace(/:([a-z0-9\\-\\+\\*_]+?):/gi, function (all, shortcut) {\r\n    var emojiCode = EmojiHelper.shortcuts[shortcut]\r\n    if (emojiCode !== undefined) {\r\n      return EmojiHelper.emojis[emojiCode][0]\r\n    }\r\n    return all\r\n  })\r\n} */\r\n\r\n\r\n\r\n/* export function replaceUrlEncodings(urlWithEncoded: string) {\r\n  return urlWithEncoded.replace(/(%[A-Z\\d]{2})+/g, (str) => {\r\n    try {\r\n      return decodeURIComponent(str);\r\n    } catch (e) {\r\n      return str;\r\n    }\r\n  });\r\n} */\r\n","/*\r\n * https://github.com/morethanwords/tweb\r\n * Copyright (C) 2019-2021 Eduard Kuzmenko\r\n * https://github.com/morethanwords/tweb/blob/master/LICENSE\r\n */\r\n\r\nimport { MessageEntity } from \"../../layer\";\r\nimport findConflictingEntity from \"./findConflictingEntity\";\r\nimport sortEntities from \"./sortEntities\";\r\n\r\nexport default function mergeEntities(currentEntities: MessageEntity[], newEntities: MessageEntity[]) {\r\n  const filtered = newEntities.filter((e) => {\r\n    return !findConflictingEntity(currentEntities, e);\r\n  });\r\n\r\n  currentEntities.push(...filtered);\r\n  sortEntities(currentEntities);\r\n  // currentEntities.sort((a, b) => a.offset - b.offset);\r\n  // currentEntities.sort((a, b) => (a.offset - b.offset) || (a._ === 'messageEntityCaret' && -1));\r\n\r\n  // * fix splitted emoji. messageEntityTextUrl can split the emoji if starts before its end (e.g. on fe0f)\r\n  // * have to fix even if emoji supported since it's being wrapped in span\r\n  // if(!IS_EMOJI_SUPPORTED) {\r\n    for(let i = 0; i < currentEntities.length; ++i) {\r\n      const entity = currentEntities[i];\r\n      if(entity._ === 'messageEntityEmoji') {\r\n        const nextEntity = currentEntities[i + 1];\r\n        if(nextEntity /* && nextEntity._ !== 'messageEntityCaret' */ && nextEntity.offset < (entity.offset + entity.length)) {\r\n          entity.length = nextEntity.offset - entity.offset;\r\n        }\r\n      }\r\n    }\r\n  // }\r\n\r\n  return currentEntities;\r\n}\r\n","import { MessageEntity } from \"../../layer\";\r\n\r\nexport default function sortEntities(entities: MessageEntity[]) {\r\n  entities.sort((a, b) => {\r\n    return (a.offset - b.offset) || (b.length - a.length);\r\n  });\r\n}\r\n","// https://github.com/twitter/twemoji-parser/blob/master/src/lib/regex.js\r\n\r\nexport function encodeEmoji(emojiText: string) {\r\n  const codepoints = toCodePoints(removeVS16s(emojiText)).join('-');\r\n  return codepoints;\r\n}\r\n\r\nconst vs16RegExp = /\\uFE0F/g;\r\n// avoid using a string literal like '\\u200D' here because minifiers expand it inline\r\nconst zeroWidthJoiner = String.fromCharCode(0x200d);\r\n\r\nconst removeVS16s = (rawEmoji: string) => (rawEmoji.indexOf(zeroWidthJoiner) < 0 ? rawEmoji.replace(vs16RegExp, '') : rawEmoji);\r\n\r\nexport function toCodePoints(unicodeSurrogates: string): Array<string> {\r\n  const points = [];\r\n  let char = 0;\r\n  let previous = 0;\r\n  let i = 0;\r\n  while(i < unicodeSurrogates.length) {\r\n    char = unicodeSurrogates.charCodeAt(i++);\r\n    if(previous) {\r\n      points.push((0x10000 + ((previous - 0xd800) << 10) + (char - 0xdc00)).toString(16));\r\n      previous = 0;\r\n    } else if (char > 0xd800 && char <= 0xdbff) {\r\n      previous = char;\r\n    } else {\r\n      points.push(char.toString(16));\r\n    }\r\n  }\r\n\r\n  if(points.length && points[0].length === 2) {\r\n    points[0] = '00' + points[0];\r\n  }\r\n\r\n  return points;\r\n}\r\n\r\nexport function getEmojiToneIndex(input: string) {\r\n  let match = input.match(/[\\uDFFB-\\uDFFF]/);\r\n  return match ? 5 - (57343 - match[0].charCodeAt(0)) : 0;\r\n}\r\n\r\nexport function getCountryEmoji(iso2: string) {\r\n  return String.fromCharCode(55356, 56741 + iso2.charCodeAt(0), 55356, 56741 + iso2.charCodeAt(1));\r\n}\r\n\r\nexport function emojiFromCodePoints(codePoints: string) {\r\n  return codePoints.split('-').reduce((prev, curr) => prev + String.fromCodePoint(parseInt(curr, 16)), '');\r\n}","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n// the startup function\n__webpack_require__.x = () => {\n\t// Load entry module and return exports\n\t// This entry module depends on other loaded chunks and execution need to be delayed\n\tvar __webpack_exports__ = __webpack_require__.O(undefined, [699,211,725,960,740,27], () => (__webpack_require__(8344)))\n\t__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n\treturn __webpack_exports__;\n};\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = (chunkId) => {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce((promises, key) => {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks and sibling chunks for the entrypoint\n__webpack_require__.u = (chunkId) => {\n\t// return url for filenames not based on template\n\tif (chunkId === 960) return \"960.89a60392ee3a451cef38.bundle.js\";\n\tif (chunkId === 740) return \"740.0823929880f55d395470.bundle.js\";\n\t// return url for filenames based on template\n\treturn \"\" + ({\"211\":\"npm.big-integer\",\"699\":\"npm.pako\"}[chunkId] || chunkId) + \".\" + {\"8\":\"ba94b8acdde676aa239d\",\"27\":\"6e958af720919e791f1a\",\"104\":\"c9147a9ad31230400f75\",\"211\":\"371ca26387353b604182\",\"301\":\"8330aeddc0c3f0e58199\",\"642\":\"5b6eea6e1102d00ee8d2\",\"699\":\"b3b5602a83933af7e978\",\"725\":\"58a99a7e67612c6b6659\"}[chunkId] + \".chunk.js\";\n};","// This function allow to reference async chunks and sibling chunks for the entrypoint\n__webpack_require__.miniCssF = (chunkId) => {\n\t// return url for filenames based on template\n\treturn undefined;\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = (module) => {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","var scriptUrl;\nif (__webpack_require__.g.importScripts) scriptUrl = __webpack_require__.g.location + \"\";\nvar document = __webpack_require__.g.document;\nif (!scriptUrl && document) {\n\tif (document.currentScript)\n\t\tscriptUrl = document.currentScript.src\n\tif (!scriptUrl) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tif(scripts.length) scriptUrl = scripts[scripts.length - 1].src\n\t}\n}\n// When supporting browsers where an automatic publicPath is not supported you must specify an output.publicPath manually via configuration\n// or pass an empty string (\"\") and set the __webpack_public_path__ variable from your code to use your own logic.\nif (!scriptUrl) throw new Error(\"Automatic publicPath is not supported in this browser\");\nscriptUrl = scriptUrl.replace(/#.*$/, \"\").replace(/\\?.*$/, \"\").replace(/\\/[^\\/]+$/, \"/\");\n__webpack_require__.p = scriptUrl;","// no baseURI\n\n// object to store loaded chunks\n// \"1\" means \"already loaded\"\nvar installedChunks = {\n\t678: 1\n};\n\n// importScripts chunk loading\nvar installChunk = (data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\tfor(var moduleId in moreModules) {\n\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t}\n\t}\n\tif(runtime) runtime(__webpack_require__);\n\twhile(chunkIds.length)\n\t\tinstalledChunks[chunkIds.pop()] = 1;\n\tparentChunkLoadingFunction(data);\n};\n__webpack_require__.f.i = (chunkId, promises) => {\n\t// \"1\" is the signal for \"already loaded\"\n\tif(!installedChunks[chunkId]) {\n\t\tif(true) { // all chunks have JS\n\t\t\timportScripts(__webpack_require__.p + __webpack_require__.u(chunkId));\n\t\t}\n\t}\n};\n\nvar chunkLoadingGlobal = this[\"webpackChunktweb\"] = this[\"webpackChunktweb\"] || [];\nvar parentChunkLoadingFunction = chunkLoadingGlobal.push.bind(chunkLoadingGlobal);\nchunkLoadingGlobal.push = installChunk;\n\n// no HMR\n\n// no HMR manifest","// run startup\nvar __webpack_exports__ = __webpack_require__.x();\n"],"names":["deferred","oldGetScript","oldLoadScript","queryMap","countMap","next","EmojiVersions","Emoji","version","Object","assign","USER_AGENT","navigator","userAgent","IS_SAFARI","search","toLowerCase","indexOf","test","vendor","platform","maxTouchPoints","match","IS_FIREFOX","badCharsRe","trimRe","C2L","cleanSearchText","text","latinize","processSearchText","clearBadChars","ignoreCase","options","hasTag","includeTag","charAt","originalText","replace","clearBadCharsAndTrim","ch","latinizeCh","latinizeString","fixCyrillic","FILENAME_JOINER","getFileNameByLocation","location","ext","length","str","_","id","thumb_size","filter","Boolean","join","photo_id","pFlags","big","stickerset","short_name","emoticon","thumb_version","volume_id","local_id","url","console","error","getFileURL","type","encodeURIComponent","JSON","stringify","IDB","constructor","db","this","name","storageIsAvailable","log","openDatabase","INSTANCES","push","isAvailable","createNew","openDbPromise","createIndexes","os","store","indexNames","Array","from","indexName","deleteIndex","indexes","index","contains","createIndex","keyPath","objectParameters","request","indexedDB","open","Promise","reject","message","finished","setTimeout","onerror","resolve","onsuccess","event","result","calledNew","onclose","e","onabort","transaction","target","close","onversionchange","onupgradeneeded","warn","oldVersion","newVersion","stores","forEach","objectStoreNames","objectStore","createObjectStore","static","find","instance","preserve","storage","IDBStorage","storeName","idb","create","delete","entryName","isArray","concat","getObjectStore","map","clear","save","value","idx","put","get","mode","callback","perf","performance","now","then","onError","clearTimeout","timeout","onComplete","results","requests","r","waitForTransactionComplete","oncomplete","callbackResult","left","onRequestFinished","i","getAll","environment","getEnvironment","setEnvironment","env","RootScope","super","myId","connectionStatus","premium","addEventListener","toPeerId","status","dispatchEvent","args","invokeVoid","settings","getConnectionStatus","dispatchEventSingle","state","stateStorage","getState","setByKey","key","object","splitted","split","o","getDeepProperty","slice","pop","setDeepProperty","first","pushToState","direct","onlyLocal","setKeyValueToStorage","set","networkStats","sent","received","awaitingChunks","Map","addSent","dcId","addReceived","awaitingLength","awaiting","waitForChunk","catch","noop","finally","indexOfAndSplice","HTTP","logSuffix","pending","debug","logTypes","Log","logger","connected","_send","body","fetch","method","response","arrayBuffer","buffer","TextDecoder","decode","Uint8Array","setConnected","byteLength","err","destroyed","destroy","send","networker","promise","releasePending","releasing","splice","pause","Socket","handleOpen","handleError","handleClose","removeListeners","handleMessage","data","ws","connect","removeEventListener","undefined","WebSocket","binaryType","randomize","arr","crypto","Error","getRandomValues","Obfuscation","_process","operation","cryptoMessagePort","init","codec","idPromise","release","initPayload","val","val2","reversedPayload","reverse","encKey","encIv","decKey","decIv","process","obfuscateTag","encrypted","encode","payload","tag","encodePacket","len","header","readPacket","bytesToHex","bytes","toString","TcpObfuscated","Connection","retryTimeout","abridged","obfuscation","autoReconnect","onOpen","connection","setConnectionStatus","cleanupSent","resend","onMessage","parseResponse","processMessage","messageId","sessionId","shift","onClose","needTimeout","retryAt","time","Date","diff","lastCloseTime","isNaN","reconnectTimeout","ctx","reconnect","bodySent","forceReconnect","setAutoReconnect","once","enable","encodeBody","toEncode","encoded","releasingPending","TEST_SUFFIX","DcConfigurator","sslSubdomains","dcOptions","host","port","chosenServers","transportSocket","connectionType","suffix","path","chosenServer","oooohLetMeLive","transportHTTP","dcOption","chooseServer","transportType","reuse","hasOwnProperty","client","download","upload","servers","transports","transport","obj","MTTransportController","opened","waitForWebSocket","pingTransports","dcConfigurator","https","websocket","httpPromise","websocketPromise","socket","isFulfilled","isRejected","isHttpAvailable","isWebSocketAvailable","all","pinging","setTransportValue","setTransportOpened","setTransportClosed","AppManager","setManagers","managers","loadStorages","storages","recordPromise","storagesKeys","keys","storagesPromises","storagesResults","resetStorages","size","loadStoragesInner","AppStoragesManager","names","createStorages","loadStorage","PasswordManager","apiManager","invokeApi","updateSettings","currentHashPromise","newHashPromise","params","password","new_settings","hint","email","currentPassword","cryptoWorker","invokeCrypto","newAlgo","new_algo","salt1","newPassword","hashes","new_password_hash","getInputCheckPassword","check","inputCheckPassword","auth","setUser","user","confirmPasswordEmail","code","resendPasswordEmail","cancelPasswordEmail","ReferenceDatabase","contexts","links","saveContext","reference","context","getContexts","Set","_context","deepEqual","add","getReferenceByLink","getContext","values","deleteContext","refreshReference","c","appMessagesManager","wrapSingleMessage","peerId","refreshEmojiesSoundsPromise","appStickersManager","getAnimatedEmojiSounds","hex","newHex","newContext","safeReplaceObject","wasObject","newObject","getPeerIdsFromMessage","peerIds","fromId","viaBotId","fwdFromId","media","contactUserId","user_id","recentVoters","recent_voters","userId","recentReactions","recent_reactions","reaction","getPeerId","peer_id","action","userIds","users","inviter_id","chatIds","channel_id","chat_id","chatId","recentRepliers","recent_repliers","reply","defineNotNumerableProperties","props","writable","configurable","out","defineProperties","setDialogIndex","dialog","indexKey","GLOBAL_FOLDER_ID","DialogsStorage","folders","pinnedOrders","allDialogsLoaded","setDialogsLoaded","savePinnedOrders","dialogsOffsetDate","dialogsNum","dialogsIndex","cachedResults","query","count","dialogs","folderId","onUpdateFolderPeers","update","folder_peers","folderPeer","folder_id","peer","dropDialog","pinned","handleDialogUnpinning","generateIndexForDialog","pushDialog","scheduleHandleNewDialogs","onUpdateDialogPinned","getDialogOnly","onUpdatePinnedDialogs","handleOrder","order","newPinned","getFolderDialogs","dialogsResult","applyDialogs","d","after","rootScope","appUsersManager","getSelf","peerText","appPeersManager","getPeerSearchText","indexObject","onFilterUpdate","getCachedDialogs","processDialogForFilter","filterId","processDialogForFilters","getDialogIndexKeyByFilterId","prepareDialogUnreadCountModifying","chat","appChatsManager","getChat","dropDialogOnDeletion","apiUpdatesManager","addMultipleEventsListeners","updateFolderPeers","updateDialogPinned","updatePinnedDialogs","appStateManager","appStoragesManager","getCache","setDialogsFromState","bind","appDraftsManager","addMissedDialogs","top_message","getServerMessageId","topMessage","saveMessages","saveDialog","getMessageByPeer","reloadConversation","isDialogsLoaded","loaded","resetPinnedOrder","getPinnedOrders","getOffsetDate","offsetDate","Math","min","getFolder","folder","unreadMessagesCount","unreadPeerIds","unreadUnmutedPeerIds","skipMigrated","migratedTo","getNextDialog","currentPeerId","findIndex","getDialogIndexKey","filtersStorage","getFilter","orderIndex","isPeerUnmuted","appNotificationsManager","isPeerLocalMuted","getFolderUnreadCount","unreadUnmutedCount","unreadCount","setDialogIndexInFilter","testDialogForFilter","pinnedIndex","pinnedPeerIds","generateDialogIndex","generateDialogPinnedDateByIndex","pinned_peers","getDialogIndex","getDialog","skipped","isObject","date","isPinned","tsNow","timeManager","getServerTimeOffset","filters","getFilters","wasIndex","wasDialog","wasDialogIndex","newDialogIndex","prepareFolderUnreadCountModifyingByDialog","insertInDescendSortedArray","callbacks","toggle","wasUnreadCount","getDialogUnreadCount","wasUnmuted","newUnreadCount","newUnmuted","addMessagesCount","modifyFolderUnreadCount","toggleDialog","toggleUnmuted","max","dispatchUnreadTimeout","_folder","justReturn","topDate","generateDialogPinnedDate","channelId","isChannel","toChatId","channel","draft","foundIndex","setDialogToState","pts","historyStorage","getHistoryStorage","messagesStorage","getHistoryMessagesStorage","history","incomingMessage","mid","getMessageFromStorage","is_outgoing","peersStorage","requestPeersForKey","isAnyChat","newPts","getChannelState","requestPeer","ignoreOffsetDate","saveGlobalOffset","pos","getDialogOffsetDate","savedGlobalOffsetDate","savedOffsetDate","clearDialogFromState","foundDialog","wasPinned","keepLocal","releasePeer","dropDialogWithEvent","dropped","forEachReverse","saveApiUsers","saveApiChats","chats","messages","updatedDialogs","topPendingMessage","pendingTopMsgs","maxId","updates","newUpdatesAfterReloadToHandle","saveUpdate","wasDialogBefore","generateMessageId","wasTopMessage","generateTempMessageId","from_id","getOutputPeer","deleted","isOutgoing","migrated_to","deactivated","migratedToPeer","migratedFromTo","migratedToFrom","read_inbox_max_id","read_outbox_max_id","saveDraft","isOut","unread","unread_count","isEnd","insertSlice","setEnd","mergeReplyKeyboard","unshift","readMaxId","readOutboxMaxId","savePeerSettings","notify_settings","addChannelState","releaseUnreadCount","dialogsStorage","getDialogs","offsetIndex","limit","promises","fillContactsResult","fillContacts","cached","reloadMissingDialogsPromise","reloadMissingPeerIds","realFolderId","curDialogStorage","has","sort","d1","d2","offset","loadedAll","isEnoughDialogs","isTopEnd","getTopMessages","convertment","FiltersStorage","reloadedPeerIds","clearFilters","onUpdateDialogFilter","saveDialogFilter","onUpdateDialogFilterOrder","setOrderIndex","updateDialogFilter","updateDialogFilters","oldFilters","copy","getDialogFilters","_filterId","updateDialogFilterOrder","excludePeerIds","includes","includePeerIds","exclude_archived","exclude_read","isDialogUnread","exclude_muted","unread_mentions_count","broadcasts","isBroadcast","groups","isAnyGroup","toUserId","isBot","bots","non_contacts","isContact","contacts","testDialogForFilterId","toggleDialogPin","getConfig","pinned_infolder_count_max","getInputPeerById","createDialogFilter","prepend","remove","flags","getOutputDialogFilter","bool","f","a","b","filterIncludedPinnedPeers","include_peers","peers","reloadDialogs","inputPeer","isAlreadyReloaded","reloadPromises","missingPeerIds","overwrite","invokeApiSingle","getSuggestedDialogsFilters","assumeType","to","oldFilter","applyMixins","derivedCtor","constructors","baseCtor","getOwnPropertyNames","prototype","getOwnPropertyDescriptor","defineProperty","ApiUpdatesManager","updatesState","pendingPtsUpdates","pendingSeqUpdates","syncPending","syncLoading","channelStates","attached","processUpdateMessage","updateMessage","processOpts","seq","seqStart","seq_start","forceGetDifference","processUpdate","toId","fwd_from","reply_to","entities","pts_count","override","_constructor","setProxy","self","Proxy","saveUpdatesState","us","popPendingSeqUpdate","nextSeq","pendingUpdatesData","seqAwaiting","ptsAwaiting","popPendingPtsUpdate","curState","curPts","goodPts","goodIndex","getDifference","processLocalUpdate","wasSyncing","pts_total_limit","qts","differenceResult","other_updates","new_messages","apiMessage","nextState","intermediate_state","onDifferenceTooLong","justAName","getChannelDifference","channelState","getChannelInput","lastPtsUpdateTime","fwdHeader","reason","hasUser","post","hasChat","isUser","popPts","popSeq","attach","langCode","noErrorBox","stateResult","setUpdatesProcessor","strs","en","ru","getChangelog","lang","res","ok","langStr","parseMarkdown","inbox_date","languages","filterUnique","language","AppAvatarsManager","savedAvatarURLs","removeFromAvatarsCache","isAvatarCached","saved","loadAvatar","photo","peerPhotoFileLocation","downloadOptions","dc_id","limitPart","apiFileManager","blob","URL","createObjectURL","AppCallsManager","calls","IS_CALL_SUPPORTED","updatePhoneCall","saveCall","phone_call","updatePhoneCallSignalingData","callId","phone_call_id","computeKey","g_b","p","call","isDiscarded","oldCall","getCall","getCallInput","access_hash","savePhonePhoneCall","phonePhoneCall","generateDh","random_length","dhConfig","requestCall","protocol","g_a_hash","video","getUserInput","random_id","discardCall","duration","connection_id","platforms","ignore","getRestrictionReason","reasons","isRestricted","AppChatsManager","isPeerNeeded","onChatUpdated","updateChannelParticipant","clearCache","updateChatDefaultBannedRights","default_banned_rights","getFromCache","apiChats","saveApiChat","oldChat","participants_count","changedPhoto","changedTitle","title","getChatTyped","hasRights","rights","isThread","editChatDefaultBannedRights","banned_rights","until_date","isMegagroup","megagroup","isInChat","good","getInputPeer","getChannelInputPeer","getChatInputPeer","allowMin","getChatPhoto","getChatString","createChannel","inviteToChannel","input","usersInputs","u","createChat","leaveChannel","joinChannel","addChatUser","fwdLimit","fwd_limit","deleteChatUser","leaveChat","leave","deleteChannel","deleteChat","migrateChat","updateUsername","username","editPhoto","inputFile","inputChatPhoto","file","editTitle","editAbout","about","editBanned","participant","getParticipantPeerId","timestamp","actor_id","prev_participant","new_participant","kicked_by","clearChannelParticipantBannedRights","kickFromChannel","view_messages","kickFromChat","resolveChannel","messagesChats","togglePreHistoryHidden","enabled","toggleSignatures","toggleNoForwards","setChatAvailableReactions","reactions","available_reactions","restrictionReasons","restriction_reason","restricted","getSendAs","invokeApiSingleProcess","processResult","sendAsPeers","importChatInvite","hash","checkUsername","getSponsoredMessage","invokeApiCacheable","cacheSeconds","sponsoredMessages","sponsoredMessage","viewSponsoredMessage","randomId","checkChatInvite","chatInvite","I18n","pluralRules","cacheLangPackPromise","setLangCode","lastRequestedLangCode","lastRequestedNormalizedLangCode","updateAmPm","timeFormat","dateTimeFormat","getDateTimeFormat","hour","minute","hour12","setHours","amText","format","amPmCache","am","pmText","pm","loadLocalLangPack","defaultCode","langSign","countries","strings","formatLocalStrings","default","saveLangPack","from_version","lang_code","local","loadLangPack","web","requestedServerLanguage","lang_pack","polyfillPromise","pushTo","v","langPack","appVersion","applyLangPack","currentLangCode","Intl","PluralRules","string","countriesList","country","langPackKey","default_name","lastAppliedLangCode","cachedDateTimeFormats","document","querySelectorAll","element","weakMap","superFormatter","indexHolder","lastIndex","p1","p2","p3","p4","createElement","append","lastIndexOf","matchUrlProtocol","wrappedUrl","wrapUrl","href","onclick","setAttribute","textContent","arg","pushNextArgument","plain","select","item","Node","getCacheLangPack","setTimeFormat","haveToUpdate","IntlDateElement","getStrings","getLangPack","langPack1","langPack2","localLangPack1","localLangPack2","l","_Intl","window","WeakMap","IntlElementBase","classList","property","IntlElement","safeAssign","formatted","dataset","compareAndUpdate","json","DateTimeFormat","hours","getHours","getMinutes","capitalizeFirstLetter","i18n","i18n_","_i18n","months","days","getWeekNumber","UTC","getFullYear","getMonth","getDate","dayNum","getUTCDay","setUTCDate","getUTCDate","yearStart","getUTCFullYear","ceil","getTime","today","year","day","month","weekday","minYear","yearPattern","RegExp","monthYearOrDayPattern","yearOrDayAndMonthPattern","shortDate","longDate","numberOfDaysEachMonth","createForMonthYear","dates","selectedYear","currentYear","setFullYear","minDate","setMonth","maxDate","formatterMonthYear","createForDayMonth","validDateForMonth","formatterDayMonth","formatterYearMax","formatWeekLong","getDay","q","safeReplaceArrayInObject","trim","dayOfWeek","setDate","getDayOfWeek","distance","setTime","matches","exec","g1","g2","k","g3","parseInt","k1","EXTENSION_MIME_TYPE_MAP","mov","gif","pdf","uploadWallPaperTempId","AppDocsManager","onServiceWorkerFail","docs","doc","supportsStreaming","thumbsStorage","deleteCacheContext","stickerCachedThumbs","uploadingWallPapers","online","saveDoc","oldDoc","file_reference","referenceDatabase","attributes","attribute","file_name","wrapPlainText","voice","mime_type","w","h","round_message","alt","stickerEmojiRaw","stickerSetInput","thumbs","IS_WEBP_SUPPORTED","sticker","IS_WEBM_SUPPORTED","animated","mappedMimeType","joiner","monthAsNumber","noSeconds","getSeconds","leadingZero","noTime","getFullDate","isServiceWorkerOnline","getCacheContext","setCacheContextURL","thumb","getDocumentDownloadOptions","getDocumentURL","getDoc","docId","downloadDoc","queueId","onlyCache","downloadMedia","getLottieCachedThumb","toneIndex","saveLottiePreview","width","height","saveWebPConvertedStrippedThumb","stickerThumbConverted","getWallPapers","invokeApiHashable","accountWallpapers","wallPapers","wallpapers","wallPaper","prepareWallPaperUpload","cacheContext","wallpaper","slug","uploadWallPaper","fileName","downloaded","getGifs","gifs","requestDocPart","requestFilePart","getDocumentInput","AppDraftsManager","drafts","getAllDraftPromise","updateDraftMessage","threadId","notify","getKey","getDraft","getAllDrafts","apiDraft","processApiDraft","force","draftsAreEqual","draft1","draft2","reply_to_msg_id","no_webpage","isEmptyDraft","syncDraft","localDraft","saveOnServer","serverDraft","draftObj","getInputEntities","saveLocalDraft","clearAllDrafts","combined","clearDraft","emptyDraft","setDraft","EMOJI_LANG_PACK","keywords","AppEmojiManager","keywordLangPacks","indexedLangPacks","getKeywordsPromises","getEmojiKeywords","storageKey","pack","validateInitObject","keywordsDifference","packKeywords","keyword","emoticons","getBothEmojiKeywords","recent","getRecentEmojis","indexEmojis","searchEmojis","emojis","reduce","acc","POPULAR_EMOJI","getRecentEmojisPromise","recentEmoji","pushRecentEmoji","emoji","fixEmoji","AppGroupCallsManager","groupCalls","participants","nextOffsets","updateGroupCall","saveGroupCall","updateGroupCallParticipants","groupCallId","saveApiParticipants","groupCall","getCachedParticipants","prepareToSavingNextOffset","nextOffsetsMap","nextOffset","setNextOffset","newNextOffset","saveApiParticipant","skipCounterUpdating","oldParticipant","hasLeft","muted","can_self_unmute","getGroupCall","modified","just_joined","apiParticipants","editParticipant","getGroupCallInput","getInputPeerSelf","volume","raise_hand","raiseHand","video_paused","videoPaused","video_stopped","videoStopped","presentation_paused","presentationPaused","getGroupCallFull","participants_next_offset","shouldUpdate","createGroupCall","scheduleDate","schedule_date","getGroupCallParticipants","ids","sources","groupCallParticipants","next_offset","hangUp","discard","groupCallInput","source","join_as","joinGroupCall","isMuted","joinVideo","leaveGroupCallPresentation","getPhotoInput","getPhotoMediaInput","ttl_seconds","getMediaInput","AppInlineBotsManager","inlineResults","setHash","getGeoInput","geo","lat","long","accuracy_radius","getInlineResults","botId","bot","geo_point","stopTime","botResults","queryId","query_id","appDocsManager","appPhotosManager","savePhoto","generateQId","pushPopularBot","getTopPeers","topPeers","botPeerId","topPeer","rating","switchToPM","fromPeerId","startParam","startBot","checkSwitchReturn","getUser","bot_inline_placeholder","peerData","switchInlineQuery","callbackButtonClick","button","msg_id","sendInlineResult","queryAndResultIds","inlineResult","queryID","resultID","resultId","send_message","reply_markup","replyMarkup","sendText","inputMedia","messageMedia","caption","sendMessage","geoPoint","address","provider","venue_id","venue_type","phone_number","first_name","last_name","vcard","description","currency","total_amount","shipping_address_requested","start_param","sendOther","AppMessagesIdsManager","tempNum","num","telegramMeWebManager","disabled","hostname","setAuthorized","canRedirect","sessionStorage","curValue","ts","tgme_sync","loadScript","script","splitStringByLength","maxLength","lastSliceStartIndex","arrayIndex","cut","end","part","_arrayIndex","partLength","appTabsManager","tabs","start","getTabs","tab","addTab","deleteTab","processAfter","cb","AppMessagesManager","pendingByRandomId","pendingByMessageId","pendingAfterMsgs","tempFinalizeCallbacks","sendSmthLazyLoadQueue","needSingleMessages","fetchSingleMessagesPromise","maxSeenId","newDialogsToHandle","notificationsHandlePromise","notificationsToHandle","reloadConversationsPeers","groupedTempId","typings","unreadMentions","goToNextMentionPromises","batchUpdates","middleware","clean","uploadFilePromises","messagesStorageByPeerId","groupedMessagesStorage","scheduledMessagesStorage","historiesStorage","threadsStorage","searchesStorage","pinnedMessages","threadsServiceMessagesIdsStorage","threadsToReplies","handleNewDialogs","newMaxSeenId","incrementMaxSeenId","handleNotifications","_peerId","notifyPeerToHandle","getNotifyPeerSettings","peerTypeNotifySettings","mentioned","notifyAboutMessage","fwdCount","onUpdateMessageId","pendingData","tempId","finalizePendingMessageCallbacks","onUpdateNewMessage","getMessagePeer","isLocalThreadUpdate","createMessageStorage","threadKey","getThreadKey","reply_to_peer_id","reply_to_mid","receiptMessage","ignoreExisting","checkPendingMessage","updateMessageRepliesIfNeeded","findSlice","firstSlice","forceUserOnline","top_msg_id","handleNewMessage","inboxUnread","modifyCachedMentions","setDialogTopMessage","notifyPeer","onUpdateMessageReactions","recentReaction","previousReactions","previousRecentReactions","show_previews","peerReaction","pushBatchUpdate","batchUpdateReactions","setDialogToStateIfMessageIsTop","onUpdateDialogUnreadMark","unread_mark","onUpdateEditMessage","oldMessage","newMessage","handleEditedMessage","isTopMessage","clear_history","newReactions","grouped_id","onUpdateReadHistory","max_id","read_max_id","getObjectKeysAndSort","stillUnreadCount","still_unread_count","newUnreadMentionsCount","foundAffected","repliesKey","replyTo","reply_to_top_id","setCount","getReadMaxIdIfUnread","threadKeyPart","onUpdateReadMessagesContents","mids","findPeerIdByMids","media_unread","fixDialogUnreadMentionsIfNoMessage","onUpdateChannelAvailableMessages","availableMinId","available_min_id","onUpdateDeleteMessages","threadKeys","historyUpdated","handleDeletedMessages","threadsStorages","msgs","affected","onUpdateChannel","needDialog","onUpdateChannelReload","onUpdateChannelMessageViews","views","batchUpdateViews","onUpdateServiceNotification","popup","verified","phone","onUpdatePinnedMessages","missingMessages","werePinned","hiddenPinnedMessages","onUpdateNotifySettings","onUpdateNewScheduledMessage","isScheduled","onUpdateDeleteScheduledMessages","batch","toDispatch","getMessagesFromMap","previousResults","changedResults","reactionCount","previousReactionCount","_reactionCount","chosen","updateMessageID","updateNewDiscussionMessage","updateNewMessage","updateNewChannelMessage","updateDialogUnreadMark","updateEditMessage","updateEditChannelMessage","updateMessageReactions","updateReadChannelDiscussionInbox","updateReadChannelDiscussionOutbox","updateReadHistoryInbox","updateReadHistoryOutbox","updateReadChannelInbox","updateReadChannelOutbox","updateChannelReadMessagesContents","updateReadMessagesContents","updateChannelAvailableMessages","updateDeleteMessages","updateDeleteChannelMessages","updateChannel","updateChannelReload","updateChannelMessageViews","updateServiceNotification","updatePinnedMessages","updatePinnedChannelMessages","updateNotifySettings","updateNewScheduledMessage","updateDeleteScheduledMessages","filterFunc","getScheduledMessagesStorage","webpage","appWebPagesManager","getCachedWebPage","drop","poll","appPollsManager","pollToMessages","batchUpdatesDebounced","debounce","details","maxSeenMsgId","sendEntites","entity","invokeAfterMessageIsSent","callbackName","finalize","editMessage","is_scheduled","newMedia","noWebPage","handled","replyToMsgId","MAX_LENGTH","message_length_max","webPage","getPeerMigratedTo","generateOutgoingMessage","toggleError","on","sentRequestOptions","afterMessageId","sendAs","sendAsPeerId","apiPromise","invokeApiAfter","clear_draft","send_as","silent","wrapMessageEntities","beforeMessageSending","sequential","sendFile","attachType","apiFileName","fileType","File","isDocument","Blob","isPhoto","IMAGE_MIME_TYPES_SUPPORTED","actionName","isVoiceMessage","waveform","isMedia","photoSize","sizes","objectURL","VIDEO_MIME_TYPES_SUPPORTED","videoAttribute","isRoundMessage","supports_streaming","noSound","thumbCacheContext","sentDeferred","uploadingFileName","getFileNameForUpload","uploaded","uploadPromise","load","thumbUploadPromise","cancelPendingMessage","setTyping","addNotifyListener","progress","percents","floor","done","total","notifyAll","force_file","isGroupedItem","background","ret","sendAlbum","files","sendFileDetails","groupId","invoke","multiMedia","multi_media","inputSingleMedia","inputs","sendContact","contactPeerId","getContactMediaInput","pollId","savePoll","total_voters","getPoll","getPhoto","postAuthor","getPeer","signatures","generateFromId","post_author","generateFlags","generateReplyHeader","via_bot_id","replies","generateReplies","replyToTopId","channelFull","appProfileManager","getCachedFullChat","linked_chat_id","comments","replies_pts","isAnonymousSending","generateForwardHeader","originalMessage","isUserHidden","from_name","userFull","getCachedFullUser","private_forward_name","channel_post","saved_from_msg_id","saved_from_peer","generateFakeAvatarMessage","Number","MAX_SAFE_INTEGER","getUploadPromise","uploadFileName","admin_rights","anonymous","fillConversations","getConversations","chatHistoryStorage","offset_date","offset_id","offset_peer","offsetPeerId","maxSeenIdIncremented","hasPrepend","noIdsDialogs","setFolderId","folderDialogs","dialogsLength","slicedDialogs","forwardMessages","config","overflowMids","forwarded_count_max","dropCaptions","dropAuthor","newMids","newMessages","replyToMid","replyToMessageIdx","newReplyToMid","group","from_peer","to_peer","with_my_score","withMyScore","drop_author","drop_media_captions","generateEmptyMessage","getMessagesStorageByKey","s","getMessagesStorage","getMessageById","getDialogByPeerId","cantForwardDeleteMids","cantForward","cantDelete","canForward","canDeleteMessage","inputDialogPeer","getInputDialogPeerById","reloadConversationsPromise","inputDialogPeers","fullfillLeft","doFlushHistory","just_clear","revoke","affectedHistory","flushHistory","justClear","getHistory","historyResult","m","ss","hidePinnedMessages","getPinnedMessage","getSearch","inputFilter","getPinnedMessagesCount","getPinnedMessagesMaxId","updatePinnedMessage","unpin","pm_oneside","unpinAllMessages","unpinAll","getAlbumText","getGroupsFirstMessage","minMid","getMidsByAlbum","groupedId","getMessagesByAlbum","getMidsByMessage","filterMessages","verify","appMessagesIdsManager","saveMessage","isMessage","overwriting","msgId","savedFromPeerId","savedFromMid","savedFrom","mediaContext","unsupported","originalDoc","messageKey","getMessageKeyForPendingWebPage","saveWebPage","appWebDocsManager","saveWebDocument","totalEntities","migrateFrom","migrateTo","video_sizes","appGroupCallsManager","migrateChecks","getFirstMessageToEdit","goodMessage","myPeerId","canEditMessage","apiEntities","myEntities","parseEntities","mergeEntities","reportMessages","editPeerFolders","appConfig","getAppConfig","dialogs_folder_pinned_limit_premium","dialogs_folder_pinned_limit_default","dialogs_pinned_limit_premium","dialogs_pinned_limit_default","getDialogPeer","markDialogUnread","read","fromChat","canMessageBeEdited","kind","goodMedias","edit_time_limit","getReplyKeyboard","messageReplyMarkup","lastReplyMarkup","selective","maxOutId","single_use","hidden","getSearchStorage","getSearchCounters","canCache","func","filterMessagesByInputFilterFromStorage","_storage","filterMessagesByInputFilter","nextRate","backLimit","offset_id_offset","next_rate","foundMsgs","min_date","max_date","add_offset","min_id","offsetId","offsetMessage","offset_rate","searchResult","foundCount","subscribeRepliesThread","getDiscussionMessage","generateThreadServiceStartMessage","maxMessageId","serviceStartMessage","is_single","getThreadServiceMessageId","getMessageWithReplies","newDialogsHandlePromise","deleteMessages","localMessageIds","creator","delete_messages","affectedMessages","readHistory","triedToReadMaxId","readPromise","getPeerString","readAllHistory","slicedArray","fixUnreadMentionsCountIfNeeded","goToNextMention","loadNextPromise","loadNextMentions","last","getUnreadMentions","mergeHistoryResult","minId","messagesMessages","readMessages","msgIds","getHistoryStorageTransferable","historySerialized","toJSON","getNotifyPeerTypeSettings","getNotifySettings","getInputNotifyPeerById","isMessageIsTopMessage","threadMessage","broadcastEventName","pendingMessage","finalizePendingMessage","mutePeer","muteUntil","mute_until","togglePeerMute","mute","canSendToPeer","canSendToUser","finalMessage","tempMessage","newPhoto","newDoc","newPhotoSize","oldCacheContext","getPhotoDownloadOptions","thumbSize","polls","handleReleasingMessage","getMessageReactionsListAndReadParticipants","skipReadParticipants","skipReactionsList","emptyMessageReactionsList","canViewMessageReadParticipants","getMessageReadParticipants","appReactionsManager","getMessageReactionsList","messageReactionsList","readParticipantsPeerIds","filteredReadParticipants","some","readPeerId","reactionsCount","readParticipants","chat_read_mark_size_threshold","chat_read_mark_expire_period","incrementMessageViews","increment","chatPeerIds","idleStartTime","getScheduledMessageByPeer","getScheduledMessages","sendScheduledMessages","deleteScheduledMessages","getMessageWithCommentReplies","isFetchIntervalNeeded","getNewHistory","unsetEnd","isBottomEnd","getEnds","offsetIdOffset","haveSlice","sliceMe","fulfilled","fillHistoryStorage","constructSlice","isHistoryResultEnd","topWasMeantToLoad","wasMaxId","requestHistory","newMaxId","deleteSlice","oldestMessage","foundSlice","_historyResult","fetchSingleMessages","requestPromises","getMessagesResult","fetchMessageReplyTo","replyToPeerId","typing","smth","deleteWebPageFromPending","updatePollToMessage","groupedStorage","albums","dispatchAlbumEdit","deletedMids","noforwards","noForwards","getElementCallback","newMap","peerIdStr","saveDefaultSendAs","default_send_as","convertInputKeyToKey","inputKey","AppNotificationsManager","peerSettings","notifyUsers","notifyChats","notifyBroadcasts","checkMuteUntil","checkMuteUntilTimeout","closestMuteUntil","peerNotifySettings","checkMuteUntilThrottled","throttle","notifySettings","getNotifyPeerTypePromise","getContactSignUpNotification","notifyContactsSignUp","setContactSignUpNotification","getPeerMuted","getPeerLocalSettings","respectType","n","typeNotifySettings","AppPeersManager","canPinMessage","getPeerPhoto","getUserPhoto","getUserString","getPeerUsername","getRestrictionReasonText","ignorePeerId","getUserInputPeer","getUserSearchText","getDialogType","getDeleteButtonText","AppPhotosManager","photos","oldPhoto","getUserPhotos","inputUser","photosResult","photoIds","photoId","AppPollsManager","updateMessagePoll","poll_id","saveResults","chosenIndexes","answer","getInputMediaPoll","correctAnswers","solution","solutionEntities","correct_answers","solution_entities","sendVote","optionIds","answers","option","getResults","getVotes","votesList","stopPoll","closed","newPoll","AppPrivacyManager","privacy","updatePrivacy","rules","setPrivacy","privacyRules","inputRule","rule","getPrivacy","privacyKey","AppProfileManager","usersFull","chatsFull","onUpdateUserTyping","typingsInPeer","t","cancelAction","getChatFull","onUpdatePeerBlocked","blocked","updateChatParticipants","chatFull","updateChatParticipantAdd","_participants","updateChatParticipantDelete","updateUserTyping","updateChatUserTyping","updateChannelUserTyping","updatePeerBlocked","fullChat","updated","call_active","hasChatPhoto","chat_photo","refreshFullPeer","invalidateChannelParticipants","getProfile","usersUserFull","full_user","profile_photo","getProfileByPeerId","getCachedProfileByPeerId","getFullPhoto","profile","getChannelFull","full_chat","getChatInviteLink","exported_invite","link","exportedInvite","getChannelParticipants","broadcast","getChannelParticipant","channelParticipant","fullChannel","processError","getMentions","processUserIds","ratingMap","cP","updateProfile","saveApiUser","uploadProfilePhoto","updateResult","strippedThumb","stripped_thumb","previous","deletePhotos","deletedList","verifyParticipantForOnlineCount","reduceParticipantsForOnlineCount","getOnlines","chatInfo","channelParticipants","onlines","getPeerTypings","callbackifyAll","SAVE_DOC_KEYS","REFERENCE_CONTEXT","AppReactionsManager","availableReactions","getAvailableReactions","sendReactionPromises","lastSendingTimes","availableReaction","around_animation","static_icon","appear_animation","center_icon","messagesAvailableReactions","getActiveAvailableReactions","callbackify","inactive","getAvailableReactionsForPeer","activeAvailableReactions","unshiftQuickReaction","getQuickReaction","quickReaction","filteredChatAvailableReactions","unshiftQuickReactionInner","findAndSplice","getAvailableReactionsByMessage","isReactionActive","reactions_default","getReactionCached","getReaction","getMessagesReactions","setDefaultReaction","sendReaction","lastSendingTimeKey","chosenReactionIdx","chosenReaction","can_see_list","reactionCountIdx","userReaction","promiseKey","editMessageUpdateIdx","editMessageUpdate","EMOJI_SET_LOCAL_ID","EMOJI_ANIMATIONS_SET_LOCAL_ID","LOCAL_IDS_SET","AppStickersManager","getStickerSetPromises","getStickersByEmoticonsPromises","sounds","getAnimatedEmojiStickerSet","getGreetingStickersPromise","getGreetingStickersTimeout","getGreetingSticker","updateNewStickerSet","stickerSet","saveStickerSet","updateRecentStickers","getRecentStickers","stickers","justPreload","getStickersByEmoticon","greetingStickers","random","saveStickers","getStickerSet","cachedSet","documents","refreshTime","useCache","getStickerSetInput","saveById","animations","getAnimatedEmojiSoundsPromise","emojies_sounds","sound","bytesStr","atob","file_reference_base64","charCodeAt","this_dc","cleanEmoji","getAnimatedEmojiSticker","isAnimation","packs","getAnimatedEmojiSoundDocument","preloadAnimatedEmojiSticker","preloadEmojiPromise","preloadAnimatedEmojiStickerAnimation","animation","newSet","setToCache","needSave","installed_date","getStickerSetThumbDownloadOptions","thumb_dc_id","isAnimated","mimeType","getFeaturedStickers","sets","covered","videos","toggleStickerSet","archived","searchStickerSets","excludeFeatured","exclude_featured","foundSaved","cache","cover","getAllStickers","allStickers","preloadStickerSets","includeOurStickers","messagesStickers","installedSets","recentStickers","foundStickers","cachedStickersAnimated","cachedStickersStatic","iteratePacks","pushRecentSticker","docEmoticon","_doc","clearRecentStickers","cleanUsername","AppUsersManager","usernames","getTopPeersPromises","contactsIndex","createSearchIndex","contactsFillPromise","contactsList","updatedContactsList","updateUsersStatuses","timestampNow","updateUserStatus","setInterval","expires","was_online","setUserToStateIfNeeded","updateUserPhoto","updateUserName","setUserNameToCache","contactsListCachedTime","contact","mutual_contact","pushContact","recentSearch","onContactsModified","fromServer","pushRecentSearch","clearRecentSearch","resolveUsername","resolvedPeer","processResolvedPeer","resolvePhone","popContact","getContacts","includeSaved","sortBy","_contactsList","userId1","userId2","sortName1","sortName","sortName2","localeCompare","status1","getUserStatusForSort","myUserId","testSelfSearch","getContactsPeerIds","toggleBlock","block","apiUsers","oldUser","oldSearchUsername","searchUsername","fullName","wasContact","newContact","onContactUpdated","isUserOnlineVisible","isRegularUser","support","isNonContactUser","eventTimestamp","importContact","importContacts","phones","inputContacts","j","client_id","importedContactsResult","imported","importedContact","topPeersCache","cachedTime","categories","getBlocked","contactsBlocked","getLocated","self_expires","searchContacts","pathname","my_results","curIsContact","setUserStatus","offline","updateMyOnlineStatus","addContact","showPhone","add_phone_privacy_exception","deleteContacts","photoTypeSet","AppWebPagesManager","webpages","pendingWebPages","updateWebPage","apiWebPage","oldWebPage","isUpdated","siteName","site_name","shortTitle","author","pendingSet","getWebPage","ApiFileManager","cacheStorage","downloadPromises","uploadPromises","downloadPulls","downloadActives","refreshReferencePromises","uncompressTGS","uncompressTGV","svgIndex","__","fixFirefoxSvg","TextEncoder","convertWebp","convertOpus","downloadRequest","activeDelta","downloadPull","downloadCheck","downloadLimit","networkPromise","race","setQueueId","getFileStorage","cancelDownload","canceled","cancel","requestWebFilePart","checkCancel","fileDownload","getDelta","checkedReference","getLimitPart","inputFileLocation","isDownloading","getDownload","getUpload","fileManager","IS_OPUS_SUPPORTED","cachedPromise","fileStorage","cacheFileWriter","resolved","errorHandler","_error","truncate","getFile","getFileWriter","fileWriter","writeFileDeferred","writeFilePromise","processDownloaded","delayed","superpuper","isFinal","write","getParts","processedResult","replaceParts","realSize","Infinity","getDownloadMediaDetails","downloadMediaURL","downloadMediaVoid","fileSize","isBigFile","doneParts","partSize","totalParts","fileId","_part","resultInputFile","parts","md5_checksum","it","reader","FileReader","readBlobAs","file_id","file_part","file_total_parts","fileUpload","generator","ApiManagerMethods","apiPromisesSingleProcess","apiPromisesSingle","apiPromisesCacheable","afterMessageIdTemp","setUserAuth","prepareTempMessageId","queryJSON","cacheKey","oldPromise","getAppConfigPromise","ignore_restriction_reasons","ApiManager","cachedNetworkers","cachedExportPromise","gettingNetworkers","baseDcId","afterMessageTempIds","changeTransportType","getTransportType","iterateNetworkers","connections","dcs","array","oldTransportType","oldObject","oldGetKey","newGetKey","info","changeNetworkerTransport","getBaseDcId","setBaseDcId","userAuth","dcID","user_auth","wasDcId","getNetworker","setOnDrainIfNeeded","dc","logOut","loggingOut","storageKeys","storageResult","logoutPromises","ignoreErrors","toggleStorages","generateNetworkerGetKey","networkers","maxNetworkers","found","isOnline","ak","authKeyHex","serverSaltHex","authKey","bytesFromHex","authKeyId","serverSalt","networkerFactory","authorizer","newTransportType","removeTransport","stack","getNetworkerVoid","oldTransport","changeTransport","onDrain","isFileNetworker","canRelease","removeNetworker","setDrainTimeout","updatesProcessor","startTime","interval","cachedNetworker","isStopped","clearInterval","performRequest","wrapApiCall","exportResolve","exportReject","exportedAuth","newDcId","unsetConnectionInited","rawError","waitTime","floodMaxTimeout","attachPromise","originalError","PeersStorage","neededPeers","singlePeerMap","ThumbsStorage","thumbsCache","thumbFullSize","intToUint","ulongFromInts","high","low","shiftLeft","safeBigInt","ulongBigInt","pow","longBigInt","divide","bigIntFromBytes","base","boolFalse","predicate","boolTrue","vector","gzipPacked","TLSerialization","mtproto","startMaxLength","createBuffer","ArrayBuffer","intView","Int32Array","byteView","getArray","resultBuffer","resultInt32","subarray","getBuffer","getBytes","typed","resultArray","getOffset","checkLength","needBytes","previousBuffer","previousArray","writeInt","field","storeInt","storeBool","storeLongP","iHigh","iLow","storeLong","sLong","storeIntBytes","_bigInt","bigInt","isNegative","quotient","remainder","divmod","toJSNumber","storeDouble","Float64Array","storeString","sUTF8","unescape","storeBytes","bits","storeRawBytes","storeMethod","methodName","methodData","methods","flagsOffsets","param","condType","fieldBit","storeObject","paramName","substr","itemType","schema","isBare","constructorData","TLDeserialization","readInt","fetchInt","fetchDouble","doubleView","fetchLong","ulong","greater","minus","greaterOrEquals","abs","fetchBool","fetchObject","fetchString","String","fromCharCode","decodeURIComponent","escape","fetchBytes","fetchIntBytes","fetchRawBytes","fetchVector","fallback","checkType","constructorCmp","uncompressed","constructorsIndex","schemaFallback","int1","int2","overrideKey","isCond","formatJSONValue","jsonValue","objectValues","objectValue","setOffset","addPadding","blockSize","zeroes","blockSizeAsTotalLength","needPadding","padding","bufferConcats","delays","disconnectDelayMin","disconnectDelayMax","pingInterval","pingMaxTime","connectionTimeout","RESEND_OPTIONS","noSchedule","notContentRelated","invokeAfterMsgConstructor","MTPNetworker","lastServerMessages","sentMessages","pendingMessages","pendingAcks","pendingResendReq","nextReq","checkConnectionPeriod","lastResponseTime","activeRequests","sendPingDelayDisconnect","pingDelayDisconnectDeferred","lastPingTime","disconnectDelay","round","timeoutTime","pingId","lastPingDelayDisconnectId","wrapMtpCall","ping_id","disconnect_delay","rejectTimeout","elapsedTime","checkLongPoll","isClean","longPollPending","sleepAfter","sendLongPoll","checkConnection","clearCheckConnectionTimeout","serializer","pingMessage","generateId","seq_no","generateSeqNo","sendEncryptedRequest","toggleOffline","checkConnectionTimeout","authKeyUint8","convertToUint8Array","isFileUpload","isFileDownload","updateSession","seqNo","prevSessionId","updateSentMessage","sentMessageId","sentMessage","container","inner","innerSentMessageId","innerSentMessage","pushMessage","wrapMtpMessage","connectionInited","invokeWithLayer","initConnection","resultType","isAPI","nextReqTimeout","longPollInterval","clearPingDelayDisconnect","forceReconnectTimeout","sendingLongPoll","max_delay","wait_after","max_wait","noResponse","longPoll","delay","checkConnectionRetryAt","scheduleRequest","handleSentEncryptedRequestHTTP","noResponseMsgs","sqrt","pushResend","shouldResolve","onDrainTimeout","willChange","onConnectionStatusChange","innerMsgId","acked","getMsgKey","dataWithPadding","x","msgKeyLargePlain","msgKeyLarge","getAesKeyIv","msgKey","sha2aText","sha2bText","aesKey","aesIv","sha2a","sha2b","akStopped","performScheduledRequest","ackMsgIds","msg_ids","pendingResendReqLength","outMessage","messagesByteLen","hasApiCall","hasHttpWait","lengthOverflow","compare","messageByteLength","generateContainerMessage","messageWithBody","innerMessages","getEncryptedMessage","keyIv","getDecryptedMessage","encryptedData","getEncryptedOutput","dataBuffer","paddingLength","encryptedResult","requestData","baseError","responseBuffer","deserializer","bytesCmp","calcMsgKey","totalLength","messageBodyLength","messageBody","mt_message","seqno","mt_rpc_result","req_msg_id","applyServerSalt","newServerSalt","toArray","ackMessage","reqResend","notEmpty","processMessageAck","error_message","error_code","msg","applyServerTime","serverTime","shiftRight","innerMessage","new_server_salt","bad_msg_id","changedTimeOffset","badMessage","first_msg_id","server_salt","answer_msg_id","lastResendReq","lastResend","pendingResend","reqMsgId","badMsgId","NetworkerFactory","startAll","stoppedNetworkers","stopAll","setLanguage","testPublicKeysHex","modulus","exponent","publisKeysHex","publicKeysParsed","prepared","preparePromise","prepare","keyParsed","RSAPublicKey","fingerprintBytes","fingerprints","fingerprintHex","fill","foundKey","fingerprint","bytesXor","bytes1","bytes2","Authorizer","sendPlainRequest","requestArray","requestLength","headerArray","errorCode","auth_key_id","msg_len","sendReqPQ","nonce","rsaKeysManager","serverNonce","server_nonce","pq","server_public_key_fingerprints","publicKey","pAndQ","sendReqDhParams","newNonce","p_q_inner_data_dc","new_nonce","pQInnerDataSerialization","dataPadReversed","keyAesEncrypted","tempKey","dataWithHash","aesEncrypted","keyAesEncryptedBigInt","publicKeyModulusBigInt","getKeyAesEncrypted","req_DH_params","public_key_fingerprint","encrypted_data","requestBytes","newNonceHash","new_nonce_hash","decryptServerDhDataAnswer","encrypted_answer","sendSetClientDhParams","encryptedAnswer","localTime","tmpAesKey","tmpAesIv","answerWithHash","answerWithPadding","g","dhPrime","dh_prime","gA","g_a","server_time","retry","verifyDhParams","dhPrimeHex","gABigInt","dhPrimeBigInt","subtract","twoPow","gBytes","gB","retry_id","authKeyHash","authKeyAux","newNonceHash1","new_nonce_hash1","newNonceHash2","new_nonce_hash2","newNonceHash3","new_nonce_hash3","getTransportTypePromise","_try","TimeManager","lastMessageId","timeOffset","timeTicks","newTimeOffset","changed","server_time_offset","AppWebDocsManager","webDocument","AppPaymentsManager","getPaymentForm","paymentForm","getPaymentReceipt","validateRequestedInfo","sendPaymentForm","formId","requestedInfoId","shippingOptionId","credentials","tipAmount","form_id","requested_info_id","shipping_option_id","tip_amount","clearSavedInfo","appManagersManager","cryptoPortPromise","getManagers","manager","apply","cryptoPortAttached","ports","createManagers","appAvatarsManager","appCallsManager","appPrivacyManager","appInlineBotsManager","appEmojiManager","passwordManager","appPaymentsManager","_isServiceWorkerOnline","pushedKeys","clearWrite","invokeExceptSource","serviceWorkerOnline","messagePort","onConnect","onDisconnect","attachPort","setOnPortDisconnect","listenMessagePort","NULL_PEER_ID","REPLIES_PEER_ID","REPLIES_HIDDEN_CHANNEL_ID","SERVICE_PEER_ID","MUTE_UNTIL","CAN_COMBINE_ENTITIES","combineSameEntities","nextEntityIdx","_i","nextEntity","SINGLE_ENTITIES","findConflictingEntity","currentEntities","newEntity","singleEnd","currentEntity","ALPHA_CHARS_REG_EXP","URL_ALPHANUMERIC_REG_EXP_PART","URL_PROTOCOL_REG_EXP_PART","URL_REG_EXP","URL_ANY_PROTOCOL_REG_EXP","FULL_REG_EXP","EMAIL_REG_EXP","MARKDOWN_REG_EXP","MARKDOWN_ENTITIES","PASS_CONFLICTING_ENTITIES","PHONE_NUMBER_REG_EXP","newEntities","filtered","sortEntities","encodeEmoji","emojiText","unicodeSurrogates","points","char","toCodePoints","removeVS16s","vs16RegExp","zeroWidthJoiner","rawEmoji","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","__webpack_exports__","O","chunkIds","fn","priority","notFulfilled","every","getter","__esModule","definition","enumerable","chunkId","miniCssF","globalThis","Function","prop","Symbol","toStringTag","nmd","paths","children","scriptUrl","importScripts","currentScript","src","scripts","getElementsByTagName","retries","realSrc","cacheBust","installedChunks","chunkLoadingGlobal","parentChunkLoadingFunction","moreModules","runtime"],"sourceRoot":""}